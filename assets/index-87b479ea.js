var du=Object.defineProperty;var yu=(e,t,n)=>t in e?du(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var ue=(e,t,n)=>(yu(e,typeof t!="symbol"?t+"":t,n),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerpolicy&&(o.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?o.credentials="include":i.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();const ge={};function vu(e){ge.context=e}const gu=(e,t)=>e===t,Ne=Symbol("solid-proxy"),Mr=Symbol("solid-track"),jn={equals:gu};let Lo=Wo;const ot=1,In=2,Uo={owned:null,cleanups:null,context:null,owner:null};var me=null;let ht=null,pe=null,_e=null,We=null,_i=0;function gn(e,t){const n=pe,r=me,i=e.length===0,o=i?Uo:{owned:null,cleanups:null,context:null,owner:t||r},a=i?e:()=>e(()=>at(()=>zn(o)));me=o,pe=null;try{return Bt(a,!0)}finally{pe=n,me=r}}function yt(e,t){t=t?Object.assign({},jn,t):jn;const n={value:e,observers:null,observerSlots:null,comparator:t.equals||void 0},r=i=>(typeof i=="function"&&(i=i(n.value)),zo(n,i));return[Go.bind(n),r]}function Be(e,t,n){const r=Ai(e,t,!1,ot);nn(r)}function Gn(e,t,n){Lo=Au;const r=Ai(e,t,!1,ot);r.user=!0,We?We.push(r):nn(r)}function et(e,t,n){n=n?Object.assign({},jn,n):jn;const r=Ai(e,t,!0,0);return r.observers=null,r.observerSlots=null,r.comparator=n.equals||void 0,nn(r),Go.bind(r)}function mu(e){return Bt(e,!1)}function at(e){const t=pe;pe=null;try{return e()}finally{pe=t}}function bu(e,t,n){const r=Array.isArray(e);let i,o=n&&n.defer;return a=>{let u;if(r){u=Array(e.length);for(let c=0;c<e.length;c++)u[c]=e[c]()}else u=e();if(o){o=!1;return}const s=at(()=>t(u,i,a));return i=u,s}}function wu(e){Gn(()=>at(e))}function Si(e){return me===null||(me.cleanups===null?me.cleanups=[e]:me.cleanups.push(e)),e}function Vo(){return pe}function Go(){const e=ht;if(this.sources&&(this.state||e))if(this.state===ot||e)nn(this);else{const t=_e;_e=null,Bt(()=>xn(this),!1),_e=t}if(pe){const t=this.observers?this.observers.length:0;pe.sources?(pe.sources.push(this),pe.sourceSlots.push(t)):(pe.sources=[this],pe.sourceSlots=[t]),this.observers?(this.observers.push(pe),this.observerSlots.push(pe.sources.length-1)):(this.observers=[pe],this.observerSlots=[pe.sources.length-1])}return this.value}function zo(e,t,n){let r=e.value;return(!e.comparator||!e.comparator(r,t))&&(e.value=t,e.observers&&e.observers.length&&Bt(()=>{for(let i=0;i<e.observers.length;i+=1){const o=e.observers[i],a=ht&&ht.running;a&&ht.disposed.has(o),(a&&!o.tState||!a&&!o.state)&&(o.pure?_e.push(o):We.push(o),o.observers&&Ho(o)),a||(o.state=ot)}if(_e.length>1e6)throw _e=[],new Error},!1)),t}function nn(e){if(!e.fn)return;zn(e);const t=me,n=pe,r=_i;pe=me=e,_u(e,e.value,r),pe=n,me=t}function _u(e,t,n){let r;try{r=e.fn(t)}catch(i){e.pure&&(e.state=ot,e.owned&&e.owned.forEach(zn),e.owned=null),Yo(i)}(!e.updatedAt||e.updatedAt<=n)&&(e.updatedAt!=null&&"observers"in e?zo(e,r):e.value=r,e.updatedAt=n)}function Ai(e,t,n,r=ot,i){const o={fn:e,state:r,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:t,owner:me,context:null,pure:n};return me===null||me!==Uo&&(me.owned?me.owned.push(o):me.owned=[o]),o}function Rn(e){const t=ht;if(e.state===0||t)return;if(e.state===In||t)return xn(e);if(e.suspense&&at(e.suspense.inFallback))return e.suspense.effects.push(e);const n=[e];for(;(e=e.owner)&&(!e.updatedAt||e.updatedAt<_i);)(e.state||t)&&n.push(e);for(let r=n.length-1;r>=0;r--)if(e=n[r],e.state===ot||t)nn(e);else if(e.state===In||t){const i=_e;_e=null,Bt(()=>xn(e,n[0]),!1),_e=i}}function Bt(e,t){if(_e)return e();let n=!1;t||(_e=[]),We?n=!0:We=[],_i++;try{const r=e();return Su(n),r}catch(r){_e||(We=null),Yo(r)}}function Su(e){if(_e&&(Wo(_e),_e=null),e)return;const t=We;We=null,t.length&&Bt(()=>Lo(t),!1)}function Wo(e){for(let t=0;t<e.length;t++)Rn(e[t])}function Au(e){let t,n=0;for(t=0;t<e.length;t++){const r=e[t];r.user?e[n++]=r:Rn(r)}for(ge.context&&vu(),t=0;t<n;t++)Rn(e[t])}function xn(e,t){const n=ht;e.state=0;for(let r=0;r<e.sources.length;r+=1){const i=e.sources[r];i.sources&&(i.state===ot||n?i!==t&&Rn(i):(i.state===In||n)&&xn(i,t))}}function Ho(e){const t=ht;for(let n=0;n<e.observers.length;n+=1){const r=e.observers[n];(!r.state||t)&&(r.state=In,r.pure?_e.push(r):We.push(r),r.observers&&Ho(r))}}function zn(e){let t;if(e.sources)for(;e.sources.length;){const n=e.sources.pop(),r=e.sourceSlots.pop(),i=n.observers;if(i&&i.length){const o=i.pop(),a=n.observerSlots.pop();r<i.length&&(o.sourceSlots[a]=r,i[r]=o,n.observerSlots[r]=a)}}if(e.owned){for(t=0;t<e.owned.length;t++)zn(e.owned[t]);e.owned=null}if(e.cleanups){for(t=0;t<e.cleanups.length;t++)e.cleanups[t]();e.cleanups=null}e.state=0,e.context=null}function Eu(e){return e instanceof Error||typeof e=="string"?e:new Error("Unknown error")}function Yo(e){throw e=Eu(e),e}const Ou=Symbol("fallback");function Yi(e){for(let t=0;t<e.length;t++)e[t]()}function Pu(e,t,n={}){let r=[],i=[],o=[],a=0,u=t.length>1?[]:null;return Si(()=>Yi(o)),()=>{let s=e()||[],c,f;return s[Mr],at(()=>{let p=s.length,_,b,d,v,m,A,O,j,w;if(p===0)a!==0&&(Yi(o),o=[],r=[],i=[],a=0,u&&(u=[])),n.fallback&&(r=[Ou],i[0]=gn(B=>(o[0]=B,n.fallback())),a=1);else if(a===0){for(i=new Array(p),f=0;f<p;f++)r[f]=s[f],i[f]=gn(y);a=p}else{for(d=new Array(p),v=new Array(p),u&&(m=new Array(p)),A=0,O=Math.min(a,p);A<O&&r[A]===s[A];A++);for(O=a-1,j=p-1;O>=A&&j>=A&&r[O]===s[j];O--,j--)d[j]=i[O],v[j]=o[O],u&&(m[j]=u[O]);for(_=new Map,b=new Array(j+1),f=j;f>=A;f--)w=s[f],c=_.get(w),b[f]=c===void 0?-1:c,_.set(w,f);for(c=A;c<=O;c++)w=r[c],f=_.get(w),f!==void 0&&f!==-1?(d[f]=i[c],v[f]=o[c],u&&(m[f]=u[c]),f=b[f],_.set(w,f)):o[c]();for(f=A;f<p;f++)f in d?(i[f]=d[f],o[f]=v[f],u&&(u[f]=m[f],u[f](f))):i[f]=gn(y);i=i.slice(0,a=p),r=s.slice(0)}return i});function y(p){if(o[f]=p,u){const[_,b]=yt(f);return u[f]=b,t(s[f],_)}return t(s[f])}}}function Ve(e,t){return at(()=>e(t||{}))}function fn(){return!0}const Kr={get(e,t,n){return t===Ne?n:e.get(t)},has(e,t){return t===Ne?!0:e.has(t)},set:fn,deleteProperty:fn,getOwnPropertyDescriptor(e,t){return{configurable:!0,enumerable:!0,get(){return e.get(t)},set:fn,deleteProperty:fn}},ownKeys(e){return e.keys()}};function nr(e){return(e=typeof e=="function"?e():e)?e:{}}function Tu(...e){let t=!1;for(let r=0;r<e.length;r++){const i=e[r];t=t||!!i&&Ne in i,e[r]=typeof i=="function"?(t=!0,et(i)):i}if(t)return new Proxy({get(r){for(let i=e.length-1;i>=0;i--){const o=nr(e[i])[r];if(o!==void 0)return o}},has(r){for(let i=e.length-1;i>=0;i--)if(r in nr(e[i]))return!0;return!1},keys(){const r=[];for(let i=0;i<e.length;i++)r.push(...Object.keys(nr(e[i])));return[...new Set(r)]}},Kr);const n={};for(let r=e.length-1;r>=0;r--)if(e[r]){const i=Object.getOwnPropertyDescriptors(e[r]);for(const o in i)o in n||Object.defineProperty(n,o,{enumerable:!0,get(){for(let a=e.length-1;a>=0;a--){const u=(e[a]||{})[o];if(u!==void 0)return u}}})}return n}function ju(e,...t){const n=new Set(t.flat());if(Ne in e){const i=t.map(o=>new Proxy({get(a){return o.includes(a)?e[a]:void 0},has(a){return o.includes(a)&&a in e},keys(){return o.filter(a=>a in e)}},Kr));return i.push(new Proxy({get(o){return n.has(o)?void 0:e[o]},has(o){return n.has(o)?!1:o in e},keys(){return Object.keys(e).filter(o=>!n.has(o))}},Kr)),i}const r=Object.getOwnPropertyDescriptors(e);return t.push(Object.keys(r).filter(i=>!n.has(i))),t.map(i=>{const o={};for(let a=0;a<i.length;a++){const u=i[a];u in e&&Object.defineProperty(o,u,r[u]?r[u]:{get(){return e[u]},set(){return!0},enumerable:!0})}return o})}function Iu(e){const t="fallback"in e&&{fallback:()=>e.fallback};return et(Pu(()=>e.each,e.children,t||void 0))}const Ru=["allowfullscreen","async","autofocus","autoplay","checked","controls","default","disabled","formnovalidate","hidden","indeterminate","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","seamless","selected"],xu=new Set(["className","value","readOnly","formNoValidate","isMap","noModule","playsInline",...Ru]),Du=new Set(["innerHTML","textContent","innerText","children"]),Cu=Object.assign(Object.create(null),{className:"class",htmlFor:"for"}),Ji=Object.assign(Object.create(null),{class:"className",formnovalidate:"formNoValidate",ismap:"isMap",nomodule:"noModule",playsinline:"playsInline",readonly:"readOnly"}),Bu=new Set(["beforeinput","click","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"]),ku=new Set(["altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignObject","g","glyph","glyphRef","hkern","image","line","linearGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","set","stop","svg","switch","symbol","text","textPath","tref","tspan","use","view","vkern"]),$u={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"};function Nu(e,t,n){let r=n.length,i=t.length,o=r,a=0,u=0,s=t[i-1].nextSibling,c=null;for(;a<i||u<o;){if(t[a]===n[u]){a++,u++;continue}for(;t[i-1]===n[o-1];)i--,o--;if(i===a){const f=o<r?u?n[u-1].nextSibling:n[o-u]:s;for(;u<o;)e.insertBefore(n[u++],f)}else if(o===u)for(;a<i;)(!c||!c.has(t[a]))&&t[a].remove(),a++;else if(t[a]===n[o-1]&&n[u]===t[i-1]){const f=t[--i].nextSibling;e.insertBefore(n[u++],t[a++].nextSibling),e.insertBefore(n[--o],f),t[i]=n[o]}else{if(!c){c=new Map;let y=u;for(;y<o;)c.set(n[y],y++)}const f=c.get(t[a]);if(f!=null)if(u<f&&f<o){let y=a,p=1,_;for(;++y<i&&y<o&&!((_=c.get(t[y]))==null||_!==f+p);)p++;if(p>f-u){const b=t[a];for(;u<f;)e.insertBefore(n[u++],b)}else e.replaceChild(n[u++],t[a++])}else a++;else t[a++].remove()}}}const Xi="_$DX_DELEGATE";function Fu(e,t,n,r={}){let i;return gn(o=>{i=o,t===document?e():ye(t,e(),t.firstChild?null:void 0,n)},r.owner),()=>{i(),t.textContent=""}}function Te(e,t,n){const r=document.createElement("template");r.innerHTML=e;let i=r.content.firstChild;return n&&(i=i.firstChild),i}function rn(e,t=window.document){const n=t[Xi]||(t[Xi]=new Set);for(let r=0,i=e.length;r<i;r++){const o=e[r];n.has(o)||(n.add(o),t.addEventListener(o,Vu))}}function Tt(e,t,n){n==null?e.removeAttribute(t):e.setAttribute(t,n)}function Mu(e,t,n,r){r==null?e.removeAttributeNS(t,n):e.setAttributeNS(t,n,r)}function Ku(e,t){t==null?e.removeAttribute("class"):e.className=t}function Dn(e,t,n,r){if(r)Array.isArray(n)?(e[`$$${t}`]=n[0],e[`$$${t}Data`]=n[1]):e[`$$${t}`]=n;else if(Array.isArray(n)){const i=n[0];e.addEventListener(t,n[0]=o=>i.call(e,n[1],o))}else e.addEventListener(t,n)}function Jo(e,t,n={}){const r=Object.keys(t||{}),i=Object.keys(n);let o,a;for(o=0,a=i.length;o<a;o++){const u=i[o];!u||u==="undefined"||t[u]||(Qi(e,u,!1),delete n[u])}for(o=0,a=r.length;o<a;o++){const u=r[o],s=!!t[u];!u||u==="undefined"||n[u]===s||!s||(Qi(e,u,!0),n[u]=s)}return n}function Xo(e,t,n){if(!t)return n?Tt(e,"style"):t;const r=e.style;if(typeof t=="string")return r.cssText=t;typeof n=="string"&&(r.cssText=n=void 0),n||(n={}),t||(t={});let i,o;for(o in n)t[o]==null&&r.removeProperty(o),delete n[o];for(o in t)i=t[o],i!==n[o]&&(r.setProperty(o,i),n[o]=i);return n}function Qo(e,t={},n,r){const i={};return r||Be(()=>i.children=Rt(e,t.children,i.children)),Be(()=>t.ref&&t.ref(e)),Be(()=>qu(e,t,n,!0,i,!0)),i}function Cn(e,t,n){return at(()=>e(t,n))}function ye(e,t,n,r){if(n!==void 0&&!r&&(r=[]),typeof t!="function")return Rt(e,t,r,n);Be(i=>Rt(e,t(),i,n),r)}function qu(e,t,n,r,i={},o=!1){t||(t={});for(const a in i)if(!(a in t)){if(a==="children")continue;i[a]=Zi(e,a,null,i[a],n,o)}for(const a in t){if(a==="children"){r||Rt(e,t.children);continue}const u=t[a];i[a]=Zi(e,a,u,i[a],n,o)}}function Lu(e){let t,n;return!ge.context||!(t=ge.registry.get(n=Gu()))?e.cloneNode(!0):(ge.completed&&ge.completed.add(t),ge.registry.delete(n),t)}function Uu(e){return e.toLowerCase().replace(/-([a-z])/g,(t,n)=>n.toUpperCase())}function Qi(e,t,n){const r=t.trim().split(/\s+/);for(let i=0,o=r.length;i<o;i++)e.classList.toggle(r[i],n)}function Zi(e,t,n,r,i,o){let a,u,s;if(t==="style")return Xo(e,n,r);if(t==="classList")return Jo(e,n,r);if(n===r)return r;if(t==="ref")o||n(e);else if(t.slice(0,3)==="on:"){const c=t.slice(3);r&&e.removeEventListener(c,r),n&&e.addEventListener(c,n)}else if(t.slice(0,10)==="oncapture:"){const c=t.slice(10);r&&e.removeEventListener(c,r,!0),n&&e.addEventListener(c,n,!0)}else if(t.slice(0,2)==="on"){const c=t.slice(2).toLowerCase(),f=Bu.has(c);if(!f&&r){const y=Array.isArray(r)?r[0]:r;e.removeEventListener(c,y)}(f||n)&&(Dn(e,c,n,f),f&&rn([c]))}else if((s=Du.has(t))||!i&&(Ji[t]||(u=xu.has(t)))||(a=e.nodeName.includes("-")))t==="class"||t==="className"?Ku(e,n):a&&!u&&!s?e[Uu(t)]=n:e[Ji[t]||t]=n;else{const c=i&&t.indexOf(":")>-1&&$u[t.split(":")[0]];c?Mu(e,c,t,n):Tt(e,Cu[t]||t,n)}return n}function Vu(e){const t=`$$${e.type}`;let n=e.composedPath&&e.composedPath()[0]||e.target;for(e.target!==n&&Object.defineProperty(e,"target",{configurable:!0,value:n}),Object.defineProperty(e,"currentTarget",{configurable:!0,get(){return n||document}}),ge.registry&&!ge.done&&(ge.done=!0,document.querySelectorAll("[id^=pl-]").forEach(r=>{for(;r&&r.nodeType!==8&&r.nodeValue!=="pl-"+e;){let i=r.nextSibling;r.remove(),r=i}r&&r.remove()}));n;){const r=n[t];if(r&&!n.disabled){const i=n[`${t}Data`];if(i!==void 0?r.call(n,i,e):r.call(n,e),e.cancelBubble)return}n=n._$host||n.parentNode||n.host}}function Rt(e,t,n,r,i){for(ge.context&&!n&&(n=[...e.childNodes]);typeof n=="function";)n=n();if(t===n)return n;const o=typeof t,a=r!==void 0;if(e=a&&n[0]&&n[0].parentNode||e,o==="string"||o==="number"){if(ge.context)return n;if(o==="number"&&(t=t.toString()),a){let u=n[0];u&&u.nodeType===3?u.data=t:u=document.createTextNode(t),n=_t(e,n,r,u)}else n!==""&&typeof n=="string"?n=e.firstChild.data=t:n=e.textContent=t}else if(t==null||o==="boolean"){if(ge.context)return n;n=_t(e,n,r)}else{if(o==="function")return Be(()=>{let u=t();for(;typeof u=="function";)u=u();n=Rt(e,u,n,r)}),()=>n;if(Array.isArray(t)){const u=[],s=n&&Array.isArray(n);if(qr(u,t,n,i))return Be(()=>n=Rt(e,u,n,r,!0)),()=>n;if(ge.context){if(!u.length)return n;for(let c=0;c<u.length;c++)if(u[c].parentNode)return n=u}if(u.length===0){if(n=_t(e,n,r),a)return n}else s?n.length===0?eo(e,u,r):Nu(e,n,u):(n&&_t(e),eo(e,u));n=u}else if(t instanceof Node){if(ge.context&&t.parentNode)return n=a?[t]:t;if(Array.isArray(n)){if(a)return n=_t(e,n,r,t);_t(e,n,null,t)}else n==null||n===""||!e.firstChild?e.appendChild(t):e.replaceChild(t,e.firstChild);n=t}}return n}function qr(e,t,n,r){let i=!1;for(let o=0,a=t.length;o<a;o++){let u=t[o],s=n&&n[o];if(u instanceof Node)e.push(u);else if(!(u==null||u===!0||u===!1))if(Array.isArray(u))i=qr(e,u,s)||i;else if(typeof u=="function")if(r){for(;typeof u=="function";)u=u();i=qr(e,Array.isArray(u)?u:[u],Array.isArray(s)?s:[s])||i}else e.push(u),i=!0;else{const c=String(u);s&&s.nodeType===3&&s.data===c?e.push(s):e.push(document.createTextNode(c))}}return i}function eo(e,t,n=null){for(let r=0,i=t.length;r<i;r++)e.insertBefore(t[r],n)}function _t(e,t,n,r){if(n===void 0)return e.textContent="";const i=r||document.createTextNode("");if(t.length){let o=!1;for(let a=t.length-1;a>=0;a--){const u=t[a];if(i!==u){const s=u.parentNode===e;!o&&!a?s?e.replaceChild(i,u):e.insertBefore(i,n):s&&u.remove()}else o=!0}}else e.insertBefore(i,n);return[i]}function Gu(){const e=ge.context;return`${e.id}${e.count++}`}const zu=!1,Wu="http://www.w3.org/2000/svg";function Hu(e,t=!1){return t?document.createElementNS(Wu,e):document.createElement(e)}function Yu(e){const[t,n]=ju(e,["component"]),r=et(()=>t.component);return et(()=>{const i=r();switch(typeof i){case"function":return at(()=>i(n));case"string":const o=ku.has(i),a=ge.context?Lu():Hu(i,o);return Qo(a,n,o),a}})}class Ju{constructor(){ue(this,"_bindings",[])}attach(...t){this._bindings.push(...t)}detach(...t){this._bindings=this._bindings.filter(n=>!t.includes(n))}fire(t,n){this._bindings.forEach(r=>{r(t,n)})}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.
Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.
THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var oe=function(){return oe=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},oe.apply(this,arguments)};function Lr(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}var ce=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,de=Object.keys,we=Array.isArray;typeof Promise<"u"&&!ce.Promise&&(ce.Promise=Promise);function Ee(e,t){return typeof t!="object"||de(t).forEach(function(n){e[n]=t[n]}),e}var Wt=Object.getPrototypeOf,Xu={}.hasOwnProperty;function De(e,t){return Xu.call(e,t)}function xt(e,t){typeof t=="function"&&(t=t(Wt(e))),(typeof Reflect>"u"?de:Reflect.ownKeys)(t).forEach(function(n){Ye(e,n,t[n])})}var Zo=Object.defineProperty;function Ye(e,t,n,r){Zo(e,t,Ee(n&&De(n,"get")&&typeof n.get=="function"?{get:n.get,set:n.set,configurable:!0}:{value:n,configurable:!0,writable:!0},r))}function kt(e){return{from:function(t){return e.prototype=Object.create(t.prototype),Ye(e.prototype,"constructor",e),{extend:xt.bind(null,e.prototype)}}}}var Qu=Object.getOwnPropertyDescriptor;function Ei(e,t){var n=Qu(e,t),r;return n||(r=Wt(e))&&Ei(r,t)}var Zu=[].slice;function Wn(e,t,n){return Zu.call(e,t,n)}function ea(e,t){return t(e)}function qt(e){if(!e)throw new Error("Assertion Failed")}function ta(e){ce.setImmediate?setImmediate(e):setTimeout(e,0)}function na(e,t){return e.reduce(function(n,r,i){var o=t(r,i);return o&&(n[o[0]]=o[1]),n},{})}function es(e,t,n){try{e.apply(null,n)}catch(r){t&&t(r)}}function He(e,t){if(De(e,t))return e[t];if(!t)return e;if(typeof t!="string"){for(var n=[],r=0,i=t.length;r<i;++r){var o=He(e,t[r]);n.push(o)}return n}var a=t.indexOf(".");if(a!==-1){var u=e[t.substr(0,a)];return u===void 0?void 0:He(u,t.substr(a+1))}}function $e(e,t,n){if(!(!e||t===void 0)&&!("isFrozen"in Object&&Object.isFrozen(e)))if(typeof t!="string"&&"length"in t){qt(typeof n!="string"&&"length"in n);for(var r=0,i=t.length;r<i;++r)$e(e,t[r],n[r])}else{var o=t.indexOf(".");if(o!==-1){var a=t.substr(0,o),u=t.substr(o+1);if(u==="")n===void 0?we(e)&&!isNaN(parseInt(a))?e.splice(a,1):delete e[a]:e[a]=n;else{var s=e[a];(!s||!De(e,a))&&(s=e[a]={}),$e(s,u,n)}}else n===void 0?we(e)&&!isNaN(parseInt(t))?e.splice(t,1):delete e[t]:e[t]=n}}function ts(e,t){typeof t=="string"?$e(e,t,void 0):"length"in t&&[].map.call(t,function(n){$e(e,n,void 0)})}function ra(e){var t={};for(var n in e)De(e,n)&&(t[n]=e[n]);return t}var ns=[].concat;function ia(e){return ns.apply([],e)}var oa="Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(ia([8,16,32,64].map(function(e){return["Int","Uint","Float"].map(function(t){return t+e+"Array"})}))).filter(function(e){return ce[e]}),rs=oa.map(function(e){return ce[e]});na(oa,function(e){return[e,!0]});var Qe=null;function on(e){Qe=typeof WeakMap<"u"&&new WeakMap;var t=Ur(e);return Qe=null,t}function Ur(e){if(!e||typeof e!="object")return e;var t=Qe&&Qe.get(e);if(t)return t;if(we(e)){t=[],Qe&&Qe.set(e,t);for(var n=0,r=e.length;n<r;++n)t.push(Ur(e[n]))}else if(rs.indexOf(e.constructor)>=0)t=e;else{var i=Wt(e);t=i===Object.prototype?{}:Object.create(i),Qe&&Qe.set(e,t);for(var o in e)De(e,o)&&(t[o]=Ur(e[o]))}return t}var is={}.toString;function Vr(e){return is.call(e).slice(8,-1)}var Gr=typeof Symbol<"u"?Symbol.iterator:"@@iterator",os=typeof Gr=="symbol"?function(e){var t;return e!=null&&(t=e[Gr])&&t.apply(e)}:function(){return null},Et={};function Ge(e){var t,n,r,i;if(arguments.length===1){if(we(e))return e.slice();if(this===Et&&typeof e=="string")return[e];if(i=os(e)){for(n=[];r=i.next(),!r.done;)n.push(r.value);return n}if(e==null)return[e];if(t=e.length,typeof t=="number"){for(n=new Array(t);t--;)n[t]=e[t];return n}return[e]}for(t=arguments.length,n=new Array(t);t--;)n[t]=arguments[t];return n}var Oi=typeof Symbol<"u"?function(e){return e[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},Me=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function aa(e,t){Me=e,ua=t}var ua=function(){return!0},as=!new Error("").stack;function mt(){if(as)try{throw mt.arguments,new Error}catch(e){return e}return new Error}function zr(e,t){var n=e.stack;return n?(t=t||0,n.indexOf(e.name)===0&&(t+=(e.name+e.message).split(`
`).length),n.split(`
`).slice(t).filter(ua).map(function(r){return`
`+r}).join("")):""}var us=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"],sa=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],Pi=us.concat(sa),ss={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function $t(e,t){this._e=mt(),this.name=e,this.message=t}kt($t).from(Error).extend({stack:{get:function(){return this._stack||(this._stack=this.name+": "+this.message+zr(this._e,2))}},toString:function(){return this.name+": "+this.message}});function ca(e,t){return e+". Errors: "+Object.keys(t).map(function(n){return t[n].toString()}).filter(function(n,r,i){return i.indexOf(n)===r}).join(`
`)}function Bn(e,t,n,r){this._e=mt(),this.failures=t,this.failedKeys=r,this.successCount=n,this.message=ca(e,t)}kt(Bn).from($t);function Vt(e,t){this._e=mt(),this.name="BulkError",this.failures=Object.keys(t).map(function(n){return t[n]}),this.failuresByPos=t,this.message=ca(e,t)}kt(Vt).from($t);var Ti=Pi.reduce(function(e,t){return e[t]=t+"Error",e},{}),cs=$t,ee=Pi.reduce(function(e,t){var n=t+"Error";function r(i,o){this._e=mt(),this.name=n,i?typeof i=="string"?(this.message=""+i+(o?`
 `+o:""),this.inner=o||null):typeof i=="object"&&(this.message=i.name+" "+i.message,this.inner=i):(this.message=ss[t]||n,this.inner=null)}return kt(r).from(cs),e[t]=r,e},{});ee.Syntax=SyntaxError;ee.Type=TypeError;ee.Range=RangeError;var to=sa.reduce(function(e,t){return e[t+"Error"]=ee[t],e},{});function ls(e,t){if(!e||e instanceof $t||e instanceof TypeError||e instanceof SyntaxError||!e.name||!to[e.name])return e;var n=new to[e.name](t||e.message,e);return"stack"in e&&Ye(n,"stack",{get:function(){return this.inner.stack}}),n}var Hn=Pi.reduce(function(e,t){return["Syntax","Type","Range"].indexOf(t)===-1&&(e[t+"Error"]=ee[t]),e},{});Hn.ModifyError=Bn;Hn.DexieError=$t;Hn.BulkError=Vt;function se(){}function an(e){return e}function fs(e,t){return e==null||e===an?t:function(n){return t(e(n))}}function vt(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function hs(e,t){return e===se?t:function(){var n=e.apply(this,arguments);n!==void 0&&(arguments[0]=n);var r=this.onsuccess,i=this.onerror;this.onsuccess=null,this.onerror=null;var o=t.apply(this,arguments);return r&&(this.onsuccess=this.onsuccess?vt(r,this.onsuccess):r),i&&(this.onerror=this.onerror?vt(i,this.onerror):i),o!==void 0?o:n}}function ps(e,t){return e===se?t:function(){e.apply(this,arguments);var n=this.onsuccess,r=this.onerror;this.onsuccess=this.onerror=null,t.apply(this,arguments),n&&(this.onsuccess=this.onsuccess?vt(n,this.onsuccess):n),r&&(this.onerror=this.onerror?vt(r,this.onerror):r)}}function ds(e,t){return e===se?t:function(n){var r=e.apply(this,arguments);Ee(n,r);var i=this.onsuccess,o=this.onerror;this.onsuccess=null,this.onerror=null;var a=t.apply(this,arguments);return i&&(this.onsuccess=this.onsuccess?vt(i,this.onsuccess):i),o&&(this.onerror=this.onerror?vt(o,this.onerror):o),r===void 0?a===void 0?void 0:a:Ee(r,a)}}function ys(e,t){return e===se?t:function(){return t.apply(this,arguments)===!1?!1:e.apply(this,arguments)}}function ji(e,t){return e===se?t:function(){var n=e.apply(this,arguments);if(n&&typeof n.then=="function"){for(var r=this,i=arguments.length,o=new Array(i);i--;)o[i]=arguments[i];return n.then(function(){return t.apply(r,o)})}return t.apply(this,arguments)}}var Ht={},vs=100,gs=20,la=100,Ii=typeof Promise>"u"?[]:function(){var e=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[e,Wt(e),e];var t=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[t,Wt(t),e]}(),Wr=Ii[0],kn=Ii[1],Hr=Ii[2],fa=kn&&kn.then,mn=Wr&&Wr.constructor,Ri=!!Hr,Yr=!1,ms=Hr?function(){Hr.then(hn)}:ce.setImmediate?setImmediate.bind(null,hn):ce.MutationObserver?function(){var e=document.createElement("div");new MutationObserver(function(){hn(),e=null}).observe(e,{attributes:!0}),e.setAttribute("i","1")}:function(){setTimeout(hn,0)},Yt=function(e,t){Lt.push([e,t]),$n&&(ms(),$n=!1)},Jr=!0,$n=!0,pt=[],bn=[],Xr=null,Qr=an,jt={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:io,pgp:!1,env:{},finalize:function(){this.unhandleds.forEach(function(e){try{io(e[0],e[1])}catch{}})}},Z=jt,Lt=[],dt=0,wn=[];function L(e){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this.onuncatched=se,this._lib=!1;var t=this._PSD=Z;if(Me&&(this._stackHolder=mt(),this._prev=null,this._numPrev=0),typeof e!="function"){if(e!==Ht)throw new TypeError("Not a function");this._state=arguments[1],this._value=arguments[2],this._state===!1&&ei(this,this._value);return}this._state=null,this._value=null,++t.ref,pa(this,e)}var Zr={get:function(){var e=Z,t=Nn;function n(r,i){var o=this,a=!e.global&&(e!==Z||t!==Nn),u=a&&!Je(),s=new L(function(c,f){xi(o,new ha(Mn(r,e,a,u),Mn(i,e,a,u),c,f,e))});return Me&&va(s,this),s}return n.prototype=Ht,n},set:function(e){Ye(this,"then",e&&e.prototype===Ht?Zr:{get:function(){return e},set:Zr.set})}};xt(L.prototype,{then:Zr,_then:function(e,t){xi(this,new ha(null,null,e,t,Z))},catch:function(e){if(arguments.length===1)return this.then(null,e);var t=arguments[0],n=arguments[1];return typeof t=="function"?this.then(null,function(r){return r instanceof t?n(r):_n(r)}):this.then(null,function(r){return r&&r.name===t?n(r):_n(r)})},finally:function(e){return this.then(function(t){return e(),t},function(t){return e(),_n(t)})},stack:{get:function(){if(this._stack)return this._stack;try{Yr=!0;var e=ya(this,[],gs),t=e.join(`
From previous: `);return this._state!==null&&(this._stack=t),t}finally{Yr=!1}}},timeout:function(e,t){var n=this;return e<1/0?new L(function(r,i){var o=setTimeout(function(){return i(new ee.Timeout(t))},e);n.then(r,i).finally(clearTimeout.bind(null,o))}):this}});typeof Symbol<"u"&&Symbol.toStringTag&&Ye(L.prototype,Symbol.toStringTag,"Dexie.Promise");jt.env=ga();function ha(e,t,n,r,i){this.onFulfilled=typeof e=="function"?e:null,this.onRejected=typeof t=="function"?t:null,this.resolve=n,this.reject=r,this.psd=i}xt(L,{all:function(){var e=Ge.apply(null,arguments).map(Fn);return new L(function(t,n){e.length===0&&t([]);var r=e.length;e.forEach(function(i,o){return L.resolve(i).then(function(a){e[o]=a,--r||t(e)},n)})})},resolve:function(e){if(e instanceof L)return e;if(e&&typeof e.then=="function")return new L(function(n,r){e.then(n,r)});var t=new L(Ht,!0,e);return va(t,Xr),t},reject:_n,race:function(){var e=Ge.apply(null,arguments).map(Fn);return new L(function(t,n){e.map(function(r){return L.resolve(r).then(t,n)})})},PSD:{get:function(){return Z},set:function(e){return Z=e}},totalEchoes:{get:function(){return Nn}},newPSD:tt,usePSD:Ft,scheduler:{get:function(){return Yt},set:function(e){Yt=e}},rejectionMapper:{get:function(){return Qr},set:function(e){Qr=e}},follow:function(e,t){return new L(function(n,r){return tt(function(i,o){var a=Z;a.unhandleds=[],a.onunhandled=o,a.finalize=vt(function(){var u=this;ws(function(){u.unhandleds.length===0?i():o(u.unhandleds[0])})},a.finalize),e()},t,n,r)})}});mn&&(mn.allSettled&&Ye(L,"allSettled",function(){var e=Ge.apply(null,arguments).map(Fn);return new L(function(t){e.length===0&&t([]);var n=e.length,r=new Array(n);e.forEach(function(i,o){return L.resolve(i).then(function(a){return r[o]={status:"fulfilled",value:a}},function(a){return r[o]={status:"rejected",reason:a}}).then(function(){return--n||t(r)})})})}),mn.any&&typeof AggregateError<"u"&&Ye(L,"any",function(){var e=Ge.apply(null,arguments).map(Fn);return new L(function(t,n){e.length===0&&n(new AggregateError([]));var r=e.length,i=new Array(r);e.forEach(function(o,a){return L.resolve(o).then(function(u){return t(u)},function(u){i[a]=u,--r||n(new AggregateError(i))})})})}));function pa(e,t){try{t(function(n){if(e._state===null){if(n===e)throw new TypeError("A promise cannot be resolved with itself.");var r=e._lib&&un();n&&typeof n.then=="function"?pa(e,function(i,o){n instanceof L?n._then(i,o):n.then(i,o)}):(e._state=!0,e._value=n,da(e)),r&&sn()}},ei.bind(null,e))}catch(n){ei(e,n)}}function ei(e,t){if(bn.push(t),e._state===null){var n=e._lib&&un();t=Qr(t),e._state=!1,e._value=t,Me&&t!==null&&typeof t=="object"&&!t._promise&&es(function(){var r=Ei(t,"stack");t._promise=e,Ye(t,"stack",{get:function(){return Yr?r&&(r.get?r.get.apply(t):r.value):e.stack}})}),_s(e),da(e),n&&sn()}}function da(e){var t=e._listeners;e._listeners=[];for(var n=0,r=t.length;n<r;++n)xi(e,t[n]);var i=e._PSD;--i.ref||i.finalize(),dt===0&&(++dt,Yt(function(){--dt===0&&Di()},[]))}function xi(e,t){if(e._state===null){e._listeners.push(t);return}var n=e._state?t.onFulfilled:t.onRejected;if(n===null)return(e._state?t.resolve:t.reject)(e._value);++t.psd.ref,++dt,Yt(bs,[n,e,t])}function bs(e,t,n){try{Xr=t;var r,i=t._value;t._state?r=e(i):(bn.length&&(bn=[]),r=e(i),bn.indexOf(i)===-1&&Ss(t)),n.resolve(r)}catch(o){n.reject(o)}finally{Xr=null,--dt===0&&Di(),--n.psd.ref||n.psd.finalize()}}function ya(e,t,n){if(t.length===n)return t;var r="";if(e._state===!1){var i=e._value,o,a;i!=null?(o=i.name||"Error",a=i.message||i,r=zr(i,0)):(o=i,a=""),t.push(o+(a?": "+a:"")+r)}return Me&&(r=zr(e._stackHolder,2),r&&t.indexOf(r)===-1&&t.push(r),e._prev&&ya(e._prev,t,n)),t}function va(e,t){var n=t?t._numPrev+1:0;n<vs&&(e._prev=t,e._numPrev=n)}function hn(){un()&&sn()}function un(){var e=Jr;return Jr=!1,$n=!1,e}function sn(){var e,t,n;do for(;Lt.length>0;)for(e=Lt,Lt=[],n=e.length,t=0;t<n;++t){var r=e[t];r[0].apply(null,r[1])}while(Lt.length>0);Jr=!0,$n=!0}function Di(){var e=pt;pt=[],e.forEach(function(r){r._PSD.onunhandled.call(null,r._value,r)});for(var t=wn.slice(0),n=t.length;n;)t[--n]()}function ws(e){function t(){e(),wn.splice(wn.indexOf(t),1)}wn.push(t),++dt,Yt(function(){--dt===0&&Di()},[])}function _s(e){pt.some(function(t){return t._value===e._value})||pt.push(e)}function Ss(e){for(var t=pt.length;t;)if(pt[--t]._value===e._value){pt.splice(t,1);return}}function _n(e){return new L(Ht,!1,e)}function le(e,t){var n=Z;return function(){var r=un(),i=Z;try{return nt(n,!0),e.apply(this,arguments)}catch(o){t&&t(o)}finally{nt(i,!1),r&&sn()}}}var be={awaits:0,echoes:0,id:0},As=0,Sn=[],rr=0,Nn=0,Es=0;function tt(e,t,n,r){var i=Z,o=Object.create(i);o.parent=i,o.ref=0,o.global=!1,o.id=++Es;var a=jt.env;o.env=Ri?{Promise:L,PromiseProp:{value:L,configurable:!0,writable:!0},all:L.all,race:L.race,allSettled:L.allSettled,any:L.any,resolve:L.resolve,reject:L.reject,nthen:no(a.nthen,o),gthen:no(a.gthen,o)}:{},t&&Ee(o,t),++i.ref,o.finalize=function(){--this.parent.ref||this.parent.finalize()};var u=Ft(o,e,n,r);return o.ref===0&&o.finalize(),u}function Nt(){return be.id||(be.id=++As),++be.awaits,be.echoes+=la,be.id}function Je(){return be.awaits?(--be.awaits===0&&(be.id=0),be.echoes=be.awaits*la,!0):!1}(""+fa).indexOf("[native code]")===-1&&(Nt=Je=se);function Fn(e){return be.echoes&&e&&e.constructor===mn?(Nt(),e.then(function(t){return Je(),t},function(t){return Je(),ve(t)})):e}function Os(e){++Nn,(!be.echoes||--be.echoes===0)&&(be.echoes=be.id=0),Sn.push(Z),nt(e,!0)}function Ps(){var e=Sn[Sn.length-1];Sn.pop(),nt(e,!1)}function nt(e,t){var n=Z;if((t?be.echoes&&(!rr++||e!==Z):rr&&(!--rr||e!==Z))&&ma(t?Os.bind(null,e):Ps),e!==Z&&(Z=e,n===jt&&(jt.env=ga()),Ri)){var r=jt.env.Promise,i=e.env;kn.then=i.nthen,r.prototype.then=i.gthen,(n.global||e.global)&&(Object.defineProperty(ce,"Promise",i.PromiseProp),r.all=i.all,r.race=i.race,r.resolve=i.resolve,r.reject=i.reject,i.allSettled&&(r.allSettled=i.allSettled),i.any&&(r.any=i.any))}}function ga(){var e=ce.Promise;return Ri?{Promise:e,PromiseProp:Object.getOwnPropertyDescriptor(ce,"Promise"),all:e.all,race:e.race,allSettled:e.allSettled,any:e.any,resolve:e.resolve,reject:e.reject,nthen:kn.then,gthen:e.prototype.then}:{}}function Ft(e,t,n,r,i){var o=Z;try{return nt(e,!0),t(n,r,i)}finally{nt(o,!1)}}function ma(e){fa.call(Wr,e)}function Mn(e,t,n,r){return typeof e!="function"?e:function(){var i=Z;n&&Nt(),nt(t,!0);try{return e.apply(this,arguments)}finally{nt(i,!1),r&&ma(Je)}}}function no(e,t){return function(n,r){return e.call(this,Mn(n,t),Mn(r,t))}}var ro="unhandledrejection";function io(e,t){var n;try{n=t.onuncatched(e)}catch{}if(n!==!1)try{var r,i={promise:t,reason:e};if(ce.document&&document.createEvent?(r=document.createEvent("Event"),r.initEvent(ro,!0,!0),Ee(r,i)):ce.CustomEvent&&(r=new CustomEvent(ro,{detail:i}),Ee(r,i)),r&&ce.dispatchEvent&&(dispatchEvent(r),!ce.PromiseRejectionEvent&&ce.onunhandledrejection))try{ce.onunhandledrejection(r)}catch{}Me&&r&&!r.defaultPrevented&&console.warn("Unhandled rejection: "+(e.stack||e))}catch{}}var ve=L.reject;function ti(e,t,n,r){if(!e.idbdb||!e._state.openComplete&&!Z.letThrough&&!e._vip){if(e._state.openComplete)return ve(new ee.DatabaseClosed(e._state.dbOpenError));if(!e._state.isBeingOpened){if(!e._options.autoOpen)return ve(new ee.DatabaseClosed);e.open().catch(se)}return e._state.dbReadyPromise.then(function(){return ti(e,t,n,r)})}else{var i=e._createTransaction(t,n,e._dbSchema);try{i.create(),e._state.PR1398_maxLoop=3}catch(o){return o.name===Ti.InvalidState&&e.isOpen()&&--e._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),e._close(),e.open().then(function(){return ti(e,t,n,r)})):ve(o)}return i._promise(t,function(o,a){return tt(function(){return Z.trans=i,r(o,a,i)})}).then(function(o){return i._completion.then(function(){return o})})}}var oo="3.2.2",ft=String.fromCharCode(65535),ni=-1/0,Le="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",ba="String expected.",Gt=[],Yn=typeof navigator<"u"&&/(MSIE|Trident|Edge)/.test(navigator.userAgent),Ts=Yn,js=Yn,wa=function(e){return!/(dexie\.js|dexie\.min\.js)/.test(e)},Jn="__dbnames",ir="readonly",or="readwrite";function gt(e,t){return e?t?function(){return e.apply(this,arguments)&&t.apply(this,arguments)}:e:t}var _a={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function pn(e){return typeof e=="string"&&!/\./.test(e)?function(t){return t[e]===void 0&&e in t&&(t=on(t),delete t[e]),t}:function(t){return t}}var Is=function(){function e(){}return e.prototype._trans=function(t,n,r){var i=this._tx||Z.trans,o=this.name;function a(s,c,f){if(!f.schema[o])throw new ee.NotFound("Table "+o+" not part of transaction");return n(f.idbtrans,f)}var u=un();try{return i&&i.db===this.db?i===Z.trans?i._promise(t,a,r):tt(function(){return i._promise(t,a,r)},{trans:i,transless:Z.transless||Z}):ti(this.db,t,[this.name],a)}finally{u&&sn()}},e.prototype.get=function(t,n){var r=this;return t&&t.constructor===Object?this.where(t).first(n):this._trans("readonly",function(i){return r.core.get({trans:i,key:t}).then(function(o){return r.hook.reading.fire(o)})}).then(n)},e.prototype.where=function(t){if(typeof t=="string")return new this.db.WhereClause(this,t);if(we(t))return new this.db.WhereClause(this,"["+t.join("+")+"]");var n=de(t);if(n.length===1)return this.where(n[0]).equals(t[n[0]]);var r=this.schema.indexes.concat(this.schema.primKey).filter(function(f){return f.compound&&n.every(function(y){return f.keyPath.indexOf(y)>=0})&&f.keyPath.every(function(y){return n.indexOf(y)>=0})})[0];if(r&&this.db._maxKey!==ft)return this.where(r.name).equals(r.keyPath.map(function(f){return t[f]}));!r&&Me&&console.warn("The query "+JSON.stringify(t)+" on "+this.name+" would benefit of a "+("compound index ["+n.join("+")+"]"));var i=this.schema.idxByName,o=this.db._deps.indexedDB;function a(f,y){try{return o.cmp(f,y)===0}catch{return!1}}var u=n.reduce(function(f,y){var p=f[0],_=f[1],b=i[y],d=t[y];return[p||b,p||!b?gt(_,b&&b.multi?function(v){var m=He(v,y);return we(m)&&m.some(function(A){return a(d,A)})}:function(v){return a(d,He(v,y))}):_]},[null,null]),s=u[0],c=u[1];return s?this.where(s.name).equals(t[s.keyPath]).filter(c):r?this.filter(c):this.where(n).equals("")},e.prototype.filter=function(t){return this.toCollection().and(t)},e.prototype.count=function(t){return this.toCollection().count(t)},e.prototype.offset=function(t){return this.toCollection().offset(t)},e.prototype.limit=function(t){return this.toCollection().limit(t)},e.prototype.each=function(t){return this.toCollection().each(t)},e.prototype.toArray=function(t){return this.toCollection().toArray(t)},e.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},e.prototype.orderBy=function(t){return new this.db.Collection(new this.db.WhereClause(this,we(t)?"["+t.join("+")+"]":t))},e.prototype.reverse=function(){return this.toCollection().reverse()},e.prototype.mapToClass=function(t){this.schema.mappedClass=t;var n=function(r){if(!r)return r;var i=Object.create(t.prototype);for(var o in r)if(De(r,o))try{i[o]=r[o]}catch{}return i};return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=n,this.hook("reading",n),t},e.prototype.defineClass=function(){function t(n){Ee(this,n)}return this.mapToClass(t)},e.prototype.add=function(t,n){var r=this,i=this.schema.primKey,o=i.auto,a=i.keyPath,u=t;return a&&o&&(u=pn(a)(t)),this._trans("readwrite",function(s){return r.core.mutate({trans:s,type:"add",keys:n!=null?[n]:null,values:[u]})}).then(function(s){return s.numFailures?L.reject(s.failures[0]):s.lastResult}).then(function(s){if(a)try{$e(t,a,s)}catch{}return s})},e.prototype.update=function(t,n){if(typeof t=="object"&&!we(t)){var r=He(t,this.schema.primKey.keyPath);if(r===void 0)return ve(new ee.InvalidArgument("Given object does not contain its primary key"));try{typeof n!="function"?de(n).forEach(function(i){$e(t,i,n[i])}):n(t,{value:t,primKey:r})}catch{}return this.where(":id").equals(r).modify(n)}else return this.where(":id").equals(t).modify(n)},e.prototype.put=function(t,n){var r=this,i=this.schema.primKey,o=i.auto,a=i.keyPath,u=t;return a&&o&&(u=pn(a)(t)),this._trans("readwrite",function(s){return r.core.mutate({trans:s,type:"put",values:[u],keys:n!=null?[n]:null})}).then(function(s){return s.numFailures?L.reject(s.failures[0]):s.lastResult}).then(function(s){if(a)try{$e(t,a,s)}catch{}return s})},e.prototype.delete=function(t){var n=this;return this._trans("readwrite",function(r){return n.core.mutate({trans:r,type:"delete",keys:[t]})}).then(function(r){return r.numFailures?L.reject(r.failures[0]):void 0})},e.prototype.clear=function(){var t=this;return this._trans("readwrite",function(n){return t.core.mutate({trans:n,type:"deleteRange",range:_a})}).then(function(n){return n.numFailures?L.reject(n.failures[0]):void 0})},e.prototype.bulkGet=function(t){var n=this;return this._trans("readonly",function(r){return n.core.getMany({keys:t,trans:r}).then(function(i){return i.map(function(o){return n.hook.reading.fire(o)})})})},e.prototype.bulkAdd=function(t,n,r){var i=this,o=Array.isArray(n)?n:void 0;r=r||(o?void 0:n);var a=r?r.allKeys:void 0;return this._trans("readwrite",function(u){var s=i.schema.primKey,c=s.auto,f=s.keyPath;if(f&&o)throw new ee.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(o&&o.length!==t.length)throw new ee.InvalidArgument("Arguments objects and keys must have the same length");var y=t.length,p=f&&c?t.map(pn(f)):t;return i.core.mutate({trans:u,type:"add",keys:o,values:p,wantResults:a}).then(function(_){var b=_.numFailures,d=_.results,v=_.lastResult,m=_.failures,A=a?d:v;if(b===0)return A;throw new Vt(i.name+".bulkAdd(): "+b+" of "+y+" operations failed",m)})})},e.prototype.bulkPut=function(t,n,r){var i=this,o=Array.isArray(n)?n:void 0;r=r||(o?void 0:n);var a=r?r.allKeys:void 0;return this._trans("readwrite",function(u){var s=i.schema.primKey,c=s.auto,f=s.keyPath;if(f&&o)throw new ee.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(o&&o.length!==t.length)throw new ee.InvalidArgument("Arguments objects and keys must have the same length");var y=t.length,p=f&&c?t.map(pn(f)):t;return i.core.mutate({trans:u,type:"put",keys:o,values:p,wantResults:a}).then(function(_){var b=_.numFailures,d=_.results,v=_.lastResult,m=_.failures,A=a?d:v;if(b===0)return A;throw new Vt(i.name+".bulkPut(): "+b+" of "+y+" operations failed",m)})})},e.prototype.bulkDelete=function(t){var n=this,r=t.length;return this._trans("readwrite",function(i){return n.core.mutate({trans:i,type:"delete",keys:t})}).then(function(i){var o=i.numFailures,a=i.lastResult,u=i.failures;if(o===0)return a;throw new Vt(n.name+".bulkDelete(): "+o+" of "+r+" operations failed",u)})},e}();function cn(e){var t={},n=function(u,s){if(s){for(var c=arguments.length,f=new Array(c-1);--c;)f[c-1]=arguments[c];return t[u].subscribe.apply(null,f),e}else if(typeof u=="string")return t[u]};n.addEventType=o;for(var r=1,i=arguments.length;r<i;++r)o(arguments[r]);return n;function o(u,s,c){if(typeof u=="object")return a(u);s||(s=ys),c||(c=se);var f={subscribers:[],fire:c,subscribe:function(y){f.subscribers.indexOf(y)===-1&&(f.subscribers.push(y),f.fire=s(f.fire,y))},unsubscribe:function(y){f.subscribers=f.subscribers.filter(function(p){return p!==y}),f.fire=f.subscribers.reduce(s,c)}};return t[u]=n[u]=f,f}function a(u){de(u).forEach(function(s){var c=u[s];if(we(c))o(s,u[s][0],u[s][1]);else if(c==="asap")var f=o(s,an,function(){for(var p=arguments.length,_=new Array(p);p--;)_[p]=arguments[p];f.subscribers.forEach(function(b){ta(function(){b.apply(null,_)})})});else throw new ee.InvalidArgument("Invalid event config")})}}function ln(e,t){return kt(t).from({prototype:e}),t}function Rs(e){return ln(Is.prototype,function(n,r,i){this.db=e,this._tx=i,this.name=n,this.schema=r,this.hook=e._allTables[n]?e._allTables[n].hook:cn(null,{creating:[hs,se],reading:[fs,an],updating:[ds,se],deleting:[ps,se]})})}function St(e,t){return!(e.filter||e.algorithm||e.or)&&(t?e.justLimit:!e.replayFilter)}function ar(e,t){e.filter=gt(e.filter,t)}function ur(e,t,n){var r=e.replayFilter;e.replayFilter=r?function(){return gt(r(),t())}:t,e.justLimit=n&&!r}function xs(e,t){e.isMatch=gt(e.isMatch,t)}function An(e,t){if(e.isPrimKey)return t.primaryKey;var n=t.getIndexByKeyPath(e.index);if(!n)throw new ee.Schema("KeyPath "+e.index+" on object store "+t.name+" is not indexed");return n}function ao(e,t,n){var r=An(e,t.schema);return t.openCursor({trans:n,values:!e.keysOnly,reverse:e.dir==="prev",unique:!!e.unique,query:{index:r,range:e.range}})}function dn(e,t,n,r){var i=e.replayFilter?gt(e.filter,e.replayFilter()):e.filter;if(e.or){var o={},a=function(u,s,c){if(!i||i(s,c,function(p){return s.stop(p)},function(p){return s.fail(p)})){var f=s.primaryKey,y=""+f;y==="[object ArrayBuffer]"&&(y=""+new Uint8Array(f)),De(o,y)||(o[y]=!0,t(u,s,c))}};return Promise.all([e.or._iterate(a,n),uo(ao(e,r,n),e.algorithm,a,!e.keysOnly&&e.valueMapper)])}else return uo(ao(e,r,n),gt(e.algorithm,i),t,!e.keysOnly&&e.valueMapper)}function uo(e,t,n,r){var i=r?function(a,u,s){return n(r(a),u,s)}:n,o=le(i);return e.then(function(a){if(a)return a.start(function(){var u=function(){return a.continue()};(!t||t(a,function(s){return u=s},function(s){a.stop(s),u=se},function(s){a.fail(s),u=se}))&&o(a.value,a,function(s){return u=s}),u()})})}function Ae(e,t){try{var n=so(e),r=so(t);if(n!==r)return n==="Array"?1:r==="Array"?-1:n==="binary"?1:r==="binary"?-1:n==="string"?1:r==="string"?-1:n==="Date"?1:r!=="Date"?NaN:-1;switch(n){case"number":case"Date":case"string":return e>t?1:e<t?-1:0;case"binary":return Cs(co(e),co(t));case"Array":return Ds(e,t)}}catch{}return NaN}function Ds(e,t){for(var n=e.length,r=t.length,i=n<r?n:r,o=0;o<i;++o){var a=Ae(e[o],t[o]);if(a!==0)return a}return n===r?0:n<r?-1:1}function Cs(e,t){for(var n=e.length,r=t.length,i=n<r?n:r,o=0;o<i;++o)if(e[o]!==t[o])return e[o]<t[o]?-1:1;return n===r?0:n<r?-1:1}function so(e){var t=typeof e;if(t!=="object")return t;if(ArrayBuffer.isView(e))return"binary";var n=Vr(e);return n==="ArrayBuffer"?"binary":n}function co(e){return e instanceof Uint8Array?e:ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):new Uint8Array(e)}var Bs=function(){function e(){}return e.prototype._read=function(t,n){var r=this._ctx;return r.error?r.table._trans(null,ve.bind(null,r.error)):r.table._trans("readonly",t).then(n)},e.prototype._write=function(t){var n=this._ctx;return n.error?n.table._trans(null,ve.bind(null,n.error)):n.table._trans("readwrite",t,"locked")},e.prototype._addAlgorithm=function(t){var n=this._ctx;n.algorithm=gt(n.algorithm,t)},e.prototype._iterate=function(t,n){return dn(this._ctx,t,n,this._ctx.table.core)},e.prototype.clone=function(t){var n=Object.create(this.constructor.prototype),r=Object.create(this._ctx);return t&&Ee(r,t),n._ctx=r,n},e.prototype.raw=function(){return this._ctx.valueMapper=null,this},e.prototype.each=function(t){var n=this._ctx;return this._read(function(r){return dn(n,t,r,n.table.core)})},e.prototype.count=function(t){var n=this;return this._read(function(r){var i=n._ctx,o=i.table.core;if(St(i,!0))return o.count({trans:r,query:{index:An(i,o.schema),range:i.range}}).then(function(u){return Math.min(u,i.limit)});var a=0;return dn(i,function(){return++a,!1},r,o).then(function(){return a})}).then(t)},e.prototype.sortBy=function(t,n){var r=t.split(".").reverse(),i=r[0],o=r.length-1;function a(c,f){return f?a(c[r[f]],f-1):c[i]}var u=this._ctx.dir==="next"?1:-1;function s(c,f){var y=a(c,o),p=a(f,o);return y<p?-u:y>p?u:0}return this.toArray(function(c){return c.sort(s)}).then(n)},e.prototype.toArray=function(t){var n=this;return this._read(function(r){var i=n._ctx;if(i.dir==="next"&&St(i,!0)&&i.limit>0){var o=i.valueMapper,a=An(i,i.table.core.schema);return i.table.core.query({trans:r,limit:i.limit,values:!0,query:{index:a,range:i.range}}).then(function(s){var c=s.result;return o?c.map(o):c})}else{var u=[];return dn(i,function(s){return u.push(s)},r,i.table.core).then(function(){return u})}},t)},e.prototype.offset=function(t){var n=this._ctx;return t<=0?this:(n.offset+=t,St(n)?ur(n,function(){var r=t;return function(i,o){return r===0?!0:r===1?(--r,!1):(o(function(){i.advance(r),r=0}),!1)}}):ur(n,function(){var r=t;return function(){return--r<0}}),this)},e.prototype.limit=function(t){return this._ctx.limit=Math.min(this._ctx.limit,t),ur(this._ctx,function(){var n=t;return function(r,i,o){return--n<=0&&i(o),n>=0}},!0),this},e.prototype.until=function(t,n){return ar(this._ctx,function(r,i,o){return t(r.value)?(i(o),n):!0}),this},e.prototype.first=function(t){return this.limit(1).toArray(function(n){return n[0]}).then(t)},e.prototype.last=function(t){return this.reverse().first(t)},e.prototype.filter=function(t){return ar(this._ctx,function(n){return t(n.value)}),xs(this._ctx,t),this},e.prototype.and=function(t){return this.filter(t)},e.prototype.or=function(t){return new this.db.WhereClause(this._ctx.table,t,this)},e.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},e.prototype.desc=function(){return this.reverse()},e.prototype.eachKey=function(t){var n=this._ctx;return n.keysOnly=!n.isMatch,this.each(function(r,i){t(i.key,i)})},e.prototype.eachUniqueKey=function(t){return this._ctx.unique="unique",this.eachKey(t)},e.prototype.eachPrimaryKey=function(t){var n=this._ctx;return n.keysOnly=!n.isMatch,this.each(function(r,i){t(i.primaryKey,i)})},e.prototype.keys=function(t){var n=this._ctx;n.keysOnly=!n.isMatch;var r=[];return this.each(function(i,o){r.push(o.key)}).then(function(){return r}).then(t)},e.prototype.primaryKeys=function(t){var n=this._ctx;if(n.dir==="next"&&St(n,!0)&&n.limit>0)return this._read(function(i){var o=An(n,n.table.core.schema);return n.table.core.query({trans:i,values:!1,limit:n.limit,query:{index:o,range:n.range}})}).then(function(i){var o=i.result;return o}).then(t);n.keysOnly=!n.isMatch;var r=[];return this.each(function(i,o){r.push(o.primaryKey)}).then(function(){return r}).then(t)},e.prototype.uniqueKeys=function(t){return this._ctx.unique="unique",this.keys(t)},e.prototype.firstKey=function(t){return this.limit(1).keys(function(n){return n[0]}).then(t)},e.prototype.lastKey=function(t){return this.reverse().firstKey(t)},e.prototype.distinct=function(){var t=this._ctx,n=t.index&&t.table.schema.idxByName[t.index];if(!n||!n.multi)return this;var r={};return ar(this._ctx,function(i){var o=i.primaryKey.toString(),a=De(r,o);return r[o]=!0,!a}),this},e.prototype.modify=function(t){var n=this,r=this._ctx;return this._write(function(i){var o;if(typeof t=="function")o=t;else{var a=de(t),u=a.length;o=function(m){for(var A=!1,O=0;O<u;++O){var j=a[O],w=t[j];He(m,j)!==w&&($e(m,j,w),A=!0)}return A}}var s=r.table.core,c=s.schema.primaryKey,f=c.outbound,y=c.extractKey,p=n.db._options.modifyChunkSize||200,_=[],b=0,d=[],v=function(m,A){var O=A.failures,j=A.numFailures;b+=m-j;for(var w=0,B=de(O);w<B.length;w++){var $=B[w];_.push(O[$])}};return n.clone().primaryKeys().then(function(m){var A=function(O){var j=Math.min(p,m.length-O);return s.getMany({trans:i,keys:m.slice(O,O+j),cache:"immutable"}).then(function(w){for(var B=[],$=[],D=f?[]:null,F=[],G=0;G<j;++G){var z=w[G],M={value:on(z),primKey:m[O+G]};o.call(M,M.value,M)!==!1&&(M.value==null?F.push(m[O+G]):!f&&Ae(y(z),y(M.value))!==0?(F.push(m[O+G]),B.push(M.value)):($.push(M.value),f&&D.push(m[O+G])))}var W=St(r)&&r.limit===1/0&&(typeof t!="function"||t===sr)&&{index:r.index,range:r.range};return Promise.resolve(B.length>0&&s.mutate({trans:i,type:"add",values:B}).then(function(X){for(var E in X.failures)F.splice(parseInt(E),1);v(B.length,X)})).then(function(){return($.length>0||W&&typeof t=="object")&&s.mutate({trans:i,type:"put",keys:D,values:$,criteria:W,changeSpec:typeof t!="function"&&t}).then(function(X){return v($.length,X)})}).then(function(){return(F.length>0||W&&t===sr)&&s.mutate({trans:i,type:"delete",keys:F,criteria:W}).then(function(X){return v(F.length,X)})}).then(function(){return m.length>O+j&&A(O+p)})})};return A(0).then(function(){if(_.length>0)throw new Bn("Error modifying one or more objects",_,b,d);return m.length})})})},e.prototype.delete=function(){var t=this._ctx,n=t.range;return St(t)&&(t.isPrimKey&&!js||n.type===3)?this._write(function(r){var i=t.table.core.schema.primaryKey,o=n;return t.table.core.count({trans:r,query:{index:i,range:o}}).then(function(a){return t.table.core.mutate({trans:r,type:"deleteRange",range:o}).then(function(u){var s=u.failures;u.lastResult,u.results;var c=u.numFailures;if(c)throw new Bn("Could not delete some values",Object.keys(s).map(function(f){return s[f]}),a-c);return a-c})})}):this.modify(sr)},e}(),sr=function(e,t){return t.value=null};function ks(e){return ln(Bs.prototype,function(n,r){this.db=e;var i=_a,o=null;if(r)try{i=r()}catch(c){o=c}var a=n._ctx,u=a.table,s=u.hook.reading.fire;this._ctx={table:u,index:a.index,isPrimKey:!a.index||u.schema.primKey.keyPath&&a.index===u.schema.primKey.name,range:i,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:o,or:a.or,valueMapper:s!==an?s:null}})}function $s(e,t){return e<t?-1:e===t?0:1}function Ns(e,t){return e>t?-1:e===t?0:1}function xe(e,t,n){var r=e instanceof Aa?new e.Collection(e):e;return r._ctx.error=n?new n(t):new TypeError(t),r}function At(e){return new e.Collection(e,function(){return Sa("")}).limit(0)}function Fs(e){return e==="next"?function(t){return t.toUpperCase()}:function(t){return t.toLowerCase()}}function Ms(e){return e==="next"?function(t){return t.toLowerCase()}:function(t){return t.toUpperCase()}}function Ks(e,t,n,r,i,o){for(var a=Math.min(e.length,r.length),u=-1,s=0;s<a;++s){var c=t[s];if(c!==r[s])return i(e[s],n[s])<0?e.substr(0,s)+n[s]+n.substr(s+1):i(e[s],r[s])<0?e.substr(0,s)+r[s]+n.substr(s+1):u>=0?e.substr(0,u)+t[u]+n.substr(u+1):null;i(e[s],c)<0&&(u=s)}return a<r.length&&o==="next"?e+n.substr(e.length):a<e.length&&o==="prev"?e.substr(0,n.length):u<0?null:e.substr(0,u)+r[u]+n.substr(u+1)}function yn(e,t,n,r){var i,o,a,u,s,c,f,y=n.length;if(!n.every(function(d){return typeof d=="string"}))return xe(e,ba);function p(d){i=Fs(d),o=Ms(d),a=d==="next"?$s:Ns;var v=n.map(function(m){return{lower:o(m),upper:i(m)}}).sort(function(m,A){return a(m.lower,A.lower)});u=v.map(function(m){return m.upper}),s=v.map(function(m){return m.lower}),c=d,f=d==="next"?"":r}p("next");var _=new e.Collection(e,function(){return Xe(u[0],s[y-1]+r)});_._ondirectionchange=function(d){p(d)};var b=0;return _._addAlgorithm(function(d,v,m){var A=d.key;if(typeof A!="string")return!1;var O=o(A);if(t(O,s,b))return!0;for(var j=null,w=b;w<y;++w){var B=Ks(A,O,u[w],s[w],a,c);B===null&&j===null?b=w+1:(j===null||a(j,B)>0)&&(j=B)}return v(j!==null?function(){d.continue(j+f)}:m),!1}),_}function Xe(e,t,n,r){return{type:2,lower:e,upper:t,lowerOpen:n,upperOpen:r}}function Sa(e){return{type:1,lower:e,upper:e}}var Aa=function(){function e(){}return Object.defineProperty(e.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),e.prototype.between=function(t,n,r,i){r=r!==!1,i=i===!0;try{return this._cmp(t,n)>0||this._cmp(t,n)===0&&(r||i)&&!(r&&i)?At(this):new this.Collection(this,function(){return Xe(t,n,!r,!i)})}catch{return xe(this,Le)}},e.prototype.equals=function(t){return t==null?xe(this,Le):new this.Collection(this,function(){return Sa(t)})},e.prototype.above=function(t){return t==null?xe(this,Le):new this.Collection(this,function(){return Xe(t,void 0,!0)})},e.prototype.aboveOrEqual=function(t){return t==null?xe(this,Le):new this.Collection(this,function(){return Xe(t,void 0,!1)})},e.prototype.below=function(t){return t==null?xe(this,Le):new this.Collection(this,function(){return Xe(void 0,t,!1,!0)})},e.prototype.belowOrEqual=function(t){return t==null?xe(this,Le):new this.Collection(this,function(){return Xe(void 0,t)})},e.prototype.startsWith=function(t){return typeof t!="string"?xe(this,ba):this.between(t,t+ft,!0,!0)},e.prototype.startsWithIgnoreCase=function(t){return t===""?this.startsWith(t):yn(this,function(n,r){return n.indexOf(r[0])===0},[t],ft)},e.prototype.equalsIgnoreCase=function(t){return yn(this,function(n,r){return n===r[0]},[t],"")},e.prototype.anyOfIgnoreCase=function(){var t=Ge.apply(Et,arguments);return t.length===0?At(this):yn(this,function(n,r){return r.indexOf(n)!==-1},t,"")},e.prototype.startsWithAnyOfIgnoreCase=function(){var t=Ge.apply(Et,arguments);return t.length===0?At(this):yn(this,function(n,r){return r.some(function(i){return n.indexOf(i)===0})},t,ft)},e.prototype.anyOf=function(){var t=this,n=Ge.apply(Et,arguments),r=this._cmp;try{n.sort(r)}catch{return xe(this,Le)}if(n.length===0)return At(this);var i=new this.Collection(this,function(){return Xe(n[0],n[n.length-1])});i._ondirectionchange=function(a){r=a==="next"?t._ascending:t._descending,n.sort(r)};var o=0;return i._addAlgorithm(function(a,u,s){for(var c=a.key;r(c,n[o])>0;)if(++o,o===n.length)return u(s),!1;return r(c,n[o])===0?!0:(u(function(){a.continue(n[o])}),!1)}),i},e.prototype.notEqual=function(t){return this.inAnyRange([[ni,t],[t,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},e.prototype.noneOf=function(){var t=Ge.apply(Et,arguments);if(t.length===0)return new this.Collection(this);try{t.sort(this._ascending)}catch{return xe(this,Le)}var n=t.reduce(function(r,i){return r?r.concat([[r[r.length-1][1],i]]):[[ni,i]]},null);return n.push([t[t.length-1],this.db._maxKey]),this.inAnyRange(n,{includeLowers:!1,includeUppers:!1})},e.prototype.inAnyRange=function(t,n){var r=this,i=this._cmp,o=this._ascending,a=this._descending,u=this._min,s=this._max;if(t.length===0)return At(this);if(!t.every(function(w){return w[0]!==void 0&&w[1]!==void 0&&o(w[0],w[1])<=0}))return xe(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",ee.InvalidArgument);var c=!n||n.includeLowers!==!1,f=n&&n.includeUppers===!0;function y(w,B){for(var $=0,D=w.length;$<D;++$){var F=w[$];if(i(B[0],F[1])<0&&i(B[1],F[0])>0){F[0]=u(F[0],B[0]),F[1]=s(F[1],B[1]);break}}return $===D&&w.push(B),w}var p=o;function _(w,B){return p(w[0],B[0])}var b;try{b=t.reduce(y,[]),b.sort(_)}catch{return xe(this,Le)}var d=0,v=f?function(w){return o(w,b[d][1])>0}:function(w){return o(w,b[d][1])>=0},m=c?function(w){return a(w,b[d][0])>0}:function(w){return a(w,b[d][0])>=0};function A(w){return!v(w)&&!m(w)}var O=v,j=new this.Collection(this,function(){return Xe(b[0][0],b[b.length-1][1],!c,!f)});return j._ondirectionchange=function(w){w==="next"?(O=v,p=o):(O=m,p=a),b.sort(_)},j._addAlgorithm(function(w,B,$){for(var D=w.key;O(D);)if(++d,d===b.length)return B($),!1;return A(D)?!0:(r._cmp(D,b[d][1])===0||r._cmp(D,b[d][0])===0||B(function(){p===o?w.continue(b[d][0]):w.continue(b[d][1])}),!1)}),j},e.prototype.startsWithAnyOf=function(){var t=Ge.apply(Et,arguments);return t.every(function(n){return typeof n=="string"})?t.length===0?At(this):this.inAnyRange(t.map(function(n){return[n,n+ft]})):xe(this,"startsWithAnyOf() only works with strings")},e}();function qs(e){return ln(Aa.prototype,function(n,r,i){this.db=e,this._ctx={table:n,index:r===":id"?null:r,or:i};var o=e._deps.indexedDB;if(!o)throw new ee.MissingAPI;this._cmp=this._ascending=o.cmp.bind(o),this._descending=function(a,u){return o.cmp(u,a)},this._max=function(a,u){return o.cmp(a,u)>0?a:u},this._min=function(a,u){return o.cmp(a,u)<0?a:u},this._IDBKeyRange=e._deps.IDBKeyRange})}function Fe(e){return le(function(t){return Jt(t),e(t.target.error),!1})}function Jt(e){e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault()}var Xt="storagemutated",Ze="x-storagemutated-1",rt=cn(null,Xt),Ls=function(){function e(){}return e.prototype._lock=function(){return qt(!Z.global),++this._reculock,this._reculock===1&&!Z.global&&(Z.lockOwnerFor=this),this},e.prototype._unlock=function(){if(qt(!Z.global),--this._reculock===0)for(Z.global||(Z.lockOwnerFor=null);this._blockedFuncs.length>0&&!this._locked();){var t=this._blockedFuncs.shift();try{Ft(t[1],t[0])}catch{}}return this},e.prototype._locked=function(){return this._reculock&&Z.lockOwnerFor!==this},e.prototype.create=function(t){var n=this;if(!this.mode)return this;var r=this.db.idbdb,i=this.db._state.dbOpenError;if(qt(!this.idbtrans),!t&&!r)switch(i&&i.name){case"DatabaseClosedError":throw new ee.DatabaseClosed(i);case"MissingAPIError":throw new ee.MissingAPI(i.message,i);default:throw new ee.OpenFailed(i)}if(!this.active)throw new ee.TransactionInactive;return qt(this._completion._state===null),t=this.idbtrans=t||(this.db.core?this.db.core.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}):r.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})),t.onerror=le(function(o){Jt(o),n._reject(t.error)}),t.onabort=le(function(o){Jt(o),n.active&&n._reject(new ee.Abort(t.error)),n.active=!1,n.on("abort").fire(o)}),t.oncomplete=le(function(){n.active=!1,n._resolve(),"mutatedParts"in t&&rt.storagemutated.fire(t.mutatedParts)}),this},e.prototype._promise=function(t,n,r){var i=this;if(t==="readwrite"&&this.mode!=="readwrite")return ve(new ee.ReadOnly("Transaction is readonly"));if(!this.active)return ve(new ee.TransactionInactive);if(this._locked())return new L(function(a,u){i._blockedFuncs.push([function(){i._promise(t,n,r).then(a,u)},Z])});if(r)return tt(function(){var a=new L(function(u,s){i._lock();var c=n(u,s,i);c&&c.then&&c.then(u,s)});return a.finally(function(){return i._unlock()}),a._lib=!0,a});var o=new L(function(a,u){var s=n(a,u,i);s&&s.then&&s.then(a,u)});return o._lib=!0,o},e.prototype._root=function(){return this.parent?this.parent._root():this},e.prototype.waitFor=function(t){var n=this._root(),r=L.resolve(t);if(n._waitingFor)n._waitingFor=n._waitingFor.then(function(){return r});else{n._waitingFor=r,n._waitingQueue=[];var i=n.idbtrans.objectStore(n.storeNames[0]);(function a(){for(++n._spinCount;n._waitingQueue.length;)n._waitingQueue.shift()();n._waitingFor&&(i.get(-1/0).onsuccess=a)})()}var o=n._waitingFor;return new L(function(a,u){r.then(function(s){return n._waitingQueue.push(le(a.bind(null,s)))},function(s){return n._waitingQueue.push(le(u.bind(null,s)))}).finally(function(){n._waitingFor===o&&(n._waitingFor=null)})})},e.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new ee.Abort))},e.prototype.table=function(t){var n=this._memoizedTables||(this._memoizedTables={});if(De(n,t))return n[t];var r=this.schema[t];if(!r)throw new ee.NotFound("Table "+t+" not part of transaction");var i=new this.db.Table(t,r,this);return i.core=this.db.core.table(t),n[t]=i,i},e}();function Us(e){return ln(Ls.prototype,function(n,r,i,o,a){var u=this;this.db=e,this.mode=n,this.storeNames=r,this.schema=i,this.chromeTransactionDurability=o,this.idbtrans=null,this.on=cn(this,"complete","error","abort"),this.parent=a||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new L(function(s,c){u._resolve=s,u._reject=c}),this._completion.then(function(){u.active=!1,u.on.complete.fire()},function(s){var c=u.active;return u.active=!1,u.on.error.fire(s),u.parent?u.parent._reject(s):c&&u.idbtrans&&u.idbtrans.abort(),ve(s)})})}function ri(e,t,n,r,i,o,a){return{name:e,keyPath:t,unique:n,multi:r,auto:i,compound:o,src:(n&&!a?"&":"")+(r?"*":"")+(i?"++":"")+Ea(t)}}function Ea(e){return typeof e=="string"?e:e?"["+[].join.call(e,"+")+"]":""}function Oa(e,t,n){return{name:e,primKey:t,indexes:n,mappedClass:null,idxByName:na(n,function(r){return[r.name,r]})}}function Vs(e){return e.length===1?e[0]:e}var Qt=function(e){try{return e.only([[]]),Qt=function(){return[[]]},[[]]}catch{return Qt=function(){return ft},ft}};function ii(e){return e==null?function(){}:typeof e=="string"?Gs(e):function(t){return He(t,e)}}function Gs(e){var t=e.split(".");return t.length===1?function(n){return n[e]}:function(n){return He(n,e)}}function lo(e){return[].slice.call(e)}var zs=0;function zt(e){return e==null?":id":typeof e=="string"?e:"["+e.join("+")+"]"}function Ws(e,t,n){function r(y,p){var _=lo(y.objectStoreNames);return{schema:{name:y.name,tables:_.map(function(b){return p.objectStore(b)}).map(function(b){var d=b.keyPath,v=b.autoIncrement,m=we(d),A=d==null,O={},j={name:b.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:A,compound:m,keyPath:d,autoIncrement:v,unique:!0,extractKey:ii(d)},indexes:lo(b.indexNames).map(function(w){return b.index(w)}).map(function(w){var B=w.name,$=w.unique,D=w.multiEntry,F=w.keyPath,G=we(F),z={name:B,compound:G,keyPath:F,unique:$,multiEntry:D,extractKey:ii(F)};return O[zt(F)]=z,z}),getIndexByKeyPath:function(w){return O[zt(w)]}};return O[":id"]=j.primaryKey,d!=null&&(O[zt(d)]=j.primaryKey),j})},hasGetAll:_.length>0&&"getAll"in p.objectStore(_[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}}function i(y){if(y.type===3)return null;if(y.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var p=y.lower,_=y.upper,b=y.lowerOpen,d=y.upperOpen,v=p===void 0?_===void 0?null:t.upperBound(_,!!d):_===void 0?t.lowerBound(p,!!b):t.bound(p,_,!!b,!!d);return v}function o(y){var p=y.name;function _(v){var m=v.trans,A=v.type,O=v.keys,j=v.values,w=v.range;return new Promise(function(B,$){B=le(B);var D=m.objectStore(p),F=D.keyPath==null,G=A==="put"||A==="add";if(!G&&A!=="delete"&&A!=="deleteRange")throw new Error("Invalid operation type: "+A);var z=(O||j||{length:1}).length;if(O&&j&&O.length!==j.length)throw new Error("Given keys array must have same length as given values array.");if(z===0)return B({numFailures:0,failures:{},results:[],lastResult:void 0});var M,W=[],X=[],E=0,C=function(l){++E,Jt(l)};if(A==="deleteRange"){if(w.type===4)return B({numFailures:E,failures:X,results:[],lastResult:void 0});w.type===3?W.push(M=D.clear()):W.push(M=D.delete(i(w)))}else{var N=G?F?[j,O]:[j,null]:[O,null],k=N[0],q=N[1];if(G)for(var Q=0;Q<z;++Q)W.push(M=q&&q[Q]!==void 0?D[A](k[Q],q[Q]):D[A](k[Q])),M.onerror=C;else for(var Q=0;Q<z;++Q)W.push(M=D[A](k[Q])),M.onerror=C}var P=function(l){var h=l.target.result;W.forEach(function(g,R){return g.error!=null&&(X[R]=g.error)}),B({numFailures:E,failures:X,results:A==="delete"?O:W.map(function(g){return g.result}),lastResult:h})};M.onerror=function(l){C(l),P(l)},M.onsuccess=P})}function b(v){var m=v.trans,A=v.values,O=v.query,j=v.reverse,w=v.unique;return new Promise(function(B,$){B=le(B);var D=O.index,F=O.range,G=m.objectStore(p),z=D.isPrimaryKey?G:G.index(D.name),M=j?w?"prevunique":"prev":w?"nextunique":"next",W=A||!("openKeyCursor"in z)?z.openCursor(i(F),M):z.openKeyCursor(i(F),M);W.onerror=Fe($),W.onsuccess=le(function(X){var E=W.result;if(!E){B(null);return}E.___id=++zs,E.done=!1;var C=E.continue.bind(E),N=E.continuePrimaryKey;N&&(N=N.bind(E));var k=E.advance.bind(E),q=function(){throw new Error("Cursor not started")},Q=function(){throw new Error("Cursor not stopped")};E.trans=m,E.stop=E.continue=E.continuePrimaryKey=E.advance=q,E.fail=le($),E.next=function(){var P=this,l=1;return this.start(function(){return l--?P.continue():P.stop()}).then(function(){return P})},E.start=function(P){var l=new Promise(function(g,R){g=le(g),W.onerror=Fe(R),E.fail=R,E.stop=function(I){E.stop=E.continue=E.continuePrimaryKey=E.advance=Q,g(I)}}),h=function(){if(W.result)try{P()}catch(g){E.fail(g)}else E.done=!0,E.start=function(){throw new Error("Cursor behind last entry")},E.stop()};return W.onsuccess=le(function(g){W.onsuccess=h,h()}),E.continue=C,E.continuePrimaryKey=N,E.advance=k,h(),l},B(E)},$)})}function d(v){return function(m){return new Promise(function(A,O){A=le(A);var j=m.trans,w=m.values,B=m.limit,$=m.query,D=B===1/0?void 0:B,F=$.index,G=$.range,z=j.objectStore(p),M=F.isPrimaryKey?z:z.index(F.name),W=i(G);if(B===0)return A({result:[]});if(v){var X=w?M.getAll(W,D):M.getAllKeys(W,D);X.onsuccess=function(k){return A({result:k.target.result})},X.onerror=Fe(O)}else{var E=0,C=w||!("openKeyCursor"in M)?M.openCursor(W):M.openKeyCursor(W),N=[];C.onsuccess=function(k){var q=C.result;if(!q)return A({result:N});if(N.push(w?q.value:q.primaryKey),++E===B)return A({result:N});q.continue()},C.onerror=Fe(O)}})}}return{name:p,schema:y,mutate:_,getMany:function(v){var m=v.trans,A=v.keys;return new Promise(function(O,j){O=le(O);for(var w=m.objectStore(p),B=A.length,$=new Array(B),D=0,F=0,G,z=function(E){var C=E.target;($[C._pos]=C.result)!=null,++F===D&&O($)},M=Fe(j),W=0;W<B;++W){var X=A[W];X!=null&&(G=w.get(A[W]),G._pos=W,G.onsuccess=z,G.onerror=M,++D)}D===0&&O($)})},get:function(v){var m=v.trans,A=v.key;return new Promise(function(O,j){O=le(O);var w=m.objectStore(p),B=w.get(A);B.onsuccess=function($){return O($.target.result)},B.onerror=Fe(j)})},query:d(s),openCursor:b,count:function(v){var m=v.query,A=v.trans,O=m.index,j=m.range;return new Promise(function(w,B){var $=A.objectStore(p),D=O.isPrimaryKey?$:$.index(O.name),F=i(j),G=F?D.count(F):D.count();G.onsuccess=le(function(z){return w(z.target.result)}),G.onerror=Fe(B)})}}}var a=r(e,n),u=a.schema,s=a.hasGetAll,c=u.tables.map(function(y){return o(y)}),f={};return c.forEach(function(y){return f[y.name]=y}),{stack:"dbcore",transaction:e.transaction.bind(e),table:function(y){var p=f[y];if(!p)throw new Error("Table '"+y+"' not found");return f[y]},MIN_KEY:-1/0,MAX_KEY:Qt(t),schema:u}}function Hs(e,t){return t.reduce(function(n,r){var i=r.create;return oe(oe({},n),i(n))},e)}function Ys(e,t,n,r){var i=n.IDBKeyRange;n.indexedDB;var o=Hs(Ws(t,i,r),e.dbcore);return{dbcore:o}}function Ci(e,t){var n=e._novip,r=t.db,i=Ys(n._middlewares,r,n._deps,t);n.core=i.dbcore,n.tables.forEach(function(o){var a=o.name;n.core.schema.tables.some(function(u){return u.name===a})&&(o.core=n.core.table(a),n[a]instanceof n.Table&&(n[a].core=o.core))})}function Kn(e,t,n,r){var i=e._novip;n.forEach(function(o){var a=r[o];t.forEach(function(u){var s=Ei(u,o);(!s||"value"in s&&s.value===void 0)&&(u===i.Transaction.prototype||u instanceof i.Transaction?Ye(u,o,{get:function(){return this.table(o)},set:function(c){Zo(this,o,{value:c,writable:!0,configurable:!0,enumerable:!0})}}):u[o]=new i.Table(o,a))})})}function oi(e,t){var n=e._novip;t.forEach(function(r){for(var i in r)r[i]instanceof n.Table&&delete r[i]})}function Js(e,t){return e._cfg.version-t._cfg.version}function Xs(e,t,n,r){var i=e._dbSchema,o=e._createTransaction("readwrite",e._storeNames,i);o.create(n),o._completion.catch(r);var a=o._reject.bind(o),u=Z.transless||Z;tt(function(){Z.trans=o,Z.transless=u,t===0?(de(i).forEach(function(s){Bi(n,s,i[s].primKey,i[s].indexes)}),Ci(e,n),L.follow(function(){return e.on.populate.fire(o)}).catch(a)):Qs(e,t,o,n).catch(a)})}function Qs(e,t,n,r){var i=e._novip,o=[],a=i._versions,u=i._dbSchema=ki(i,i.idbdb,r),s=!1,c=a.filter(function(y){return y._cfg.version>=t});c.forEach(function(y){o.push(function(){var p=u,_=y._cfg.dbschema;ui(i,p,r),ui(i,_,r),u=i._dbSchema=_;var b=Pa(p,_);b.add.forEach(function(j){Bi(r,j[0],j[1].primKey,j[1].indexes)}),b.change.forEach(function(j){if(j.recreate)throw new ee.Upgrade("Not yet support for changing primary key");var w=r.objectStore(j.name);j.add.forEach(function(B){return ai(w,B)}),j.change.forEach(function(B){w.deleteIndex(B.name),ai(w,B)}),j.del.forEach(function(B){return w.deleteIndex(B)})});var d=y._cfg.contentUpgrade;if(d&&y._cfg.version>t){Ci(i,r),n._memoizedTables={},s=!0;var v=ra(_);b.del.forEach(function(j){v[j]=p[j]}),oi(i,[i.Transaction.prototype]),Kn(i,[i.Transaction.prototype],de(v),v),n.schema=v;var m=Oi(d);m&&Nt();var A,O=L.follow(function(){if(A=d(n),A&&m){var j=Je.bind(null,null);A.then(j,j)}});return A&&typeof A.then=="function"?L.resolve(A):O.then(function(){return A})}}),o.push(function(p){if(!s||!Ts){var _=y._cfg.dbschema;ec(_,p)}oi(i,[i.Transaction.prototype]),Kn(i,[i.Transaction.prototype],i._storeNames,i._dbSchema),n.schema=i._dbSchema})});function f(){return o.length?L.resolve(o.shift()(n.idbtrans)).then(f):L.resolve()}return f().then(function(){Zs(u,r)})}function Pa(e,t){var n={del:[],add:[],change:[]},r;for(r in e)t[r]||n.del.push(r);for(r in t){var i=e[r],o=t[r];if(!i)n.add.push([r,o]);else{var a={name:r,def:o,recreate:!1,del:[],add:[],change:[]};if(""+(i.primKey.keyPath||"")!=""+(o.primKey.keyPath||"")||i.primKey.auto!==o.primKey.auto&&!Yn)a.recreate=!0,n.change.push(a);else{var u=i.idxByName,s=o.idxByName,c=void 0;for(c in u)s[c]||a.del.push(c);for(c in s){var f=u[c],y=s[c];f?f.src!==y.src&&a.change.push(y):a.add.push(y)}(a.del.length>0||a.add.length>0||a.change.length>0)&&n.change.push(a)}}}return n}function Bi(e,t,n,r){var i=e.db.createObjectStore(t,n.keyPath?{keyPath:n.keyPath,autoIncrement:n.auto}:{autoIncrement:n.auto});return r.forEach(function(o){return ai(i,o)}),i}function Zs(e,t){de(e).forEach(function(n){t.db.objectStoreNames.contains(n)||Bi(t,n,e[n].primKey,e[n].indexes)})}function ec(e,t){[].slice.call(t.db.objectStoreNames).forEach(function(n){return e[n]==null&&t.db.deleteObjectStore(n)})}function ai(e,t){e.createIndex(t.name,t.keyPath,{unique:t.unique,multiEntry:t.multi})}function ki(e,t,n){var r={},i=Wn(t.objectStoreNames,0);return i.forEach(function(o){for(var a=n.objectStore(o),u=a.keyPath,s=ri(Ea(u),u||"",!1,!1,!!a.autoIncrement,u&&typeof u!="string",!0),c=[],f=0;f<a.indexNames.length;++f){var y=a.index(a.indexNames[f]);u=y.keyPath;var p=ri(y.name,u,!!y.unique,!!y.multiEntry,!1,u&&typeof u!="string",!1);c.push(p)}r[o]=Oa(o,s,c)}),r}function tc(e,t,n){var r=e._novip;r.verno=t.version/10;var i=r._dbSchema=ki(r,t,n);r._storeNames=Wn(t.objectStoreNames,0),Kn(r,[r._allTables],de(i),i)}function nc(e,t){var n=ki(e,e.idbdb,t),r=Pa(n,e._dbSchema);return!(r.add.length||r.change.some(function(i){return i.add.length||i.change.length}))}function ui(e,t,n){for(var r=e._novip,i=n.db.objectStoreNames,o=0;o<i.length;++o){var a=i[o],u=n.objectStore(a);r._hasGetAll="getAll"in u;for(var s=0;s<u.indexNames.length;++s){var c=u.indexNames[s],f=u.index(c).keyPath,y=typeof f=="string"?f:"["+Wn(f).join("+")+"]";if(t[a]){var p=t[a].idxByName[y];p&&(p.name=c,delete t[a].idxByName[y],t[a].idxByName[c]=p)}}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&ce.WorkerGlobalScope&&ce instanceof ce.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(r._hasGetAll=!1)}function rc(e){return e.split(",").map(function(t,n){t=t.trim();var r=t.replace(/([&*]|\+\+)/g,""),i=/^\[/.test(r)?r.match(/^\[(.*)\]$/)[1].split("+"):r;return ri(r,i||null,/\&/.test(t),/\*/.test(t),/\+\+/.test(t),we(i),n===0)})}var ic=function(){function e(){}return e.prototype._parseStoresSpec=function(t,n){de(t).forEach(function(r){if(t[r]!==null){var i=rc(t[r]),o=i.shift();if(o.multi)throw new ee.Schema("Primary key cannot be multi-valued");i.forEach(function(a){if(a.auto)throw new ee.Schema("Only primary key can be marked as autoIncrement (++)");if(!a.keyPath)throw new ee.Schema("Index must have a name and cannot be an empty string")}),n[r]=Oa(r,o,i)}})},e.prototype.stores=function(t){var n=this.db;this._cfg.storesSource=this._cfg.storesSource?Ee(this._cfg.storesSource,t):t;var r=n._versions,i={},o={};return r.forEach(function(a){Ee(i,a._cfg.storesSource),o=a._cfg.dbschema={},a._parseStoresSpec(i,o)}),n._dbSchema=o,oi(n,[n._allTables,n,n.Transaction.prototype]),Kn(n,[n._allTables,n,n.Transaction.prototype,this._cfg.tables],de(o),o),n._storeNames=de(o),this},e.prototype.upgrade=function(t){return this._cfg.contentUpgrade=ji(this._cfg.contentUpgrade||se,t),this},e}();function oc(e){return ln(ic.prototype,function(n){this.db=e,this._cfg={version:n,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})}function $i(e,t){var n=e._dbNamesDB;return n||(n=e._dbNamesDB=new Ki(Jn,{addons:[],indexedDB:e,IDBKeyRange:t}),n.version(1).stores({dbnames:"name"})),n.table("dbnames")}function Ni(e){return e&&typeof e.databases=="function"}function ac(e){var t=e.indexedDB,n=e.IDBKeyRange;return Ni(t)?Promise.resolve(t.databases()).then(function(r){return r.map(function(i){return i.name}).filter(function(i){return i!==Jn})}):$i(t,n).toCollection().primaryKeys()}function uc(e,t){var n=e.indexedDB,r=e.IDBKeyRange;!Ni(n)&&t!==Jn&&$i(n,r).put({name:t}).catch(se)}function sc(e,t){var n=e.indexedDB,r=e.IDBKeyRange;!Ni(n)&&t!==Jn&&$i(n,r).delete(t).catch(se)}function si(e){return tt(function(){return Z.letThrough=!0,e()})}function cc(){var e=!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent);if(!e||!indexedDB.databases)return Promise.resolve();var t;return new Promise(function(n){var r=function(){return indexedDB.databases().finally(n)};t=setInterval(r,100),r()}).finally(function(){return clearInterval(t)})}function lc(e){var t=e._state,n=e._deps.indexedDB;if(t.isBeingOpened||e.idbdb)return t.dbReadyPromise.then(function(){return t.dbOpenError?ve(t.dbOpenError):e});Me&&(t.openCanceller._stackHolder=mt()),t.isBeingOpened=!0,t.dbOpenError=null,t.openComplete=!1;var r=t.openCanceller;function i(){if(t.openCanceller!==r)throw new ee.DatabaseClosed("db.open() was cancelled")}var o=t.dbReadyResolve,a=null,u=!1;return L.race([r,(typeof navigator>"u"?L.resolve():cc()).then(function(){return new L(function(s,c){if(i(),!n)throw new ee.MissingAPI;var f=e.name,y=t.autoSchema?n.open(f):n.open(f,Math.round(e.verno*10));if(!y)throw new ee.MissingAPI;y.onerror=Fe(c),y.onblocked=le(e._fireOnBlocked),y.onupgradeneeded=le(function(p){if(a=y.transaction,t.autoSchema&&!e._options.allowEmptyDB){y.onerror=Jt,a.abort(),y.result.close();var _=n.deleteDatabase(f);_.onsuccess=_.onerror=le(function(){c(new ee.NoSuchDatabase("Database "+f+" doesnt exist"))})}else{a.onerror=Fe(c);var b=p.oldVersion>Math.pow(2,62)?0:p.oldVersion;u=b<1,e._novip.idbdb=y.result,Xs(e,b/10,a,c)}},c),y.onsuccess=le(function(){a=null;var p=e._novip.idbdb=y.result,_=Wn(p.objectStoreNames);if(_.length>0)try{var b=p.transaction(Vs(_),"readonly");t.autoSchema?tc(e,p,b):(ui(e,e._dbSchema,b),nc(e,b)||console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Some queries may fail.")),Ci(e,b)}catch{}Gt.push(e),p.onversionchange=le(function(d){t.vcFired=!0,e.on("versionchange").fire(d)}),p.onclose=le(function(d){e.on("close").fire(d)}),u&&uc(e._deps,f),s()},c)})})]).then(function(){return i(),t.onReadyBeingFired=[],L.resolve(si(function(){return e.on.ready.fire(e.vip)})).then(function s(){if(t.onReadyBeingFired.length>0){var c=t.onReadyBeingFired.reduce(ji,se);return t.onReadyBeingFired=[],L.resolve(si(function(){return c(e.vip)})).then(s)}})}).finally(function(){t.onReadyBeingFired=null,t.isBeingOpened=!1}).then(function(){return e}).catch(function(s){t.dbOpenError=s;try{a&&a.abort()}catch{}return r===t.openCanceller&&e._close(),ve(s)}).finally(function(){t.openComplete=!0,o()})}function ci(e){var t=function(a){return e.next(a)},n=function(a){return e.throw(a)},r=o(t),i=o(n);function o(a){return function(u){var s=a(u),c=s.value;return s.done?c:!c||typeof c.then!="function"?we(c)?Promise.all(c).then(r,i):r(c):c.then(r,i)}}return o(t)()}function fc(e,t,n){var r=arguments.length;if(r<2)throw new ee.InvalidArgument("Too few arguments");for(var i=new Array(r-1);--r;)i[r-1]=arguments[r];n=i.pop();var o=ia(i);return[e,o,n]}function Ta(e,t,n,r,i){return L.resolve().then(function(){var o=Z.transless||Z,a=e._createTransaction(t,n,e._dbSchema,r),u={trans:a,transless:o};if(r)a.idbtrans=r.idbtrans;else try{a.create(),e._state.PR1398_maxLoop=3}catch(y){return y.name===Ti.InvalidState&&e.isOpen()&&--e._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),e._close(),e.open().then(function(){return Ta(e,t,n,null,i)})):ve(y)}var s=Oi(i);s&&Nt();var c,f=L.follow(function(){if(c=i.call(a,a),c)if(s){var y=Je.bind(null,null);c.then(y,y)}else typeof c.next=="function"&&typeof c.throw=="function"&&(c=ci(c))},u);return(c&&typeof c.then=="function"?L.resolve(c).then(function(y){return a.active?y:ve(new ee.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):f.then(function(){return c})).then(function(y){return r&&a._resolve(),a._completion.then(function(){return y})}).catch(function(y){return a._reject(y),ve(y)})})}function vn(e,t,n){for(var r=we(e)?e.slice():[e],i=0;i<n;++i)r.push(t);return r}function hc(e){return oe(oe({},e),{table:function(t){var n=e.table(t),r=n.schema,i={},o=[];function a(d,v,m){var A=zt(d),O=i[A]=i[A]||[],j=d==null?0:typeof d=="string"?1:d.length,w=v>0,B=oe(oe({},m),{isVirtual:w,keyTail:v,keyLength:j,extractKey:ii(d),unique:!w&&m.unique});if(O.push(B),B.isPrimaryKey||o.push(B),j>1){var $=j===2?d[0]:d.slice(0,j-1);a($,v+1,m)}return O.sort(function(D,F){return D.keyTail-F.keyTail}),B}var u=a(r.primaryKey.keyPath,0,r.primaryKey);i[":id"]=[u];for(var s=0,c=r.indexes;s<c.length;s++){var f=c[s];a(f.keyPath,0,f)}function y(d){var v=i[zt(d)];return v&&v[0]}function p(d,v){return{type:d.type===1?2:d.type,lower:vn(d.lower,d.lowerOpen?e.MAX_KEY:e.MIN_KEY,v),lowerOpen:!0,upper:vn(d.upper,d.upperOpen?e.MIN_KEY:e.MAX_KEY,v),upperOpen:!0}}function _(d){var v=d.query.index;return v.isVirtual?oe(oe({},d),{query:{index:v,range:p(d.query.range,v.keyTail)}}):d}var b=oe(oe({},n),{schema:oe(oe({},r),{primaryKey:u,indexes:o,getIndexByKeyPath:y}),count:function(d){return n.count(_(d))},query:function(d){return n.query(_(d))},openCursor:function(d){var v=d.query.index,m=v.keyTail,A=v.isVirtual,O=v.keyLength;if(!A)return n.openCursor(d);function j(w){function B(D){D!=null?w.continue(vn(D,d.reverse?e.MAX_KEY:e.MIN_KEY,m)):d.unique?w.continue(w.key.slice(0,O).concat(d.reverse?e.MIN_KEY:e.MAX_KEY,m)):w.continue()}var $=Object.create(w,{continue:{value:B},continuePrimaryKey:{value:function(D,F){w.continuePrimaryKey(vn(D,e.MAX_KEY,m),F)}},primaryKey:{get:function(){return w.primaryKey}},key:{get:function(){var D=w.key;return O===1?D[0]:D.slice(0,O)}},value:{get:function(){return w.value}}});return $}return n.openCursor(_(d)).then(function(w){return w&&j(w)})}});return b}})}var pc={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:hc};function Fi(e,t,n,r){return n=n||{},r=r||"",de(e).forEach(function(i){if(!De(t,i))n[r+i]=void 0;else{var o=e[i],a=t[i];if(typeof o=="object"&&typeof a=="object"&&o&&a){var u=Vr(o),s=Vr(a);u!==s?n[r+i]=t[i]:u==="Object"?Fi(o,a,n,r+i+"."):o!==a&&(n[r+i]=t[i])}else o!==a&&(n[r+i]=t[i])}}),de(t).forEach(function(i){De(e,i)||(n[r+i]=t[i])}),n}function dc(e,t){return t.type==="delete"?t.keys:t.keys||t.values.map(e.extractKey)}var yc={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(e){return oe(oe({},e),{table:function(t){var n=e.table(t),r=n.schema.primaryKey,i=oe(oe({},n),{mutate:function(o){var a=Z.trans,u=a.table(t).hook,s=u.deleting,c=u.creating,f=u.updating;switch(o.type){case"add":if(c.fire===se)break;return a._promise("readwrite",function(){return y(o)},!0);case"put":if(c.fire===se&&f.fire===se)break;return a._promise("readwrite",function(){return y(o)},!0);case"delete":if(s.fire===se)break;return a._promise("readwrite",function(){return y(o)},!0);case"deleteRange":if(s.fire===se)break;return a._promise("readwrite",function(){return p(o)},!0)}return n.mutate(o);function y(b){var d=Z.trans,v=b.keys||dc(r,b);if(!v)throw new Error("Keys missing");return b=b.type==="add"||b.type==="put"?oe(oe({},b),{keys:v}):oe({},b),b.type!=="delete"&&(b.values=Lr([],b.values,!0)),b.keys&&(b.keys=Lr([],b.keys,!0)),vc(n,b,v).then(function(m){var A=v.map(function(O,j){var w=m[j],B={onerror:null,onsuccess:null};if(b.type==="delete")s.fire.call(B,O,w,d);else if(b.type==="add"||w===void 0){var $=c.fire.call(B,O,b.values[j],d);O==null&&$!=null&&(O=$,b.keys[j]=O,r.outbound||$e(b.values[j],r.keyPath,O))}else{var D=Fi(w,b.values[j]),F=f.fire.call(B,D,O,w,d);if(F){var G=b.values[j];Object.keys(F).forEach(function(z){De(G,z)?G[z]=F[z]:$e(G,z,F[z])})}}return B});return n.mutate(b).then(function(O){for(var j=O.failures,w=O.results,B=O.numFailures,$=O.lastResult,D=0;D<v.length;++D){var F=w?w[D]:v[D],G=A[D];F==null?G.onerror&&G.onerror(j[D]):G.onsuccess&&G.onsuccess(b.type==="put"&&m[D]?b.values[D]:F)}return{failures:j,results:w,numFailures:B,lastResult:$}}).catch(function(O){return A.forEach(function(j){return j.onerror&&j.onerror(O)}),Promise.reject(O)})})}function p(b){return _(b.trans,b.range,1e4)}function _(b,d,v){return n.query({trans:b,values:!1,query:{index:r,range:d},limit:v}).then(function(m){var A=m.result;return y({type:"delete",keys:A,trans:b}).then(function(O){return O.numFailures>0?Promise.reject(O.failures[0]):A.length<v?{failures:[],numFailures:0,lastResult:void 0}:_(b,oe(oe({},d),{lower:A[A.length-1],lowerOpen:!0}),v)})})}}});return i}})}};function vc(e,t,n){return t.type==="add"?Promise.resolve([]):e.getMany({trans:t.trans,keys:n,cache:"immutable"})}function ja(e,t,n){try{if(!t||t.keys.length<e.length)return null;for(var r=[],i=0,o=0;i<t.keys.length&&o<e.length;++i)Ae(t.keys[i],e[o])===0&&(r.push(n?on(t.values[i]):t.values[i]),++o);return r.length===e.length?r:null}catch{return null}}var gc={stack:"dbcore",level:-1,create:function(e){return{table:function(t){var n=e.table(t);return oe(oe({},n),{getMany:function(r){if(!r.cache)return n.getMany(r);var i=ja(r.keys,r.trans._cache,r.cache==="clone");return i?L.resolve(i):n.getMany(r).then(function(o){return r.trans._cache={keys:r.keys,values:r.cache==="clone"?on(o):o},o})},mutate:function(r){return r.type!=="add"&&(r.trans._cache=null),n.mutate(r)}})}}}},cr;function Mi(e){return!("from"in e)}var Ue=function(e,t){if(this)Ee(this,arguments.length?{d:1,from:e,to:arguments.length>1?t:e}:{d:0});else{var n=new Ue;return e&&"d"in e&&Ee(n,e),n}};xt(Ue.prototype,(cr={add:function(e){return qn(this,e),this},addKey:function(e){return Zt(this,e,e),this},addKeys:function(e){var t=this;return e.forEach(function(n){return Zt(t,n,n)}),this}},cr[Gr]=function(){return li(this)},cr));function Zt(e,t,n){var r=Ae(t,n);if(!isNaN(r)){if(r>0)throw RangeError();if(Mi(e))return Ee(e,{from:t,to:n,d:1});var i=e.l,o=e.r;if(Ae(n,e.from)<0)return i?Zt(i,t,n):e.l={from:t,to:n,d:1,l:null,r:null},fo(e);if(Ae(t,e.to)>0)return o?Zt(o,t,n):e.r={from:t,to:n,d:1,l:null,r:null},fo(e);Ae(t,e.from)<0&&(e.from=t,e.l=null,e.d=o?o.d+1:1),Ae(n,e.to)>0&&(e.to=n,e.r=null,e.d=e.l?e.l.d+1:1);var a=!e.r;i&&!e.l&&qn(e,i),o&&a&&qn(e,o)}}function qn(e,t){function n(r,i){var o=i.from,a=i.to,u=i.l,s=i.r;Zt(r,o,a),u&&n(r,u),s&&n(r,s)}Mi(t)||n(e,t)}function mc(e,t){var n=li(t),r=n.next();if(r.done)return!1;for(var i=r.value,o=li(e),a=o.next(i.from),u=a.value;!r.done&&!a.done;){if(Ae(u.from,i.to)<=0&&Ae(u.to,i.from)>=0)return!0;Ae(i.from,u.from)<0?i=(r=n.next(u.from)).value:u=(a=o.next(i.from)).value}return!1}function li(e){var t=Mi(e)?null:{s:0,n:e};return{next:function(n){for(var r=arguments.length>0;t;)switch(t.s){case 0:if(t.s=1,r)for(;t.n.l&&Ae(n,t.n.from)<0;)t={up:t,n:t.n.l,s:1};else for(;t.n.l;)t={up:t,n:t.n.l,s:1};case 1:if(t.s=2,!r||Ae(n,t.n.to)<=0)return{value:t.n,done:!1};case 2:if(t.n.r){t.s=3,t={up:t,n:t.n.r,s:0};continue}case 3:t=t.up}return{done:!0}}}}function fo(e){var t,n,r=(((t=e.r)===null||t===void 0?void 0:t.d)||0)-(((n=e.l)===null||n===void 0?void 0:n.d)||0),i=r>1?"r":r<-1?"l":"";if(i){var o=i==="r"?"l":"r",a=oe({},e),u=e[i];e.from=u.from,e.to=u.to,e[i]=u[i],a[i]=u[o],e[o]=a,a.d=ho(a)}e.d=ho(e)}function ho(e){var t=e.r,n=e.l;return(t?n?Math.max(t.d,n.d):t.d:n?n.d:0)+1}var bc={stack:"dbcore",level:0,create:function(e){var t=e.schema.name,n=new Ue(e.MIN_KEY,e.MAX_KEY);return oe(oe({},e),{table:function(r){var i=e.table(r),o=i.schema,a=o.primaryKey,u=a.extractKey,s=a.outbound,c=oe(oe({},i),{mutate:function(p){var _=p.trans,b=_.mutatedParts||(_.mutatedParts={}),d=function($){var D="idb://"+t+"/"+r+"/"+$;return b[D]||(b[D]=new Ue)},v=d(""),m=d(":dels"),A=p.type,O=p.type==="deleteRange"?[p.range]:p.type==="delete"?[p.keys]:p.values.length<50?[[],p.values]:[],j=O[0],w=O[1],B=p.trans._cache;return i.mutate(p).then(function($){if(we(j)){A!=="delete"&&(j=$.results),v.addKeys(j);var D=ja(j,B);!D&&A!=="add"&&m.addKeys(j),(D||w)&&wc(d,o,D,w)}else if(j){var F={from:j.lower,to:j.upper};m.add(F),v.add(F)}else v.add(n),m.add(n),o.indexes.forEach(function(G){return d(G.name).add(n)});return $})}}),f=function(p){var _,b,d=p.query,v=d.index,m=d.range;return[v,new Ue((_=m.lower)!==null&&_!==void 0?_:e.MIN_KEY,(b=m.upper)!==null&&b!==void 0?b:e.MAX_KEY)]},y={get:function(p){return[a,new Ue(p.key)]},getMany:function(p){return[a,new Ue().addKeys(p.keys)]},count:f,query:f,openCursor:f};return de(y).forEach(function(p){c[p]=function(_){var b=Z.subscr;if(b){var d=function(B){var $="idb://"+t+"/"+r+"/"+B;return b[$]||(b[$]=new Ue)},v=d(""),m=d(":dels"),A=y[p](_),O=A[0],j=A[1];if(d(O.name||"").add(j),!O.isPrimaryKey)if(p==="count")m.add(n);else{var w=p==="query"&&s&&_.values&&i.query(oe(oe({},_),{values:!1}));return i[p].apply(this,arguments).then(function(B){if(p==="query"){if(s&&_.values)return w.then(function(G){var z=G.result;return v.addKeys(z),B});var $=_.values?B.result.map(u):B.result;_.values?v.addKeys($):m.addKeys($)}else if(p==="openCursor"){var D=B,F=_.values;return D&&Object.create(D,{key:{get:function(){return m.addKey(D.primaryKey),D.key}},primaryKey:{get:function(){var G=D.primaryKey;return m.addKey(G),G}},value:{get:function(){return F&&v.addKey(D.primaryKey),D.value}}})}return B})}}return i[p].apply(this,arguments)}}),c}})}};function wc(e,t,n,r){function i(o){var a=e(o.name||"");function u(c){return c!=null?o.extractKey(c):null}var s=function(c){return o.multiEntry&&we(c)?c.forEach(function(f){return a.addKey(f)}):a.addKey(c)};(n||r).forEach(function(c,f){var y=n&&u(n[f]),p=r&&u(r[f]);Ae(y,p)!==0&&(y!=null&&s(y),p!=null&&s(p))})}t.indexes.forEach(i)}var Ki=function(){function e(t,n){var r=this;this._middlewares={},this.verno=0;var i=e.dependencies;this._options=n=oe({addons:e.addons,autoOpen:!0,indexedDB:i.indexedDB,IDBKeyRange:i.IDBKeyRange},n),this._deps={indexedDB:n.indexedDB,IDBKeyRange:n.IDBKeyRange};var o=n.addons;this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var a={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:se,dbReadyPromise:null,cancelOpen:se,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3};a.dbReadyPromise=new L(function(u){a.dbReadyResolve=u}),a.openCanceller=new L(function(u,s){a.cancelOpen=s}),this._state=a,this.name=t,this.on=cn(this,"populate","blocked","versionchange","close",{ready:[ji,se]}),this.on.ready.subscribe=ea(this.on.ready.subscribe,function(u){return function(s,c){e.vip(function(){var f=r._state;if(f.openComplete)f.dbOpenError||L.resolve().then(s),c&&u(s);else if(f.onReadyBeingFired)f.onReadyBeingFired.push(s),c&&u(s);else{u(s);var y=r;c||u(function p(){y.on.ready.unsubscribe(s),y.on.ready.unsubscribe(p)})}})}}),this.Collection=ks(this),this.Table=Rs(this),this.Transaction=Us(this),this.Version=oc(this),this.WhereClause=qs(this),this.on("versionchange",function(u){u.newVersion>0?console.warn("Another connection wants to upgrade database '"+r.name+"'. Closing db now to resume the upgrade."):console.warn("Another connection wants to delete database '"+r.name+"'. Closing db now to resume the delete request."),r.close()}),this.on("blocked",function(u){!u.newVersion||u.newVersion<u.oldVersion?console.warn("Dexie.delete('"+r.name+"') was blocked"):console.warn("Upgrade '"+r.name+"' blocked by other connection holding version "+u.oldVersion/10)}),this._maxKey=Qt(n.IDBKeyRange),this._createTransaction=function(u,s,c,f){return new r.Transaction(u,s,c,r._options.chromeTransactionDurability,f)},this._fireOnBlocked=function(u){r.on("blocked").fire(u),Gt.filter(function(s){return s.name===r.name&&s!==r&&!s._state.vcFired}).map(function(s){return s.on("versionchange").fire(u)})},this.use(pc),this.use(yc),this.use(bc),this.use(gc),this.vip=Object.create(this,{_vip:{value:!0}}),o.forEach(function(u){return u(r)})}return e.prototype.version=function(t){if(isNaN(t)||t<.1)throw new ee.Type("Given version is not a positive number");if(t=Math.round(t*10)/10,this.idbdb||this._state.isBeingOpened)throw new ee.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,t);var n=this._versions,r=n.filter(function(i){return i._cfg.version===t})[0];return r||(r=new this.Version(t),n.push(r),n.sort(Js),r.stores({}),this._state.autoSchema=!1,r)},e.prototype._whenReady=function(t){var n=this;return this.idbdb&&(this._state.openComplete||Z.letThrough||this._vip)?t():new L(function(r,i){if(n._state.openComplete)return i(new ee.DatabaseClosed(n._state.dbOpenError));if(!n._state.isBeingOpened){if(!n._options.autoOpen){i(new ee.DatabaseClosed);return}n.open().catch(se)}n._state.dbReadyPromise.then(r,i)}).then(t)},e.prototype.use=function(t){var n=t.stack,r=t.create,i=t.level,o=t.name;o&&this.unuse({stack:n,name:o});var a=this._middlewares[n]||(this._middlewares[n]=[]);return a.push({stack:n,create:r,level:i??10,name:o}),a.sort(function(u,s){return u.level-s.level}),this},e.prototype.unuse=function(t){var n=t.stack,r=t.name,i=t.create;return n&&this._middlewares[n]&&(this._middlewares[n]=this._middlewares[n].filter(function(o){return i?o.create!==i:r?o.name!==r:!1})),this},e.prototype.open=function(){return lc(this)},e.prototype._close=function(){var t=this._state,n=Gt.indexOf(this);if(n>=0&&Gt.splice(n,1),this.idbdb){try{this.idbdb.close()}catch{}this._novip.idbdb=null}t.dbReadyPromise=new L(function(r){t.dbReadyResolve=r}),t.openCanceller=new L(function(r,i){t.cancelOpen=i})},e.prototype.close=function(){this._close();var t=this._state;this._options.autoOpen=!1,t.dbOpenError=new ee.DatabaseClosed,t.isBeingOpened&&t.cancelOpen(t.dbOpenError)},e.prototype.delete=function(){var t=this,n=arguments.length>0,r=this._state;return new L(function(i,o){var a=function(){t.close();var u=t._deps.indexedDB.deleteDatabase(t.name);u.onsuccess=le(function(){sc(t._deps,t.name),i()}),u.onerror=Fe(o),u.onblocked=t._fireOnBlocked};if(n)throw new ee.InvalidArgument("Arguments not allowed in db.delete()");r.isBeingOpened?r.dbReadyPromise.then(a):a()})},e.prototype.backendDB=function(){return this.idbdb},e.prototype.isOpen=function(){return this.idbdb!==null},e.prototype.hasBeenClosed=function(){var t=this._state.dbOpenError;return t&&t.name==="DatabaseClosed"},e.prototype.hasFailed=function(){return this._state.dbOpenError!==null},e.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(e.prototype,"tables",{get:function(){var t=this;return de(this._allTables).map(function(n){return t._allTables[n]})},enumerable:!1,configurable:!0}),e.prototype.transaction=function(){var t=fc.apply(this,arguments);return this._transaction.apply(this,t)},e.prototype._transaction=function(t,n,r){var i=this,o=Z.trans;(!o||o.db!==this||t.indexOf("!")!==-1)&&(o=null);var a=t.indexOf("?")!==-1;t=t.replace("!","").replace("?","");var u,s;try{if(s=n.map(function(f){var y=f instanceof i.Table?f.name:f;if(typeof y!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return y}),t=="r"||t===ir)u=ir;else if(t=="rw"||t==or)u=or;else throw new ee.InvalidArgument("Invalid transaction mode: "+t);if(o){if(o.mode===ir&&u===or)if(a)o=null;else throw new ee.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");o&&s.forEach(function(f){if(o&&o.storeNames.indexOf(f)===-1)if(a)o=null;else throw new ee.SubTransaction("Table "+f+" not included in parent transaction.")}),a&&o&&!o.active&&(o=null)}}catch(f){return o?o._promise(null,function(y,p){p(f)}):ve(f)}var c=Ta.bind(null,this,u,s,o,r);return o?o._promise(u,c,"lock"):Z.trans?Ft(Z.transless,function(){return i._whenReady(c)}):this._whenReady(c)},e.prototype.table=function(t){if(!De(this._allTables,t))throw new ee.InvalidTable("Table "+t+" does not exist");return this._allTables[t]},e}(),_c=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",Sc=function(){function e(t){this._subscribe=t}return e.prototype.subscribe=function(t,n,r){return this._subscribe(!t||typeof t=="function"?{next:t,error:n,complete:r}:t)},e.prototype[_c]=function(){return this},e}();function Ia(e,t){return de(t).forEach(function(n){var r=e[n]||(e[n]=new Ue);qn(r,t[n])}),e}function Ra(e){return new Sc(function(t){var n=Oi(e);function r(_){n&&Nt();var b=function(){return tt(e,{subscr:_,trans:null})},d=Z.trans?Ft(Z.transless,b):b();return n&&d.then(Je,Je),d}var i=!1,o={},a={},u={get closed(){return i},unsubscribe:function(){i=!0,rt.storagemutated.unsubscribe(y)}};t.start&&t.start(u);var s=!1,c=!1;function f(){return de(a).some(function(_){return o[_]&&mc(o[_],a[_])})}var y=function(_){Ia(o,_),f()&&p()},p=function(){if(!(s||i)){o={};var _={},b=r(_);c||(rt(Xt,y),c=!0),s=!0,Promise.resolve(b).then(function(d){s=!1,!i&&(f()?p():(o={},a=_,t.next&&t.next(d)))},function(d){s=!1,t.error&&t.error(d),u.unsubscribe()})}};return p(),u})}var fi;try{fi={indexedDB:ce.indexedDB||ce.mozIndexedDB||ce.webkitIndexedDB||ce.msIndexedDB,IDBKeyRange:ce.IDBKeyRange||ce.webkitIDBKeyRange}}catch{fi={indexedDB:null,IDBKeyRange:null}}var lt=Ki;xt(lt,oe(oe({},Hn),{delete:function(e){var t=new lt(e,{addons:[]});return t.delete()},exists:function(e){return new lt(e,{addons:[]}).open().then(function(t){return t.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(e){try{return ac(lt.dependencies).then(e)}catch{return ve(new ee.MissingAPI)}},defineClass:function(){function e(t){Ee(this,t)}return e},ignoreTransaction:function(e){return Z.trans?Ft(Z.transless,e):e()},vip:si,async:function(e){return function(){try{var t=ci(e.apply(this,arguments));return!t||typeof t.then!="function"?L.resolve(t):t}catch(n){return ve(n)}}},spawn:function(e,t,n){try{var r=ci(e.apply(n,t||[]));return!r||typeof r.then!="function"?L.resolve(r):r}catch(i){return ve(i)}},currentTransaction:{get:function(){return Z.trans||null}},waitFor:function(e,t){var n=L.resolve(typeof e=="function"?lt.ignoreTransaction(e):e).timeout(t||6e4);return Z.trans?Z.trans.waitFor(n):n},Promise:L,debug:{get:function(){return Me},set:function(e){aa(e,e==="dexie"?function(){return!0}:wa)}},derive:kt,extend:Ee,props:xt,override:ea,Events:cn,on:rt,liveQuery:Ra,extendObservabilitySet:Ia,getByKeyPath:He,setByKeyPath:$e,delByKeyPath:ts,shallowClone:ra,deepClone:on,getObjectDiff:Fi,cmp:Ae,asap:ta,minKey:ni,addons:[],connections:Gt,errnames:Ti,dependencies:fi,semVer:oo,version:oo.split(".").map(function(e){return parseInt(e)}).reduce(function(e,t,n){return e+t/Math.pow(10,n*2)})}));lt.maxKey=Qt(lt.dependencies.IDBKeyRange);typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(rt(Xt,function(e){if(!ze){var t;Yn?(t=document.createEvent("CustomEvent"),t.initCustomEvent(Ze,!0,!0,e)):t=new CustomEvent(Ze,{detail:e}),ze=!0,dispatchEvent(t),ze=!1}}),addEventListener(Ze,function(e){var t=e.detail;ze||Ln(t)}));function Ln(e){var t=ze;try{ze=!0,rt.storagemutated.fire(e)}finally{ze=t}}var ze=!1;if(typeof BroadcastChannel<"u"){var po=new BroadcastChannel(Ze);rt(Xt,function(e){ze||po.postMessage(e)}),po.onmessage=function(e){e.data&&Ln(e.data)}}else if(typeof self<"u"&&typeof navigator<"u"){rt(Xt,function(e){try{ze||(typeof localStorage<"u"&&localStorage.setItem(Ze,JSON.stringify({trig:Math.random(),changedParts:e})),typeof self.clients=="object"&&Lr([],self.clients.matchAll({includeUncontrolled:!0}),!0).forEach(function(t){return t.postMessage({type:Ze,changedParts:e})}))}catch{}}),typeof addEventListener<"u"&&addEventListener("storage",function(e){if(e.key===Ze){var t=JSON.parse(e.newValue);t&&Ln(t.changedParts)}});var yo=self.document&&navigator.serviceWorker;yo&&yo.addEventListener("message",Ac)}function Ac(e){var t=e.data;t&&t.type===Ze&&Ln(t.changedParts)}L.rejectionMapper=ls;aa(Me,wa);class Ec extends Ki{constructor(){super("SoundBoardDB");ue(this,"sample");this.version(1).stores({sample:"filename"})}}const Wi=class{constructor(){ue(this,"_database");this._database=new Ec}static get instance(){if(!this._instance)throw new Error("AppStore not Initialized");return this._instance}static init(){this._instance=new Wi}async getSampleBlob(t){return await this._database.sample.get({filename:t}).then(n=>n==null?void 0:n.data)??void 0}async getAllSampleFileNames(){return await this._database.sample.toCollection().keys()}async addSampleFromFile(t){return await this._database.sample.put({filename:t.name,data:t})}async addSample(t){return await this._database.sample.put(t)}async deleteSampleByName(t){return await this._database.sample.where({filename:t}).delete()}};let ke=Wi;ue(ke,"_instance");var qi=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Oc(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Un={},Pc={get exports(){return Un},set exports(e){Un=e}},lr={},Dt={},xa={},Da=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var t={},n=Symbol("test"),r=Object(n);if(typeof n=="string"||Object.prototype.toString.call(n)!=="[object Symbol]"||Object.prototype.toString.call(r)!=="[object Symbol]")return!1;var i=42;t[n]=i;for(n in t)return!1;if(typeof Object.keys=="function"&&Object.keys(t).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(t).length!==0)return!1;var o=Object.getOwnPropertySymbols(t);if(o.length!==1||o[0]!==n||!Object.prototype.propertyIsEnumerable.call(t,n))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var a=Object.getOwnPropertyDescriptor(t,n);if(a.value!==i||a.enumerable!==!0)return!1}return!0},Tc=Da,Xn=function(){return Tc()&&!!Symbol.toStringTag},fr,vo;function jc(){if(vo)return fr;vo=1;var e=typeof Symbol<"u"&&Symbol,t=Da;return fr=function(){return typeof e!="function"||typeof Symbol!="function"||typeof e("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:t()},fr}var hr,go;function Ic(){if(go)return hr;go=1;var e="Function.prototype.bind called on incompatible ",t=Array.prototype.slice,n=Object.prototype.toString,r="[object Function]";return hr=function(o){var a=this;if(typeof a!="function"||n.call(a)!==r)throw new TypeError(e+a);for(var u=t.call(arguments,1),s,c=function(){if(this instanceof s){var b=a.apply(this,u.concat(t.call(arguments)));return Object(b)===b?b:this}else return a.apply(o,u.concat(t.call(arguments)))},f=Math.max(0,a.length-u.length),y=[],p=0;p<f;p++)y.push("$"+p);if(s=Function("binder","return function ("+y.join(",")+"){ return binder.apply(this,arguments); }")(c),a.prototype){var _=function(){};_.prototype=a.prototype,s.prototype=new _,_.prototype=null}return s},hr}var pr,mo;function Li(){if(mo)return pr;mo=1;var e=Ic();return pr=Function.prototype.bind||e,pr}var dr,bo;function Rc(){if(bo)return dr;bo=1;var e=Li();return dr=e.call(Function.call,Object.prototype.hasOwnProperty),dr}var yr,wo;function Qn(){if(wo)return yr;wo=1;var e,t=SyntaxError,n=Function,r=TypeError,i=function(z){try{return n('"use strict"; return ('+z+").constructor;")()}catch{}},o=Object.getOwnPropertyDescriptor;if(o)try{o({},"")}catch{o=null}var a=function(){throw new r},u=o?function(){try{return arguments.callee,a}catch{try{return o(arguments,"callee").get}catch{return a}}}():a,s=jc()(),c=Object.getPrototypeOf||function(z){return z.__proto__},f={},y=typeof Uint8Array>"u"?e:c(Uint8Array),p={"%AggregateError%":typeof AggregateError>"u"?e:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?e:ArrayBuffer,"%ArrayIteratorPrototype%":s?c([][Symbol.iterator]()):e,"%AsyncFromSyncIteratorPrototype%":e,"%AsyncFunction%":f,"%AsyncGenerator%":f,"%AsyncGeneratorFunction%":f,"%AsyncIteratorPrototype%":f,"%Atomics%":typeof Atomics>"u"?e:Atomics,"%BigInt%":typeof BigInt>"u"?e:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?e:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?e:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?e:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?e:Float32Array,"%Float64Array%":typeof Float64Array>"u"?e:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?e:FinalizationRegistry,"%Function%":n,"%GeneratorFunction%":f,"%Int8Array%":typeof Int8Array>"u"?e:Int8Array,"%Int16Array%":typeof Int16Array>"u"?e:Int16Array,"%Int32Array%":typeof Int32Array>"u"?e:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":s?c(c([][Symbol.iterator]())):e,"%JSON%":typeof JSON=="object"?JSON:e,"%Map%":typeof Map>"u"?e:Map,"%MapIteratorPrototype%":typeof Map>"u"||!s?e:c(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?e:Promise,"%Proxy%":typeof Proxy>"u"?e:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?e:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?e:Set,"%SetIteratorPrototype%":typeof Set>"u"||!s?e:c(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?e:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":s?c(""[Symbol.iterator]()):e,"%Symbol%":s?Symbol:e,"%SyntaxError%":t,"%ThrowTypeError%":u,"%TypedArray%":y,"%TypeError%":r,"%Uint8Array%":typeof Uint8Array>"u"?e:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?e:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?e:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?e:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?e:WeakMap,"%WeakRef%":typeof WeakRef>"u"?e:WeakRef,"%WeakSet%":typeof WeakSet>"u"?e:WeakSet};try{null.error}catch(z){var _=c(c(z));p["%Error.prototype%"]=_}var b=function z(M){var W;if(M==="%AsyncFunction%")W=i("async function () {}");else if(M==="%GeneratorFunction%")W=i("function* () {}");else if(M==="%AsyncGeneratorFunction%")W=i("async function* () {}");else if(M==="%AsyncGenerator%"){var X=z("%AsyncGeneratorFunction%");X&&(W=X.prototype)}else if(M==="%AsyncIteratorPrototype%"){var E=z("%AsyncGenerator%");E&&(W=c(E.prototype))}return p[M]=W,W},d={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},v=Li(),m=Rc(),A=v.call(Function.call,Array.prototype.concat),O=v.call(Function.apply,Array.prototype.splice),j=v.call(Function.call,String.prototype.replace),w=v.call(Function.call,String.prototype.slice),B=v.call(Function.call,RegExp.prototype.exec),$=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,D=/\\(\\)?/g,F=function(M){var W=w(M,0,1),X=w(M,-1);if(W==="%"&&X!=="%")throw new t("invalid intrinsic syntax, expected closing `%`");if(X==="%"&&W!=="%")throw new t("invalid intrinsic syntax, expected opening `%`");var E=[];return j(M,$,function(C,N,k,q){E[E.length]=k?j(q,D,"$1"):N||C}),E},G=function(M,W){var X=M,E;if(m(d,X)&&(E=d[X],X="%"+E[0]+"%"),m(p,X)){var C=p[X];if(C===f&&(C=b(X)),typeof C>"u"&&!W)throw new r("intrinsic "+M+" exists, but is not available. Please file an issue!");return{alias:E,name:X,value:C}}throw new t("intrinsic "+M+" does not exist!")};return yr=function(M,W){if(typeof M!="string"||M.length===0)throw new r("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof W!="boolean")throw new r('"allowMissing" argument must be a boolean');if(B(/^%?[^%]*%?$/,M)===null)throw new t("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var X=F(M),E=X.length>0?X[0]:"",C=G("%"+E+"%",W),N=C.name,k=C.value,q=!1,Q=C.alias;Q&&(E=Q[0],O(X,A([0,1],Q)));for(var P=1,l=!0;P<X.length;P+=1){var h=X[P],g=w(h,0,1),R=w(h,-1);if((g==='"'||g==="'"||g==="`"||R==='"'||R==="'"||R==="`")&&g!==R)throw new t("property names with quotes must have matching quotes");if((h==="constructor"||!l)&&(q=!0),E+="."+h,N="%"+E+"%",m(p,N))k=p[N];else if(k!=null){if(!(h in k)){if(!W)throw new r("base intrinsic for "+M+" exists, but the property is not available.");return}if(o&&P+1>=X.length){var I=o(k,h);l=!!I,l&&"get"in I&&!("originalValue"in I.get)?k=I.get:k=k[h]}else l=m(k,h),k=k[h];l&&!q&&(p[N]=k)}}return k},yr}var Vn={},xc={get exports(){return Vn},set exports(e){Vn=e}},_o;function Ui(){return _o||(_o=1,function(e){var t=Li(),n=Qn(),r=n("%Function.prototype.apply%"),i=n("%Function.prototype.call%"),o=n("%Reflect.apply%",!0)||t.call(i,r),a=n("%Object.getOwnPropertyDescriptor%",!0),u=n("%Object.defineProperty%",!0),s=n("%Math.max%");if(u)try{u({},"a",{value:1})}catch{u=null}e.exports=function(y){var p=o(t,i,arguments);if(a&&u){var _=a(p,"length");_.configurable&&u(p,"length",{value:1+s(0,y.length-(arguments.length-1))})}return p};var c=function(){return o(t,r,arguments)};u?u(e.exports,"apply",{value:c}):e.exports.apply=c}(xc)),Vn}var Ca=Qn(),Ba=Ui(),Dc=Ba(Ca("String.prototype.indexOf")),Vi=function(t,n){var r=Ca(t,!!n);return typeof r=="function"&&Dc(t,".prototype.")>-1?Ba(r):r},Cc=Xn(),Bc=Vi,hi=Bc("Object.prototype.toString"),Zn=function(t){return Cc&&t&&typeof t=="object"&&Symbol.toStringTag in t?!1:hi(t)==="[object Arguments]"},ka=function(t){return Zn(t)?!0:t!==null&&typeof t=="object"&&typeof t.length=="number"&&t.length>=0&&hi(t)!=="[object Array]"&&hi(t.callee)==="[object Function]"},kc=function(){return Zn(arguments)}();Zn.isLegacyArguments=ka;var $c=kc?Zn:ka,Nc=Object.prototype.toString,Fc=Function.prototype.toString,Mc=/^\s*(?:function)?\*/,$a=Xn(),vr=Object.getPrototypeOf,Kc=function(){if(!$a)return!1;try{return Function("return function*() {}")()}catch{}},gr,qc=function(t){if(typeof t!="function")return!1;if(Mc.test(Fc.call(t)))return!0;if(!$a){var n=Nc.call(t);return n==="[object GeneratorFunction]"}if(!vr)return!1;if(typeof gr>"u"){var r=Kc();gr=r?vr(r):!1}return vr(t)===gr},Na=Function.prototype.toString,Pt=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,pi,En;if(typeof Pt=="function"&&typeof Object.defineProperty=="function")try{pi=Object.defineProperty({},"length",{get:function(){throw En}}),En={},Pt(function(){throw 42},null,pi)}catch(e){e!==En&&(Pt=null)}else Pt=null;var Lc=/^\s*class\b/,di=function(t){try{var n=Na.call(t);return Lc.test(n)}catch{return!1}},mr=function(t){try{return di(t)?!1:(Na.call(t),!0)}catch{return!1}},On=Object.prototype.toString,Uc="[object Object]",Vc="[object Function]",Gc="[object GeneratorFunction]",zc="[object HTMLAllCollection]",Wc="[object HTML document.all class]",Hc="[object HTMLCollection]",Yc=typeof Symbol=="function"&&!!Symbol.toStringTag,Jc=!(0 in[,]),yi=function(){return!1};if(typeof document=="object"){var Xc=document.all;On.call(Xc)===On.call(document.all)&&(yi=function(t){if((Jc||!t)&&(typeof t>"u"||typeof t=="object"))try{var n=On.call(t);return(n===zc||n===Wc||n===Hc||n===Uc)&&t("")==null}catch{}return!1})}var Qc=Pt?function(t){if(yi(t))return!0;if(!t||typeof t!="function"&&typeof t!="object")return!1;try{Pt(t,null,pi)}catch(n){if(n!==En)return!1}return!di(t)&&mr(t)}:function(t){if(yi(t))return!0;if(!t||typeof t!="function"&&typeof t!="object")return!1;if(Yc)return mr(t);if(di(t))return!1;var n=On.call(t);return n!==Vc&&n!==Gc&&!/^\[object HTML/.test(n)?!1:mr(t)},Zc=Qc,el=Object.prototype.toString,Fa=Object.prototype.hasOwnProperty,tl=function(t,n,r){for(var i=0,o=t.length;i<o;i++)Fa.call(t,i)&&(r==null?n(t[i],i,t):n.call(r,t[i],i,t))},nl=function(t,n,r){for(var i=0,o=t.length;i<o;i++)r==null?n(t.charAt(i),i,t):n.call(r,t.charAt(i),i,t)},rl=function(t,n,r){for(var i in t)Fa.call(t,i)&&(r==null?n(t[i],i,t):n.call(r,t[i],i,t))},il=function(t,n,r){if(!Zc(n))throw new TypeError("iterator must be a function");var i;arguments.length>=3&&(i=r),el.call(t)==="[object Array]"?tl(t,n,i):typeof t=="string"?nl(t,n,i):rl(t,n,i)},Ma=il,br=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],ol=typeof globalThis>"u"?qi:globalThis,Ka=function(){for(var t=[],n=0;n<br.length;n++)typeof ol[br[n]]=="function"&&(t[t.length]=br[n]);return t},al=Qn(),Pn=al("%Object.getOwnPropertyDescriptor%",!0);if(Pn)try{Pn([],"length")}catch{Pn=null}var qa=Pn,La=Ma,ul=Ka,Gi=Vi,sl=Gi("Object.prototype.toString"),Ua=Xn(),Tn=qa,cl=typeof globalThis>"u"?qi:globalThis,Va=ul(),ll=Gi("Array.prototype.indexOf",!0)||function(t,n){for(var r=0;r<t.length;r+=1)if(t[r]===n)return r;return-1},fl=Gi("String.prototype.slice"),Ga={},wr=Object.getPrototypeOf;Ua&&Tn&&wr&&La(Va,function(e){var t=new cl[e];if(Symbol.toStringTag in t){var n=wr(t),r=Tn(n,Symbol.toStringTag);if(!r){var i=wr(n);r=Tn(i,Symbol.toStringTag)}Ga[e]=r.get}});var hl=function(t){var n=!1;return La(Ga,function(r,i){if(!n)try{n=r.call(t)===i}catch{}}),n},za=function(t){if(!t||typeof t!="object")return!1;if(!Ua||!(Symbol.toStringTag in t)){var n=fl(sl(t),8,-1);return ll(Va,n)>-1}return Tn?hl(t):!1},Wa=Ma,pl=Ka,Ha=Vi,_r=qa,dl=Ha("Object.prototype.toString"),Ya=Xn(),So=typeof globalThis>"u"?qi:globalThis,yl=pl(),vl=Ha("String.prototype.slice"),Ja={},Sr=Object.getPrototypeOf;Ya&&_r&&Sr&&Wa(yl,function(e){if(typeof So[e]=="function"){var t=new So[e];if(Symbol.toStringTag in t){var n=Sr(t),r=_r(n,Symbol.toStringTag);if(!r){var i=Sr(n);r=_r(i,Symbol.toStringTag)}Ja[e]=r.get}}});var gl=function(t){var n=!1;return Wa(Ja,function(r,i){if(!n)try{var o=r.call(t);o===i&&(n=o)}catch{}}),n},ml=za,bl=function(t){return ml(t)?!Ya||!(Symbol.toStringTag in t)?vl(dl(t),8,-1):gl(t):!1};(function(e){var t=$c,n=qc,r=bl,i=za;function o(x){return x.call.bind(x)}var a=typeof BigInt<"u",u=typeof Symbol<"u",s=o(Object.prototype.toString),c=o(Number.prototype.valueOf),f=o(String.prototype.valueOf),y=o(Boolean.prototype.valueOf);if(a)var p=o(BigInt.prototype.valueOf);if(u)var _=o(Symbol.prototype.valueOf);function b(x,st){if(typeof x!="object")return!1;try{return st(x),!0}catch{return!1}}e.isArgumentsObject=t,e.isGeneratorFunction=n,e.isTypedArray=i;function d(x){return typeof Promise<"u"&&x instanceof Promise||x!==null&&typeof x=="object"&&typeof x.then=="function"&&typeof x.catch=="function"}e.isPromise=d;function v(x){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(x):i(x)||h(x)}e.isArrayBufferView=v;function m(x){return r(x)==="Uint8Array"}e.isUint8Array=m;function A(x){return r(x)==="Uint8ClampedArray"}e.isUint8ClampedArray=A;function O(x){return r(x)==="Uint16Array"}e.isUint16Array=O;function j(x){return r(x)==="Uint32Array"}e.isUint32Array=j;function w(x){return r(x)==="Int8Array"}e.isInt8Array=w;function B(x){return r(x)==="Int16Array"}e.isInt16Array=B;function $(x){return r(x)==="Int32Array"}e.isInt32Array=$;function D(x){return r(x)==="Float32Array"}e.isFloat32Array=D;function F(x){return r(x)==="Float64Array"}e.isFloat64Array=F;function G(x){return r(x)==="BigInt64Array"}e.isBigInt64Array=G;function z(x){return r(x)==="BigUint64Array"}e.isBigUint64Array=z;function M(x){return s(x)==="[object Map]"}M.working=typeof Map<"u"&&M(new Map);function W(x){return typeof Map>"u"?!1:M.working?M(x):x instanceof Map}e.isMap=W;function X(x){return s(x)==="[object Set]"}X.working=typeof Set<"u"&&X(new Set);function E(x){return typeof Set>"u"?!1:X.working?X(x):x instanceof Set}e.isSet=E;function C(x){return s(x)==="[object WeakMap]"}C.working=typeof WeakMap<"u"&&C(new WeakMap);function N(x){return typeof WeakMap>"u"?!1:C.working?C(x):x instanceof WeakMap}e.isWeakMap=N;function k(x){return s(x)==="[object WeakSet]"}k.working=typeof WeakSet<"u"&&k(new WeakSet);function q(x){return k(x)}e.isWeakSet=q;function Q(x){return s(x)==="[object ArrayBuffer]"}Q.working=typeof ArrayBuffer<"u"&&Q(new ArrayBuffer);function P(x){return typeof ArrayBuffer>"u"?!1:Q.working?Q(x):x instanceof ArrayBuffer}e.isArrayBuffer=P;function l(x){return s(x)==="[object DataView]"}l.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&l(new DataView(new ArrayBuffer(1),0,1));function h(x){return typeof DataView>"u"?!1:l.working?l(x):x instanceof DataView}e.isDataView=h;var g=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function R(x){return s(x)==="[object SharedArrayBuffer]"}function I(x){return typeof g>"u"?!1:(typeof R.working>"u"&&(R.working=R(new g)),R.working?R(x):x instanceof g)}e.isSharedArrayBuffer=I;function U(x){return s(x)==="[object AsyncFunction]"}e.isAsyncFunction=U;function H(x){return s(x)==="[object Map Iterator]"}e.isMapIterator=H;function V(x){return s(x)==="[object Set Iterator]"}e.isSetIterator=V;function ne(x){return s(x)==="[object Generator]"}e.isGeneratorObject=ne;function fe(x){return s(x)==="[object WebAssembly.Module]"}e.isWebAssemblyCompiledModule=fe;function Oe(x){return b(x,c)}e.isNumberObject=Oe;function je(x){return b(x,f)}e.isStringObject=je;function he(x){return b(x,y)}e.isBooleanObject=he;function Ke(x){return a&&b(x,p)}e.isBigIntObject=Ke;function ut(x){return u&&b(x,_)}e.isSymbolObject=ut;function Se(x){return Oe(x)||je(x)||he(x)||Ke(x)||ut(x)}e.isBoxedPrimitive=Se;function qe(x){return typeof Uint8Array<"u"&&(P(x)||I(x))}e.isAnyArrayBuffer=qe,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(x){Object.defineProperty(e,x,{enumerable:!1,value:function(){throw new Error(x+" is not supported in userland")}})})})(xa);var wl=function(t){return t&&typeof t=="object"&&typeof t.copy=="function"&&typeof t.fill=="function"&&typeof t.readUInt8=="function"},vi={},Ao={get exports(){return vi},set exports(e){vi=e}};typeof Object.create=="function"?Ao.exports=function(t,n){n&&(t.super_=n,t.prototype=Object.create(n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:Ao.exports=function(t,n){if(n){t.super_=n;var r=function(){};r.prototype=n.prototype,t.prototype=new r,t.prototype.constructor=t}};(function(e){var t=Object.getOwnPropertyDescriptors||function(h){for(var g=Object.keys(h),R={},I=0;I<g.length;I++)R[g[I]]=Object.getOwnPropertyDescriptor(h,g[I]);return R},n=/%[sdj%]/g;e.format=function(l){if(!w(l)){for(var h=[],g=0;g<arguments.length;g++)h.push(a(arguments[g]));return h.join(" ")}for(var g=1,R=arguments,I=R.length,U=String(l).replace(n,function(V){if(V==="%%")return"%";if(g>=I)return V;switch(V){case"%s":return String(R[g++]);case"%d":return Number(R[g++]);case"%j":try{return JSON.stringify(R[g++])}catch{return"[Circular]"}default:return V}}),H=R[g];g<I;H=R[++g])A(H)||!F(H)?U+=" "+H:U+=" "+a(H);return U},e.deprecate=function(l,h){if(typeof process<"u"&&process.noDeprecation===!0)return l;if(typeof process>"u")return function(){return e.deprecate(l,h).apply(this,arguments)};var g=!1;function R(){if(!g){if(process.throwDeprecation)throw new Error(h);process.traceDeprecation?console.trace(h):console.error(h),g=!0}return l.apply(this,arguments)}return R};var r={},i=/^$/;if({}.NODE_DEBUG){var o={}.NODE_DEBUG;o=o.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),i=new RegExp("^"+o+"$","i")}e.debuglog=function(l){if(l=l.toUpperCase(),!r[l])if(i.test(l)){var h=process.pid;r[l]=function(){var g=e.format.apply(e,arguments);console.error("%s %d: %s",l,h,g)}}else r[l]=function(){};return r[l]};function a(l,h){var g={seen:[],stylize:s};return arguments.length>=3&&(g.depth=arguments[2]),arguments.length>=4&&(g.colors=arguments[3]),m(h)?g.showHidden=h:h&&e._extend(g,h),$(g.showHidden)&&(g.showHidden=!1),$(g.depth)&&(g.depth=2),$(g.colors)&&(g.colors=!1),$(g.customInspect)&&(g.customInspect=!0),g.colors&&(g.stylize=u),f(g,l,g.depth)}e.inspect=a,a.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},a.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function u(l,h){var g=a.styles[h];return g?"\x1B["+a.colors[g][0]+"m"+l+"\x1B["+a.colors[g][1]+"m":l}function s(l,h){return l}function c(l){var h={};return l.forEach(function(g,R){h[g]=!0}),h}function f(l,h,g){if(l.customInspect&&h&&M(h.inspect)&&h.inspect!==e.inspect&&!(h.constructor&&h.constructor.prototype===h)){var R=h.inspect(g,l);return w(R)||(R=f(l,R,g)),R}var I=y(l,h);if(I)return I;var U=Object.keys(h),H=c(U);if(l.showHidden&&(U=Object.getOwnPropertyNames(h)),z(h)&&(U.indexOf("message")>=0||U.indexOf("description")>=0))return p(h);if(U.length===0){if(M(h)){var V=h.name?": "+h.name:"";return l.stylize("[Function"+V+"]","special")}if(D(h))return l.stylize(RegExp.prototype.toString.call(h),"regexp");if(G(h))return l.stylize(Date.prototype.toString.call(h),"date");if(z(h))return p(h)}var ne="",fe=!1,Oe=["{","}"];if(v(h)&&(fe=!0,Oe=["[","]"]),M(h)){var je=h.name?": "+h.name:"";ne=" [Function"+je+"]"}if(D(h)&&(ne=" "+RegExp.prototype.toString.call(h)),G(h)&&(ne=" "+Date.prototype.toUTCString.call(h)),z(h)&&(ne=" "+p(h)),U.length===0&&(!fe||h.length==0))return Oe[0]+ne+Oe[1];if(g<0)return D(h)?l.stylize(RegExp.prototype.toString.call(h),"regexp"):l.stylize("[Object]","special");l.seen.push(h);var he;return fe?he=_(l,h,g,H,U):he=U.map(function(Ke){return b(l,h,g,H,Ke,fe)}),l.seen.pop(),d(he,ne,Oe)}function y(l,h){if($(h))return l.stylize("undefined","undefined");if(w(h)){var g="'"+JSON.stringify(h).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return l.stylize(g,"string")}if(j(h))return l.stylize(""+h,"number");if(m(h))return l.stylize(""+h,"boolean");if(A(h))return l.stylize("null","null")}function p(l){return"["+Error.prototype.toString.call(l)+"]"}function _(l,h,g,R,I){for(var U=[],H=0,V=h.length;H<V;++H)k(h,String(H))?U.push(b(l,h,g,R,String(H),!0)):U.push("");return I.forEach(function(ne){ne.match(/^\d+$/)||U.push(b(l,h,g,R,ne,!0))}),U}function b(l,h,g,R,I,U){var H,V,ne;if(ne=Object.getOwnPropertyDescriptor(h,I)||{value:h[I]},ne.get?ne.set?V=l.stylize("[Getter/Setter]","special"):V=l.stylize("[Getter]","special"):ne.set&&(V=l.stylize("[Setter]","special")),k(R,I)||(H="["+I+"]"),V||(l.seen.indexOf(ne.value)<0?(A(g)?V=f(l,ne.value,null):V=f(l,ne.value,g-1),V.indexOf(`
`)>-1&&(U?V=V.split(`
`).map(function(fe){return"  "+fe}).join(`
`).slice(2):V=`
`+V.split(`
`).map(function(fe){return"   "+fe}).join(`
`))):V=l.stylize("[Circular]","special")),$(H)){if(U&&I.match(/^\d+$/))return V;H=JSON.stringify(""+I),H.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(H=H.slice(1,-1),H=l.stylize(H,"name")):(H=H.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),H=l.stylize(H,"string"))}return H+": "+V}function d(l,h,g){var R=l.reduce(function(I,U){return U.indexOf(`
`)>=0,I+U.replace(/\u001b\[\d\d?m/g,"").length+1},0);return R>60?g[0]+(h===""?"":h+`
 `)+" "+l.join(`,
  `)+" "+g[1]:g[0]+h+" "+l.join(", ")+" "+g[1]}e.types=xa;function v(l){return Array.isArray(l)}e.isArray=v;function m(l){return typeof l=="boolean"}e.isBoolean=m;function A(l){return l===null}e.isNull=A;function O(l){return l==null}e.isNullOrUndefined=O;function j(l){return typeof l=="number"}e.isNumber=j;function w(l){return typeof l=="string"}e.isString=w;function B(l){return typeof l=="symbol"}e.isSymbol=B;function $(l){return l===void 0}e.isUndefined=$;function D(l){return F(l)&&X(l)==="[object RegExp]"}e.isRegExp=D,e.types.isRegExp=D;function F(l){return typeof l=="object"&&l!==null}e.isObject=F;function G(l){return F(l)&&X(l)==="[object Date]"}e.isDate=G,e.types.isDate=G;function z(l){return F(l)&&(X(l)==="[object Error]"||l instanceof Error)}e.isError=z,e.types.isNativeError=z;function M(l){return typeof l=="function"}e.isFunction=M;function W(l){return l===null||typeof l=="boolean"||typeof l=="number"||typeof l=="string"||typeof l=="symbol"||typeof l>"u"}e.isPrimitive=W,e.isBuffer=wl;function X(l){return Object.prototype.toString.call(l)}function E(l){return l<10?"0"+l.toString(10):l.toString(10)}var C=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function N(){var l=new Date,h=[E(l.getHours()),E(l.getMinutes()),E(l.getSeconds())].join(":");return[l.getDate(),C[l.getMonth()],h].join(" ")}e.log=function(){console.log("%s - %s",N(),e.format.apply(e,arguments))},e.inherits=vi,e._extend=function(l,h){if(!h||!F(h))return l;for(var g=Object.keys(h),R=g.length;R--;)l[g[R]]=h[g[R]];return l};function k(l,h){return Object.prototype.hasOwnProperty.call(l,h)}var q=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;e.promisify=function(h){if(typeof h!="function")throw new TypeError('The "original" argument must be of type Function');if(q&&h[q]){var g=h[q];if(typeof g!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(g,q,{value:g,enumerable:!1,writable:!1,configurable:!0}),g}function g(){for(var R,I,U=new Promise(function(ne,fe){R=ne,I=fe}),H=[],V=0;V<arguments.length;V++)H.push(arguments[V]);H.push(function(ne,fe){ne?I(ne):R(fe)});try{h.apply(this,H)}catch(ne){I(ne)}return U}return Object.setPrototypeOf(g,Object.getPrototypeOf(h)),q&&Object.defineProperty(g,q,{value:g,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(g,t(h))},e.promisify.custom=q;function Q(l,h){if(!l){var g=new Error("Promise was rejected with a falsy value");g.reason=l,l=g}return h(l)}function P(l){if(typeof l!="function")throw new TypeError('The "original" argument must be of type Function');function h(){for(var g=[],R=0;R<arguments.length;R++)g.push(arguments[R]);var I=g.pop();if(typeof I!="function")throw new TypeError("The last argument must be of type Function");var U=this,H=function(){return I.apply(U,arguments)};l.apply(this,g).then(function(V){process.nextTick(H.bind(null,null,V))},function(V){process.nextTick(Q.bind(null,V,H))})}return Object.setPrototypeOf(h,Object.getPrototypeOf(l)),Object.defineProperties(h,t(l)),h}e.callbackify=P})(Dt);var Eo;function Xa(){if(Eo)return lr;Eo=1;function e(d){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?e=function(m){return typeof m}:e=function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m},e(d)}function t(d,v){if(!(d instanceof v))throw new TypeError("Cannot call a class as a function")}function n(d,v){return v&&(e(v)==="object"||typeof v=="function")?v:r(d)}function r(d){if(d===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d}function i(d){return i=Object.setPrototypeOf?Object.getPrototypeOf:function(m){return m.__proto__||Object.getPrototypeOf(m)},i(d)}function o(d,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function");d.prototype=Object.create(v&&v.prototype,{constructor:{value:d,writable:!0,configurable:!0}}),v&&a(d,v)}function a(d,v){return a=Object.setPrototypeOf||function(A,O){return A.__proto__=O,A},a(d,v)}var u={},s,c;function f(d,v,m){m||(m=Error);function A(j,w,B){return typeof v=="string"?v:v(j,w,B)}var O=function(j){o(w,j);function w(B,$,D){var F;return t(this,w),F=n(this,i(w).call(this,A(B,$,D))),F.code=d,F}return w}(m);u[d]=O}function y(d,v){if(Array.isArray(d)){var m=d.length;return d=d.map(function(A){return String(A)}),m>2?"one of ".concat(v," ").concat(d.slice(0,m-1).join(", "),", or ")+d[m-1]:m===2?"one of ".concat(v," ").concat(d[0]," or ").concat(d[1]):"of ".concat(v," ").concat(d[0])}else return"of ".concat(v," ").concat(String(d))}function p(d,v,m){return d.substr(!m||m<0?0:+m,v.length)===v}function _(d,v,m){return(m===void 0||m>d.length)&&(m=d.length),d.substring(m-v.length,m)===v}function b(d,v,m){return typeof m!="number"&&(m=0),m+v.length>d.length?!1:d.indexOf(v,m)!==-1}return f("ERR_AMBIGUOUS_ARGUMENT",'The "%s" argument is ambiguous. %s',TypeError),f("ERR_INVALID_ARG_TYPE",function(d,v,m){s===void 0&&(s=gi()),s(typeof d=="string","'name' must be a string");var A;typeof v=="string"&&p(v,"not ")?(A="must not be",v=v.replace(/^not /,"")):A="must be";var O;if(_(d," argument"))O="The ".concat(d," ").concat(A," ").concat(y(v,"type"));else{var j=b(d,".")?"property":"argument";O='The "'.concat(d,'" ').concat(j," ").concat(A," ").concat(y(v,"type"))}return O+=". Received type ".concat(e(m)),O},TypeError),f("ERR_INVALID_ARG_VALUE",function(d,v){var m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"is invalid";c===void 0&&(c=Dt);var A=c.inspect(v);return A.length>128&&(A="".concat(A.slice(0,128),"...")),"The argument '".concat(d,"' ").concat(m,". Received ").concat(A)},TypeError),f("ERR_INVALID_RETURN_VALUE",function(d,v,m){var A;return m&&m.constructor&&m.constructor.name?A="instance of ".concat(m.constructor.name):A="type ".concat(e(m)),"Expected ".concat(d,' to be returned from the "').concat(v,'"')+" function but got ".concat(A,".")},TypeError),f("ERR_MISSING_ARGS",function(){for(var d=arguments.length,v=new Array(d),m=0;m<d;m++)v[m]=arguments[m];s===void 0&&(s=gi()),s(v.length>0,"At least one arg needs to be specified");var A="The ",O=v.length;switch(v=v.map(function(j){return'"'.concat(j,'"')}),O){case 1:A+="".concat(v[0]," argument");break;case 2:A+="".concat(v[0]," and ").concat(v[1]," arguments");break;default:A+=v.slice(0,O-1).join(", "),A+=", and ".concat(v[O-1]," arguments");break}return"".concat(A," must be specified")},TypeError),lr.codes=u,lr}var Ar,Oo;function _l(){if(Oo)return Ar;Oo=1;function e(E){for(var C=1;C<arguments.length;C++){var N=arguments[C]!=null?arguments[C]:{},k=Object.keys(N);typeof Object.getOwnPropertySymbols=="function"&&(k=k.concat(Object.getOwnPropertySymbols(N).filter(function(q){return Object.getOwnPropertyDescriptor(N,q).enumerable}))),k.forEach(function(q){t(E,q,N[q])})}return E}function t(E,C,N){return C in E?Object.defineProperty(E,C,{value:N,enumerable:!0,configurable:!0,writable:!0}):E[C]=N,E}function n(E,C){if(!(E instanceof C))throw new TypeError("Cannot call a class as a function")}function r(E,C){for(var N=0;N<C.length;N++){var k=C[N];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(E,k.key,k)}}function i(E,C,N){return C&&r(E.prototype,C),N&&r(E,N),E}function o(E,C){return C&&(b(C)==="object"||typeof C=="function")?C:a(E)}function a(E){if(E===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E}function u(E,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function");E.prototype=Object.create(C&&C.prototype,{constructor:{value:E,writable:!0,configurable:!0}}),C&&p(E,C)}function s(E){var C=typeof Map=="function"?new Map:void 0;return s=function(k){if(k===null||!y(k))return k;if(typeof k!="function")throw new TypeError("Super expression must either be null or a function");if(typeof C<"u"){if(C.has(k))return C.get(k);C.set(k,q)}function q(){return f(k,arguments,_(this).constructor)}return q.prototype=Object.create(k.prototype,{constructor:{value:q,enumerable:!1,writable:!0,configurable:!0}}),p(q,k)},s(E)}function c(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function f(E,C,N){return c()?f=Reflect.construct:f=function(q,Q,P){var l=[null];l.push.apply(l,Q);var h=Function.bind.apply(q,l),g=new h;return P&&p(g,P.prototype),g},f.apply(null,arguments)}function y(E){return Function.toString.call(E).indexOf("[native code]")!==-1}function p(E,C){return p=Object.setPrototypeOf||function(k,q){return k.__proto__=q,k},p(E,C)}function _(E){return _=Object.setPrototypeOf?Object.getPrototypeOf:function(N){return N.__proto__||Object.getPrototypeOf(N)},_(E)}function b(E){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?b=function(N){return typeof N}:b=function(N){return N&&typeof Symbol=="function"&&N.constructor===Symbol&&N!==Symbol.prototype?"symbol":typeof N},b(E)}var d=Dt,v=d.inspect,m=Xa(),A=m.codes.ERR_INVALID_ARG_TYPE;function O(E,C,N){return(N===void 0||N>E.length)&&(N=E.length),E.substring(N-C.length,N)===C}function j(E,C){if(C=Math.floor(C),E.length==0||C==0)return"";var N=E.length*C;for(C=Math.floor(Math.log(C)/Math.log(2));C;)E+=E,C--;return E+=E.substring(0,N-E.length),E}var w="",B="",$="",D="",F={deepStrictEqual:"Expected values to be strictly deep-equal:",strictEqual:"Expected values to be strictly equal:",strictEqualObject:'Expected "actual" to be reference-equal to "expected":',deepEqual:"Expected values to be loosely deep-equal:",equal:"Expected values to be loosely equal:",notDeepStrictEqual:'Expected "actual" not to be strictly deep-equal to:',notStrictEqual:'Expected "actual" to be strictly unequal to:',notStrictEqualObject:'Expected "actual" not to be reference-equal to "expected":',notDeepEqual:'Expected "actual" not to be loosely deep-equal to:',notEqual:'Expected "actual" to be loosely unequal to:',notIdentical:"Values identical but not reference-equal:"},G=10;function z(E){var C=Object.keys(E),N=Object.create(Object.getPrototypeOf(E));return C.forEach(function(k){N[k]=E[k]}),Object.defineProperty(N,"message",{value:E.message}),N}function M(E){return v(E,{compact:!1,customInspect:!1,depth:1e3,maxArrayLength:1/0,showHidden:!1,breakLength:1/0,showProxy:!1,sorted:!0,getters:!0})}function W(E,C,N){var k="",q="",Q=0,P="",l=!1,h=M(E),g=h.split(`
`),R=M(C).split(`
`),I=0,U="";if(N==="strictEqual"&&b(E)==="object"&&b(C)==="object"&&E!==null&&C!==null&&(N="strictEqualObject"),g.length===1&&R.length===1&&g[0]!==R[0]){var H=g[0].length+R[0].length;if(H<=G){if((b(E)!=="object"||E===null)&&(b(C)!=="object"||C===null)&&(E!==0||C!==0))return"".concat(F[N],`

`)+"".concat(g[0]," !== ").concat(R[0],`
`)}else if(N!=="strictEqualObject"){var V=process.stderr&&process.stderr.isTTY?process.stderr.columns:80;if(H<V){for(;g[0][I]===R[0][I];)I++;I>2&&(U=`
  `.concat(j(" ",I),"^"),I=0)}}}for(var ne=g[g.length-1],fe=R[R.length-1];ne===fe&&(I++<2?P=`
  `.concat(ne).concat(P):k=ne,g.pop(),R.pop(),!(g.length===0||R.length===0));)ne=g[g.length-1],fe=R[R.length-1];var Oe=Math.max(g.length,R.length);if(Oe===0){var je=h.split(`
`);if(je.length>30)for(je[26]="".concat(w,"...").concat(D);je.length>27;)je.pop();return"".concat(F.notIdentical,`

`).concat(je.join(`
`),`
`)}I>3&&(P=`
`.concat(w,"...").concat(D).concat(P),l=!0),k!==""&&(P=`
  `.concat(k).concat(P),k="");var he=0,Ke=F[N]+`
`.concat(B,"+ actual").concat(D," ").concat($,"- expected").concat(D),ut=" ".concat(w,"...").concat(D," Lines skipped");for(I=0;I<Oe;I++){var Se=I-Q;if(g.length<I+1)Se>1&&I>2&&(Se>4?(q+=`
`.concat(w,"...").concat(D),l=!0):Se>3&&(q+=`
  `.concat(R[I-2]),he++),q+=`
  `.concat(R[I-1]),he++),Q=I,k+=`
`.concat($,"-").concat(D," ").concat(R[I]),he++;else if(R.length<I+1)Se>1&&I>2&&(Se>4?(q+=`
`.concat(w,"...").concat(D),l=!0):Se>3&&(q+=`
  `.concat(g[I-2]),he++),q+=`
  `.concat(g[I-1]),he++),Q=I,q+=`
`.concat(B,"+").concat(D," ").concat(g[I]),he++;else{var qe=R[I],x=g[I],st=x!==qe&&(!O(x,",")||x.slice(0,-1)!==qe);st&&O(qe,",")&&qe.slice(0,-1)===x&&(st=!1,x+=","),st?(Se>1&&I>2&&(Se>4?(q+=`
`.concat(w,"...").concat(D),l=!0):Se>3&&(q+=`
  `.concat(g[I-2]),he++),q+=`
  `.concat(g[I-1]),he++),Q=I,q+=`
`.concat(B,"+").concat(D," ").concat(x),k+=`
`.concat($,"-").concat(D," ").concat(qe),he+=2):(q+=k,k="",(Se===1||I===0)&&(q+=`
  `.concat(x),he++))}if(he>20&&I<Oe-2)return"".concat(Ke).concat(ut,`
`).concat(q,`
`).concat(w,"...").concat(D).concat(k,`
`)+"".concat(w,"...").concat(D)}return"".concat(Ke).concat(l?ut:"",`
`).concat(q).concat(k).concat(P).concat(U)}var X=function(E){u(C,E);function C(N){var k;if(n(this,C),b(N)!=="object"||N===null)throw new A("options","Object",N);var q=N.message,Q=N.operator,P=N.stackStartFn,l=N.actual,h=N.expected,g=Error.stackTraceLimit;if(Error.stackTraceLimit=0,q!=null)k=o(this,_(C).call(this,String(q)));else if(process.stderr&&process.stderr.isTTY&&(process.stderr&&process.stderr.getColorDepth&&process.stderr.getColorDepth()!==1?(w="\x1B[34m",B="\x1B[32m",D="\x1B[39m",$="\x1B[31m"):(w="",B="",D="",$="")),b(l)==="object"&&l!==null&&b(h)==="object"&&h!==null&&"stack"in l&&l instanceof Error&&"stack"in h&&h instanceof Error&&(l=z(l),h=z(h)),Q==="deepStrictEqual"||Q==="strictEqual")k=o(this,_(C).call(this,W(l,h,Q)));else if(Q==="notDeepStrictEqual"||Q==="notStrictEqual"){var R=F[Q],I=M(l).split(`
`);if(Q==="notStrictEqual"&&b(l)==="object"&&l!==null&&(R=F.notStrictEqualObject),I.length>30)for(I[26]="".concat(w,"...").concat(D);I.length>27;)I.pop();I.length===1?k=o(this,_(C).call(this,"".concat(R," ").concat(I[0]))):k=o(this,_(C).call(this,"".concat(R,`

`).concat(I.join(`
`),`
`)))}else{var U=M(l),H="",V=F[Q];Q==="notDeepEqual"||Q==="notEqual"?(U="".concat(F[Q],`

`).concat(U),U.length>1024&&(U="".concat(U.slice(0,1021),"..."))):(H="".concat(M(h)),U.length>512&&(U="".concat(U.slice(0,509),"...")),H.length>512&&(H="".concat(H.slice(0,509),"...")),Q==="deepEqual"||Q==="equal"?U="".concat(V,`

`).concat(U,`

should equal

`):H=" ".concat(Q," ").concat(H)),k=o(this,_(C).call(this,"".concat(U).concat(H)))}return Error.stackTraceLimit=g,k.generatedMessage=!q,Object.defineProperty(a(k),"name",{value:"AssertionError [ERR_ASSERTION]",enumerable:!1,writable:!0,configurable:!0}),k.code="ERR_ASSERTION",k.actual=l,k.expected=h,k.operator=Q,Error.captureStackTrace&&Error.captureStackTrace(a(k),P),k.stack,k.name="AssertionError",o(k)}return i(C,[{key:"toString",value:function(){return"".concat(this.name," [").concat(this.code,"]: ").concat(this.message)}},{key:v.custom,value:function(k,q){return v(this,e({},q,{customInspect:!1,depth:0}))}}]),C}(s(Error));return Ar=X,Ar}var Er,Po;function Sl(){if(Po)return Er;Po=1;function e(n,r){if(n==null)throw new TypeError("Cannot convert first argument to object");for(var i=Object(n),o=1;o<arguments.length;o++){var a=arguments[o];if(a!=null)for(var u=Object.keys(Object(a)),s=0,c=u.length;s<c;s++){var f=u[s],y=Object.getOwnPropertyDescriptor(a,f);y!==void 0&&y.enumerable&&(i[f]=a[f])}}return i}function t(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:e})}return Er={assign:e,polyfill:t},Er}var Or,To;function Qa(){if(To)return Or;To=1;var e=Object.prototype.toString;return Or=function(n){var r=e.call(n),i=r==="[object Arguments]";return i||(i=r!=="[object Array]"&&n!==null&&typeof n=="object"&&typeof n.length=="number"&&n.length>=0&&e.call(n.callee)==="[object Function]"),i},Or}var Pr,jo;function Al(){if(jo)return Pr;jo=1;var e;if(!Object.keys){var t=Object.prototype.hasOwnProperty,n=Object.prototype.toString,r=Qa(),i=Object.prototype.propertyIsEnumerable,o=!i.call({toString:null},"toString"),a=i.call(function(){},"prototype"),u=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],s=function(p){var _=p.constructor;return _&&_.prototype===p},c={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},f=function(){if(typeof window>"u")return!1;for(var p in window)try{if(!c["$"+p]&&t.call(window,p)&&window[p]!==null&&typeof window[p]=="object")try{s(window[p])}catch{return!0}}catch{return!0}return!1}(),y=function(p){if(typeof window>"u"||!f)return s(p);try{return s(p)}catch{return!1}};e=function(_){var b=_!==null&&typeof _=="object",d=n.call(_)==="[object Function]",v=r(_),m=b&&n.call(_)==="[object String]",A=[];if(!b&&!d&&!v)throw new TypeError("Object.keys called on a non-object");var O=a&&d;if(m&&_.length>0&&!t.call(_,0))for(var j=0;j<_.length;++j)A.push(String(j));if(v&&_.length>0)for(var w=0;w<_.length;++w)A.push(String(w));else for(var B in _)!(O&&B==="prototype")&&t.call(_,B)&&A.push(String(B));if(o)for(var $=y(_),D=0;D<u.length;++D)!($&&u[D]==="constructor")&&t.call(_,u[D])&&A.push(u[D]);return A}}return Pr=e,Pr}var Tr,Io;function El(){if(Io)return Tr;Io=1;var e=Array.prototype.slice,t=Qa(),n=Object.keys,r=n?function(a){return n(a)}:Al(),i=Object.keys;return r.shim=function(){if(Object.keys){var a=function(){var u=Object.keys(arguments);return u&&u.length===arguments.length}(1,2);a||(Object.keys=function(s){return t(s)?i(e.call(s)):i(s)})}else Object.keys=r;return Object.keys||r},Tr=r,Tr}var jr,Ro;function Ol(){if(Ro)return jr;Ro=1;var e=Qn(),t=e("%Object.defineProperty%",!0),n=function(){if(t)try{return t({},"a",{value:1}),!0}catch{return!1}return!1};return n.hasArrayLengthDefineBug=function(){if(!n())return null;try{return t([],"length",{value:1}).length!==1}catch{return!0}},jr=n,jr}var Ir,xo;function er(){if(xo)return Ir;xo=1;var e=El(),t=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",n=Object.prototype.toString,r=Array.prototype.concat,i=Object.defineProperty,o=function(f){return typeof f=="function"&&n.call(f)==="[object Function]"},a=Ol()(),u=i&&a,s=function(f,y,p,_){y in f&&(!o(_)||!_())||(u?i(f,y,{configurable:!0,enumerable:!1,value:p,writable:!0}):f[y]=p)},c=function(f,y){var p=arguments.length>2?arguments[2]:{},_=e(y);t&&(_=r.call(_,Object.getOwnPropertySymbols(y)));for(var b=0;b<_.length;b+=1)s(f,_[b],y[_[b]],p[_[b]])};return c.supportsDescriptors=!!u,Ir=c,Ir}var Rr,Do;function Za(){if(Do)return Rr;Do=1;var e=function(t){return t!==t};return Rr=function(n,r){return n===0&&r===0?1/n===1/r:!!(n===r||e(n)&&e(r))},Rr}var xr,Co;function eu(){if(Co)return xr;Co=1;var e=Za();return xr=function(){return typeof Object.is=="function"?Object.is:e},xr}var Dr,Bo;function Pl(){if(Bo)return Dr;Bo=1;var e=eu(),t=er();return Dr=function(){var r=e();return t(Object,{is:r},{is:function(){return Object.is!==r}}),r},Dr}var Cr,ko;function tu(){if(ko)return Cr;ko=1;var e=er(),t=Ui(),n=Za(),r=eu(),i=Pl(),o=t(r(),Object);return e(o,{getPolyfill:r,implementation:n,shim:i}),Cr=o,Cr}var Br,$o;function nu(){return $o||($o=1,Br=function(t){return t!==t}),Br}var kr,No;function ru(){if(No)return kr;No=1;var e=nu();return kr=function(){return Number.isNaN&&Number.isNaN(NaN)&&!Number.isNaN("a")?Number.isNaN:e},kr}var $r,Fo;function Tl(){if(Fo)return $r;Fo=1;var e=er(),t=ru();return $r=function(){var r=t();return e(Number,{isNaN:r},{isNaN:function(){return Number.isNaN!==r}}),r},$r}var Nr,Mo;function jl(){if(Mo)return Nr;Mo=1;var e=Ui(),t=er(),n=nu(),r=ru(),i=Tl(),o=e(r(),Number);return t(o,{getPolyfill:r,implementation:n,shim:i}),Nr=o,Nr}var Fr,Ko;function Il(){if(Ko)return Fr;Ko=1;function e(S,T){return r(S)||n(S,T)||t()}function t(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function n(S,T){var K=[],Y=!0,J=!1,re=void 0;try{for(var te=S[Symbol.iterator](),ae;!(Y=(ae=te.next()).done)&&(K.push(ae.value),!(T&&K.length===T));Y=!0);}catch(ie){J=!0,re=ie}finally{try{!Y&&te.return!=null&&te.return()}finally{if(J)throw re}}return K}function r(S){if(Array.isArray(S))return S}function i(S){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?i=function(K){return typeof K}:i=function(K){return K&&typeof Symbol=="function"&&K.constructor===Symbol&&K!==Symbol.prototype?"symbol":typeof K},i(S)}var o=/a/g.flags!==void 0,a=function(T){var K=[];return T.forEach(function(Y){return K.push(Y)}),K},u=function(T){var K=[];return T.forEach(function(Y,J){return K.push([J,Y])}),K},s=Object.is?Object.is:tu(),c=Object.getOwnPropertySymbols?Object.getOwnPropertySymbols:function(){return[]},f=Number.isNaN?Number.isNaN:jl();function y(S){return S.call.bind(S)}var p=y(Object.prototype.hasOwnProperty),_=y(Object.prototype.propertyIsEnumerable),b=y(Object.prototype.toString),d=Dt.types,v=d.isAnyArrayBuffer,m=d.isArrayBufferView,A=d.isDate,O=d.isMap,j=d.isRegExp,w=d.isSet,B=d.isNativeError,$=d.isBoxedPrimitive,D=d.isNumberObject,F=d.isStringObject,G=d.isBooleanObject,z=d.isBigIntObject,M=d.isSymbolObject,W=d.isFloat32Array,X=d.isFloat64Array;function E(S){if(S.length===0||S.length>10)return!0;for(var T=0;T<S.length;T++){var K=S.charCodeAt(T);if(K<48||K>57)return!0}return S.length===10&&S>=Math.pow(2,32)}function C(S){return Object.keys(S).filter(E).concat(c(S).filter(Object.prototype.propertyIsEnumerable.bind(S)))}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */function N(S,T){if(S===T)return 0;for(var K=S.length,Y=T.length,J=0,re=Math.min(K,Y);J<re;++J)if(S[J]!==T[J]){K=S[J],Y=T[J];break}return K<Y?-1:Y<K?1:0}var k=!0,q=!1,Q=0,P=1,l=2,h=3;function g(S,T){return o?S.source===T.source&&S.flags===T.flags:RegExp.prototype.toString.call(S)===RegExp.prototype.toString.call(T)}function R(S,T){if(S.byteLength!==T.byteLength)return!1;for(var K=0;K<S.byteLength;K++)if(S[K]!==T[K])return!1;return!0}function I(S,T){return S.byteLength!==T.byteLength?!1:N(new Uint8Array(S.buffer,S.byteOffset,S.byteLength),new Uint8Array(T.buffer,T.byteOffset,T.byteLength))===0}function U(S,T){return S.byteLength===T.byteLength&&N(new Uint8Array(S),new Uint8Array(T))===0}function H(S,T){return D(S)?D(T)&&s(Number.prototype.valueOf.call(S),Number.prototype.valueOf.call(T)):F(S)?F(T)&&String.prototype.valueOf.call(S)===String.prototype.valueOf.call(T):G(S)?G(T)&&Boolean.prototype.valueOf.call(S)===Boolean.prototype.valueOf.call(T):z(S)?z(T)&&BigInt.prototype.valueOf.call(S)===BigInt.prototype.valueOf.call(T):M(T)&&Symbol.prototype.valueOf.call(S)===Symbol.prototype.valueOf.call(T)}function V(S,T,K,Y){if(S===T)return S!==0?!0:K?s(S,T):!0;if(K){if(i(S)!=="object")return typeof S=="number"&&f(S)&&f(T);if(i(T)!=="object"||S===null||T===null||Object.getPrototypeOf(S)!==Object.getPrototypeOf(T))return!1}else{if(S===null||i(S)!=="object")return T===null||i(T)!=="object"?S==T:!1;if(T===null||i(T)!=="object")return!1}var J=b(S),re=b(T);if(J!==re)return!1;if(Array.isArray(S)){if(S.length!==T.length)return!1;var te=C(S),ae=C(T);return te.length!==ae.length?!1:fe(S,T,K,Y,P,te)}if(J==="[object Object]"&&(!O(S)&&O(T)||!w(S)&&w(T)))return!1;if(A(S)){if(!A(T)||Date.prototype.getTime.call(S)!==Date.prototype.getTime.call(T))return!1}else if(j(S)){if(!j(T)||!g(S,T))return!1}else if(B(S)||S instanceof Error){if(S.message!==T.message||S.name!==T.name)return!1}else if(m(S)){if(!K&&(W(S)||X(S))){if(!R(S,T))return!1}else if(!I(S,T))return!1;var ie=C(S),Pe=C(T);return ie.length!==Pe.length?!1:fe(S,T,K,Y,Q,ie)}else{if(w(S))return!w(T)||S.size!==T.size?!1:fe(S,T,K,Y,l);if(O(S))return!O(T)||S.size!==T.size?!1:fe(S,T,K,Y,h);if(v(S)){if(!U(S,T))return!1}else if($(S)&&!H(S,T))return!1}return fe(S,T,K,Y,Q)}function ne(S,T){return T.filter(function(K){return _(S,K)})}function fe(S,T,K,Y,J,re){if(arguments.length===5){re=Object.keys(S);var te=Object.keys(T);if(re.length!==te.length)return!1}for(var ae=0;ae<re.length;ae++)if(!p(T,re[ae]))return!1;if(K&&arguments.length===5){var ie=c(S);if(ie.length!==0){var Pe=0;for(ae=0;ae<ie.length;ae++){var Ie=ie[ae];if(_(S,Ie)){if(!_(T,Ie))return!1;re.push(Ie),Pe++}else if(_(T,Ie))return!1}var Mt=c(T);if(ie.length!==Mt.length&&ne(T,Mt).length!==Pe)return!1}else{var bt=c(T);if(bt.length!==0&&ne(T,bt).length!==0)return!1}}if(re.length===0&&(J===Q||J===P&&S.length===0||S.size===0))return!0;if(Y===void 0)Y={val1:new Map,val2:new Map,position:0};else{var Kt=Y.val1.get(S);if(Kt!==void 0){var wt=Y.val2.get(T);if(wt!==void 0)return Kt===wt}Y.position++}Y.val1.set(S,Y.position),Y.val2.set(T,Y.position);var pu=x(S,T,K,re,Y,J);return Y.val1.delete(S),Y.val2.delete(T),pu}function Oe(S,T,K,Y){for(var J=a(S),re=0;re<J.length;re++){var te=J[re];if(V(T,te,K,Y))return S.delete(te),!0}return!1}function je(S){switch(i(S)){case"undefined":return null;case"object":return;case"symbol":return!1;case"string":S=+S;case"number":if(f(S))return!1}return!0}function he(S,T,K){var Y=je(K);return Y??(T.has(Y)&&!S.has(Y))}function Ke(S,T,K,Y,J){var re=je(K);if(re!=null)return re;var te=T.get(re);return te===void 0&&!T.has(re)||!V(Y,te,!1,J)?!1:!S.has(re)&&V(Y,te,!1,J)}function ut(S,T,K,Y){for(var J=null,re=a(S),te=0;te<re.length;te++){var ae=re[te];if(i(ae)==="object"&&ae!==null)J===null&&(J=new Set),J.add(ae);else if(!T.has(ae)){if(K||!he(S,T,ae))return!1;J===null&&(J=new Set),J.add(ae)}}if(J!==null){for(var ie=a(T),Pe=0;Pe<ie.length;Pe++){var Ie=ie[Pe];if(i(Ie)==="object"&&Ie!==null){if(!Oe(J,Ie,K,Y))return!1}else if(!K&&!S.has(Ie)&&!Oe(J,Ie,K,Y))return!1}return J.size===0}return!0}function Se(S,T,K,Y,J,re){for(var te=a(S),ae=0;ae<te.length;ae++){var ie=te[ae];if(V(K,ie,J,re)&&V(Y,T.get(ie),J,re))return S.delete(ie),!0}return!1}function qe(S,T,K,Y){for(var J=null,re=u(S),te=0;te<re.length;te++){var ae=e(re[te],2),ie=ae[0],Pe=ae[1];if(i(ie)==="object"&&ie!==null)J===null&&(J=new Set),J.add(ie);else{var Ie=T.get(ie);if(Ie===void 0&&!T.has(ie)||!V(Pe,Ie,K,Y)){if(K||!Ke(S,T,ie,Pe,Y))return!1;J===null&&(J=new Set),J.add(ie)}}}if(J!==null){for(var Mt=u(T),bt=0;bt<Mt.length;bt++){var Kt=e(Mt[bt],2),ie=Kt[0],wt=Kt[1];if(i(ie)==="object"&&ie!==null){if(!Se(J,S,ie,wt,K,Y))return!1}else if(!K&&(!S.has(ie)||!V(S.get(ie),wt,!1,Y))&&!Se(J,S,ie,wt,!1,Y))return!1}return J.size===0}return!0}function x(S,T,K,Y,J,re){var te=0;if(re===l){if(!ut(S,T,K,J))return!1}else if(re===h){if(!qe(S,T,K,J))return!1}else if(re===P)for(;te<S.length;te++)if(p(S,te)){if(!p(T,te)||!V(S[te],T[te],K,J))return!1}else{if(p(T,te))return!1;for(var ae=Object.keys(S);te<ae.length;te++){var ie=ae[te];if(!p(T,ie)||!V(S[ie],T[ie],K,J))return!1}return ae.length===Object.keys(T).length}for(te=0;te<Y.length;te++){var Pe=Y[te];if(!V(S[Pe],T[Pe],K,J))return!1}return!0}function st(S,T){return V(S,T,q)}function Hi(S,T){return V(S,T,k)}return Fr={isDeepEqual:st,isDeepStrictEqual:Hi},Fr}var qo;function gi(){if(qo)return Un;qo=1;function e(P){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?e=function(h){return typeof h}:e=function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h},e(P)}function t(P,l){if(!(P instanceof l))throw new TypeError("Cannot call a class as a function")}var n=Xa(),r=n.codes,i=r.ERR_AMBIGUOUS_ARGUMENT,o=r.ERR_INVALID_ARG_TYPE,a=r.ERR_INVALID_ARG_VALUE,u=r.ERR_INVALID_RETURN_VALUE,s=r.ERR_MISSING_ARGS,c=_l(),f=Dt,y=f.inspect,p=Dt.types,_=p.isPromise,b=p.isRegExp,d=Object.assign?Object.assign:Sl().assign,v=Object.is?Object.is:tu(),m,A;function O(){var P=Il();m=P.isDeepEqual,A=P.isDeepStrictEqual}var j=!1,w=Pc.exports=G,B={};function $(P){throw P.message instanceof Error?P.message:new c(P)}function D(P,l,h,g,R){var I=arguments.length,U;if(I===0)U="Failed";else if(I===1)h=P,P=void 0;else{if(j===!1){j=!0;var H=process.emitWarning?process.emitWarning:console.warn.bind(console);H("assert.fail() with more than one argument is deprecated. Please use assert.strictEqual() instead or only pass a message.","DeprecationWarning","DEP0094")}I===2&&(g="!=")}if(h instanceof Error)throw h;var V={actual:P,expected:l,operator:g===void 0?"fail":g,stackStartFn:R||D};h!==void 0&&(V.message=h);var ne=new c(V);throw U&&(ne.message=U,ne.generatedMessage=!0),ne}w.fail=D,w.AssertionError=c;function F(P,l,h,g){if(!h){var R=!1;if(l===0)R=!0,g="No value argument passed to `assert.ok()`";else if(g instanceof Error)throw g;var I=new c({actual:h,expected:!0,message:g,operator:"==",stackStartFn:P});throw I.generatedMessage=R,I}}function G(){for(var P=arguments.length,l=new Array(P),h=0;h<P;h++)l[h]=arguments[h];F.apply(void 0,[G,l.length].concat(l))}w.ok=G,w.equal=function P(l,h,g){if(arguments.length<2)throw new s("actual","expected");l!=h&&$({actual:l,expected:h,message:g,operator:"==",stackStartFn:P})},w.notEqual=function P(l,h,g){if(arguments.length<2)throw new s("actual","expected");l==h&&$({actual:l,expected:h,message:g,operator:"!=",stackStartFn:P})},w.deepEqual=function P(l,h,g){if(arguments.length<2)throw new s("actual","expected");m===void 0&&O(),m(l,h)||$({actual:l,expected:h,message:g,operator:"deepEqual",stackStartFn:P})},w.notDeepEqual=function P(l,h,g){if(arguments.length<2)throw new s("actual","expected");m===void 0&&O(),m(l,h)&&$({actual:l,expected:h,message:g,operator:"notDeepEqual",stackStartFn:P})},w.deepStrictEqual=function P(l,h,g){if(arguments.length<2)throw new s("actual","expected");m===void 0&&O(),A(l,h)||$({actual:l,expected:h,message:g,operator:"deepStrictEqual",stackStartFn:P})},w.notDeepStrictEqual=z;function z(P,l,h){if(arguments.length<2)throw new s("actual","expected");m===void 0&&O(),A(P,l)&&$({actual:P,expected:l,message:h,operator:"notDeepStrictEqual",stackStartFn:z})}w.strictEqual=function P(l,h,g){if(arguments.length<2)throw new s("actual","expected");v(l,h)||$({actual:l,expected:h,message:g,operator:"strictEqual",stackStartFn:P})},w.notStrictEqual=function P(l,h,g){if(arguments.length<2)throw new s("actual","expected");v(l,h)&&$({actual:l,expected:h,message:g,operator:"notStrictEqual",stackStartFn:P})};var M=function P(l,h,g){var R=this;t(this,P),h.forEach(function(I){I in l&&(g!==void 0&&typeof g[I]=="string"&&b(l[I])&&l[I].test(g[I])?R[I]=g[I]:R[I]=l[I])})};function W(P,l,h,g,R,I){if(!(h in P)||!A(P[h],l[h])){if(!g){var U=new M(P,R),H=new M(l,R,P),V=new c({actual:U,expected:H,operator:"deepStrictEqual",stackStartFn:I});throw V.actual=P,V.expected=l,V.operator=I.name,V}$({actual:P,expected:l,message:g,operator:I.name,stackStartFn:I})}}function X(P,l,h,g){if(typeof l!="function"){if(b(l))return l.test(P);if(arguments.length===2)throw new o("expected",["Function","RegExp"],l);if(e(P)!=="object"||P===null){var R=new c({actual:P,expected:l,message:h,operator:"deepStrictEqual",stackStartFn:g});throw R.operator=g.name,R}var I=Object.keys(l);if(l instanceof Error)I.push("name","message");else if(I.length===0)throw new a("error",l,"may not be an empty object");return m===void 0&&O(),I.forEach(function(U){typeof P[U]=="string"&&b(l[U])&&l[U].test(P[U])||W(P,l,U,h,I,g)}),!0}return l.prototype!==void 0&&P instanceof l?!0:Error.isPrototypeOf(l)?!1:l.call({},P)===!0}function E(P){if(typeof P!="function")throw new o("fn","Function",P);try{P()}catch(l){return l}return B}function C(P){return _(P)||P!==null&&e(P)==="object"&&typeof P.then=="function"&&typeof P.catch=="function"}function N(P){return Promise.resolve().then(function(){var l;if(typeof P=="function"){if(l=P(),!C(l))throw new u("instance of Promise","promiseFn",l)}else if(C(P))l=P;else throw new o("promiseFn",["Function","Promise"],P);return Promise.resolve().then(function(){return l}).then(function(){return B}).catch(function(h){return h})})}function k(P,l,h,g){if(typeof h=="string"){if(arguments.length===4)throw new o("error",["Object","Error","Function","RegExp"],h);if(e(l)==="object"&&l!==null){if(l.message===h)throw new i("error/message",'The error message "'.concat(l.message,'" is identical to the message.'))}else if(l===h)throw new i("error/message",'The error "'.concat(l,'" is identical to the message.'));g=h,h=void 0}else if(h!=null&&e(h)!=="object"&&typeof h!="function")throw new o("error",["Object","Error","Function","RegExp"],h);if(l===B){var R="";h&&h.name&&(R+=" (".concat(h.name,")")),R+=g?": ".concat(g):".";var I=P.name==="rejects"?"rejection":"exception";$({actual:void 0,expected:h,operator:P.name,message:"Missing expected ".concat(I).concat(R),stackStartFn:P})}if(h&&!X(l,h,g,P))throw l}function q(P,l,h,g){if(l!==B){if(typeof h=="string"&&(g=h,h=void 0),!h||X(l,h)){var R=g?": ".concat(g):".",I=P.name==="doesNotReject"?"rejection":"exception";$({actual:l,expected:h,operator:P.name,message:"Got unwanted ".concat(I).concat(R,`
`)+'Actual message: "'.concat(l&&l.message,'"'),stackStartFn:P})}throw l}}w.throws=function P(l){for(var h=arguments.length,g=new Array(h>1?h-1:0),R=1;R<h;R++)g[R-1]=arguments[R];k.apply(void 0,[P,E(l)].concat(g))},w.rejects=function P(l){for(var h=arguments.length,g=new Array(h>1?h-1:0),R=1;R<h;R++)g[R-1]=arguments[R];return N(l).then(function(I){return k.apply(void 0,[P,I].concat(g))})},w.doesNotThrow=function P(l){for(var h=arguments.length,g=new Array(h>1?h-1:0),R=1;R<h;R++)g[R-1]=arguments[R];q.apply(void 0,[P,E(l)].concat(g))},w.doesNotReject=function P(l){for(var h=arguments.length,g=new Array(h>1?h-1:0),R=1;R<h;R++)g[R-1]=arguments[R];return N(l).then(function(I){return q.apply(void 0,[P,I].concat(g))})},w.ifError=function P(l){if(l!=null){var h="ifError got unwanted exception: ";e(l)==="object"&&typeof l.message=="string"?l.message.length===0&&l.constructor?h+=l.constructor.name:h+=l.message:h+=y(l);var g=new c({actual:l,expected:null,operator:"ifError",message:h,stackStartFn:P}),R=l.stack;if(typeof R=="string"){var I=R.split(`
`);I.shift();for(var U=g.stack.split(`
`),H=0;H<I.length;H++){var V=U.indexOf(I[H]);if(V!==-1){U=U.slice(0,V);break}}g.stack="".concat(U.join(`
`),`
`).concat(I.join(`
`))}throw g}};function Q(){for(var P=arguments.length,l=new Array(P),h=0;h<P;h++)l[h]=arguments[h];F.apply(void 0,[Q,l.length].concat(l))}return w.strict=d(Q,w,{equal:w.strictEqual,deepEqual:w.deepStrictEqual,notEqual:w.notStrictEqual,notDeepEqual:w.notDeepStrictEqual}),w.strict.strict=w.strict,Un}var Rl=gi();const xl=Oc(Rl),iu=12;class ou{static decodeArrayBuffer(t){var n=t.length/4*3,r=new ArrayBuffer(n);return this.decode(t,r),r}static removePaddingChars(t){return this._keyStr.indexOf(t.charAt(t.length-1))==64?t.substring(0,t.length-1):t}static decode(t,n){t=this.removePaddingChars(t),t=this.removePaddingChars(t);var r=Math.floor(t.length/4*3),i,o,a,u,s,c,f,y,p=0,_=0;for(i=n?new Uint8Array(n):new Uint8Array(r),t=t.replace(/[^A-Za-z0-9\+\/\=]/g,""),p=0;p<r;p+=3)s=this._keyStr.indexOf(t.charAt(_++)),c=this._keyStr.indexOf(t.charAt(_++)),f=this._keyStr.indexOf(t.charAt(_++)),y=this._keyStr.indexOf(t.charAt(_++)),o=s<<2|c>>4,a=(c&15)<<4|f>>2,u=(f&3)<<6|y,i[p]=o,f!=64&&(i[p+1]=a),y!=64&&(i[p+2]=u);return i}}ue(ou,"_keyStr","ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=");async function Dl(e,t,n){const r=await fetch(`https://api.github.com/repos/${e}/${t}/contents/${n}`,{headers:{"Content-Type":"application/vnd.github.raw"}});if(!r.ok)throw new Error(`Error fetching file:'${n}'
${await r.text()}`);return(await r.json()).content}class au{get filename(){const t=this.location.split("/").at(-1);if(!t)throw new Error(`Unexpected sample location '${this.location}'`);return t}}class Re extends au{constructor(n,r){super();ue(this,"label");ue(this,"location");this.location=n,this.label=r}async downloadDirtSample(){const i=await Dl("tidalcycles","Dirt-Samples",this.location),o=ou.decodeArrayBuffer(i);return new Blob([o],{type:"audio/wav"})}async ensureCached(){let n;n=await ke.instance.getSampleBlob(this.filename),n||(n=await this.downloadDirtSample(),ke.instance.addSample({filename:this.filename,data:n}))}}class Cl extends au{constructor(n,r){super();ue(this,"label");ue(this,"location");this.location=n,this.label=r}async ensureCached(){let n;if(n=await ke.instance.getSampleBlob(this.filename),!n){const r=await fetch(this.location);if(!r.ok)throw new Error(`Error fetching file: '${this.filename}'
${await r.text()}`);n=await r.blob(),ke.instance.addSample({filename:this.filename,data:n})}}}class tr{}ue(tr,"samples",[new Re("808bd/BD0010.WAV","808BD"),new Re("808bd/BD0025.WAV","808BD2"),new Re("808/CP.WAV","808CP"),new Re("808/RS.WAV","808RS"),new Re("808/CH.WAV","808CH"),new Re("808oh/OH00.WAV","808OH"),new Re("jazz/007_SN.wav","808OH"),new Re("bleep/checkpoint-hit.wav","Bleep"),new Re("bleep/pc_beep.wav","Beep"),new Re("birds/001_10.wav","Birdies"),new Re("moog/000_Mighty Moog C2.wav","Moog C2"),new Re("juno/03_juno_chorus_low.wav","Juno"),new Re("juno/04_juno_chorus_mid.wav","Juno Mid"),new Cl("https://dobrian.github.io/cmp/topics/sample-recording-and-playback-with-web-audio-api/freejazz.wav","Freejazz")]);xl(tr.samples.length>iu,"Not enough default samples");async function Bl(){ke.init(),await Promise.all(tr.samples.map(async e=>{try{await e.ensureCached()}catch(t){console.error(t)}})),console.log("App Data Loaded")}class ct extends Ju{constructor(n,r=Object.is){super();ue(this,"_value");ue(this,"_eq");this._value=n,this._eq=r}get value(){return this._value}set value(n){if(!this._eq(this._value,n)){const r=this._value;this._value=n,this.fire(n,r)}}}class en{static get instance(){if(!this._instance)throw new Error("AudioContext not initialized");return this._instance}static init(t){this._instance=new AudioContext,this.initialized.value=!0}}ue(en,"_instance"),ue(en,"initialized",new ct(!1));class kl{constructor(t,n){ue(this,"audio");ue(this,"_splitter");ue(this,"_audioOut");ue(this,"_sampleHolder");ue(this,"_analyser");ue(this,"_playing",!1);this.audio=new AudioBufferSourceNode(t,n),this._splitter=new ChannelSplitterNode(t),this._analyser=new AnalyserNode(t),this._audioOut=new ChannelMergerNode(t),this._sampleHolder=new Float32Array(1),this.audio.addEventListener("ended",()=>{this._playing=!1})}get playbackPosition(){return this._analyser.getFloatTimeDomainData(this._sampleHolder),this._sampleHolder[0]}get playing(){return this._playing}loadBuffer(t){const n=Math.max(t.numberOfChannels,3),r=n-1;if(this.audio.buffer=new AudioBuffer({length:t.length,sampleRate:t.sampleRate,numberOfChannels:n}),t.numberOfChannels==1)this.audio.buffer.copyToChannel(t.getChannelData(0),0),this.audio.buffer.copyToChannel(t.getChannelData(0),1);else for(let o=0;o<t.numberOfChannels;o++)this.audio.buffer.copyToChannel(t.getChannelData(o),o);const i=this.audio.buffer.getChannelData(r);for(let o=0;o<t.length;o++)i[o]=o/t.length;this.audio.connect(this._splitter);for(let o=0;o<r;o++)this._splitter.connect(this._audioOut,o,o);this._splitter.connect(this._analyser,r)}get playbackRate(){return this.audio.playbackRate}start(...t){this._playing=!0,this.audio.start(...t)}stop(t){this.audio.stop(t)}connect(t,n){return this._audioOut.connect(t,n)}}function It(e){const[t,n]=yt(e.value),r=o=>{n(()=>o)};return wu(()=>{e.attach(r)}),Si(()=>{e.detach(r)}),[t,o=>{e.value=o}]}function uu(){const[e]=It(en.initialized);return()=>e()?en.instance:null}class $l{constructor(t="",n=""){ue(this,"src");ue(this,"label");ue(this,"audioContext",new ct(null));ue(this,"_buffer",new ct(new ArrayBuffer(0)));ue(this,"_audioBuffer");ue(this,"_playbackRate",new ct(1));ue(this,"_preservePitch",new ct(!1));ue(this,"onSrcUpdate",async t=>{if(!t)return;const n=await ke.instance.getSampleBlob(this.src.value);if(!n)throw new Error(`Sample '${this.src.value}' not found`);this._buffer.value=await n.arrayBuffer()});ue(this,"onBufferUpdate",async()=>{var t;try{this._audioBuffer=await((t=this.audioContext.value)==null?void 0:t.decodeAudioData(this._buffer.value))}catch(n){console.error(n)}});this.src=new ct(t),this.label=new ct(n),this.src.attach(this.onSrcUpdate),this._buffer.attach(this.onBufferUpdate)}get audioBuffer(){if(!this._audioBuffer)throw new Error("No Audio Buffer loaded");return this._audioBuffer}get loaded(){return!!this._audioBuffer}get playbackRate(){return this._playbackRate}get preservePitch(){return this._preservePitch}dispose(){this.src.detach(this.onSrcUpdate)}loadBuffer(){this.src.fire(this.src.value)}}const Nl=Te("<div>Play audio by hitting the buttons</div>"),Fl=Te('<div class="App flex flex-column justify-content-center"><div class="grid"><h1 class="col-12">SoundBored</h1><div class="col-12"><div class="parameterPanel grid grid-nogutter"></div></div><div class="col-12"><div class="grid grid-nogutter"></div></div></div></div>'),Ml=Te('<div class="col-3"></div>');function Kl(){const e=Bl(),t=uu();Gn(()=>{const s=t();s&&n.forEach(async c=>{c.audioContext.value=s,await e,c.loadBuffer()})});const n=tr.samples.slice(0,iu).map(({filename:s,label:c})=>new $l(s,c)),r=n.map(s=>()=>Ve(Jl,{model:s})),[i,o]=yt(0),[a,u]=yt(!0);return[Ve(zl,{get show(){return a()},onClose:()=>{en.init(),u(!1)},buttonText:"Ok",get children(){return Nl.cloneNode(!0)}}),(()=>{const s=Fl.cloneNode(!0),c=s.firstChild,f=c.firstChild,y=f.nextSibling,p=y.firstChild,_=y.nextSibling,b=_.firstChild;return ye(p,Ve(pf,{}),null),ye(p,Ve(Yu,{get component(){return r[i()]}}),null),ye(b,()=>n.map((d,v)=>(()=>{const m=Ml.cloneNode(!0);return ye(m,Ve(Ll,{model:d,onClick:()=>{o(v)}})),m})())),s})()]}const ql=Te('<div class="buttonPad"><canvas></canvas><button><div class="label"></div><div>&#9658;</div></button><button>&#9632;</button></div>'),Ll=({model:e,onClick:t})=>{let n,r,i;const o=uu();e.audioContext.value=o();const[a]=It(e.playbackRate),[u]=It(e.label);Gn(()=>{const c=a();i&&(i.audio.playbackRate.value=c)});function s(){const c=r.getContext("2d"),f=i.playbackPosition;c&&(c.clearRect(0,0,r.width,r.height),c.fillStyle="white",c.fillRect(0,0,r.width*f,r.height),i!=null&&i.playing?requestAnimationFrame(s):c.clearRect(0,0,r.width,r.height))}return(()=>{const c=ql.cloneNode(!0),f=c.firstChild,y=f.nextSibling,p=y.firstChild,_=y.nextSibling;Dn(c,"click",t,!0);const b=n;typeof b=="function"?Cn(b,c):n=c;const d=r;return typeof d=="function"?Cn(d,f):r=f,y.$$click=()=>{!o()||!e.loaded||(i==null||i.stop(),i=new kl(o(),{playbackRate:a()}),i.loadBuffer(e.audioBuffer),i.connect(o().destination),i.start(),s())},ye(p,u),_.$$click=()=>{i&&e.loaded&&i.stop()},c})()};rn(["click"]);const Ul=Te('<section class="modal"><div class="topbar flex flex-row-reverse"><button>⨉</button></div><div></div></section>'),Vl=Te('<div class="modal-overlay"></div>'),Gl=Te("<button></button>"),zl=e=>{let t,n;return[(()=>{const r=Ul.cloneNode(!0),i=r.firstChild,o=i.firstChild,a=i.nextSibling,u=t;return typeof u=="function"?Cn(u,r):t=r,Dn(o,"click",e.onClose,!0),ye(a,()=>e.children),ye(r,(()=>{const s=et(()=>!!e.buttonText);return()=>s()&&(()=>{const c=Gl.cloneNode(!0);return Dn(c,"click",e.onClose,!0),ye(c,()=>e.buttonText),c})()})(),null),Be(()=>r.classList.toggle("hidden",!e.show)),r})(),(()=>{const r=Vl.cloneNode(!0),i=n;return typeof i=="function"?Cn(i,r):n=r,Be(()=>r.classList.toggle("hidden",!e.show)),r})()]};rn(["click"]);const Wl=Te('<div class="col grid grid-nogutter"><div class="col-3"><label for="playbackRateControl">Playback speed</label><input id="playbackRateControl" type="range" min="0.01" step="0.01" max="2"></div><div class="col p-4"><div class="sampleDropZone"><div></div></div></div></div>'),Hl=Te('<input type="text" maxlength="12" class="label">'),Yl=Te('<div class="label"></div>'),Jl=e=>{const[t,n]=It(e.model.label),[r,i]=It(e.model.playbackRate),[o,a]=It(e.model.src),[u,s]=yt(!1);return(()=>{const c=Wl.cloneNode(!0),f=c.firstChild,y=f.firstChild,p=y.nextSibling,_=f.nextSibling,b=_.firstChild,d=b.firstChild;return ye(f,(()=>{const v=et(()=>!!u());return()=>v()?(()=>{const m=Hl.cloneNode(!0);return m.addEventListener("mouseleave",()=>s(!1)),m.$$input=A=>A.currentTarget.value&&n(A.currentTarget.value),Be(()=>m.value=t()),m})():(()=>{const m=Yl.cloneNode(!0);return m.$$click=()=>s(!0),ye(m,t),m})()})(),y),p.$$click=v=>{v.detail>1&&i(1)},p.$$input=v=>i(v.currentTarget.valueAsNumber),p.style.setProperty("width","75%"),b.addEventListener("drop",v=>{if(v.preventDefault(),v.dataTransfer){const m=v.dataTransfer.getData("text/plain");a(m)}}),b.addEventListener("dragover",v=>{v.preventDefault(),v.dataTransfer&&(v.dataTransfer.dropEffect="link")}),d.style.setProperty("position","absolute"),d.style.setProperty("left","0.5em"),ye(d,o),Be(()=>p.value=r()),c})()};rn(["input","click"]);const mi=Symbol("store-raw"),tn=Symbol("store-node"),Xl=Symbol("store-name");function su(e,t){let n=e[Ne];if(!n&&(Object.defineProperty(e,Ne,{value:n=new Proxy(e,ef)}),!Array.isArray(e))){const r=Object.keys(e),i=Object.getOwnPropertyDescriptors(e);for(let o=0,a=r.length;o<a;o++){const u=r[o];i[u].get&&Object.defineProperty(e,u,{enumerable:i[u].enumerable,get:i[u].get.bind(n)})}}return n}function it(e){let t;return e!=null&&typeof e=="object"&&(e[Ne]||!(t=Object.getPrototypeOf(e))||t===Object.prototype||Array.isArray(e))}function Ct(e,t=new Set){let n,r,i,o;if(n=e!=null&&e[mi])return n;if(!it(e)||t.has(e))return e;if(Array.isArray(e)){Object.isFrozen(e)?e=e.slice(0):t.add(e);for(let a=0,u=e.length;a<u;a++)i=e[a],(r=Ct(i,t))!==i&&(e[a]=r)}else{Object.isFrozen(e)?e=Object.assign({},e):t.add(e);const a=Object.keys(e),u=Object.getOwnPropertyDescriptors(e);for(let s=0,c=a.length;s<c;s++)o=a[s],!u[o].get&&(i=e[o],(r=Ct(i,t))!==i&&(e[o]=r))}return e}function zi(e){let t=e[tn];return t||Object.defineProperty(e,tn,{value:t={}}),t}function bi(e,t,n){return e[t]||(e[t]=lu(n))}function Ql(e,t){const n=Reflect.getOwnPropertyDescriptor(e,t);return!n||n.get||!n.configurable||t===Ne||t===tn||t===Xl||(delete n.value,delete n.writable,n.get=()=>e[Ne][t]),n}function cu(e){if(Vo()){const t=zi(e);(t._||(t._=lu()))()}}function Zl(e){return cu(e),Reflect.ownKeys(e)}function lu(e){const[t,n]=yt(e,{equals:!1,internal:!0});return t.$=n,t}const ef={get(e,t,n){if(t===mi)return e;if(t===Ne)return n;if(t===Mr)return cu(e),n;const r=zi(e),i=r.hasOwnProperty(t);let o=i?r[t]():e[t];if(t===tn||t==="__proto__")return o;if(!i){const a=Object.getOwnPropertyDescriptor(e,t);Vo()&&(typeof o!="function"||e.hasOwnProperty(t))&&!(a&&a.get)&&(o=bi(r,t,o)())}return it(o)?su(o):o},has(e,t){return t===mi||t===Ne||t===Mr||t===tn||t==="__proto__"?!0:(this.get(e,t,e),t in e)},set(){return!0},deleteProperty(){return!0},ownKeys:Zl,getOwnPropertyDescriptor:Ql};function Ce(e,t,n,r=!1){if(!r&&e[t]===n)return;const i=e[t],o=e.length;n===void 0?delete e[t]:e[t]=n;let a=zi(e),u;(u=bi(a,t,i))&&u.$(()=>n),Array.isArray(e)&&e.length!==o&&(u=bi(a,"length",o))&&u.$(e.length),(u=a._)&&u.$()}function fu(e,t){const n=Object.keys(t);for(let r=0;r<n.length;r+=1){const i=n[r];Ce(e,i,t[i])}}function tf(e,t){if(typeof t=="function"&&(t=t(e)),t=Ct(t),Array.isArray(t)){if(e===t)return;let n=0,r=t.length;for(;n<r;n++){const i=t[n];e[n]!==i&&Ce(e,n,i)}Ce(e,"length",r)}else fu(e,t)}function Ut(e,t,n=[]){let r,i=e;if(t.length>1){r=t.shift();const a=typeof r,u=Array.isArray(e);if(Array.isArray(r)){for(let s=0;s<r.length;s++)Ut(e,[r[s]].concat(t),n);return}else if(u&&a==="function"){for(let s=0;s<e.length;s++)r(e[s],s)&&Ut(e,[s].concat(t),n);return}else if(u&&a==="object"){const{from:s=0,to:c=e.length-1,by:f=1}=r;for(let y=s;y<=c;y+=f)Ut(e,[y].concat(t),n);return}else if(t.length>1){Ut(e[r],t,[r].concat(n));return}i=e[r],n=[r].concat(n)}let o=t[0];typeof o=="function"&&(o=o(i,n),o===i)||r===void 0&&o==null||(o=Ct(o),r===void 0||it(i)&&it(o)&&!Array.isArray(o)?fu(i,o):Ce(e,r,o))}function nf(...[e,t]){const n=Ct(e||{}),r=Array.isArray(n),i=su(n);function o(...a){mu(()=>{r&&a.length===1?tf(n,a[0]):Ut(n,a)})}return[i,o]}const wi=Symbol("store-root");function Ot(e,t,n,r,i){const o=t[n];if(e===o)return;if(!it(e)||!it(o)||i&&e[i]!==o[i]){if(e!==o){if(n===wi)return e;Ce(t,n,e)}return}if(Array.isArray(e)){if(e.length&&o.length&&(!r||i&&e[0]&&e[0][i]!=null)){let s,c,f,y,p,_,b,d;for(f=0,y=Math.min(o.length,e.length);f<y&&(o[f]===e[f]||i&&o[f]&&e[f]&&o[f][i]===e[f][i]);f++)Ot(e[f],o,f,r,i);const v=new Array(e.length),m=new Map;for(y=o.length-1,p=e.length-1;y>=f&&p>=f&&(o[y]===e[p]||i&&o[f]&&e[f]&&o[y][i]===e[p][i]);y--,p--)v[p]=o[y];if(f>p||f>y){for(c=f;c<=p;c++)Ce(o,c,e[c]);for(;c<e.length;c++)Ce(o,c,v[c]),Ot(e[c],o,c,r,i);o.length>e.length&&Ce(o,"length",e.length);return}for(b=new Array(p+1),c=p;c>=f;c--)_=e[c],d=i&&_?_[i]:_,s=m.get(d),b[c]=s===void 0?-1:s,m.set(d,c);for(s=f;s<=y;s++)_=o[s],d=i&&_?_[i]:_,c=m.get(d),c!==void 0&&c!==-1&&(v[c]=o[s],c=b[c],m.set(d,c));for(c=f;c<e.length;c++)c in v?(Ce(o,c,v[c]),Ot(e[c],o,c,r,i)):Ce(o,c,e[c])}else for(let s=0,c=e.length;s<c;s++)Ot(e[s],o,s,r,i);o.length>e.length&&Ce(o,"length",e.length);return}const a=Object.keys(e);for(let s=0,c=a.length;s<c;s++)Ot(e[a[s]],o,a[s],r,i);const u=Object.keys(o);for(let s=0,c=u.length;s<c;s++)e[u[s]]===void 0&&Ce(o,u[s],void 0)}function rf(e,t={}){const{merge:n,key:r="id"}=t,i=Ct(e);return o=>{if(!it(o)||!it(i))return i;const a=Ot(i,{[wi]:o},wi,n,r);return a===void 0?o:a}}function of(e){const[t,n]=nf([]);return Gn(bu(e,()=>{af(Ra(e),t,n)})),t}function af(e,t,n,r={key:"id"}){const i=e.subscribe(o=>n(rf(o,r)));return Si(()=>"unsubscribe"in i?i.unsubscribe():i()),t}const uf=Te('<svg fill="currentColor" stroke-width="0" xmlns="http://www.w3.org/2000/svg"></svg>'),sf=Te("<title></title>");function hu(e,t){const n=Tu(e.a,t);return(()=>{const r=uf.cloneNode(!0);return Qo(r,n,!0,!0),ye(r,()=>zu,null),ye(r,(()=>{const i=et(()=>!!t.title,!0);return()=>i()&&(()=>{const o=sf.cloneNode(!0);return ye(o,()=>t.title),o})()})(),null),Be(i=>{const o=e.a.stroke,a={...t.style,overflow:"visible",color:t.color||"currentColor"},u=t.size||"1em",s=t.size||"1em",c=e.c;return o!==i._v$&&Tt(r,"stroke",i._v$=o),i._v$2=Xo(r,a,i._v$2),u!==i._v$3&&Tt(r,"height",i._v$3=u),s!==i._v$4&&Tt(r,"width",i._v$4=s),c!==i._v$5&&(r.innerHTML=i._v$5=c),i},{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0,_v$5:void 0}),r})()}function cf(e){return hu({a:{viewBox:"0 0 24 24"},c:'<path d="M20 5h-9.586L8.707 3.293A.997.997 0 008 3H4c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h16c1.103 0 2-.897 2-2V7c0-1.103-.897-2-2-2zm-4 9h-3v3h-2v-3H8v-2h3V9h2v3h3v2z"/>'},e)}function lf(e){return hu({a:{viewBox:"0 0 24 24"},c:'<path d="M6 7H5v13a2 2 0 002 2h10a2 2 0 002-2V7H6zm4 12H8v-9h2v9zm6 0h-2v-9h2v9zm.618-15L15 2H9L7.382 4H3v2h18V4z"/>'},e)}const ff=Te('<div class="sampleExplorer col-3"><input id="fileExplorer" type="file" hidden multiple><div class="sampleExplorer-header relative"><span>Samples</span></div><div class="sampleExplorer-list"></div></div>'),hf=Te("<div><span></span></div>"),pf=()=>{const e=of(()=>ke.instance.getAllSampleFileNames()),[t,n]=yt(null);return(()=>{const r=ff.cloneNode(!0),i=r.firstChild,o=i.nextSibling;o.firstChild;const a=o.nextSibling;return r.addEventListener("mouseleave",()=>n(null)),i.addEventListener("change",u=>{if(u.currentTarget.files)for(const s of u.currentTarget.files)ke.instance.addSampleFromFile(s)}),ye(o,Ve(cf,{class:"icon",onClick:()=>{var u;return(u=document.getElementById("fileExplorer"))==null?void 0:u.click()}}),null),ye(a,Ve(Iu,{each:e,children:(u,s)=>(()=>{const c=hf.cloneNode(!0),f=c.firstChild;return c.$$mouseover=()=>n(s),c.addEventListener("dragstart",y=>{var p;return(p=y.dataTransfer)==null?void 0:p.setData("text/plain",y.target.textContent??"")}),Tt(c,"draggable",!0),ye(f,u),ye(c,(()=>{const y=et(()=>s()===t());return()=>y()&&Ve(lf,{class:"icon",onClick:async()=>confirm(`Delete '${u}' from sample bank?`)&&ke.instance.deleteSampleByName(u)})})(),null),Be(y=>Jo(c,{"sampleExplorer-item relative":!0,selected:s()===t()},y)),c})()})),r})()};rn(["mouseover"]);Fu(()=>Ve(Kl,{}),document.getElementById("root"));
