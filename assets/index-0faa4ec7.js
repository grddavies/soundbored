var qs=Object.defineProperty;var Ls=(e,t,n)=>t in e?qs(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var _e=(e,t,n)=>(Ls(e,typeof t!="symbol"?t+"":t,n),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();const Ks=(e,t)=>e===t,Ke=Symbol("solid-proxy"),oi=Symbol("solid-track"),zn={equals:Ks};let aa=fa;const it=1,Vn=2,sa={owned:null,cleanups:null,context:null,owner:null},gr={};var Ae=null;let mr=null,ye=null,Pe=null,et=null,or=0;function In(e,t){const n=ye,r=Ae,i=e.length===0,o=i?sa:{owned:null,cleanups:null,context:null,owner:t===void 0?r:t},a=i?e:()=>e(()=>Ce(()=>lr(o)));Ae=o,ye=null;try{return ct(a,!0)}finally{ye=n,Ae=r}}function me(e,t){t=t?Object.assign({},zn,t):zn;const n={value:e,observers:null,observerSlots:null,comparator:t.equals||void 0},r=i=>(typeof i=="function"&&(i=i(n.value)),ua(n,i));return[ca.bind(n),r]}function yo(e,t,n){const r=sr(e,t,!0,it);Vt(r)}function ue(e,t,n){const r=sr(e,t,!1,it);Vt(r)}function ar(e,t,n){aa=Ws;const r=sr(e,t,!1,it);(!n||!n.render)&&(r.user=!0),et?et.push(r):Vt(r)}function Se(e,t,n){n=n?Object.assign({},zn,n):zn;const r=sr(e,t,!0,0);return r.observers=null,r.observerSlots=null,r.comparator=n.equals||void 0,Vt(r),ca.bind(r)}function Vi(e,t,n){let r,i,o;arguments.length===2&&typeof t=="object"||arguments.length===1?(r=!0,i=e,o=t||{}):(r=e,i=t,o=n||{});let a=null,s=gr,l=!1,f="initialValue"in o,c=typeof r=="function"&&Se(r);const d=new Set,[u,p]=(o.storage||me)(o.initialValue),[w,b]=me(void 0),[y,g]=me(void 0,{equals:!1}),[v,A]=me(f?"ready":"unresolved");function O(T,C,K,V){return a===T&&(a=null,f=!0,(T===s||C===s)&&o.onHydrated&&queueMicrotask(()=>o.onHydrated(V,{value:C})),s=gr,S(C,K)),C}function S(T,C){ct(()=>{C===void 0&&p(()=>T),A(C!==void 0?"errored":"ready"),b(C);for(const K of d.keys())K.decrement();d.clear()},!1)}function $(){const T=Vs,C=u(),K=w();if(K!==void 0&&!a)throw K;return ye&&!ye.user&&T&&yo(()=>{y(),a&&(T.resolved||d.has(T)||(T.increment(),d.add(T)))}),C}function j(T=!0){if(T!==!1&&l)return;l=!1;const C=c?c():r;if(C==null||C===!1){O(a,Ce(u));return}const K=s!==gr?s:Ce(()=>i(C,{value:u(),refetching:T}));return typeof K!="object"||!(K&&"then"in K)?(O(a,K,void 0,C),K):(a=K,l=!0,queueMicrotask(()=>l=!1),ct(()=>{A(f?"refreshing":"pending"),g()},!1),K.then(V=>O(K,V,void 0,C),V=>O(K,void 0,Ys(V),C)))}return Object.defineProperties($,{state:{get:()=>v()},error:{get:()=>w()},loading:{get(){const T=v();return T==="pending"||T==="refreshing"}},latest:{get(){if(!f)return $();const T=w();if(T&&!a)throw T;return u()}}}),c?yo(()=>j(!1)):j(!1),[$,{refetch:j,mutate:p}]}function la(e){return ct(e,!1)}function Ce(e){if(ye===null)return e();const t=ye;ye=null;try{return e()}finally{ye=t}}function Us(e,t,n){const r=Array.isArray(e);let i,o=n&&n.defer;return a=>{let s;if(r){s=Array(e.length);for(let f=0;f<e.length;f++)s[f]=e[f]()}else s=e();if(o){o=!1;return}const l=Ce(()=>t(s,i,a));return i=s,l}}function sn(e){return Ae===null||(Ae.cleanups===null?Ae.cleanups=[e]:Ae.cleanups.push(e)),e}function Gi(){return ye}function zs(e){const t=Se(e),n=Se(()=>ai(t()));return n.toArray=()=>{const r=n();return Array.isArray(r)?r:r!=null?[r]:[]},n}let Vs;function ca(){if(this.sources&&this.state)if(this.state===it)Vt(this);else{const e=Pe;Pe=null,ct(()=>Hn(this),!1),Pe=e}if(ye){const e=this.observers?this.observers.length:0;ye.sources?(ye.sources.push(this),ye.sourceSlots.push(e)):(ye.sources=[this],ye.sourceSlots=[e]),this.observers?(this.observers.push(ye),this.observerSlots.push(ye.sources.length-1)):(this.observers=[ye],this.observerSlots=[ye.sources.length-1])}return this.value}function ua(e,t,n){let r=e.value;return(!e.comparator||!e.comparator(r,t))&&(e.value=t,e.observers&&e.observers.length&&ct(()=>{for(let i=0;i<e.observers.length;i+=1){const o=e.observers[i],a=mr&&mr.running;a&&mr.disposed.has(o),(a?!o.tState:!o.state)&&(o.pure?Pe.push(o):et.push(o),o.observers&&da(o)),a||(o.state=it)}if(Pe.length>1e6)throw Pe=[],new Error},!1)),t}function Vt(e){if(!e.fn)return;lr(e);const t=Ae,n=ye,r=or;ye=Ae=e,Gs(e,e.value,r),ye=n,Ae=t}function Gs(e,t,n){let r;try{r=e.fn(t)}catch(i){return e.pure&&(e.state=it,e.owned&&e.owned.forEach(lr),e.owned=null),e.updatedAt=n+1,ha(i)}(!e.updatedAt||e.updatedAt<=n)&&(e.updatedAt!=null&&"observers"in e?ua(e,r):e.value=r,e.updatedAt=n)}function sr(e,t,n,r=it,i){const o={fn:e,state:r,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:t,owner:Ae,context:null,pure:n};return Ae===null||Ae!==sa&&(Ae.owned?Ae.owned.push(o):Ae.owned=[o]),o}function Gn(e){if(e.state===0)return;if(e.state===Vn)return Hn(e);if(e.suspense&&Ce(e.suspense.inFallback))return e.suspense.effects.push(e);const t=[e];for(;(e=e.owner)&&(!e.updatedAt||e.updatedAt<or);)e.state&&t.push(e);for(let n=t.length-1;n>=0;n--)if(e=t[n],e.state===it)Vt(e);else if(e.state===Vn){const r=Pe;Pe=null,ct(()=>Hn(e,t[0]),!1),Pe=r}}function ct(e,t){if(Pe)return e();let n=!1;t||(Pe=[]),et?n=!0:et=[],or++;try{const r=e();return Hs(n),r}catch(r){n||(et=null),Pe=null,ha(r)}}function Hs(e){if(Pe&&(fa(Pe),Pe=null),e)return;const t=et;et=null,t.length&&ct(()=>aa(t),!1)}function fa(e){for(let t=0;t<e.length;t++)Gn(e[t])}function Ws(e){let t,n=0;for(t=0;t<e.length;t++){const r=e[t];r.user?e[n++]=r:Gn(r)}for(t=0;t<n;t++)Gn(e[t])}function Hn(e,t){e.state=0;for(let n=0;n<e.sources.length;n+=1){const r=e.sources[n];if(r.sources){const i=r.state;i===it?r!==t&&(!r.updatedAt||r.updatedAt<or)&&Gn(r):i===Vn&&Hn(r,t)}}}function da(e){for(let t=0;t<e.observers.length;t+=1){const n=e.observers[t];n.state||(n.state=Vn,n.pure?Pe.push(n):et.push(n),n.observers&&da(n))}}function lr(e){let t;if(e.sources)for(;e.sources.length;){const n=e.sources.pop(),r=e.sourceSlots.pop(),i=n.observers;if(i&&i.length){const o=i.pop(),a=n.observerSlots.pop();r<i.length&&(o.sourceSlots[a]=r,i[r]=o,n.observerSlots[r]=a)}}if(e.owned){for(t=e.owned.length-1;t>=0;t--)lr(e.owned[t]);e.owned=null}if(e.cleanups){for(t=e.cleanups.length-1;t>=0;t--)e.cleanups[t]();e.cleanups=null}e.state=0,e.context=null}function Ys(e){return e instanceof Error?e:new Error(typeof e=="string"?e:"Unknown error",{cause:e})}function ha(e){throw e}function ai(e){if(typeof e=="function"&&!e.length)return ai(e());if(Array.isArray(e)){const t=[];for(let n=0;n<e.length;n++){const r=ai(e[n]);Array.isArray(r)?t.push.apply(t,r):t.push(r)}return t}return e}const Js=Symbol("fallback");function go(e){for(let t=0;t<e.length;t++)e[t]()}function Xs(e,t,n={}){let r=[],i=[],o=[],a=0,s=t.length>1?[]:null;return sn(()=>go(o)),()=>{let l=e()||[],f,c;return l[oi],Ce(()=>{let u=l.length,p,w,b,y,g,v,A,O,S;if(u===0)a!==0&&(go(o),o=[],r=[],i=[],a=0,s&&(s=[])),n.fallback&&(r=[Js],i[0]=In($=>(o[0]=$,n.fallback())),a=1);else if(a===0){for(i=new Array(u),c=0;c<u;c++)r[c]=l[c],i[c]=In(d);a=u}else{for(b=new Array(u),y=new Array(u),s&&(g=new Array(u)),v=0,A=Math.min(a,u);v<A&&r[v]===l[v];v++);for(A=a-1,O=u-1;A>=v&&O>=v&&r[A]===l[O];A--,O--)b[O]=i[A],y[O]=o[A],s&&(g[O]=s[A]);for(p=new Map,w=new Array(O+1),c=O;c>=v;c--)S=l[c],f=p.get(S),w[c]=f===void 0?-1:f,p.set(S,c);for(f=v;f<=A;f++)S=r[f],c=p.get(S),c!==void 0&&c!==-1?(b[c]=i[f],y[c]=o[f],s&&(g[c]=s[f]),c=w[c],p.set(S,c)):o[f]();for(c=v;c<u;c++)c in b?(i[c]=b[c],o[c]=y[c],s&&(s[c]=g[c],s[c](c))):i[c]=In(d);i=i.slice(0,a=u),r=l.slice(0)}return i});function d(u){if(o[c]=u,s){const[p,w]=me(c);return s[c]=w,t(l[c],p)}return t(l[c])}}}function oe(e,t){return Ce(()=>e(t||{}))}function _n(){return!0}const si={get(e,t,n){return t===Ke?n:e.get(t)},has(e,t){return t===Ke?!0:e.has(t)},set:_n,deleteProperty:_n,getOwnPropertyDescriptor(e,t){return{configurable:!0,enumerable:!0,get(){return e.get(t)},set:_n,deleteProperty:_n}},ownKeys(e){return e.keys()}};function br(e){return(e=typeof e=="function"?e():e)?e:{}}function pa(...e){let t=!1;for(let r=0;r<e.length;r++){const i=e[r];t=t||!!i&&Ke in i,e[r]=typeof i=="function"?(t=!0,Se(i)):i}if(t)return new Proxy({get(r){for(let i=e.length-1;i>=0;i--){const o=br(e[i])[r];if(o!==void 0)return o}},has(r){for(let i=e.length-1;i>=0;i--)if(r in br(e[i]))return!0;return!1},keys(){const r=[];for(let i=0;i<e.length;i++)r.push(...Object.keys(br(e[i])));return[...new Set(r)]}},si);const n={};for(let r=e.length-1;r>=0;r--)if(e[r]){const i=Object.getOwnPropertyDescriptors(e[r]);for(const o in i)o in n||Object.defineProperty(n,o,{enumerable:!0,get(){for(let a=e.length-1;a>=0;a--){const s=(e[a]||{})[o];if(s!==void 0)return s}}})}return n}function Qs(e,...t){const n=new Set(t.flat());if(Ke in e){const i=t.map(o=>new Proxy({get(a){return o.includes(a)?e[a]:void 0},has(a){return o.includes(a)&&a in e},keys(){return o.filter(a=>a in e)}},si));return i.push(new Proxy({get(o){return n.has(o)?void 0:e[o]},has(o){return n.has(o)?!1:o in e},keys(){return Object.keys(e).filter(o=>!n.has(o))}},si)),i}const r=Object.getOwnPropertyDescriptors(e);return t.push(Object.keys(r).filter(i=>!n.has(i))),t.map(i=>{const o={};for(let a=0;a<i.length;a++){const s=i[a];s in e&&Object.defineProperty(o,s,r[s]?r[s]:{get(){return e[s]},set(){return!0},enumerable:!0})}return o})}const ya=e=>`Stale read from <${e}>.`;function Zs(e){const t="fallback"in e&&{fallback:()=>e.fallback};return Se(Xs(()=>e.each,e.children,t||void 0))}function el(e){const t=e.keyed,n=Se(()=>e.when,void 0,{equals:(r,i)=>t?r===i:!r==!i});return Se(()=>{const r=n();if(r){const i=e.children;return typeof i=="function"&&i.length>0?Ce(()=>i(t?r:()=>{if(!Ce(n))throw ya("Show");return e.when})):i}return e.fallback},void 0,void 0)}function ga(e){let t=!1;const n=(o,a)=>o[0]===a[0]&&(t?o[1]===a[1]:!o[1]==!a[1])&&o[2]===a[2],r=zs(()=>e.children),i=Se(()=>{let o=r();Array.isArray(o)||(o=[o]);for(let a=0;a<o.length;a++){const s=o[a].when;if(s)return t=!!o[a].keyed,[a,s,o[a]]}return[-1]},void 0,{equals:n});return Se(()=>{const[o,a,s]=i();if(o<0)return e.fallback;const l=s.children;return typeof l=="function"&&l.length>0?Ce(()=>l(t?a:()=>{if(Ce(i)[0]!==o)throw ya("Match");return s.when})):l},void 0,void 0)}function Dt(e){return e}const tl=["allowfullscreen","async","autofocus","autoplay","checked","controls","default","disabled","formnovalidate","hidden","indeterminate","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","seamless","selected"],nl=new Set(["className","value","readOnly","formNoValidate","isMap","noModule","playsInline",...tl]),rl=new Set(["innerHTML","textContent","innerText","children"]),il=Object.assign(Object.create(null),{className:"class",htmlFor:"for"}),ol=Object.assign(Object.create(null),{class:"className",formnovalidate:{$:"formNoValidate",BUTTON:1,INPUT:1},ismap:{$:"isMap",IMG:1},nomodule:{$:"noModule",SCRIPT:1},playsinline:{$:"playsInline",VIDEO:1},readonly:{$:"readOnly",INPUT:1,TEXTAREA:1}});function al(e,t){const n=ol[e];return typeof n=="object"?n[t]?n.$:void 0:n}const sl=new Set(["beforeinput","click","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"]),ll={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"};function cl(e,t,n){let r=n.length,i=t.length,o=r,a=0,s=0,l=t[i-1].nextSibling,f=null;for(;a<i||s<o;){if(t[a]===n[s]){a++,s++;continue}for(;t[i-1]===n[o-1];)i--,o--;if(i===a){const c=o<r?s?n[s-1].nextSibling:n[o-s]:l;for(;s<o;)e.insertBefore(n[s++],c)}else if(o===s)for(;a<i;)(!f||!f.has(t[a]))&&t[a].remove(),a++;else if(t[a]===n[o-1]&&n[s]===t[i-1]){const c=t[--i].nextSibling;e.insertBefore(n[s++],t[a++].nextSibling),e.insertBefore(n[--o],c),t[i]=n[o]}else{if(!f){f=new Map;let d=s;for(;d<o;)f.set(n[d],d++)}const c=f.get(t[a]);if(c!=null)if(s<c&&c<o){let d=a,u=1,p;for(;++d<i&&d<o&&!((p=f.get(t[d]))==null||p!==c+u);)u++;if(u>c-s){const w=t[a];for(;s<c;)e.insertBefore(n[s++],w)}else e.replaceChild(n[s++],t[a++])}else a++;else t[a++].remove()}}}const mo="_$DX_DELEGATE";function ul(e,t,n,r={}){let i;return In(o=>{i=o,t===document?e():re(t,e(),t.firstChild?null:void 0,n)},r.owner),()=>{i(),t.textContent=""}}function ce(e,t,n){let r;const i=()=>{const a=document.createElement("template");return a.innerHTML=e,n?a.content.firstChild.firstChild:a.content.firstChild},o=t?()=>(r||(r=i())).cloneNode(!0):()=>Ce(()=>document.importNode(r||(r=i()),!0));return o.cloneNode=o,o}function Gt(e,t=window.document){const n=t[mo]||(t[mo]=new Set);for(let r=0,i=e.length;r<i;r++){const o=e[r];n.has(o)||(n.add(o),t.addEventListener(o,pl))}}function le(e,t,n){n==null?e.removeAttribute(t):e.setAttribute(t,n)}function fl(e,t,n,r){r==null?e.removeAttributeNS(t,n):e.setAttributeNS(t,n,r)}function ve(e,t){t==null?e.removeAttribute("class"):e.className=t}function li(e,t,n,r){if(r)Array.isArray(n)?(e[`$$${t}`]=n[0],e[`$$${t}Data`]=n[1]):e[`$$${t}`]=n;else if(Array.isArray(n)){const i=n[0];e.addEventListener(t,n[0]=o=>i.call(e,n[1],o))}else e.addEventListener(t,n)}function ci(e,t,n={}){const r=Object.keys(t||{}),i=Object.keys(n);let o,a;for(o=0,a=i.length;o<a;o++){const s=i[o];!s||s==="undefined"||t[s]||(bo(e,s,!1),delete n[s])}for(o=0,a=r.length;o<a;o++){const s=r[o],l=!!t[s];!s||s==="undefined"||n[s]===l||!l||(bo(e,s,!0),n[s]=l)}return n}function ma(e,t,n){if(!t)return n?le(e,"style"):t;const r=e.style;if(typeof t=="string")return r.cssText=t;typeof n=="string"&&(r.cssText=n=void 0),n||(n={}),t||(t={});let i,o;for(o in n)t[o]==null&&r.removeProperty(o),delete n[o];for(o in t)i=t[o],i!==n[o]&&(r.setProperty(o,i),n[o]=i);return n}function ba(e,t={},n,r){const i={};return r||ue(()=>i.children=Kt(e,t.children,i.children)),ue(()=>t.ref&&t.ref(e)),ue(()=>dl(e,t,n,!0,i,!0)),i}function lt(e,t,n){return Ce(()=>e(t,n))}function re(e,t,n,r){if(n!==void 0&&!r&&(r=[]),typeof t!="function")return Kt(e,t,r,n);ue(i=>Kt(e,t(),i,n),r)}function dl(e,t,n,r,i={},o=!1){t||(t={});for(const a in i)if(!(a in t)){if(a==="children")continue;i[a]=vo(e,a,null,i[a],n,o)}for(const a in t){if(a==="children"){r||Kt(e,t.children);continue}const s=t[a];i[a]=vo(e,a,s,i[a],n,o)}}function hl(e){return e.toLowerCase().replace(/-([a-z])/g,(t,n)=>n.toUpperCase())}function bo(e,t,n){const r=t.trim().split(/\s+/);for(let i=0,o=r.length;i<o;i++)e.classList.toggle(r[i],n)}function vo(e,t,n,r,i,o){let a,s,l,f,c;if(t==="style")return ma(e,n,r);if(t==="classList")return ci(e,n,r);if(n===r)return r;if(t==="ref")o||n(e);else if(t.slice(0,3)==="on:"){const d=t.slice(3);r&&e.removeEventListener(d,r),n&&e.addEventListener(d,n)}else if(t.slice(0,10)==="oncapture:"){const d=t.slice(10);r&&e.removeEventListener(d,r,!0),n&&e.addEventListener(d,n,!0)}else if(t.slice(0,2)==="on"){const d=t.slice(2).toLowerCase(),u=sl.has(d);if(!u&&r){const p=Array.isArray(r)?r[0]:r;e.removeEventListener(d,p)}(u||n)&&(li(e,d,n,u),u&&Gt([d]))}else if(t.slice(0,5)==="attr:")le(e,t.slice(5),n);else if((c=t.slice(0,5)==="prop:")||(l=rl.has(t))||!i&&((f=al(t,e.tagName))||(s=nl.has(t)))||(a=e.nodeName.includes("-")))c&&(t=t.slice(5),s=!0),t==="class"||t==="className"?ve(e,n):a&&!s&&!l?e[hl(t)]=n:e[f||t]=n;else{const d=i&&t.indexOf(":")>-1&&ll[t.split(":")[0]];d?fl(e,d,t,n):le(e,il[t]||t,n)}return n}function pl(e){const t=`$$${e.type}`;let n=e.composedPath&&e.composedPath()[0]||e.target;for(e.target!==n&&Object.defineProperty(e,"target",{configurable:!0,value:n}),Object.defineProperty(e,"currentTarget",{configurable:!0,get(){return n||document}});n;){const r=n[t];if(r&&!n.disabled){const i=n[`${t}Data`];if(i!==void 0?r.call(n,i,e):r.call(n,e),e.cancelBubble)return}n=n._$host||n.parentNode||n.host}}function Kt(e,t,n,r,i){for(;typeof n=="function";)n=n();if(t===n)return n;const o=typeof t,a=r!==void 0;if(e=a&&n[0]&&n[0].parentNode||e,o==="string"||o==="number")if(o==="number"&&(t=t.toString()),a){let s=n[0];s&&s.nodeType===3?s.data=t:s=document.createTextNode(t),n=kt(e,n,r,s)}else n!==""&&typeof n=="string"?n=e.firstChild.data=t:n=e.textContent=t;else if(t==null||o==="boolean")n=kt(e,n,r);else{if(o==="function")return ue(()=>{let s=t();for(;typeof s=="function";)s=s();n=Kt(e,s,n,r)}),()=>n;if(Array.isArray(t)){const s=[],l=n&&Array.isArray(n);if(ui(s,t,n,i))return ue(()=>n=Kt(e,s,n,r,!0)),()=>n;if(s.length===0){if(n=kt(e,n,r),a)return n}else l?n.length===0?wo(e,s,r):cl(e,n,s):(n&&kt(e),wo(e,s));n=s}else if(t instanceof Node){if(Array.isArray(n)){if(a)return n=kt(e,n,r,t);kt(e,n,null,t)}else n==null||n===""||!e.firstChild?e.appendChild(t):e.replaceChild(t,e.firstChild);n=t}else console.warn("Unrecognized value. Skipped inserting",t)}return n}function ui(e,t,n,r){let i=!1;for(let o=0,a=t.length;o<a;o++){let s=t[o],l=n&&n[o];if(s instanceof Node)e.push(s);else if(!(s==null||s===!0||s===!1))if(Array.isArray(s))i=ui(e,s,l)||i;else if(typeof s=="function")if(r){for(;typeof s=="function";)s=s();i=ui(e,Array.isArray(s)?s:[s],Array.isArray(l)?l:[l])||i}else e.push(s),i=!0;else{const f=String(s);l&&l.nodeType===3?(l.data=f,e.push(l)):e.push(document.createTextNode(f))}}return i}function wo(e,t,n=null){for(let r=0,i=t.length;r<i;r++)e.insertBefore(t[r],n)}function kt(e,t,n,r){if(n===void 0)return e.textContent="";const i=r||document.createTextNode("");if(t.length){let o=!1;for(let a=t.length-1;a>=0;a--){const s=t[a];if(i!==s){const l=s.parentNode===e;!o&&!a?l?e.replaceChild(i,s):e.insertBefore(i,n):l&&s.remove()}else o=!0}}else e.insertBefore(i,n);return[i]}const yl=!1;const gl=ce('<svg fill="currentColor" stroke-width="0" xmlns="http://www.w3.org/2000/svg"></svg>',2),ml=ce("<title></title>",2);function qe(e,t){const n=pa(e.a,t);return(()=>{const r=gl.cloneNode(!0);return ba(r,n,!0,!0),re(r,()=>yl,null),re(r,(()=>{const i=Se(()=>!!t.title,!0);return()=>i()&&(()=>{const o=ml.cloneNode(!0);return re(o,()=>t.title),o})()})(),null),ue(i=>{const o=e.a.stroke,a={...t.style,overflow:"visible",color:t.color||"currentColor"},s=t.size||"1em",l=t.size||"1em",f=e.c;return o!==i._v$&&le(r,"stroke",i._v$=o),i._v$2=ma(r,a,i._v$2),s!==i._v$3&&le(r,"height",i._v$3=s),l!==i._v$4&&le(r,"width",i._v$4=l),f!==i._v$5&&(r.innerHTML=i._v$5=f),i},{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0,_v$5:void 0}),r})()}function bl(e){return qe({a:{viewBox:"0 0 24 24"},c:'<path fill-rule="evenodd" d="M12.026 2c-5.509 0-9.974 4.465-9.974 9.974 0 4.406 2.857 8.145 6.821 9.465.499.09.679-.217.679-.481 0-.237-.008-.865-.011-1.696-2.775.602-3.361-1.338-3.361-1.338-.452-1.152-1.107-1.459-1.107-1.459-.905-.619.069-.605.069-.605 1.002.07 1.527 1.028 1.527 1.028.89 1.524 2.336 1.084 2.902.829.091-.645.351-1.085.635-1.334-2.214-.251-4.542-1.107-4.542-4.93 0-1.087.389-1.979 1.024-2.675-.101-.253-.446-1.268.099-2.64 0 0 .837-.269 2.742 1.021a9.582 9.582 0 012.496-.336 9.554 9.554 0 012.496.336c1.906-1.291 2.742-1.021 2.742-1.021.545 1.372.203 2.387.099 2.64.64.696 1.024 1.587 1.024 2.675 0 3.833-2.33 4.675-4.552 4.922.355.308.675.916.675 1.846 0 1.334-.012 2.41-.012 2.737 0 .267.178.577.687.479C19.146 20.115 22 16.379 22 11.974 22 6.465 17.535 2 12.026 2z" clip-rule="evenodd"/>'},e)}function vl(e){return qe({a:{viewBox:"0 0 24 24"},c:'<path d="M13 19v-4h3l-4-5-4 5h3v4z"/><path d="M7 19h2v-2H7c-1.654 0-3-1.346-3-3 0-1.404 1.199-2.756 2.673-3.015l.581-.102.192-.558C8.149 8.274 9.895 7 12 7c2.757 0 5 2.243 5 5v1h1c1.103 0 2 .897 2 2s-.897 2-2 2h-3v2h3c2.206 0 4-1.794 4-4a4.01 4.01 0 00-3.056-3.888C18.507 7.67 15.56 5 12 5 9.244 5 6.85 6.611 5.757 9.15 3.609 9.792 2 11.82 2 14c0 2.757 2.243 5 5 5z"/>'},e)}function wl(e){return qe({a:{viewBox:"0 0 24 24"},c:'<path d="M12 6a3.939 3.939 0 00-3.934 3.934h2C10.066 8.867 10.934 8 12 8s1.934.867 1.934 1.934c0 .598-.481 1.032-1.216 1.626a9.208 9.208 0 00-.691.599c-.998.997-1.027 2.056-1.027 2.174V15h2l-.001-.633c.001-.016.033-.386.441-.793.15-.15.339-.3.535-.458.779-.631 1.958-1.584 1.958-3.182A3.937 3.937 0 0012 6zm-1 10h2v2h-2z"/><path d="M12 2C6.486 2 2 6.486 2 12s4.486 10 10 10 10-4.486 10-10S17.514 2 12 2zm0 18c-4.411 0-8-3.589-8-8s3.589-8 8-8 8 3.589 8 8-3.589 8-8 8z"/>'},e)}function _l(e){return qe({a:{viewBox:"0 0 24 24"},c:'<path d="M7 6v12l10-6z"/>'},e)}function Sl(e){return qe({a:{viewBox:"0 0 24 24"},c:'<path d="M7 7h10v10H7z"/>'},e)}function Al(e){return qe({a:{viewBox:"0 0 24 24"},c:'<path d="M2.165 19.551c.186.28.499.449.835.449h15c.4 0 .762-.238.919-.606l3-7A.998.998 0 0021 11h-1V8c0-1.103-.897-2-2-2h-6.655L8.789 4H4c-1.103 0-2 .897-2 2v13h.007a1 1 0 00.158.551zM18 8v3H6c-.4 0-.762.238-.919.606L4 14.129V8h14z"/>'},e)}function El(e){return qe({a:{viewBox:"0 0 24 24"},c:'<path d="M20 5h-9.586L8.707 3.293A.997.997 0 008 3H4c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h16c1.103 0 2-.897 2-2V7c0-1.103-.897-2-2-2z"/>'},e)}function Ol(e){return qe({a:{viewBox:"0 0 24 24"},c:'<path d="M6 7H5v13a2 2 0 002 2h10a2 2 0 002-2V7H6zm4 12H8v-9h2v9zm6 0h-2v-9h2v9zm.618-15L15 2H9L7.382 4H3v2h18V4z"/>'},e)}const de=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,be=Object.keys,Oe=Array.isArray;function ke(e,t){return typeof t!="object"||be(t).forEach(function(n){e[n]=t[n]}),e}typeof Promise>"u"||de.Promise||(de.Promise=Promise);const ln=Object.getPrototypeOf,Pl={}.hasOwnProperty;function Fe(e,t){return Pl.call(e,t)}function Ut(e,t){typeof t=="function"&&(t=t(ln(e))),(typeof Reflect>"u"?be:Reflect.ownKeys)(t).forEach(n=>{tt(e,n,t[n])})}const va=Object.defineProperty;function tt(e,t,n,r){va(e,t,ke(n&&Fe(n,"get")&&typeof n.get=="function"?{get:n.get,set:n.set,configurable:!0}:{value:n,configurable:!0,writable:!0},r))}function Ft(e){return{from:function(t){return e.prototype=Object.create(t.prototype),tt(e.prototype,"constructor",e),{extend:Ut.bind(null,e.prototype)}}}}const $l=Object.getOwnPropertyDescriptor;function Hi(e,t){let n;return $l(e,t)||(n=ln(e))&&Hi(n,t)}const jl=[].slice;function Wn(e,t,n){return jl.call(e,t,n)}function wa(e,t){return t(e)}function Qt(e){if(!e)throw new Error("Assertion Failed")}function _a(e){de.setImmediate?setImmediate(e):setTimeout(e,0)}function Sa(e,t){return e.reduce((n,r,i)=>{var o=t(r,i);return o&&(n[o[0]]=o[1]),n},{})}function nt(e,t){if(Fe(e,t))return e[t];if(!t)return e;if(typeof t!="string"){for(var n=[],r=0,i=t.length;r<i;++r){var o=nt(e,t[r]);n.push(o)}return n}var a=t.indexOf(".");if(a!==-1){var s=e[t.substr(0,a)];return s===void 0?void 0:nt(s,t.substr(a+1))}}function Le(e,t,n){if(e&&t!==void 0&&(!("isFrozen"in Object)||!Object.isFrozen(e)))if(typeof t!="string"&&"length"in t){Qt(typeof n!="string"&&"length"in n);for(var r=0,i=t.length;r<i;++r)Le(e,t[r],n[r])}else{var o=t.indexOf(".");if(o!==-1){var a=t.substr(0,o),s=t.substr(o+1);if(s==="")n===void 0?Oe(e)&&!isNaN(parseInt(a))?e.splice(a,1):delete e[a]:e[a]=n;else{var l=e[a];l&&Fe(e,a)||(l=e[a]={}),Le(l,s,n)}}else n===void 0?Oe(e)&&!isNaN(parseInt(t))?e.splice(t,1):delete e[t]:e[t]=n}}function Aa(e){var t={};for(var n in e)Fe(e,n)&&(t[n]=e[n]);return t}const xl=[].concat;function Ea(e){return xl.apply([],e)}const Oa="Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(Ea([8,16,32,64].map(e=>["Int","Uint","Float"].map(t=>t+e+"Array")))).filter(e=>de[e]),kl=Oa.map(e=>de[e]);Sa(Oa,e=>[e,!0]);let at=null;function mn(e){at=typeof WeakMap<"u"&&new WeakMap;const t=fi(e);return at=null,t}function fi(e){if(!e||typeof e!="object")return e;let t=at&&at.get(e);if(t)return t;if(Oe(e)){t=[],at&&at.set(e,t);for(var n=0,r=e.length;n<r;++n)t.push(fi(e[n]))}else if(kl.indexOf(e.constructor)>=0)t=e;else{const o=ln(e);for(var i in t=o===Object.prototype?{}:Object.create(o),at&&at.set(e,t),e)Fe(e,i)&&(t[i]=fi(e[i]))}return t}const{toString:Tl}={};function di(e){return Tl.call(e).slice(8,-1)}const hi=typeof Symbol<"u"?Symbol.iterator:"@@iterator",Il=typeof hi=="symbol"?function(e){var t;return e!=null&&(t=e[hi])&&t.apply(e)}:function(){return null},Rt={};function Qe(e){var t,n,r,i;if(arguments.length===1){if(Oe(e))return e.slice();if(this===Rt&&typeof e=="string")return[e];if(i=Il(e)){for(n=[];!(r=i.next()).done;)n.push(r.value);return n}if(e==null)return[e];if(typeof(t=e.length)=="number"){for(n=new Array(t);t--;)n[t]=e[t];return n}return[e]}for(t=arguments.length,n=new Array(t);t--;)n[t]=arguments[t];return n}const Wi=typeof Symbol<"u"?e=>e[Symbol.toStringTag]==="AsyncFunction":()=>!1;var Ve=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function Pa(e,t){Ve=e,$a=t}var $a=()=>!0;const Rl=!new Error("").stack;function $t(){if(Rl)try{throw $t.arguments,new Error}catch(e){return e}return new Error}function pi(e,t){var n=e.stack;return n?(t=t||0,n.indexOf(e.name)===0&&(t+=(e.name+e.message).split(`
`).length),n.split(`
`).slice(t).filter($a).map(r=>`
`+r).join("")):""}var ja=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],Yi=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(ja),Cl={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function qt(e,t){this._e=$t(),this.name=e,this.message=t}function xa(e,t){return e+". Errors: "+Object.keys(t).map(n=>t[n].toString()).filter((n,r,i)=>i.indexOf(n)===r).join(`
`)}function Yn(e,t,n,r){this._e=$t(),this.failures=t,this.failedKeys=r,this.successCount=n,this.message=xa(e,t)}function tn(e,t){this._e=$t(),this.name="BulkError",this.failures=Object.keys(t).map(n=>t[n]),this.failuresByPos=t,this.message=xa(e,t)}Ft(qt).from(Error).extend({stack:{get:function(){return this._stack||(this._stack=this.name+": "+this.message+pi(this._e,2))}},toString:function(){return this.name+": "+this.message}}),Ft(Yn).from(qt),Ft(tn).from(qt);var Ji=Yi.reduce((e,t)=>(e[t]=t+"Error",e),{});const Bl=qt;var Q=Yi.reduce((e,t)=>{var n=t+"Error";function r(i,o){this._e=$t(),this.name=n,i?typeof i=="string"?(this.message=`${i}${o?`
 `+o:""}`,this.inner=o||null):typeof i=="object"&&(this.message=`${i.name} ${i.message}`,this.inner=i):(this.message=Cl[t]||n,this.inner=null)}return Ft(r).from(Bl),e[t]=r,e},{});Q.Syntax=SyntaxError,Q.Type=TypeError,Q.Range=RangeError;var _o=ja.reduce((e,t)=>(e[t+"Error"]=Q[t],e),{}),Rn=Yi.reduce((e,t)=>(["Syntax","Type","Range"].indexOf(t)===-1&&(e[t+"Error"]=Q[t]),e),{});function fe(){}function cn(e){return e}function Dl(e,t){return e==null||e===cn?t:function(n){return t(e(n))}}function Et(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function Nl(e,t){return e===fe?t:function(){var n=e.apply(this,arguments);n!==void 0&&(arguments[0]=n);var r=this.onsuccess,i=this.onerror;this.onsuccess=null,this.onerror=null;var o=t.apply(this,arguments);return r&&(this.onsuccess=this.onsuccess?Et(r,this.onsuccess):r),i&&(this.onerror=this.onerror?Et(i,this.onerror):i),o!==void 0?o:n}}function Ml(e,t){return e===fe?t:function(){e.apply(this,arguments);var n=this.onsuccess,r=this.onerror;this.onsuccess=this.onerror=null,t.apply(this,arguments),n&&(this.onsuccess=this.onsuccess?Et(n,this.onsuccess):n),r&&(this.onerror=this.onerror?Et(r,this.onerror):r)}}function Fl(e,t){return e===fe?t:function(n){var r=e.apply(this,arguments);ke(n,r);var i=this.onsuccess,o=this.onerror;this.onsuccess=null,this.onerror=null;var a=t.apply(this,arguments);return i&&(this.onsuccess=this.onsuccess?Et(i,this.onsuccess):i),o&&(this.onerror=this.onerror?Et(o,this.onerror):o),r===void 0?a===void 0?void 0:a:ke(r,a)}}function ql(e,t){return e===fe?t:function(){return t.apply(this,arguments)!==!1&&e.apply(this,arguments)}}function Xi(e,t){return e===fe?t:function(){var n=e.apply(this,arguments);if(n&&typeof n.then=="function"){for(var r=this,i=arguments.length,o=new Array(i);i--;)o[i]=arguments[i];return n.then(function(){return t.apply(r,o)})}return t.apply(this,arguments)}}Rn.ModifyError=Yn,Rn.DexieError=qt,Rn.BulkError=tn;var un={};const[yi,Jn,gi]=typeof Promise>"u"?[]:(()=>{let e=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[e,ln(e),e];const t=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[t,ln(t),e]})(),ka=Jn&&Jn.then,Cn=yi&&yi.constructor,Qi=!!gi;var mi=!1,Ll=gi?()=>{gi.then(Sn)}:de.setImmediate?setImmediate.bind(null,Sn):de.MutationObserver?()=>{var e=document.createElement("div");new MutationObserver(()=>{Sn(),e=null}).observe(e,{attributes:!0}),e.setAttribute("i","1")}:()=>{setTimeout(Sn,0)},nn=function(e,t){Zt.push([e,t]),Xn&&(Ll(),Xn=!1)},bi=!0,Xn=!0,wt=[],Bn=[],vi=null,wi=cn,Lt={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:Ao,pgp:!1,env:{},finalize:function(){this.unhandleds.forEach(e=>{try{Ao(e[0],e[1])}catch{}})}},X=Lt,Zt=[],_t=0,Dn=[];function q(e){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this.onuncatched=fe,this._lib=!1;var t=this._PSD=X;if(Ve&&(this._stackHolder=$t(),this._prev=null,this._numPrev=0),typeof e!="function"){if(e!==un)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&Si(this,this._value))}this._state=null,this._value=null,++t.ref,Ia(this,e)}const _i={get:function(){var e=X,t=Qn;function n(r,i){var o=!e.global&&(e!==X||t!==Qn);const a=o&&!rt();var s=new q((l,f)=>{Zi(this,new Ta(Zn(r,e,o,a),Zn(i,e,o,a),l,f,e))});return Ve&&Ba(s,this),s}return n.prototype=un,n},set:function(e){tt(this,"then",e&&e.prototype===un?_i:{get:function(){return e},set:_i.set})}};function Ta(e,t,n,r,i){this.onFulfilled=typeof e=="function"?e:null,this.onRejected=typeof t=="function"?t:null,this.resolve=n,this.reject=r,this.psd=i}function Ia(e,t){try{t(n=>{if(e._state===null){if(n===e)throw new TypeError("A promise cannot be resolved with itself.");var r=e._lib&&bn();n&&typeof n.then=="function"?Ia(e,(i,o)=>{n instanceof q?n._then(i,o):n.then(i,o)}):(e._state=!0,e._value=n,Ra(e)),r&&vn()}},Si.bind(null,e))}catch(n){Si(e,n)}}function Si(e,t){if(Bn.push(t),e._state===null){var n=e._lib&&bn();t=wi(t),e._state=!1,e._value=t,Ve&&t!==null&&typeof t=="object"&&!t._promise&&function(r,i,o){try{r.apply(null,o)}catch(a){i&&i(a)}}(()=>{var r=Hi(t,"stack");t._promise=e,tt(t,"stack",{get:()=>mi?r&&(r.get?r.get.apply(t):r.value):e.stack})}),function(r){wt.some(i=>i._value===r._value)||wt.push(r)}(e),Ra(e),n&&vn()}}function Ra(e){var t=e._listeners;e._listeners=[];for(var n=0,r=t.length;n<r;++n)Zi(e,t[n]);var i=e._PSD;--i.ref||i.finalize(),_t===0&&(++_t,nn(()=>{--_t==0&&eo()},[]))}function Zi(e,t){if(e._state!==null){var n=e._state?t.onFulfilled:t.onRejected;if(n===null)return(e._state?t.resolve:t.reject)(e._value);++t.psd.ref,++_t,nn(Kl,[n,e,t])}else e._listeners.push(t)}function Kl(e,t,n){try{vi=t;var r,i=t._value;t._state?r=e(i):(Bn.length&&(Bn=[]),r=e(i),Bn.indexOf(i)===-1&&function(o){for(var a=wt.length;a;)if(wt[--a]._value===o._value)return void wt.splice(a,1)}(t)),n.resolve(r)}catch(o){n.reject(o)}finally{vi=null,--_t==0&&eo(),--n.psd.ref||n.psd.finalize()}}function Ca(e,t,n){if(t.length===n)return t;var r="";if(e._state===!1){var i,o,a=e._value;a!=null?(i=a.name||"Error",o=a.message||a,r=pi(a,0)):(i=a,o=""),t.push(i+(o?": "+o:"")+r)}return Ve&&((r=pi(e._stackHolder,2))&&t.indexOf(r)===-1&&t.push(r),e._prev&&Ca(e._prev,t,n)),t}function Ba(e,t){var n=t?t._numPrev+1:0;n<100&&(e._prev=t,e._numPrev=n)}function Sn(){bn()&&vn()}function bn(){var e=bi;return bi=!1,Xn=!1,e}function vn(){var e,t,n;do for(;Zt.length>0;)for(e=Zt,Zt=[],n=e.length,t=0;t<n;++t){var r=e[t];r[0].apply(null,r[1])}while(Zt.length>0);bi=!0,Xn=!0}function eo(){var e=wt;wt=[],e.forEach(r=>{r._PSD.onunhandled.call(null,r._value,r)});for(var t=Dn.slice(0),n=t.length;n;)t[--n]()}function An(e){return new q(un,!1,e)}function he(e,t){var n=X;return function(){var r=bn(),i=X;try{return ft(n,!0),e.apply(this,arguments)}catch(o){t&&t(o)}finally{ft(i,!1),r&&vn()}}}Ut(q.prototype,{then:_i,_then:function(e,t){Zi(this,new Ta(null,null,e,t,X))},catch:function(e){if(arguments.length===1)return this.then(null,e);var t=arguments[0],n=arguments[1];return typeof t=="function"?this.then(null,r=>r instanceof t?n(r):An(r)):this.then(null,r=>r&&r.name===t?n(r):An(r))},finally:function(e){return this.then(t=>(e(),t),t=>(e(),An(t)))},stack:{get:function(){if(this._stack)return this._stack;try{mi=!0;var e=Ca(this,[],20).join(`
From previous: `);return this._state!==null&&(this._stack=e),e}finally{mi=!1}}},timeout:function(e,t){return e<1/0?new q((n,r)=>{var i=setTimeout(()=>r(new Q.Timeout(t)),e);this.then(n,r).finally(clearTimeout.bind(null,i))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&tt(q.prototype,Symbol.toStringTag,"Dexie.Promise"),Lt.env=Da(),Ut(q,{all:function(){var e=Qe.apply(null,arguments).map(En);return new q(function(t,n){e.length===0&&t([]);var r=e.length;e.forEach((i,o)=>q.resolve(i).then(a=>{e[o]=a,--r||t(e)},n))})},resolve:e=>{if(e instanceof q)return e;if(e&&typeof e.then=="function")return new q((n,r)=>{e.then(n,r)});var t=new q(un,!0,e);return Ba(t,vi),t},reject:An,race:function(){var e=Qe.apply(null,arguments).map(En);return new q((t,n)=>{e.map(r=>q.resolve(r).then(t,n))})},PSD:{get:()=>X,set:e=>X=e},totalEchoes:{get:()=>Qn},newPSD:ut,usePSD:Wt,scheduler:{get:()=>nn,set:e=>{nn=e}},rejectionMapper:{get:()=>wi,set:e=>{wi=e}},follow:(e,t)=>new q((n,r)=>ut((i,o)=>{var a=X;a.unhandleds=[],a.onunhandled=o,a.finalize=Et(function(){(function(s){function l(){s(),Dn.splice(Dn.indexOf(l),1)}Dn.push(l),++_t,nn(()=>{--_t==0&&eo()},[])})(()=>{this.unhandleds.length===0?i():o(this.unhandleds[0])})},a.finalize),e()},t,n,r))}),Cn&&(Cn.allSettled&&tt(q,"allSettled",function(){const e=Qe.apply(null,arguments).map(En);return new q(t=>{e.length===0&&t([]);let n=e.length;const r=new Array(n);e.forEach((i,o)=>q.resolve(i).then(a=>r[o]={status:"fulfilled",value:a},a=>r[o]={status:"rejected",reason:a}).then(()=>--n||t(r)))})}),Cn.any&&typeof AggregateError<"u"&&tt(q,"any",function(){const e=Qe.apply(null,arguments).map(En);return new q((t,n)=>{e.length===0&&n(new AggregateError([]));let r=e.length;const i=new Array(r);e.forEach((o,a)=>q.resolve(o).then(s=>t(s),s=>{i[a]=s,--r||n(new AggregateError(i))}))})}));const Ee={awaits:0,echoes:0,id:0};var Ul=0,Nn=[],vr=0,Qn=0,zl=0;function ut(e,t,n,r){var i=X,o=Object.create(i);o.parent=i,o.ref=0,o.global=!1,o.id=++zl;var a=Lt.env;o.env=Qi?{Promise:q,PromiseProp:{value:q,configurable:!0,writable:!0},all:q.all,race:q.race,allSettled:q.allSettled,any:q.any,resolve:q.resolve,reject:q.reject,nthen:So(a.nthen,o),gthen:So(a.gthen,o)}:{},t&&ke(o,t),++i.ref,o.finalize=function(){--this.parent.ref||this.parent.finalize()};var s=Wt(o,e,n,r);return o.ref===0&&o.finalize(),s}function Ht(){return Ee.id||(Ee.id=++Ul),++Ee.awaits,Ee.echoes+=100,Ee.id}function rt(){return!!Ee.awaits&&(--Ee.awaits==0&&(Ee.id=0),Ee.echoes=100*Ee.awaits,!0)}function En(e){return Ee.echoes&&e&&e.constructor===Cn?(Ht(),e.then(t=>(rt(),t),t=>(rt(),we(t)))):e}function Vl(e){++Qn,Ee.echoes&&--Ee.echoes!=0||(Ee.echoes=Ee.id=0),Nn.push(X),ft(e,!0)}function Gl(){var e=Nn[Nn.length-1];Nn.pop(),ft(e,!1)}function ft(e,t){var n=X;if((t?!Ee.echoes||vr++&&e===X:!vr||--vr&&e===X)||Na(t?Vl.bind(null,e):Gl),e!==X&&(X=e,n===Lt&&(Lt.env=Da()),Qi)){var r=Lt.env.Promise,i=e.env;Jn.then=i.nthen,r.prototype.then=i.gthen,(n.global||e.global)&&(Object.defineProperty(de,"Promise",i.PromiseProp),r.all=i.all,r.race=i.race,r.resolve=i.resolve,r.reject=i.reject,i.allSettled&&(r.allSettled=i.allSettled),i.any&&(r.any=i.any))}}function Da(){var e=de.Promise;return Qi?{Promise:e,PromiseProp:Object.getOwnPropertyDescriptor(de,"Promise"),all:e.all,race:e.race,allSettled:e.allSettled,any:e.any,resolve:e.resolve,reject:e.reject,nthen:Jn.then,gthen:e.prototype.then}:{}}function Wt(e,t,n,r,i){var o=X;try{return ft(e,!0),t(n,r,i)}finally{ft(o,!1)}}function Na(e){ka.call(yi,e)}function Zn(e,t,n,r){return typeof e!="function"?e:function(){var i=X;n&&Ht(),ft(t,!0);try{return e.apply(this,arguments)}finally{ft(i,!1),r&&Na(rt)}}}function So(e,t){return function(n,r){return e.call(this,Zn(n,t),Zn(r,t))}}(""+ka).indexOf("[native code]")===-1&&(Ht=rt=fe);function Ao(e,t){var n;try{n=t.onuncatched(e)}catch{}if(n!==!1)try{var r,i={promise:t,reason:e};if(de.document&&document.createEvent?((r=document.createEvent("Event")).initEvent("unhandledrejection",!0,!0),ke(r,i)):de.CustomEvent&&ke(r=new CustomEvent("unhandledrejection",{detail:i}),i),r&&de.dispatchEvent&&(dispatchEvent(r),!de.PromiseRejectionEvent&&de.onunhandledrejection))try{de.onunhandledrejection(r)}catch{}Ve&&r&&!r.defaultPrevented&&console.warn(`Unhandled rejection: ${e.stack||e}`)}catch{}}var we=q.reject;function Ai(e,t,n,r){if(e.idbdb&&(e._state.openComplete||X.letThrough||e._vip)){var i=e._createTransaction(t,n,e._dbSchema);try{i.create(),e._state.PR1398_maxLoop=3}catch(o){return o.name===Ji.InvalidState&&e.isOpen()&&--e._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),e._close(),e.open().then(()=>Ai(e,t,n,r))):we(o)}return i._promise(t,(o,a)=>ut(()=>(X.trans=i,r(o,a,i)))).then(o=>i._completion.then(()=>o))}if(e._state.openComplete)return we(new Q.DatabaseClosed(e._state.dbOpenError));if(!e._state.isBeingOpened){if(!e._options.autoOpen)return we(new Q.DatabaseClosed);e.open().catch(fe)}return e._state.dbReadyPromise.then(()=>Ai(e,t,n,r))}const vt=String.fromCharCode(65535),We="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",rn=[],cr=typeof navigator<"u"&&/(MSIE|Trident|Edge)/.test(navigator.userAgent),Hl=cr,Wl=cr,Ma=e=>!/(dexie\.js|dexie\.min\.js)/.test(e);function Ot(e,t){return e?t?function(){return e.apply(this,arguments)&&t.apply(this,arguments)}:e:t}const Fa={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function On(e){return typeof e!="string"||/\./.test(e)?t=>t:t=>(t[e]===void 0&&e in t&&delete(t=mn(t))[e],t)}class Yl{_trans(t,n,r){const i=this._tx||X.trans,o=this.name;function a(l,f,c){if(!c.schema[o])throw new Q.NotFound("Table "+o+" not part of transaction");return n(c.idbtrans,c)}const s=bn();try{return i&&i.db===this.db?i===X.trans?i._promise(t,a,r):ut(()=>i._promise(t,a,r),{trans:i,transless:X.transless||X}):Ai(this.db,t,[this.name],a)}finally{s&&vn()}}get(t,n){return t&&t.constructor===Object?this.where(t).first(n):this._trans("readonly",r=>this.core.get({trans:r,key:t}).then(i=>this.hook.reading.fire(i))).then(n)}where(t){if(typeof t=="string")return new this.db.WhereClause(this,t);if(Oe(t))return new this.db.WhereClause(this,`[${t.join("+")}]`);const n=be(t);if(n.length===1)return this.where(n[0]).equals(t[n[0]]);const r=this.schema.indexes.concat(this.schema.primKey).filter(f=>f.compound&&n.every(c=>f.keyPath.indexOf(c)>=0)&&f.keyPath.every(c=>n.indexOf(c)>=0))[0];if(r&&this.db._maxKey!==vt)return this.where(r.name).equals(r.keyPath.map(f=>t[f]));!r&&Ve&&console.warn(`The query ${JSON.stringify(t)} on ${this.name} would benefit of a compound index [${n.join("+")}]`);const{idxByName:i}=this.schema,o=this.db._deps.indexedDB;function a(f,c){try{return o.cmp(f,c)===0}catch{return!1}}const[s,l]=n.reduce(([f,c],d)=>{const u=i[d],p=t[d];return[f||u,f||!u?Ot(c,u&&u.multi?w=>{const b=nt(w,d);return Oe(b)&&b.some(y=>a(p,y))}:w=>a(p,nt(w,d))):c]},[null,null]);return s?this.where(s.name).equals(t[s.keyPath]).filter(l):r?this.filter(l):this.where(n).equals("")}filter(t){return this.toCollection().and(t)}count(t){return this.toCollection().count(t)}offset(t){return this.toCollection().offset(t)}limit(t){return this.toCollection().limit(t)}each(t){return this.toCollection().each(t)}toArray(t){return this.toCollection().toArray(t)}toCollection(){return new this.db.Collection(new this.db.WhereClause(this))}orderBy(t){return new this.db.Collection(new this.db.WhereClause(this,Oe(t)?`[${t.join("+")}]`:t))}reverse(){return this.toCollection().reverse()}mapToClass(t){this.schema.mappedClass=t;const n=r=>{if(!r)return r;const i=Object.create(t.prototype);for(var o in r)if(Fe(r,o))try{i[o]=r[o]}catch{}return i};return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=n,this.hook("reading",n),t}defineClass(){return this.mapToClass(function(t){ke(this,t)})}add(t,n){const{auto:r,keyPath:i}=this.schema.primKey;let o=t;return i&&r&&(o=On(i)(t)),this._trans("readwrite",a=>this.core.mutate({trans:a,type:"add",keys:n!=null?[n]:null,values:[o]})).then(a=>a.numFailures?q.reject(a.failures[0]):a.lastResult).then(a=>{if(i)try{Le(t,i,a)}catch{}return a})}update(t,n){if(typeof t!="object"||Oe(t))return this.where(":id").equals(t).modify(n);{const r=nt(t,this.schema.primKey.keyPath);if(r===void 0)return we(new Q.InvalidArgument("Given object does not contain its primary key"));try{typeof n!="function"?be(n).forEach(i=>{Le(t,i,n[i])}):n(t,{value:t,primKey:r})}catch{}return this.where(":id").equals(r).modify(n)}}put(t,n){const{auto:r,keyPath:i}=this.schema.primKey;let o=t;return i&&r&&(o=On(i)(t)),this._trans("readwrite",a=>this.core.mutate({trans:a,type:"put",values:[o],keys:n!=null?[n]:null})).then(a=>a.numFailures?q.reject(a.failures[0]):a.lastResult).then(a=>{if(i)try{Le(t,i,a)}catch{}return a})}delete(t){return this._trans("readwrite",n=>this.core.mutate({trans:n,type:"delete",keys:[t]})).then(n=>n.numFailures?q.reject(n.failures[0]):void 0)}clear(){return this._trans("readwrite",t=>this.core.mutate({trans:t,type:"deleteRange",range:Fa})).then(t=>t.numFailures?q.reject(t.failures[0]):void 0)}bulkGet(t){return this._trans("readonly",n=>this.core.getMany({keys:t,trans:n}).then(r=>r.map(i=>this.hook.reading.fire(i))))}bulkAdd(t,n,r){const i=Array.isArray(n)?n:void 0,o=(r=r||(i?void 0:n))?r.allKeys:void 0;return this._trans("readwrite",a=>{const{auto:s,keyPath:l}=this.schema.primKey;if(l&&i)throw new Q.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(i&&i.length!==t.length)throw new Q.InvalidArgument("Arguments objects and keys must have the same length");const f=t.length;let c=l&&s?t.map(On(l)):t;return this.core.mutate({trans:a,type:"add",keys:i,values:c,wantResults:o}).then(({numFailures:d,results:u,lastResult:p,failures:w})=>{if(d===0)return o?u:p;throw new tn(`${this.name}.bulkAdd(): ${d} of ${f} operations failed`,w)})})}bulkPut(t,n,r){const i=Array.isArray(n)?n:void 0,o=(r=r||(i?void 0:n))?r.allKeys:void 0;return this._trans("readwrite",a=>{const{auto:s,keyPath:l}=this.schema.primKey;if(l&&i)throw new Q.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(i&&i.length!==t.length)throw new Q.InvalidArgument("Arguments objects and keys must have the same length");const f=t.length;let c=l&&s?t.map(On(l)):t;return this.core.mutate({trans:a,type:"put",keys:i,values:c,wantResults:o}).then(({numFailures:d,results:u,lastResult:p,failures:w})=>{if(d===0)return o?u:p;throw new tn(`${this.name}.bulkPut(): ${d} of ${f} operations failed`,w)})})}bulkDelete(t){const n=t.length;return this._trans("readwrite",r=>this.core.mutate({trans:r,type:"delete",keys:t})).then(({numFailures:r,lastResult:i,failures:o})=>{if(r===0)return i;throw new tn(`${this.name}.bulkDelete(): ${r} of ${n} operations failed`,o)})}}function on(e){var t={},n=function(s,l){if(l){for(var f=arguments.length,c=new Array(f-1);--f;)c[f-1]=arguments[f];return t[s].subscribe.apply(null,c),e}if(typeof s=="string")return t[s]};n.addEventType=o;for(var r=1,i=arguments.length;r<i;++r)o(arguments[r]);return n;function o(s,l,f){if(typeof s=="object")return a(s);l||(l=ql),f||(f=fe);var c={subscribers:[],fire:f,subscribe:function(d){c.subscribers.indexOf(d)===-1&&(c.subscribers.push(d),c.fire=l(c.fire,d))},unsubscribe:function(d){c.subscribers=c.subscribers.filter(function(u){return u!==d}),c.fire=c.subscribers.reduce(l,f)}};return t[s]=n[s]=c,c}function a(s){be(s).forEach(function(l){var f=s[l];if(Oe(f))o(l,s[l][0],s[l][1]);else{if(f!=="asap")throw new Q.InvalidArgument("Invalid event config");var c=o(l,cn,function(){for(var d=arguments.length,u=new Array(d);d--;)u[d]=arguments[d];c.subscribers.forEach(function(p){_a(function(){p.apply(null,u)})})})}})}}function Xt(e,t){return Ft(t).from({prototype:e}),t}function Tt(e,t){return!(e.filter||e.algorithm||e.or)&&(t?e.justLimit:!e.replayFilter)}function wr(e,t){e.filter=Ot(e.filter,t)}function _r(e,t,n){var r=e.replayFilter;e.replayFilter=r?()=>Ot(r(),t()):t,e.justLimit=n&&!r}function Mn(e,t){if(e.isPrimKey)return t.primaryKey;const n=t.getIndexByKeyPath(e.index);if(!n)throw new Q.Schema("KeyPath "+e.index+" on object store "+t.name+" is not indexed");return n}function Eo(e,t,n){const r=Mn(e,t.schema);return t.openCursor({trans:n,values:!e.keysOnly,reverse:e.dir==="prev",unique:!!e.unique,query:{index:r,range:e.range}})}function Pn(e,t,n,r){const i=e.replayFilter?Ot(e.filter,e.replayFilter()):e.filter;if(e.or){const o={},a=(s,l,f)=>{if(!i||i(l,f,u=>l.stop(u),u=>l.fail(u))){var c=l.primaryKey,d=""+c;d==="[object ArrayBuffer]"&&(d=""+new Uint8Array(c)),Fe(o,d)||(o[d]=!0,t(s,l,f))}};return Promise.all([e.or._iterate(a,n),Oo(Eo(e,r,n),e.algorithm,a,!e.keysOnly&&e.valueMapper)])}return Oo(Eo(e,r,n),Ot(e.algorithm,i),t,!e.keysOnly&&e.valueMapper)}function Oo(e,t,n,r){var i=he(r?(o,a,s)=>n(r(o),a,s):n);return e.then(o=>{if(o)return o.start(()=>{var a=()=>o.continue();t&&!t(o,s=>a=s,s=>{o.stop(s),a=fe},s=>{o.fail(s),a=fe})||i(o.value,o,s=>a=s),a()})})}function xe(e,t){try{const n=Po(e),r=Po(t);if(n!==r)return n==="Array"?1:r==="Array"?-1:n==="binary"?1:r==="binary"?-1:n==="string"?1:r==="string"?-1:n==="Date"?1:r!=="Date"?NaN:-1;switch(n){case"number":case"Date":case"string":return e>t?1:e<t?-1:0;case"binary":return function(i,o){const a=i.length,s=o.length,l=a<s?a:s;for(let f=0;f<l;++f)if(i[f]!==o[f])return i[f]<o[f]?-1:1;return a===s?0:a<s?-1:1}($o(e),$o(t));case"Array":return function(i,o){const a=i.length,s=o.length,l=a<s?a:s;for(let f=0;f<l;++f){const c=xe(i[f],o[f]);if(c!==0)return c}return a===s?0:a<s?-1:1}(e,t)}}catch{}return NaN}function Po(e){const t=typeof e;if(t!=="object")return t;if(ArrayBuffer.isView(e))return"binary";const n=di(e);return n==="ArrayBuffer"?"binary":n}function $o(e){return e instanceof Uint8Array?e:ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):new Uint8Array(e)}class Jl{_read(t,n){var r=this._ctx;return r.error?r.table._trans(null,we.bind(null,r.error)):r.table._trans("readonly",t).then(n)}_write(t){var n=this._ctx;return n.error?n.table._trans(null,we.bind(null,n.error)):n.table._trans("readwrite",t,"locked")}_addAlgorithm(t){var n=this._ctx;n.algorithm=Ot(n.algorithm,t)}_iterate(t,n){return Pn(this._ctx,t,n,this._ctx.table.core)}clone(t){var n=Object.create(this.constructor.prototype),r=Object.create(this._ctx);return t&&ke(r,t),n._ctx=r,n}raw(){return this._ctx.valueMapper=null,this}each(t){var n=this._ctx;return this._read(r=>Pn(n,t,r,n.table.core))}count(t){return this._read(n=>{const r=this._ctx,i=r.table.core;if(Tt(r,!0))return i.count({trans:n,query:{index:Mn(r,i.schema),range:r.range}}).then(a=>Math.min(a,r.limit));var o=0;return Pn(r,()=>(++o,!1),n,i).then(()=>o)}).then(t)}sortBy(t,n){const r=t.split(".").reverse(),i=r[0],o=r.length-1;function a(f,c){return c?a(f[r[c]],c-1):f[i]}var s=this._ctx.dir==="next"?1:-1;function l(f,c){var d=a(f,o),u=a(c,o);return d<u?-s:d>u?s:0}return this.toArray(function(f){return f.sort(l)}).then(n)}toArray(t){return this._read(n=>{var r=this._ctx;if(r.dir==="next"&&Tt(r,!0)&&r.limit>0){const{valueMapper:i}=r,o=Mn(r,r.table.core.schema);return r.table.core.query({trans:n,limit:r.limit,values:!0,query:{index:o,range:r.range}}).then(({result:a})=>i?a.map(i):a)}{const i=[];return Pn(r,o=>i.push(o),n,r.table.core).then(()=>i)}},t)}offset(t){var n=this._ctx;return t<=0||(n.offset+=t,Tt(n)?_r(n,()=>{var r=t;return(i,o)=>r===0||(r===1?(--r,!1):(o(()=>{i.advance(r),r=0}),!1))}):_r(n,()=>{var r=t;return()=>--r<0})),this}limit(t){return this._ctx.limit=Math.min(this._ctx.limit,t),_r(this._ctx,()=>{var n=t;return function(r,i,o){return--n<=0&&i(o),n>=0}},!0),this}until(t,n){return wr(this._ctx,function(r,i,o){return!t(r.value)||(i(o),n)}),this}first(t){return this.limit(1).toArray(function(n){return n[0]}).then(t)}last(t){return this.reverse().first(t)}filter(t){var n,r;return wr(this._ctx,function(i){return t(i.value)}),n=this._ctx,r=t,n.isMatch=Ot(n.isMatch,r),this}and(t){return this.filter(t)}or(t){return new this.db.WhereClause(this._ctx.table,t,this)}reverse(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this}desc(){return this.reverse()}eachKey(t){var n=this._ctx;return n.keysOnly=!n.isMatch,this.each(function(r,i){t(i.key,i)})}eachUniqueKey(t){return this._ctx.unique="unique",this.eachKey(t)}eachPrimaryKey(t){var n=this._ctx;return n.keysOnly=!n.isMatch,this.each(function(r,i){t(i.primaryKey,i)})}keys(t){var n=this._ctx;n.keysOnly=!n.isMatch;var r=[];return this.each(function(i,o){r.push(o.key)}).then(function(){return r}).then(t)}primaryKeys(t){var n=this._ctx;if(n.dir==="next"&&Tt(n,!0)&&n.limit>0)return this._read(i=>{var o=Mn(n,n.table.core.schema);return n.table.core.query({trans:i,values:!1,limit:n.limit,query:{index:o,range:n.range}})}).then(({result:i})=>i).then(t);n.keysOnly=!n.isMatch;var r=[];return this.each(function(i,o){r.push(o.primaryKey)}).then(function(){return r}).then(t)}uniqueKeys(t){return this._ctx.unique="unique",this.keys(t)}firstKey(t){return this.limit(1).keys(function(n){return n[0]}).then(t)}lastKey(t){return this.reverse().firstKey(t)}distinct(){var t=this._ctx,n=t.index&&t.table.schema.idxByName[t.index];if(!n||!n.multi)return this;var r={};return wr(this._ctx,function(i){var o=i.primaryKey.toString(),a=Fe(r,o);return r[o]=!0,!a}),this}modify(t){var n=this._ctx;return this._write(r=>{var i;if(typeof t=="function")i=t;else{var o=be(t),a=o.length;i=function(b){for(var y=!1,g=0;g<a;++g){var v=o[g],A=t[v];nt(b,v)!==A&&(Le(b,v,A),y=!0)}return y}}const s=n.table.core,{outbound:l,extractKey:f}=s.schema.primaryKey,c=this.db._options.modifyChunkSize||200,d=[];let u=0;const p=[],w=(b,y)=>{const{failures:g,numFailures:v}=y;u+=b-v;for(let A of be(g))d.push(g[A])};return this.clone().primaryKeys().then(b=>{const y=g=>{const v=Math.min(c,b.length-g);return s.getMany({trans:r,keys:b.slice(g,g+v),cache:"immutable"}).then(A=>{const O=[],S=[],$=l?[]:null,j=[];for(let C=0;C<v;++C){const K=A[C],V={value:mn(K),primKey:b[g+C]};i.call(V,V.value,V)!==!1&&(V.value==null?j.push(b[g+C]):l||xe(f(K),f(V.value))===0?(S.push(V.value),l&&$.push(b[g+C])):(j.push(b[g+C]),O.push(V.value)))}const T=Tt(n)&&n.limit===1/0&&(typeof t!="function"||t===Sr)&&{index:n.index,range:n.range};return Promise.resolve(O.length>0&&s.mutate({trans:r,type:"add",values:O}).then(C=>{for(let K in C.failures)j.splice(parseInt(K),1);w(O.length,C)})).then(()=>(S.length>0||T&&typeof t=="object")&&s.mutate({trans:r,type:"put",keys:$,values:S,criteria:T,changeSpec:typeof t!="function"&&t}).then(C=>w(S.length,C))).then(()=>(j.length>0||T&&t===Sr)&&s.mutate({trans:r,type:"delete",keys:j,criteria:T}).then(C=>w(j.length,C))).then(()=>b.length>g+v&&y(g+c))})};return y(0).then(()=>{if(d.length>0)throw new Yn("Error modifying one or more objects",d,u,p);return b.length})})})}delete(){var t=this._ctx,n=t.range;return Tt(t)&&(t.isPrimKey&&!Wl||n.type===3)?this._write(r=>{const{primaryKey:i}=t.table.core.schema,o=n;return t.table.core.count({trans:r,query:{index:i,range:o}}).then(a=>t.table.core.mutate({trans:r,type:"deleteRange",range:o}).then(({failures:s,lastResult:l,results:f,numFailures:c})=>{if(c)throw new Yn("Could not delete some values",Object.keys(s).map(d=>s[d]),a-c);return a-c}))}):this.modify(Sr)}}const Sr=(e,t)=>t.value=null;function Xl(e,t){return e<t?-1:e===t?0:1}function Ql(e,t){return e>t?-1:e===t?0:1}function Me(e,t,n){var r=e instanceof La?new e.Collection(e):e;return r._ctx.error=n?new n(t):new TypeError(t),r}function It(e){return new e.Collection(e,()=>qa("")).limit(0)}function Zl(e,t,n,r,i,o){for(var a=Math.min(e.length,r.length),s=-1,l=0;l<a;++l){var f=t[l];if(f!==r[l])return i(e[l],n[l])<0?e.substr(0,l)+n[l]+n.substr(l+1):i(e[l],r[l])<0?e.substr(0,l)+r[l]+n.substr(l+1):s>=0?e.substr(0,s)+t[s]+n.substr(s+1):null;i(e[l],f)<0&&(s=l)}return a<r.length&&o==="next"?e+n.substr(e.length):a<e.length&&o==="prev"?e.substr(0,n.length):s<0?null:e.substr(0,s)+r[s]+n.substr(s+1)}function $n(e,t,n,r){var i,o,a,s,l,f,c,d=n.length;if(!n.every(b=>typeof b=="string"))return Me(e,"String expected.");function u(b){i=function(g){return g==="next"?v=>v.toUpperCase():v=>v.toLowerCase()}(b),o=function(g){return g==="next"?v=>v.toLowerCase():v=>v.toUpperCase()}(b),a=b==="next"?Xl:Ql;var y=n.map(function(g){return{lower:o(g),upper:i(g)}}).sort(function(g,v){return a(g.lower,v.lower)});s=y.map(function(g){return g.upper}),l=y.map(function(g){return g.lower}),f=b,c=b==="next"?"":r}u("next");var p=new e.Collection(e,()=>ot(s[0],l[d-1]+r));p._ondirectionchange=function(b){u(b)};var w=0;return p._addAlgorithm(function(b,y,g){var v=b.key;if(typeof v!="string")return!1;var A=o(v);if(t(A,l,w))return!0;for(var O=null,S=w;S<d;++S){var $=Zl(v,A,s[S],l[S],a,f);$===null&&O===null?w=S+1:(O===null||a(O,$)>0)&&(O=$)}return y(O!==null?function(){b.continue(O+c)}:g),!1}),p}function ot(e,t,n,r){return{type:2,lower:e,upper:t,lowerOpen:n,upperOpen:r}}function qa(e){return{type:1,lower:e,upper:e}}class La{get Collection(){return this._ctx.table.db.Collection}between(t,n,r,i){r=r!==!1,i=i===!0;try{return this._cmp(t,n)>0||this._cmp(t,n)===0&&(r||i)&&(!r||!i)?It(this):new this.Collection(this,()=>ot(t,n,!r,!i))}catch{return Me(this,We)}}equals(t){return t==null?Me(this,We):new this.Collection(this,()=>qa(t))}above(t){return t==null?Me(this,We):new this.Collection(this,()=>ot(t,void 0,!0))}aboveOrEqual(t){return t==null?Me(this,We):new this.Collection(this,()=>ot(t,void 0,!1))}below(t){return t==null?Me(this,We):new this.Collection(this,()=>ot(void 0,t,!1,!0))}belowOrEqual(t){return t==null?Me(this,We):new this.Collection(this,()=>ot(void 0,t))}startsWith(t){return typeof t!="string"?Me(this,"String expected."):this.between(t,t+vt,!0,!0)}startsWithIgnoreCase(t){return t===""?this.startsWith(t):$n(this,(n,r)=>n.indexOf(r[0])===0,[t],vt)}equalsIgnoreCase(t){return $n(this,(n,r)=>n===r[0],[t],"")}anyOfIgnoreCase(){var t=Qe.apply(Rt,arguments);return t.length===0?It(this):$n(this,(n,r)=>r.indexOf(n)!==-1,t,"")}startsWithAnyOfIgnoreCase(){var t=Qe.apply(Rt,arguments);return t.length===0?It(this):$n(this,(n,r)=>r.some(i=>n.indexOf(i)===0),t,vt)}anyOf(){const t=Qe.apply(Rt,arguments);let n=this._cmp;try{t.sort(n)}catch{return Me(this,We)}if(t.length===0)return It(this);const r=new this.Collection(this,()=>ot(t[0],t[t.length-1]));r._ondirectionchange=o=>{n=o==="next"?this._ascending:this._descending,t.sort(n)};let i=0;return r._addAlgorithm((o,a,s)=>{const l=o.key;for(;n(l,t[i])>0;)if(++i,i===t.length)return a(s),!1;return n(l,t[i])===0||(a(()=>{o.continue(t[i])}),!1)}),r}notEqual(t){return this.inAnyRange([[-(1/0),t],[t,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})}noneOf(){const t=Qe.apply(Rt,arguments);if(t.length===0)return new this.Collection(this);try{t.sort(this._ascending)}catch{return Me(this,We)}const n=t.reduce((r,i)=>r?r.concat([[r[r.length-1][1],i]]):[[-(1/0),i]],null);return n.push([t[t.length-1],this.db._maxKey]),this.inAnyRange(n,{includeLowers:!1,includeUppers:!1})}inAnyRange(t,n){const r=this._cmp,i=this._ascending,o=this._descending,a=this._min,s=this._max;if(t.length===0)return It(this);if(!t.every(v=>v[0]!==void 0&&v[1]!==void 0&&i(v[0],v[1])<=0))return Me(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",Q.InvalidArgument);const l=!n||n.includeLowers!==!1,f=n&&n.includeUppers===!0;let c,d=i;function u(v,A){return d(v[0],A[0])}try{c=t.reduce(function(v,A){let O=0,S=v.length;for(;O<S;++O){const $=v[O];if(r(A[0],$[1])<0&&r(A[1],$[0])>0){$[0]=a($[0],A[0]),$[1]=s($[1],A[1]);break}}return O===S&&v.push(A),v},[]),c.sort(u)}catch{return Me(this,We)}let p=0;const w=f?v=>i(v,c[p][1])>0:v=>i(v,c[p][1])>=0,b=l?v=>o(v,c[p][0])>0:v=>o(v,c[p][0])>=0;let y=w;const g=new this.Collection(this,()=>ot(c[0][0],c[c.length-1][1],!l,!f));return g._ondirectionchange=v=>{v==="next"?(y=w,d=i):(y=b,d=o),c.sort(u)},g._addAlgorithm((v,A,O)=>{for(var S=v.key;y(S);)if(++p,p===c.length)return A(O),!1;return!!function($){return!w($)&&!b($)}(S)||(this._cmp(S,c[p][1])===0||this._cmp(S,c[p][0])===0||A(()=>{d===i?v.continue(c[p][0]):v.continue(c[p][1])}),!1)}),g}startsWithAnyOf(){const t=Qe.apply(Rt,arguments);return t.every(n=>typeof n=="string")?t.length===0?It(this):this.inAnyRange(t.map(n=>[n,n+vt])):Me(this,"startsWithAnyOf() only works with strings")}}function Ue(e){return he(function(t){return fn(t),e(t.target.error),!1})}function fn(e){e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault()}const dt=on(null,"storagemutated");class ec{_lock(){return Qt(!X.global),++this._reculock,this._reculock!==1||X.global||(X.lockOwnerFor=this),this}_unlock(){if(Qt(!X.global),--this._reculock==0)for(X.global||(X.lockOwnerFor=null);this._blockedFuncs.length>0&&!this._locked();){var t=this._blockedFuncs.shift();try{Wt(t[1],t[0])}catch{}}return this}_locked(){return this._reculock&&X.lockOwnerFor!==this}create(t){if(!this.mode)return this;const n=this.db.idbdb,r=this.db._state.dbOpenError;if(Qt(!this.idbtrans),!t&&!n)switch(r&&r.name){case"DatabaseClosedError":throw new Q.DatabaseClosed(r);case"MissingAPIError":throw new Q.MissingAPI(r.message,r);default:throw new Q.OpenFailed(r)}if(!this.active)throw new Q.TransactionInactive;return Qt(this._completion._state===null),(t=this.idbtrans=t||(this.db.core?this.db.core.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}):n.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}))).onerror=he(i=>{fn(i),this._reject(t.error)}),t.onabort=he(i=>{fn(i),this.active&&this._reject(new Q.Abort(t.error)),this.active=!1,this.on("abort").fire(i)}),t.oncomplete=he(()=>{this.active=!1,this._resolve(),"mutatedParts"in t&&dt.storagemutated.fire(t.mutatedParts)}),this}_promise(t,n,r){if(t==="readwrite"&&this.mode!=="readwrite")return we(new Q.ReadOnly("Transaction is readonly"));if(!this.active)return we(new Q.TransactionInactive);if(this._locked())return new q((o,a)=>{this._blockedFuncs.push([()=>{this._promise(t,n,r).then(o,a)},X])});if(r)return ut(()=>{var o=new q((a,s)=>{this._lock();const l=n(a,s,this);l&&l.then&&l.then(a,s)});return o.finally(()=>this._unlock()),o._lib=!0,o});var i=new q((o,a)=>{var s=n(o,a,this);s&&s.then&&s.then(o,a)});return i._lib=!0,i}_root(){return this.parent?this.parent._root():this}waitFor(t){var n=this._root();const r=q.resolve(t);if(n._waitingFor)n._waitingFor=n._waitingFor.then(()=>r);else{n._waitingFor=r,n._waitingQueue=[];var i=n.idbtrans.objectStore(n.storeNames[0]);(function a(){for(++n._spinCount;n._waitingQueue.length;)n._waitingQueue.shift()();n._waitingFor&&(i.get(-1/0).onsuccess=a)})()}var o=n._waitingFor;return new q((a,s)=>{r.then(l=>n._waitingQueue.push(he(a.bind(null,l))),l=>n._waitingQueue.push(he(s.bind(null,l)))).finally(()=>{n._waitingFor===o&&(n._waitingFor=null)})})}abort(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new Q.Abort))}table(t){const n=this._memoizedTables||(this._memoizedTables={});if(Fe(n,t))return n[t];const r=this.schema[t];if(!r)throw new Q.NotFound("Table "+t+" not part of transaction");const i=new this.db.Table(t,r,this);return i.core=this.db.core.table(t),n[t]=i,i}}function Ei(e,t,n,r,i,o,a){return{name:e,keyPath:t,unique:n,multi:r,auto:i,compound:o,src:(n&&!a?"&":"")+(r?"*":"")+(i?"++":"")+Ka(t)}}function Ka(e){return typeof e=="string"?e:e?"["+[].join.call(e,"+")+"]":""}function Ua(e,t,n){return{name:e,primKey:t,indexes:n,mappedClass:null,idxByName:Sa(n,r=>[r.name,r])}}let dn=e=>{try{return e.only([[]]),dn=()=>[[]],[[]]}catch{return dn=()=>vt,vt}};function Oi(e){return e==null?()=>{}:typeof e=="string"?function(t){return t.split(".").length===1?n=>n[t]:n=>nt(n,t)}(e):t=>nt(t,e)}function jo(e){return[].slice.call(e)}let tc=0;function an(e){return e==null?":id":typeof e=="string"?e:`[${e.join("+")}]`}function nc(e,t,n){function r(l){if(l.type===3)return null;if(l.type===4)throw new Error("Cannot convert never type to IDBKeyRange");const{lower:f,upper:c,lowerOpen:d,upperOpen:u}=l;return f===void 0?c===void 0?null:t.upperBound(c,!!u):c===void 0?t.lowerBound(f,!!d):t.bound(f,c,!!d,!!u)}const{schema:i,hasGetAll:o}=function(l,f){const c=jo(l.objectStoreNames);return{schema:{name:l.name,tables:c.map(d=>f.objectStore(d)).map(d=>{const{keyPath:u,autoIncrement:p}=d,w=Oe(u),b=u==null,y={},g={name:d.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:b,compound:w,keyPath:u,autoIncrement:p,unique:!0,extractKey:Oi(u)},indexes:jo(d.indexNames).map(v=>d.index(v)).map(v=>{const{name:A,unique:O,multiEntry:S,keyPath:$}=v,j={name:A,compound:Oe($),keyPath:$,unique:O,multiEntry:S,extractKey:Oi($)};return y[an($)]=j,j}),getIndexByKeyPath:v=>y[an(v)]};return y[":id"]=g.primaryKey,u!=null&&(y[an(u)]=g.primaryKey),g})},hasGetAll:c.length>0&&"getAll"in f.objectStore(c[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}}(e,n),a=i.tables.map(l=>function(f){const c=f.name;return{name:c,schema:f,mutate:function({trans:d,type:u,keys:p,values:w,range:b}){return new Promise((y,g)=>{y=he(y);const v=d.objectStore(c),A=v.keyPath==null,O=u==="put"||u==="add";if(!O&&u!=="delete"&&u!=="deleteRange")throw new Error("Invalid operation type: "+u);const{length:S}=p||w||{length:1};if(p&&w&&p.length!==w.length)throw new Error("Given keys array must have same length as given values array.");if(S===0)return y({numFailures:0,failures:{},results:[],lastResult:void 0});let $;const j=[],T=[];let C=0;const K=G=>{++C,fn(G)};if(u==="deleteRange"){if(b.type===4)return y({numFailures:C,failures:T,results:[],lastResult:void 0});b.type===3?j.push($=v.clear()):j.push($=v.delete(r(b)))}else{const[G,ee]=O?A?[w,p]:[w,null]:[p,null];if(O)for(let H=0;H<S;++H)j.push($=ee&&ee[H]!==void 0?v[u](G[H],ee[H]):v[u](G[H])),$.onerror=K;else for(let H=0;H<S;++H)j.push($=v[u](G[H])),$.onerror=K}const V=G=>{const ee=G.target.result;j.forEach((H,D)=>H.error!=null&&(T[D]=H.error)),y({numFailures:C,failures:T,results:u==="delete"?p:j.map(H=>H.result),lastResult:ee})};$.onerror=G=>{K(G),V(G)},$.onsuccess=V})},getMany:({trans:d,keys:u})=>new Promise((p,w)=>{p=he(p);const b=d.objectStore(c),y=u.length,g=new Array(y);let v,A=0,O=0;const S=j=>{const T=j.target;g[T._pos]=T.result,++O===A&&p(g)},$=Ue(w);for(let j=0;j<y;++j)u[j]!=null&&(v=b.get(u[j]),v._pos=j,v.onsuccess=S,v.onerror=$,++A);A===0&&p(g)}),get:({trans:d,key:u})=>new Promise((p,w)=>{p=he(p);const b=d.objectStore(c).get(u);b.onsuccess=y=>p(y.target.result),b.onerror=Ue(w)}),query:function(d){return u=>new Promise((p,w)=>{p=he(p);const{trans:b,values:y,limit:g,query:v}=u,A=g===1/0?void 0:g,{index:O,range:S}=v,$=b.objectStore(c),j=O.isPrimaryKey?$:$.index(O.name),T=r(S);if(g===0)return p({result:[]});if(d){const C=y?j.getAll(T,A):j.getAllKeys(T,A);C.onsuccess=K=>p({result:K.target.result}),C.onerror=Ue(w)}else{let C=0;const K=y||!("openKeyCursor"in j)?j.openCursor(T):j.openKeyCursor(T),V=[];K.onsuccess=G=>{const ee=K.result;return ee?(V.push(y?ee.value:ee.primaryKey),++C===g?p({result:V}):void ee.continue()):p({result:V})},K.onerror=Ue(w)}})}(o),openCursor:function({trans:d,values:u,query:p,reverse:w,unique:b}){return new Promise((y,g)=>{y=he(y);const{index:v,range:A}=p,O=d.objectStore(c),S=v.isPrimaryKey?O:O.index(v.name),$=w?b?"prevunique":"prev":b?"nextunique":"next",j=u||!("openKeyCursor"in S)?S.openCursor(r(A),$):S.openKeyCursor(r(A),$);j.onerror=Ue(g),j.onsuccess=he(T=>{const C=j.result;if(!C)return void y(null);C.___id=++tc,C.done=!1;const K=C.continue.bind(C);let V=C.continuePrimaryKey;V&&(V=V.bind(C));const G=C.advance.bind(C),ee=()=>{throw new Error("Cursor not stopped")};C.trans=d,C.stop=C.continue=C.continuePrimaryKey=C.advance=()=>{throw new Error("Cursor not started")},C.fail=he(g),C.next=function(){let H=1;return this.start(()=>H--?this.continue():this.stop()).then(()=>this)},C.start=H=>{const D=new Promise((M,N)=>{M=he(M),j.onerror=Ue(N),C.fail=N,C.stop=U=>{C.stop=C.continue=C.continuePrimaryKey=C.advance=ee,M(U)}}),B=()=>{if(j.result)try{H()}catch(M){C.fail(M)}else C.done=!0,C.start=()=>{throw new Error("Cursor behind last entry")},C.stop()};return j.onsuccess=he(M=>{j.onsuccess=B,B()}),C.continue=K,C.continuePrimaryKey=V,C.advance=G,B(),D},y(C)},g)})},count({query:d,trans:u}){const{index:p,range:w}=d;return new Promise((b,y)=>{const g=u.objectStore(c),v=p.isPrimaryKey?g:g.index(p.name),A=r(w),O=A?v.count(A):v.count();O.onsuccess=he(S=>b(S.target.result)),O.onerror=Ue(y)})}}}(l)),s={};return a.forEach(l=>s[l.name]=l),{stack:"dbcore",transaction:e.transaction.bind(e),table(l){if(!s[l])throw new Error(`Table '${l}' not found`);return s[l]},MIN_KEY:-1/0,MAX_KEY:dn(t),schema:i}}function Pi({_novip:e},t){const n=t.db,r=function(i,o,{IDBKeyRange:a,indexedDB:s},l){return{dbcore:function(c,d){return d.reduce((u,{create:p})=>({...u,...p(u)}),c)}(nc(o,a,l),i.dbcore)}}(e._middlewares,n,e._deps,t);e.core=r.dbcore,e.tables.forEach(i=>{const o=i.name;e.core.schema.tables.some(a=>a.name===o)&&(i.core=e.core.table(o),e[o]instanceof e.Table&&(e[o].core=i.core))})}function er({_novip:e},t,n,r){n.forEach(i=>{const o=r[i];t.forEach(a=>{const s=Hi(a,i);(!s||"value"in s&&s.value===void 0)&&(a===e.Transaction.prototype||a instanceof e.Transaction?tt(a,i,{get(){return this.table(i)},set(l){va(this,i,{value:l,writable:!0,configurable:!0,enumerable:!0})}}):a[i]=new e.Table(i,o))})})}function $i({_novip:e},t){t.forEach(n=>{for(let r in n)n[r]instanceof e.Table&&delete n[r]})}function rc(e,t){return e._cfg.version-t._cfg.version}function ic(e,t,n,r){const i=e._dbSchema,o=e._createTransaction("readwrite",e._storeNames,i);o.create(n),o._completion.catch(r);const a=o._reject.bind(o),s=X.transless||X;ut(()=>{X.trans=o,X.transless=s,t===0?(be(i).forEach(l=>{Ar(n,l,i[l].primKey,i[l].indexes)}),Pi(e,n),q.follow(()=>e.on.populate.fire(o)).catch(a)):function({_novip:l},f,c,d){const u=[],p=l._versions;let w=l._dbSchema=xi(l,l.idbdb,d),b=!1;function y(){return u.length?q.resolve(u.shift()(c.idbtrans)).then(y):q.resolve()}return p.filter(g=>g._cfg.version>=f).forEach(g=>{u.push(()=>{const v=w,A=g._cfg.dbschema;ki(l,v,d),ki(l,A,d),w=l._dbSchema=A;const O=za(v,A);O.add.forEach($=>{Ar(d,$[0],$[1].primKey,$[1].indexes)}),O.change.forEach($=>{if($.recreate)throw new Q.Upgrade("Not yet support for changing primary key");{const j=d.objectStore($.name);$.add.forEach(T=>ji(j,T)),$.change.forEach(T=>{j.deleteIndex(T.name),ji(j,T)}),$.del.forEach(T=>j.deleteIndex(T))}});const S=g._cfg.contentUpgrade;if(S&&g._cfg.version>f){Pi(l,d),c._memoizedTables={},b=!0;let $=Aa(A);O.del.forEach(K=>{$[K]=v[K]}),$i(l,[l.Transaction.prototype]),er(l,[l.Transaction.prototype],be($),$),c.schema=$;const j=Wi(S);let T;j&&Ht();const C=q.follow(()=>{if(T=S(c),T&&j){var K=rt.bind(null,null);T.then(K,K)}});return T&&typeof T.then=="function"?q.resolve(T):C.then(()=>T)}}),u.push(v=>{(!b||!Hl)&&function(A,O){[].slice.call(O.db.objectStoreNames).forEach(S=>A[S]==null&&O.db.deleteObjectStore(S))}(g._cfg.dbschema,v),$i(l,[l.Transaction.prototype]),er(l,[l.Transaction.prototype],l._storeNames,l._dbSchema),c.schema=l._dbSchema})}),y().then(()=>{var g,v;v=d,be(g=w).forEach(A=>{v.db.objectStoreNames.contains(A)||Ar(v,A,g[A].primKey,g[A].indexes)})})}(e,t,o,n).catch(a)})}function za(e,t){const n={del:[],add:[],change:[]};let r;for(r in e)t[r]||n.del.push(r);for(r in t){const i=e[r],o=t[r];if(i){const a={name:r,def:o,recreate:!1,del:[],add:[],change:[]};if(""+(i.primKey.keyPath||"")!=""+(o.primKey.keyPath||"")||i.primKey.auto!==o.primKey.auto&&!cr)a.recreate=!0,n.change.push(a);else{const s=i.idxByName,l=o.idxByName;let f;for(f in s)l[f]||a.del.push(f);for(f in l){const c=s[f],d=l[f];c?c.src!==d.src&&a.change.push(d):a.add.push(d)}(a.del.length>0||a.add.length>0||a.change.length>0)&&n.change.push(a)}}else n.add.push([r,o])}return n}function Ar(e,t,n,r){const i=e.db.createObjectStore(t,n.keyPath?{keyPath:n.keyPath,autoIncrement:n.auto}:{autoIncrement:n.auto});return r.forEach(o=>ji(i,o)),i}function ji(e,t){e.createIndex(t.name,t.keyPath,{unique:t.unique,multiEntry:t.multi})}function xi(e,t,n){const r={};return Wn(t.objectStoreNames,0).forEach(i=>{const o=n.objectStore(i);let a=o.keyPath;const s=Ei(Ka(a),a||"",!1,!1,!!o.autoIncrement,a&&typeof a!="string",!0),l=[];for(let c=0;c<o.indexNames.length;++c){const d=o.index(o.indexNames[c]);a=d.keyPath;var f=Ei(d.name,a,!!d.unique,!!d.multiEntry,!1,a&&typeof a!="string",!1);l.push(f)}r[i]=Ua(i,s,l)}),r}function ki({_novip:e},t,n){const r=n.db.objectStoreNames;for(let i=0;i<r.length;++i){const o=r[i],a=n.objectStore(o);e._hasGetAll="getAll"in a;for(let s=0;s<a.indexNames.length;++s){const l=a.indexNames[s],f=a.index(l).keyPath,c=typeof f=="string"?f:"["+Wn(f).join("+")+"]";if(t[o]){const d=t[o].idxByName[c];d&&(d.name=l,delete t[o].idxByName[c],t[o].idxByName[l]=d)}}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&de.WorkerGlobalScope&&de instanceof de.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(e._hasGetAll=!1)}class oc{_parseStoresSpec(t,n){be(t).forEach(r=>{if(t[r]!==null){var i=t[r].split(",").map((a,s)=>{const l=(a=a.trim()).replace(/([&*]|\+\+)/g,""),f=/^\[/.test(l)?l.match(/^\[(.*)\]$/)[1].split("+"):l;return Ei(l,f||null,/\&/.test(a),/\*/.test(a),/\+\+/.test(a),Oe(f),s===0)}),o=i.shift();if(o.multi)throw new Q.Schema("Primary key cannot be multi-valued");i.forEach(a=>{if(a.auto)throw new Q.Schema("Only primary key can be marked as autoIncrement (++)");if(!a.keyPath)throw new Q.Schema("Index must have a name and cannot be an empty string")}),n[r]=Ua(r,o,i)}})}stores(t){const n=this.db;this._cfg.storesSource=this._cfg.storesSource?ke(this._cfg.storesSource,t):t;const r=n._versions,i={};let o={};return r.forEach(a=>{ke(i,a._cfg.storesSource),o=a._cfg.dbschema={},a._parseStoresSpec(i,o)}),n._dbSchema=o,$i(n,[n._allTables,n,n.Transaction.prototype]),er(n,[n._allTables,n,n.Transaction.prototype,this._cfg.tables],be(o),o),n._storeNames=be(o),this}upgrade(t){return this._cfg.contentUpgrade=Xi(this._cfg.contentUpgrade||fe,t),this}}function to(e,t){let n=e._dbNamesDB;return n||(n=e._dbNamesDB=new St("__dbnames",{addons:[],indexedDB:e,IDBKeyRange:t}),n.version(1).stores({dbnames:"name"})),n.table("dbnames")}function no(e){return e&&typeof e.databases=="function"}function Ti(e){return ut(function(){return X.letThrough=!0,e()})}function ac(){var e;return!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(t){var n=function(){return indexedDB.databases().finally(t)};e=setInterval(n,100),n()}).finally(function(){return clearInterval(e)}):Promise.resolve()}function sc(e){const t=e._state,{indexedDB:n}=e._deps;if(t.isBeingOpened||e.idbdb)return t.dbReadyPromise.then(()=>t.dbOpenError?we(t.dbOpenError):e);Ve&&(t.openCanceller._stackHolder=$t()),t.isBeingOpened=!0,t.dbOpenError=null,t.openComplete=!1;const r=t.openCanceller;function i(){if(t.openCanceller!==r)throw new Q.DatabaseClosed("db.open() was cancelled")}let o=t.dbReadyResolve,a=null,s=!1;return q.race([r,(typeof navigator>"u"?q.resolve():ac()).then(()=>new q((l,f)=>{if(i(),!n)throw new Q.MissingAPI;const c=e.name,d=t.autoSchema?n.open(c):n.open(c,Math.round(10*e.verno));if(!d)throw new Q.MissingAPI;d.onerror=Ue(f),d.onblocked=he(e._fireOnBlocked),d.onupgradeneeded=he(u=>{if(a=d.transaction,t.autoSchema&&!e._options.allowEmptyDB){d.onerror=fn,a.abort(),d.result.close();const w=n.deleteDatabase(c);w.onsuccess=w.onerror=he(()=>{f(new Q.NoSuchDatabase(`Database ${c} doesnt exist`))})}else{a.onerror=Ue(f);var p=u.oldVersion>Math.pow(2,62)?0:u.oldVersion;s=p<1,e._novip.idbdb=d.result,ic(e,p/10,a,f)}},f),d.onsuccess=he(()=>{a=null;const u=e._novip.idbdb=d.result,p=Wn(u.objectStoreNames);if(p.length>0)try{const b=u.transaction((w=p).length===1?w[0]:w,"readonly");t.autoSchema?function({_novip:y},g,v){y.verno=g.version/10;const A=y._dbSchema=xi(0,g,v);y._storeNames=Wn(g.objectStoreNames,0),er(y,[y._allTables],be(A),A)}(e,u,b):(ki(e,e._dbSchema,b),function(y,g){const v=za(xi(0,y.idbdb,g),y._dbSchema);return!(v.add.length||v.change.some(A=>A.add.length||A.change.length))}(e,b)||console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Some queries may fail.")),Pi(e,b)}catch{}var w;rn.push(e),u.onversionchange=he(b=>{t.vcFired=!0,e.on("versionchange").fire(b)}),u.onclose=he(b=>{e.on("close").fire(b)}),s&&function({indexedDB:b,IDBKeyRange:y},g){!no(b)&&g!=="__dbnames"&&to(b,y).put({name:g}).catch(fe)}(e._deps,c),l()},f)}))]).then(()=>(i(),t.onReadyBeingFired=[],q.resolve(Ti(()=>e.on.ready.fire(e.vip))).then(function l(){if(t.onReadyBeingFired.length>0){let f=t.onReadyBeingFired.reduce(Xi,fe);return t.onReadyBeingFired=[],q.resolve(Ti(()=>f(e.vip))).then(l)}}))).finally(()=>{t.onReadyBeingFired=null,t.isBeingOpened=!1}).then(()=>e).catch(l=>{t.dbOpenError=l;try{a&&a.abort()}catch{}return r===t.openCanceller&&e._close(),we(l)}).finally(()=>{t.openComplete=!0,o()})}function Ii(e){var t=o=>e.next(o),n=i(t),r=i(o=>e.throw(o));function i(o){return a=>{var s=o(a),l=s.value;return s.done?l:l&&typeof l.then=="function"?l.then(n,r):Oe(l)?Promise.all(l).then(n,r):n(l)}}return i(t)()}function lc(e,t,n){var r=arguments.length;if(r<2)throw new Q.InvalidArgument("Too few arguments");for(var i=new Array(r-1);--r;)i[r-1]=arguments[r];n=i.pop();var o=Ea(i);return[e,o,n]}function Va(e,t,n,r,i){return q.resolve().then(()=>{const o=X.transless||X,a=e._createTransaction(t,n,e._dbSchema,r),s={trans:a,transless:o};if(r)a.idbtrans=r.idbtrans;else try{a.create(),e._state.PR1398_maxLoop=3}catch(d){return d.name===Ji.InvalidState&&e.isOpen()&&--e._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),e._close(),e.open().then(()=>Va(e,t,n,null,i))):we(d)}const l=Wi(i);let f;l&&Ht();const c=q.follow(()=>{if(f=i.call(a,a),f)if(l){var d=rt.bind(null,null);f.then(d,d)}else typeof f.next=="function"&&typeof f.throw=="function"&&(f=Ii(f))},s);return(f&&typeof f.then=="function"?q.resolve(f).then(d=>a.active?d:we(new Q.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))):c.then(()=>f)).then(d=>(r&&a._resolve(),a._completion.then(()=>d))).catch(d=>(a._reject(d),we(d)))})}function jn(e,t,n){const r=Oe(e)?e.slice():[e];for(let i=0;i<n;++i)r.push(t);return r}const cc={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(e){return{...e,table(t){const n=e.table(t),{schema:r}=n,i={},o=[];function a(c,d,u){const p=an(c),w=i[p]=i[p]||[],b=c==null?0:typeof c=="string"?1:c.length,y=d>0,g={...u,isVirtual:y,keyTail:d,keyLength:b,extractKey:Oi(c),unique:!y&&u.unique};return w.push(g),g.isPrimaryKey||o.push(g),b>1&&a(b===2?c[0]:c.slice(0,b-1),d+1,u),w.sort((v,A)=>v.keyTail-A.keyTail),g}const s=a(r.primaryKey.keyPath,0,r.primaryKey);i[":id"]=[s];for(const c of r.indexes)a(c.keyPath,0,c);function l(c){const d=c.query.index;return d.isVirtual?{...c,query:{index:d,range:(u=c.query.range,p=d.keyTail,{type:u.type===1?2:u.type,lower:jn(u.lower,u.lowerOpen?e.MAX_KEY:e.MIN_KEY,p),lowerOpen:!0,upper:jn(u.upper,u.upperOpen?e.MIN_KEY:e.MAX_KEY,p),upperOpen:!0})}}:c;var u,p}return{...n,schema:{...r,primaryKey:s,indexes:o,getIndexByKeyPath:function(c){const d=i[an(c)];return d&&d[0]}},count:c=>n.count(l(c)),query:c=>n.query(l(c)),openCursor(c){const{keyTail:d,isVirtual:u,keyLength:p}=c.query.index;return u?n.openCursor(l(c)).then(w=>w&&function(b){return Object.create(b,{continue:{value:function(g){g!=null?b.continue(jn(g,c.reverse?e.MAX_KEY:e.MIN_KEY,d)):c.unique?b.continue(b.key.slice(0,p).concat(c.reverse?e.MIN_KEY:e.MAX_KEY,d)):b.continue()}},continuePrimaryKey:{value(g,v){b.continuePrimaryKey(jn(g,e.MAX_KEY,d),v)}},primaryKey:{get:()=>b.primaryKey},key:{get(){const g=b.key;return p===1?g[0]:g.slice(0,p)}},value:{get:()=>b.value}})}(w)):n.openCursor(c)}}}}}};function ro(e,t,n,r){return n=n||{},r=r||"",be(e).forEach(i=>{if(Fe(t,i)){var o=e[i],a=t[i];if(typeof o=="object"&&typeof a=="object"&&o&&a){const s=di(o);s!==di(a)?n[r+i]=t[i]:s==="Object"?ro(o,a,n,r+i+"."):o!==a&&(n[r+i]=t[i])}else o!==a&&(n[r+i]=t[i])}else n[r+i]=void 0}),be(t).forEach(i=>{Fe(e,i)||(n[r+i]=t[i])}),n}const uc={stack:"dbcore",name:"HooksMiddleware",level:2,create:e=>({...e,table(t){const n=e.table(t),{primaryKey:r}=n.schema;return{...n,mutate(o){const a=X.trans,{deleting:s,creating:l,updating:f}=a.table(t).hook;switch(o.type){case"add":if(l.fire===fe)break;return a._promise("readwrite",()=>c(o),!0);case"put":if(l.fire===fe&&f.fire===fe)break;return a._promise("readwrite",()=>c(o),!0);case"delete":if(s.fire===fe)break;return a._promise("readwrite",()=>c(o),!0);case"deleteRange":if(s.fire===fe)break;return a._promise("readwrite",()=>function(u){return d(u.trans,u.range,1e4)}(o),!0)}return n.mutate(o);function c(u){const p=X.trans,w=u.keys||function(b,y){return y.type==="delete"?y.keys:y.keys||y.values.map(b.extractKey)}(r,u);if(!w)throw new Error("Keys missing");return(u=u.type==="add"||u.type==="put"?{...u,keys:w}:{...u}).type!=="delete"&&(u.values=[...u.values]),u.keys&&(u.keys=[...u.keys]),function(b,y,g){return y.type==="add"?Promise.resolve([]):b.getMany({trans:y.trans,keys:g,cache:"immutable"})}(n,u,w).then(b=>{const y=w.map((g,v)=>{const A=b[v],O={onerror:null,onsuccess:null};if(u.type==="delete")s.fire.call(O,g,A,p);else if(u.type==="add"||A===void 0){const S=l.fire.call(O,g,u.values[v],p);g==null&&S!=null&&(g=S,u.keys[v]=g,r.outbound||Le(u.values[v],r.keyPath,g))}else{const S=ro(A,u.values[v]),$=f.fire.call(O,S,g,A,p);if($){const j=u.values[v];Object.keys($).forEach(T=>{Fe(j,T)?j[T]=$[T]:Le(j,T,$[T])})}}return O});return n.mutate(u).then(({failures:g,results:v,numFailures:A,lastResult:O})=>{for(let S=0;S<w.length;++S){const $=v?v[S]:w[S],j=y[S];$==null?j.onerror&&j.onerror(g[S]):j.onsuccess&&j.onsuccess(u.type==="put"&&b[S]?u.values[S]:$)}return{failures:g,results:v,numFailures:A,lastResult:O}}).catch(g=>(y.forEach(v=>v.onerror&&v.onerror(g)),Promise.reject(g)))})}function d(u,p,w){return n.query({trans:u,values:!1,query:{index:r,range:p},limit:w}).then(({result:b})=>c({type:"delete",keys:b,trans:u}).then(y=>y.numFailures>0?Promise.reject(y.failures[0]):b.length<w?{failures:[],numFailures:0,lastResult:void 0}:d(u,{...p,lower:b[b.length-1],lowerOpen:!0},w)))}}}}})};function Ga(e,t,n){try{if(!t||t.keys.length<e.length)return null;const r=[];for(let i=0,o=0;i<t.keys.length&&o<e.length;++i)xe(t.keys[i],e[o])===0&&(r.push(n?mn(t.values[i]):t.values[i]),++o);return r.length===e.length?r:null}catch{return null}}const fc={stack:"dbcore",level:-1,create:e=>({table:t=>{const n=e.table(t);return{...n,getMany:r=>{if(!r.cache)return n.getMany(r);const i=Ga(r.keys,r.trans._cache,r.cache==="clone");return i?q.resolve(i):n.getMany(r).then(o=>(r.trans._cache={keys:r.keys,values:r.cache==="clone"?mn(o):o},o))},mutate:r=>(r.type!=="add"&&(r.trans._cache=null),n.mutate(r))}}})};function io(e){return!("from"in e)}const Xe=function(e,t){if(!this){const n=new Xe;return e&&"d"in e&&ke(n,e),n}ke(this,arguments.length?{d:1,from:e,to:arguments.length>1?t:e}:{d:0})};function hn(e,t,n){const r=xe(t,n);if(isNaN(r))return;if(r>0)throw RangeError();if(io(e))return ke(e,{from:t,to:n,d:1});const i=e.l,o=e.r;if(xe(n,e.from)<0)return i?hn(i,t,n):e.l={from:t,to:n,d:1,l:null,r:null},xo(e);if(xe(t,e.to)>0)return o?hn(o,t,n):e.r={from:t,to:n,d:1,l:null,r:null},xo(e);xe(t,e.from)<0&&(e.from=t,e.l=null,e.d=o?o.d+1:1),xe(n,e.to)>0&&(e.to=n,e.r=null,e.d=e.l?e.l.d+1:1);const a=!e.r;i&&!e.l&&tr(e,i),o&&a&&tr(e,o)}function tr(e,t){io(t)||function n(r,{from:i,to:o,l:a,r:s}){hn(r,i,o),a&&n(r,a),s&&n(r,s)}(e,t)}function dc(e,t){const n=Ri(t);let r=n.next();if(r.done)return!1;let i=r.value;const o=Ri(e);let a=o.next(i.from),s=a.value;for(;!r.done&&!a.done;){if(xe(s.from,i.to)<=0&&xe(s.to,i.from)>=0)return!0;xe(i.from,s.from)<0?i=(r=n.next(s.from)).value:s=(a=o.next(i.from)).value}return!1}function Ri(e){let t=io(e)?null:{s:0,n:e};return{next(n){const r=arguments.length>0;for(;t;)switch(t.s){case 0:if(t.s=1,r)for(;t.n.l&&xe(n,t.n.from)<0;)t={up:t,n:t.n.l,s:1};else for(;t.n.l;)t={up:t,n:t.n.l,s:1};case 1:if(t.s=2,!r||xe(n,t.n.to)<=0)return{value:t.n,done:!1};case 2:if(t.n.r){t.s=3,t={up:t,n:t.n.r,s:0};continue}case 3:t=t.up}return{done:!0}}}}function xo(e){var t,n;const r=(((t=e.r)===null||t===void 0?void 0:t.d)||0)-(((n=e.l)===null||n===void 0?void 0:n.d)||0),i=r>1?"r":r<-1?"l":"";if(i){const o=i==="r"?"l":"r",a={...e},s=e[i];e.from=s.from,e.to=s.to,e[i]=s[i],a[i]=s[o],e[o]=a,a.d=ko(a)}e.d=ko(e)}function ko({r:e,l:t}){return(e?t?Math.max(e.d,t.d):e.d:t?t.d:0)+1}Ut(Xe.prototype,{add(e){return tr(this,e),this},addKey(e){return hn(this,e,e),this},addKeys(e){return e.forEach(t=>hn(this,t,t)),this},[hi](){return Ri(this)}});const hc={stack:"dbcore",level:0,create:e=>{const t=e.schema.name,n=new Xe(e.MIN_KEY,e.MAX_KEY);return{...e,table:r=>{const i=e.table(r),{schema:o}=i,{primaryKey:a}=o,{extractKey:s,outbound:l}=a,f={...i,mutate:u=>{const p=u.trans,w=p.mutatedParts||(p.mutatedParts={}),b=$=>{const j=`idb://${t}/${r}/${$}`;return w[j]||(w[j]=new Xe)},y=b(""),g=b(":dels"),{type:v}=u;let[A,O]=u.type==="deleteRange"?[u.range]:u.type==="delete"?[u.keys]:u.values.length<50?[[],u.values]:[];const S=u.trans._cache;return i.mutate(u).then($=>{if(Oe(A)){v!=="delete"&&(A=$.results),y.addKeys(A);const j=Ga(A,S);j||v==="add"||g.addKeys(A),(j||O)&&function(T,C,K,V){function G(ee){const H=T(ee.name||"");function D(M){return M!=null?ee.extractKey(M):null}const B=M=>ee.multiEntry&&Oe(M)?M.forEach(N=>H.addKey(N)):H.addKey(M);(K||V).forEach((M,N)=>{const U=K&&D(K[N]),Z=V&&D(V[N]);xe(U,Z)!==0&&(U!=null&&B(U),Z!=null&&B(Z))})}C.indexes.forEach(G)}(b,o,j,O)}else if(A){const j={from:A.lower,to:A.upper};g.add(j),y.add(j)}else y.add(n),g.add(n),o.indexes.forEach(j=>b(j.name).add(n));return $})}},c=({query:{index:u,range:p}})=>{var w,b;return[u,new Xe((w=p.lower)!==null&&w!==void 0?w:e.MIN_KEY,(b=p.upper)!==null&&b!==void 0?b:e.MAX_KEY)]},d={get:u=>[a,new Xe(u.key)],getMany:u=>[a,new Xe().addKeys(u.keys)],count:c,query:c,openCursor:c};return be(d).forEach(u=>{f[u]=function(p){const{subscr:w}=X;if(w){const b=O=>{const S=`idb://${t}/${r}/${O}`;return w[S]||(w[S]=new Xe)},y=b(""),g=b(":dels"),[v,A]=d[u](p);if(b(v.name||"").add(A),!v.isPrimaryKey){if(u!=="count"){const O=u==="query"&&l&&p.values&&i.query({...p,values:!1});return i[u].apply(this,arguments).then(S=>{if(u==="query"){if(l&&p.values)return O.then(({result:j})=>(y.addKeys(j),S));const $=p.values?S.result.map(s):S.result;p.values?y.addKeys($):g.addKeys($)}else if(u==="openCursor"){const $=S,j=p.values;return $&&Object.create($,{key:{get:()=>(g.addKey($.primaryKey),$.key)},primaryKey:{get(){const T=$.primaryKey;return g.addKey(T),T}},value:{get:()=>(j&&y.addKey($.primaryKey),$.value)}})}return S})}g.add(n)}}return i[u].apply(this,arguments)}}),f}}}};class St{constructor(t,n){this._middlewares={},this.verno=0;const r=St.dependencies;this._options=n={addons:St.addons,autoOpen:!0,indexedDB:r.indexedDB,IDBKeyRange:r.IDBKeyRange,...n},this._deps={indexedDB:n.indexedDB,IDBKeyRange:n.IDBKeyRange};const{addons:i}=n;this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;const o={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:fe,dbReadyPromise:null,cancelOpen:fe,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3};var a;o.dbReadyPromise=new q(s=>{o.dbReadyResolve=s}),o.openCanceller=new q((s,l)=>{o.cancelOpen=l}),this._state=o,this.name=t,this.on=on(this,"populate","blocked","versionchange","close",{ready:[Xi,fe]}),this.on.ready.subscribe=wa(this.on.ready.subscribe,s=>(l,f)=>{St.vip(()=>{const c=this._state;if(c.openComplete)c.dbOpenError||q.resolve().then(l),f&&s(l);else if(c.onReadyBeingFired)c.onReadyBeingFired.push(l),f&&s(l);else{s(l);const d=this;f||s(function u(){d.on.ready.unsubscribe(l),d.on.ready.unsubscribe(u)})}})}),this.Collection=(a=this,Xt(Jl.prototype,function(s,l){this.db=a;let f=Fa,c=null;if(l)try{f=l()}catch(w){c=w}const d=s._ctx,u=d.table,p=u.hook.reading.fire;this._ctx={table:u,index:d.index,isPrimKey:!d.index||u.schema.primKey.keyPath&&d.index===u.schema.primKey.name,range:f,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:c,or:d.or,valueMapper:p!==cn?p:null}})),this.Table=function(s){return Xt(Yl.prototype,function(l,f,c){this.db=s,this._tx=c,this.name=l,this.schema=f,this.hook=s._allTables[l]?s._allTables[l].hook:on(null,{creating:[Nl,fe],reading:[Dl,cn],updating:[Fl,fe],deleting:[Ml,fe]})})}(this),this.Transaction=function(s){return Xt(ec.prototype,function(l,f,c,d,u){this.db=s,this.mode=l,this.storeNames=f,this.schema=c,this.chromeTransactionDurability=d,this.idbtrans=null,this.on=on(this,"complete","error","abort"),this.parent=u||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new q((p,w)=>{this._resolve=p,this._reject=w}),this._completion.then(()=>{this.active=!1,this.on.complete.fire()},p=>{var w=this.active;return this.active=!1,this.on.error.fire(p),this.parent?this.parent._reject(p):w&&this.idbtrans&&this.idbtrans.abort(),we(p)})})}(this),this.Version=function(s){return Xt(oc.prototype,function(l){this.db=s,this._cfg={version:l,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})}(this),this.WhereClause=function(s){return Xt(La.prototype,function(l,f,c){this.db=s,this._ctx={table:l,index:f===":id"?null:f,or:c};const d=s._deps.indexedDB;if(!d)throw new Q.MissingAPI;this._cmp=this._ascending=d.cmp.bind(d),this._descending=(u,p)=>d.cmp(p,u),this._max=(u,p)=>d.cmp(u,p)>0?u:p,this._min=(u,p)=>d.cmp(u,p)<0?u:p,this._IDBKeyRange=s._deps.IDBKeyRange})}(this),this.on("versionchange",s=>{s.newVersion>0?console.warn(`Another connection wants to upgrade database '${this.name}'. Closing db now to resume the upgrade.`):console.warn(`Another connection wants to delete database '${this.name}'. Closing db now to resume the delete request.`),this.close()}),this.on("blocked",s=>{!s.newVersion||s.newVersion<s.oldVersion?console.warn(`Dexie.delete('${this.name}') was blocked`):console.warn(`Upgrade '${this.name}' blocked by other connection holding version ${s.oldVersion/10}`)}),this._maxKey=dn(n.IDBKeyRange),this._createTransaction=(s,l,f,c)=>new this.Transaction(s,l,f,this._options.chromeTransactionDurability,c),this._fireOnBlocked=s=>{this.on("blocked").fire(s),rn.filter(l=>l.name===this.name&&l!==this&&!l._state.vcFired).map(l=>l.on("versionchange").fire(s))},this.use(cc),this.use(uc),this.use(hc),this.use(fc),this.vip=Object.create(this,{_vip:{value:!0}}),i.forEach(s=>s(this))}version(t){if(isNaN(t)||t<.1)throw new Q.Type("Given version is not a positive number");if(t=Math.round(10*t)/10,this.idbdb||this._state.isBeingOpened)throw new Q.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,t);const n=this._versions;var r=n.filter(i=>i._cfg.version===t)[0];return r||(r=new this.Version(t),n.push(r),n.sort(rc),r.stores({}),this._state.autoSchema=!1,r)}_whenReady(t){return this.idbdb&&(this._state.openComplete||X.letThrough||this._vip)?t():new q((n,r)=>{if(this._state.openComplete)return r(new Q.DatabaseClosed(this._state.dbOpenError));if(!this._state.isBeingOpened){if(!this._options.autoOpen)return void r(new Q.DatabaseClosed);this.open().catch(fe)}this._state.dbReadyPromise.then(n,r)}).then(t)}use({stack:t,create:n,level:r,name:i}){i&&this.unuse({stack:t,name:i});const o=this._middlewares[t]||(this._middlewares[t]=[]);return o.push({stack:t,create:n,level:r??10,name:i}),o.sort((a,s)=>a.level-s.level),this}unuse({stack:t,name:n,create:r}){return t&&this._middlewares[t]&&(this._middlewares[t]=this._middlewares[t].filter(i=>r?i.create!==r:!!n&&i.name!==n)),this}open(){return sc(this)}_close(){const t=this._state,n=rn.indexOf(this);if(n>=0&&rn.splice(n,1),this.idbdb){try{this.idbdb.close()}catch{}this._novip.idbdb=null}t.dbReadyPromise=new q(r=>{t.dbReadyResolve=r}),t.openCanceller=new q((r,i)=>{t.cancelOpen=i})}close(){this._close();const t=this._state;this._options.autoOpen=!1,t.dbOpenError=new Q.DatabaseClosed,t.isBeingOpened&&t.cancelOpen(t.dbOpenError)}delete(){const t=arguments.length>0,n=this._state;return new q((r,i)=>{const o=()=>{this.close();var a=this._deps.indexedDB.deleteDatabase(this.name);a.onsuccess=he(()=>{(function({indexedDB:s,IDBKeyRange:l},f){!no(s)&&f!=="__dbnames"&&to(s,l).delete(f).catch(fe)})(this._deps,this.name),r()}),a.onerror=Ue(i),a.onblocked=this._fireOnBlocked};if(t)throw new Q.InvalidArgument("Arguments not allowed in db.delete()");n.isBeingOpened?n.dbReadyPromise.then(o):o()})}backendDB(){return this.idbdb}isOpen(){return this.idbdb!==null}hasBeenClosed(){const t=this._state.dbOpenError;return t&&t.name==="DatabaseClosed"}hasFailed(){return this._state.dbOpenError!==null}dynamicallyOpened(){return this._state.autoSchema}get tables(){return be(this._allTables).map(t=>this._allTables[t])}transaction(){const t=lc.apply(this,arguments);return this._transaction.apply(this,t)}_transaction(t,n,r){let i=X.trans;i&&i.db===this&&t.indexOf("!")===-1||(i=null);const o=t.indexOf("?")!==-1;let a,s;t=t.replace("!","").replace("?","");try{if(s=n.map(f=>{var c=f instanceof this.Table?f.name:f;if(typeof c!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return c}),t=="r"||t==="readonly")a="readonly";else{if(t!="rw"&&t!="readwrite")throw new Q.InvalidArgument("Invalid transaction mode: "+t);a="readwrite"}if(i){if(i.mode==="readonly"&&a==="readwrite"){if(!o)throw new Q.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");i=null}i&&s.forEach(f=>{if(i&&i.storeNames.indexOf(f)===-1){if(!o)throw new Q.SubTransaction("Table "+f+" not included in parent transaction.");i=null}}),o&&i&&!i.active&&(i=null)}}catch(f){return i?i._promise(null,(c,d)=>{d(f)}):we(f)}const l=Va.bind(null,this,a,s,i,r);return i?i._promise(a,l,"lock"):X.trans?Wt(X.transless,()=>this._whenReady(l)):this._whenReady(l)}table(t){if(!Fe(this._allTables,t))throw new Q.InvalidTable(`Table ${t} does not exist`);return this._allTables[t]}}const pc=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable";class yc{constructor(t){this._subscribe=t}subscribe(t,n,r){return this._subscribe(t&&typeof t!="function"?t:{next:t,error:n,complete:r})}[pc](){return this}}function Ha(e,t){return be(t).forEach(n=>{tr(e[n]||(e[n]=new Xe),t[n])}),e}function Wa(e){return new yc(t=>{const n=Wi(e);let r=!1,i={},o={};const a={get closed(){return r},unsubscribe:()=>{r=!0,dt.storagemutated.unsubscribe(c)}};t.start&&t.start(a);let s=!1,l=!1;function f(){return be(o).some(u=>i[u]&&dc(i[u],o[u]))}const c=u=>{Ha(i,u),f()&&d()},d=()=>{if(s||r)return;i={};const u={},p=function(w){n&&Ht();const b=()=>ut(e,{subscr:w,trans:null}),y=X.trans?Wt(X.transless,b):b();return n&&y.then(rt,rt),y}(u);l||(dt("storagemutated",c),l=!0),s=!0,Promise.resolve(p).then(w=>{s=!1,r||(f()?d():(i={},o=u,t.next&&t.next(w)))},w=>{s=!1,t.error&&t.error(w),a.unsubscribe()})};return d(),a})}let Ci;try{Ci={indexedDB:de.indexedDB||de.mozIndexedDB||de.webkitIndexedDB||de.msIndexedDB,IDBKeyRange:de.IDBKeyRange||de.webkitIDBKeyRange}}catch{Ci={indexedDB:null,IDBKeyRange:null}}const yt=St;function Fn(e){let t=Ze;try{Ze=!0,dt.storagemutated.fire(e)}finally{Ze=t}}Ut(yt,{...Rn,delete:e=>new yt(e,{addons:[]}).delete(),exists:e=>new yt(e,{addons:[]}).open().then(t=>(t.close(),!0)).catch("NoSuchDatabaseError",()=>!1),getDatabaseNames(e){try{return function({indexedDB:t,IDBKeyRange:n}){return no(t)?Promise.resolve(t.databases()).then(r=>r.map(i=>i.name).filter(i=>i!=="__dbnames")):to(t,n).toCollection().primaryKeys()}(yt.dependencies).then(e)}catch{return we(new Q.MissingAPI)}},defineClass:()=>function(e){ke(this,e)},ignoreTransaction:e=>X.trans?Wt(X.transless,e):e(),vip:Ti,async:function(e){return function(){try{var t=Ii(e.apply(this,arguments));return t&&typeof t.then=="function"?t:q.resolve(t)}catch(n){return we(n)}}},spawn:function(e,t,n){try{var r=Ii(e.apply(n,t||[]));return r&&typeof r.then=="function"?r:q.resolve(r)}catch(i){return we(i)}},currentTransaction:{get:()=>X.trans||null},waitFor:function(e,t){const n=q.resolve(typeof e=="function"?yt.ignoreTransaction(e):e).timeout(t||6e4);return X.trans?X.trans.waitFor(n):n},Promise:q,debug:{get:()=>Ve,set:e=>{Pa(e,e==="dexie"?()=>!0:Ma)}},derive:Ft,extend:ke,props:Ut,override:wa,Events:on,on:dt,liveQuery:Wa,extendObservabilitySet:Ha,getByKeyPath:nt,setByKeyPath:Le,delByKeyPath:function(e,t){typeof t=="string"?Le(e,t,void 0):"length"in t&&[].map.call(t,function(n){Le(e,n,void 0)})},shallowClone:Aa,deepClone:mn,getObjectDiff:ro,cmp:xe,asap:_a,minKey:-(1/0),addons:[],connections:rn,errnames:Ji,dependencies:Ci,semVer:"3.2.3",version:"3.2.3".split(".").map(e=>parseInt(e)).reduce((e,t,n)=>e+t/Math.pow(10,2*n))}),yt.maxKey=dn(yt.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(dt("storagemutated",e=>{if(!Ze){let t;cr?(t=document.createEvent("CustomEvent"),t.initCustomEvent("x-storagemutated-1",!0,!0,e)):t=new CustomEvent("x-storagemutated-1",{detail:e}),Ze=!0,dispatchEvent(t),Ze=!1}}),addEventListener("x-storagemutated-1",({detail:e})=>{Ze||Fn(e)}));let Ze=!1;if(typeof BroadcastChannel<"u"){const e=new BroadcastChannel("x-storagemutated-1");typeof e.unref=="function"&&e.unref(),dt("storagemutated",t=>{Ze||e.postMessage(t)}),e.onmessage=t=>{t.data&&Fn(t.data)}}else if(typeof self<"u"&&typeof navigator<"u"){dt("storagemutated",t=>{try{Ze||(typeof localStorage<"u"&&localStorage.setItem("x-storagemutated-1",JSON.stringify({trig:Math.random(),changedParts:t})),typeof self.clients=="object"&&[...self.clients.matchAll({includeUncontrolled:!0})].forEach(n=>n.postMessage({type:"x-storagemutated-1",changedParts:t})))}catch{}}),typeof addEventListener<"u"&&addEventListener("storage",t=>{if(t.key==="x-storagemutated-1"){const n=JSON.parse(t.newValue);n&&Fn(n.changedParts)}});const e=self.document&&navigator.serviceWorker;e&&e.addEventListener("message",function({data:t}){t&&t.type==="x-storagemutated-1"&&Fn(t.changedParts)})}q.rejectionMapper=function(e,t){if(!e||e instanceof qt||e instanceof TypeError||e instanceof SyntaxError||!e.name||!_o[e.name])return e;var n=new _o[e.name](t||e.message,e);return"stack"in e&&tt(n,"stack",{get:function(){return this.inner.stack}}),n},Pa(Ve,Ma);class gc extends St{constructor(){super("SoundBoardDB");_e(this,"sample");this.version(1).stores({sample:"filename"})}}const mt=class{constructor(){_e(this,"_db",new gc);_e(this,"_channelDataStore",new Map)}static init(){mt._instance=new mt}static get instance(){return mt._instance||mt.init(),mt._instance}async getSampleBlob(t){return await this._db.sample.get({filename:t}).then(n=>n==null?void 0:n.data)}cacheChannelData(t,n){this._channelDataStore.set(t,n)}getChannelData(t){return this._channelDataStore.get(t)}async getAllSampleFileNames(){return await this._db.sample.toCollection().keys()}async addSampleFromFile(t){return await this._db.sample.put({filename:t.name,data:t})}async addSample(t){return await this._db.sample.put(t)}async deleteSampleByName(t){return this._channelDataStore.delete(t),await this._db.sample.where({filename:t}).delete()}};let $e=mt;_e($e,"_instance");function mc(e){return(e.split(/.*[/|\\]/).at(-1)??"").replace(/\..*$/,"")}async function bc(e,t,n){const r=await fetch(`https://api.github.com/repos/${e}/${t}/contents/${n}`,{headers:{"Content-Type":"application/vnd.github.raw"}});if(!r.ok)throw new Error(`Error fetching file:'${n}'
${await r.text()}`);return(await r.json()).content}const nr=Symbol("store-raw"),pn=Symbol("store-node");function Ya(e){let t=e[Ke];if(!t&&(Object.defineProperty(e,Ke,{value:t=new Proxy(e,_c)}),!Array.isArray(e))){const n=Object.keys(e),r=Object.getOwnPropertyDescriptors(e);for(let i=0,o=n.length;i<o;i++){const a=n[i];r[a].get&&Object.defineProperty(e,a,{enumerable:r[a].enumerable,get:r[a].get.bind(t)})}}return t}function ze(e){let t;return e!=null&&typeof e=="object"&&(e[Ke]||!(t=Object.getPrototypeOf(e))||t===Object.prototype||Array.isArray(e))}function Pt(e,t=new Set){let n,r,i,o;if(n=e!=null&&e[nr])return n;if(!ze(e)||t.has(e))return e;if(Array.isArray(e)){Object.isFrozen(e)?e=e.slice(0):t.add(e);for(let a=0,s=e.length;a<s;a++)i=e[a],(r=Pt(i,t))!==i&&(e[a]=r)}else{Object.isFrozen(e)?e=Object.assign({},e):t.add(e);const a=Object.keys(e),s=Object.getOwnPropertyDescriptors(e);for(let l=0,f=a.length;l<f;l++)o=a[l],!s[o].get&&(i=e[o],(r=Pt(i,t))!==i&&(e[o]=r))}return e}function oo(e){let t=e[pn];return t||Object.defineProperty(e,pn,{value:t=Object.create(null)}),t}function Bi(e,t,n){return e[t]||(e[t]=Xa(n))}function vc(e,t){const n=Reflect.getOwnPropertyDescriptor(e,t);return!n||n.get||!n.configurable||t===Ke||t===pn||(delete n.value,delete n.writable,n.get=()=>e[Ke][t]),n}function Ja(e){if(Gi()){const t=oo(e);(t._||(t._=Xa()))()}}function wc(e){return Ja(e),Reflect.ownKeys(e)}function Xa(e){const[t,n]=me(e,{equals:!1,internal:!0});return t.$=n,t}const _c={get(e,t,n){if(t===nr)return e;if(t===Ke)return n;if(t===oi)return Ja(e),n;const r=oo(e),i=r[t];let o=i?i():e[t];if(t===pn||t==="__proto__")return o;if(!i){const a=Object.getOwnPropertyDescriptor(e,t);Gi()&&(typeof o!="function"||e.hasOwnProperty(t))&&!(a&&a.get)&&(o=Bi(r,t,o)())}return ze(o)?Ya(o):o},has(e,t){return t===nr||t===Ke||t===oi||t===pn||t==="__proto__"?!0:(this.get(e,t,e),t in e)},set(){return!0},deleteProperty(){return!0},ownKeys:wc,getOwnPropertyDescriptor:vc};function Re(e,t,n,r=!1){if(!r&&e[t]===n)return;const i=e[t],o=e.length;n===void 0?delete e[t]:e[t]=n;let a=oo(e),s;(s=Bi(a,t,i))&&s.$(()=>n),Array.isArray(e)&&e.length!==o&&(s=Bi(a,"length",o))&&s.$(e.length),(s=a._)&&s.$()}function Qa(e,t){const n=Object.keys(t);for(let r=0;r<n.length;r+=1){const i=n[r];Re(e,i,t[i])}}function Sc(e,t){if(typeof t=="function"&&(t=t(e)),t=Pt(t),Array.isArray(t)){if(e===t)return;let n=0,r=t.length;for(;n<r;n++){const i=t[n];e[n]!==i&&Re(e,n,i)}Re(e,"length",r)}else Qa(e,t)}function en(e,t,n=[]){let r,i=e;if(t.length>1){r=t.shift();const a=typeof r,s=Array.isArray(e);if(Array.isArray(r)){for(let l=0;l<r.length;l++)en(e,[r[l]].concat(t),n);return}else if(s&&a==="function"){for(let l=0;l<e.length;l++)r(e[l],l)&&en(e,[l].concat(t),n);return}else if(s&&a==="object"){const{from:l=0,to:f=e.length-1,by:c=1}=r;for(let d=l;d<=f;d+=c)en(e,[d].concat(t),n);return}else if(t.length>1){en(e[r],t,[r].concat(n));return}i=e[r],n=[r].concat(n)}let o=t[0];typeof o=="function"&&(o=o(i,n),o===i)||r===void 0&&o==null||(o=Pt(o),r===void 0||ze(i)&&ze(o)&&!Array.isArray(o)?Qa(i,o):Re(e,r,o))}function Za(...[e,t]){const n=Pt(e||{}),r=Array.isArray(n),i=Ya(n);function o(...a){la(()=>{r&&a.length===1?Sc(n,a[0]):en(n,a)})}return[i,o]}const Di=Symbol("store-root");function Ct(e,t,n,r,i){const o=t[n];if(e===o)return;if(n!==Di&&(!ze(e)||!ze(o)||i&&e[i]!==o[i])){Re(t,n,e);return}if(Array.isArray(e)){if(e.length&&o.length&&(!r||i&&e[0]&&e[0][i]!=null)){let l,f,c,d,u,p,w,b;for(c=0,d=Math.min(o.length,e.length);c<d&&(o[c]===e[c]||i&&o[c]&&e[c]&&o[c][i]===e[c][i]);c++)Ct(e[c],o,c,r,i);const y=new Array(e.length),g=new Map;for(d=o.length-1,u=e.length-1;d>=c&&u>=c&&(o[d]===e[u]||i&&o[c]&&e[c]&&o[d][i]===e[u][i]);d--,u--)y[u]=o[d];if(c>u||c>d){for(f=c;f<=u;f++)Re(o,f,e[f]);for(;f<e.length;f++)Re(o,f,y[f]),Ct(e[f],o,f,r,i);o.length>e.length&&Re(o,"length",e.length);return}for(w=new Array(u+1),f=u;f>=c;f--)p=e[f],b=i&&p?p[i]:p,l=g.get(b),w[f]=l===void 0?-1:l,g.set(b,f);for(l=c;l<=d;l++)p=o[l],b=i&&p?p[i]:p,f=g.get(b),f!==void 0&&f!==-1&&(y[f]=o[l],f=w[f],g.set(b,f));for(f=c;f<e.length;f++)f in y?(Re(o,f,y[f]),Ct(e[f],o,f,r,i)):Re(o,f,e[f])}else for(let l=0,f=e.length;l<f;l++)Ct(e[l],o,l,r,i);o.length>e.length&&Re(o,"length",e.length);return}const a=Object.keys(e);for(let l=0,f=a.length;l<f;l++)Ct(e[a[l]],o,a[l],r,i);const s=Object.keys(o);for(let l=0,f=s.length;l<f;l++)e[s[l]]===void 0&&Re(o,s[l],void 0)}function Ac(e,t={}){const{merge:n,key:r="id"}=t,i=Pt(e);return o=>{if(!ze(o)||!ze(i))return i;const a=Ct(i,{[Di]:o},Di,n,r);return a===void 0?o:a}}const rr=new WeakMap,es={get(e,t){if(t===nr)return e;const n=e[t];let r;return ze(n)?rr.get(n)||(rr.set(n,r=new Proxy(n,es)),r):n},set(e,t,n){return Re(e,t,Pt(n)),!0},deleteProperty(e,t){return Re(e,t,void 0,!0),!0}};function ts(e){return t=>{if(ze(t)){let n;(n=rr.get(t))||rr.set(t,n=new Proxy(t,es)),e(n)}return t}}const ns=12,Ec=200,rs=12;var ao=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Oc(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Er={exports:{}},Or={},zt={},is={},os=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var t={},n=Symbol("test"),r=Object(n);if(typeof n=="string"||Object.prototype.toString.call(n)!=="[object Symbol]"||Object.prototype.toString.call(r)!=="[object Symbol]")return!1;var i=42;t[n]=i;for(n in t)return!1;if(typeof Object.keys=="function"&&Object.keys(t).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(t).length!==0)return!1;var o=Object.getOwnPropertySymbols(t);if(o.length!==1||o[0]!==n||!Object.prototype.propertyIsEnumerable.call(t,n))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var a=Object.getOwnPropertyDescriptor(t,n);if(a.value!==i||a.enumerable!==!0)return!1}return!0},Pc=os,ur=function(){return Pc()&&!!Symbol.toStringTag},Pr,To;function $c(){if(To)return Pr;To=1;var e=typeof Symbol<"u"&&Symbol,t=os;return Pr=function(){return typeof e!="function"||typeof Symbol!="function"||typeof e("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:t()},Pr}var $r,Io;function jc(){if(Io)return $r;Io=1;var e="Function.prototype.bind called on incompatible ",t=Array.prototype.slice,n=Object.prototype.toString,r="[object Function]";return $r=function(o){var a=this;if(typeof a!="function"||n.call(a)!==r)throw new TypeError(e+a);for(var s=t.call(arguments,1),l,f=function(){if(this instanceof l){var w=a.apply(this,s.concat(t.call(arguments)));return Object(w)===w?w:this}else return a.apply(o,s.concat(t.call(arguments)))},c=Math.max(0,a.length-s.length),d=[],u=0;u<c;u++)d.push("$"+u);if(l=Function("binder","return function ("+d.join(",")+"){ return binder.apply(this,arguments); }")(f),a.prototype){var p=function(){};p.prototype=a.prototype,l.prototype=new p,p.prototype=null}return l},$r}var jr,Ro;function so(){if(Ro)return jr;Ro=1;var e=jc();return jr=Function.prototype.bind||e,jr}var xr,Co;function xc(){if(Co)return xr;Co=1;var e=so();return xr=e.call(Function.call,Object.prototype.hasOwnProperty),xr}var kr,Bo;function fr(){if(Bo)return kr;Bo=1;var e,t=SyntaxError,n=Function,r=TypeError,i=function(V){try{return n('"use strict"; return ('+V+").constructor;")()}catch{}},o=Object.getOwnPropertyDescriptor;if(o)try{o({},"")}catch{o=null}var a=function(){throw new r},s=o?function(){try{return arguments.callee,a}catch{try{return o(arguments,"callee").get}catch{return a}}}():a,l=$c()(),f=Object.getPrototypeOf||function(V){return V.__proto__},c={},d=typeof Uint8Array>"u"?e:f(Uint8Array),u={"%AggregateError%":typeof AggregateError>"u"?e:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?e:ArrayBuffer,"%ArrayIteratorPrototype%":l?f([][Symbol.iterator]()):e,"%AsyncFromSyncIteratorPrototype%":e,"%AsyncFunction%":c,"%AsyncGenerator%":c,"%AsyncGeneratorFunction%":c,"%AsyncIteratorPrototype%":c,"%Atomics%":typeof Atomics>"u"?e:Atomics,"%BigInt%":typeof BigInt>"u"?e:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?e:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?e:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?e:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?e:Float32Array,"%Float64Array%":typeof Float64Array>"u"?e:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?e:FinalizationRegistry,"%Function%":n,"%GeneratorFunction%":c,"%Int8Array%":typeof Int8Array>"u"?e:Int8Array,"%Int16Array%":typeof Int16Array>"u"?e:Int16Array,"%Int32Array%":typeof Int32Array>"u"?e:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":l?f(f([][Symbol.iterator]())):e,"%JSON%":typeof JSON=="object"?JSON:e,"%Map%":typeof Map>"u"?e:Map,"%MapIteratorPrototype%":typeof Map>"u"||!l?e:f(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?e:Promise,"%Proxy%":typeof Proxy>"u"?e:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?e:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?e:Set,"%SetIteratorPrototype%":typeof Set>"u"||!l?e:f(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?e:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":l?f(""[Symbol.iterator]()):e,"%Symbol%":l?Symbol:e,"%SyntaxError%":t,"%ThrowTypeError%":s,"%TypedArray%":d,"%TypeError%":r,"%Uint8Array%":typeof Uint8Array>"u"?e:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?e:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?e:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?e:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?e:WeakMap,"%WeakRef%":typeof WeakRef>"u"?e:WeakRef,"%WeakSet%":typeof WeakSet>"u"?e:WeakSet};try{null.error}catch(V){var p=f(f(V));u["%Error.prototype%"]=p}var w=function V(G){var ee;if(G==="%AsyncFunction%")ee=i("async function () {}");else if(G==="%GeneratorFunction%")ee=i("function* () {}");else if(G==="%AsyncGeneratorFunction%")ee=i("async function* () {}");else if(G==="%AsyncGenerator%"){var H=V("%AsyncGeneratorFunction%");H&&(ee=H.prototype)}else if(G==="%AsyncIteratorPrototype%"){var D=V("%AsyncGenerator%");D&&(ee=f(D.prototype))}return u[G]=ee,ee},b={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},y=so(),g=xc(),v=y.call(Function.call,Array.prototype.concat),A=y.call(Function.apply,Array.prototype.splice),O=y.call(Function.call,String.prototype.replace),S=y.call(Function.call,String.prototype.slice),$=y.call(Function.call,RegExp.prototype.exec),j=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,T=/\\(\\)?/g,C=function(G){var ee=S(G,0,1),H=S(G,-1);if(ee==="%"&&H!=="%")throw new t("invalid intrinsic syntax, expected closing `%`");if(H==="%"&&ee!=="%")throw new t("invalid intrinsic syntax, expected opening `%`");var D=[];return O(G,j,function(B,M,N,U){D[D.length]=N?O(U,T,"$1"):M||B}),D},K=function(G,ee){var H=G,D;if(g(b,H)&&(D=b[H],H="%"+D[0]+"%"),g(u,H)){var B=u[H];if(B===c&&(B=w(H)),typeof B>"u"&&!ee)throw new r("intrinsic "+G+" exists, but is not available. Please file an issue!");return{alias:D,name:H,value:B}}throw new t("intrinsic "+G+" does not exist!")};return kr=function(G,ee){if(typeof G!="string"||G.length===0)throw new r("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof ee!="boolean")throw new r('"allowMissing" argument must be a boolean');if($(/^%?[^%]*%?$/,G)===null)throw new t("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var H=C(G),D=H.length>0?H[0]:"",B=K("%"+D+"%",ee),M=B.name,N=B.value,U=!1,Z=B.alias;Z&&(D=Z[0],A(H,v([0,1],Z)));for(var x=1,h=!0;x<H.length;x+=1){var m=H[x],_=S(m,0,1),I=S(m,-1);if((_==='"'||_==="'"||_==="`"||I==='"'||I==="'"||I==="`")&&_!==I)throw new t("property names with quotes must have matching quotes");if((m==="constructor"||!h)&&(U=!0),D+="."+m,M="%"+D+"%",g(u,M))N=u[M];else if(N!=null){if(!(m in N)){if(!ee)throw new r("base intrinsic for "+G+" exists, but the property is not available.");return}if(o&&x+1>=H.length){var k=o(N,m);h=!!k,h&&"get"in k&&!("originalValue"in k.get)?N=k.get:N=N[m]}else h=g(N,m),N=N[m];h&&!U&&(u[M]=N)}}return N},kr}var Tr={exports:{}},Do;function lo(){return Do||(Do=1,function(e){var t=so(),n=fr(),r=n("%Function.prototype.apply%"),i=n("%Function.prototype.call%"),o=n("%Reflect.apply%",!0)||t.call(i,r),a=n("%Object.getOwnPropertyDescriptor%",!0),s=n("%Object.defineProperty%",!0),l=n("%Math.max%");if(s)try{s({},"a",{value:1})}catch{s=null}e.exports=function(d){var u=o(t,i,arguments);if(a&&s){var p=a(u,"length");p.configurable&&s(u,"length",{value:1+l(0,d.length-(arguments.length-1))})}return u};var f=function(){return o(t,r,arguments)};s?s(e.exports,"apply",{value:f}):e.exports.apply=f}(Tr)),Tr.exports}var as=fr(),ss=lo(),kc=ss(as("String.prototype.indexOf")),co=function(t,n){var r=as(t,!!n);return typeof r=="function"&&kc(t,".prototype.")>-1?ss(r):r},Tc=ur(),Ic=co,Ni=Ic("Object.prototype.toString"),dr=function(t){return Tc&&t&&typeof t=="object"&&Symbol.toStringTag in t?!1:Ni(t)==="[object Arguments]"},ls=function(t){return dr(t)?!0:t!==null&&typeof t=="object"&&typeof t.length=="number"&&t.length>=0&&Ni(t)!=="[object Array]"&&Ni(t.callee)==="[object Function]"},Rc=function(){return dr(arguments)}();dr.isLegacyArguments=ls;var Cc=Rc?dr:ls,Bc=Object.prototype.toString,Dc=Function.prototype.toString,Nc=/^\s*(?:function)?\*/,cs=ur(),Ir=Object.getPrototypeOf,Mc=function(){if(!cs)return!1;try{return Function("return function*() {}")()}catch{}},Rr,Fc=function(t){if(typeof t!="function")return!1;if(Nc.test(Dc.call(t)))return!0;if(!cs){var n=Bc.call(t);return n==="[object GeneratorFunction]"}if(!Ir)return!1;if(typeof Rr>"u"){var r=Mc();Rr=r?Ir(r):!1}return Ir(t)===Rr},us=Function.prototype.toString,Nt=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,Mi,qn;if(typeof Nt=="function"&&typeof Object.defineProperty=="function")try{Mi=Object.defineProperty({},"length",{get:function(){throw qn}}),qn={},Nt(function(){throw 42},null,Mi)}catch(e){e!==qn&&(Nt=null)}else Nt=null;var qc=/^\s*class\b/,Fi=function(t){try{var n=us.call(t);return qc.test(n)}catch{return!1}},Cr=function(t){try{return Fi(t)?!1:(us.call(t),!0)}catch{return!1}},Ln=Object.prototype.toString,Lc="[object Object]",Kc="[object Function]",Uc="[object GeneratorFunction]",zc="[object HTMLAllCollection]",Vc="[object HTML document.all class]",Gc="[object HTMLCollection]",Hc=typeof Symbol=="function"&&!!Symbol.toStringTag,Wc=!(0 in[,]),qi=function(){return!1};if(typeof document=="object"){var Yc=document.all;Ln.call(Yc)===Ln.call(document.all)&&(qi=function(t){if((Wc||!t)&&(typeof t>"u"||typeof t=="object"))try{var n=Ln.call(t);return(n===zc||n===Vc||n===Gc||n===Lc)&&t("")==null}catch{}return!1})}var Jc=Nt?function(t){if(qi(t))return!0;if(!t||typeof t!="function"&&typeof t!="object")return!1;try{Nt(t,null,Mi)}catch(n){if(n!==qn)return!1}return!Fi(t)&&Cr(t)}:function(t){if(qi(t))return!0;if(!t||typeof t!="function"&&typeof t!="object")return!1;if(Hc)return Cr(t);if(Fi(t))return!1;var n=Ln.call(t);return n!==Kc&&n!==Uc&&!/^\[object HTML/.test(n)?!1:Cr(t)},Xc=Jc,Qc=Object.prototype.toString,fs=Object.prototype.hasOwnProperty,Zc=function(t,n,r){for(var i=0,o=t.length;i<o;i++)fs.call(t,i)&&(r==null?n(t[i],i,t):n.call(r,t[i],i,t))},eu=function(t,n,r){for(var i=0,o=t.length;i<o;i++)r==null?n(t.charAt(i),i,t):n.call(r,t.charAt(i),i,t)},tu=function(t,n,r){for(var i in t)fs.call(t,i)&&(r==null?n(t[i],i,t):n.call(r,t[i],i,t))},nu=function(t,n,r){if(!Xc(n))throw new TypeError("iterator must be a function");var i;arguments.length>=3&&(i=r),Qc.call(t)==="[object Array]"?Zc(t,n,i):typeof t=="string"?eu(t,n,i):tu(t,n,i)},ds=nu,Br=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],ru=typeof globalThis>"u"?ao:globalThis,hs=function(){for(var t=[],n=0;n<Br.length;n++)typeof ru[Br[n]]=="function"&&(t[t.length]=Br[n]);return t},iu=fr(),Kn=iu("%Object.getOwnPropertyDescriptor%",!0);if(Kn)try{Kn([],"length")}catch{Kn=null}var ps=Kn,ys=ds,ou=hs,uo=co,au=uo("Object.prototype.toString"),gs=ur(),Un=ps,su=typeof globalThis>"u"?ao:globalThis,ms=ou(),lu=uo("Array.prototype.indexOf",!0)||function(t,n){for(var r=0;r<t.length;r+=1)if(t[r]===n)return r;return-1},cu=uo("String.prototype.slice"),bs={},Dr=Object.getPrototypeOf;gs&&Un&&Dr&&ys(ms,function(e){var t=new su[e];if(Symbol.toStringTag in t){var n=Dr(t),r=Un(n,Symbol.toStringTag);if(!r){var i=Dr(n);r=Un(i,Symbol.toStringTag)}bs[e]=r.get}});var uu=function(t){var n=!1;return ys(bs,function(r,i){if(!n)try{n=r.call(t)===i}catch{}}),n},vs=function(t){if(!t||typeof t!="object")return!1;if(!gs||!(Symbol.toStringTag in t)){var n=cu(au(t),8,-1);return lu(ms,n)>-1}return Un?uu(t):!1},ws=ds,fu=hs,_s=co,Nr=ps,du=_s("Object.prototype.toString"),Ss=ur(),No=typeof globalThis>"u"?ao:globalThis,hu=fu(),pu=_s("String.prototype.slice"),As={},Mr=Object.getPrototypeOf;Ss&&Nr&&Mr&&ws(hu,function(e){if(typeof No[e]=="function"){var t=new No[e];if(Symbol.toStringTag in t){var n=Mr(t),r=Nr(n,Symbol.toStringTag);if(!r){var i=Mr(n);r=Nr(i,Symbol.toStringTag)}As[e]=r.get}}});var yu=function(t){var n=!1;return ws(As,function(r,i){if(!n)try{var o=r.call(t);o===i&&(n=o)}catch{}}),n},gu=vs,mu=function(t){return gu(t)?!Ss||!(Symbol.toStringTag in t)?pu(du(t),8,-1):yu(t):!1};(function(e){var t=Cc,n=Fc,r=mu,i=vs;function o(R){return R.call.bind(R)}var a=typeof BigInt<"u",s=typeof Symbol<"u",l=o(Object.prototype.toString),f=o(Number.prototype.valueOf),c=o(String.prototype.valueOf),d=o(Boolean.prototype.valueOf);if(a)var u=o(BigInt.prototype.valueOf);if(s)var p=o(Symbol.prototype.valueOf);function w(R,pt){if(typeof R!="object")return!1;try{return pt(R),!0}catch{return!1}}e.isArgumentsObject=t,e.isGeneratorFunction=n,e.isTypedArray=i;function b(R){return typeof Promise<"u"&&R instanceof Promise||R!==null&&typeof R=="object"&&typeof R.then=="function"&&typeof R.catch=="function"}e.isPromise=b;function y(R){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(R):i(R)||m(R)}e.isArrayBufferView=y;function g(R){return r(R)==="Uint8Array"}e.isUint8Array=g;function v(R){return r(R)==="Uint8ClampedArray"}e.isUint8ClampedArray=v;function A(R){return r(R)==="Uint16Array"}e.isUint16Array=A;function O(R){return r(R)==="Uint32Array"}e.isUint32Array=O;function S(R){return r(R)==="Int8Array"}e.isInt8Array=S;function $(R){return r(R)==="Int16Array"}e.isInt16Array=$;function j(R){return r(R)==="Int32Array"}e.isInt32Array=j;function T(R){return r(R)==="Float32Array"}e.isFloat32Array=T;function C(R){return r(R)==="Float64Array"}e.isFloat64Array=C;function K(R){return r(R)==="BigInt64Array"}e.isBigInt64Array=K;function V(R){return r(R)==="BigUint64Array"}e.isBigUint64Array=V;function G(R){return l(R)==="[object Map]"}G.working=typeof Map<"u"&&G(new Map);function ee(R){return typeof Map>"u"?!1:G.working?G(R):R instanceof Map}e.isMap=ee;function H(R){return l(R)==="[object Set]"}H.working=typeof Set<"u"&&H(new Set);function D(R){return typeof Set>"u"?!1:H.working?H(R):R instanceof Set}e.isSet=D;function B(R){return l(R)==="[object WeakMap]"}B.working=typeof WeakMap<"u"&&B(new WeakMap);function M(R){return typeof WeakMap>"u"?!1:B.working?B(R):R instanceof WeakMap}e.isWeakMap=M;function N(R){return l(R)==="[object WeakSet]"}N.working=typeof WeakSet<"u"&&N(new WeakSet);function U(R){return N(R)}e.isWeakSet=U;function Z(R){return l(R)==="[object ArrayBuffer]"}Z.working=typeof ArrayBuffer<"u"&&Z(new ArrayBuffer);function x(R){return typeof ArrayBuffer>"u"?!1:Z.working?Z(R):R instanceof ArrayBuffer}e.isArrayBuffer=x;function h(R){return l(R)==="[object DataView]"}h.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&h(new DataView(new ArrayBuffer(1),0,1));function m(R){return typeof DataView>"u"?!1:h.working?h(R):R instanceof DataView}e.isDataView=m;var _=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function I(R){return l(R)==="[object SharedArrayBuffer]"}function k(R){return typeof _>"u"?!1:(typeof I.working>"u"&&(I.working=I(new _)),I.working?I(R):R instanceof _)}e.isSharedArrayBuffer=k;function L(R){return l(R)==="[object AsyncFunction]"}e.isAsyncFunction=L;function W(R){return l(R)==="[object Map Iterator]"}e.isMapIterator=W;function z(R){return l(R)==="[object Set Iterator]"}e.isSetIterator=z;function ne(R){return l(R)==="[object Generator]"}e.isGeneratorObject=ne;function pe(R){return l(R)==="[object WebAssembly.Module]"}e.isWebAssemblyCompiledModule=pe;function Te(R){return w(R,f)}e.isNumberObject=Te;function Be(R){return w(R,c)}e.isStringObject=Be;function ge(R){return w(R,d)}e.isBooleanObject=ge;function Ge(R){return a&&w(R,u)}e.isBigIntObject=Ge;function ht(R){return s&&w(R,p)}e.isSymbolObject=ht;function je(R){return Te(R)||Be(R)||ge(R)||Ge(R)||ht(R)}e.isBoxedPrimitive=je;function He(R){return typeof Uint8Array<"u"&&(x(R)||k(R))}e.isAnyArrayBuffer=He,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(R){Object.defineProperty(e,R,{enumerable:!1,value:function(){throw new Error(R+" is not supported in userland")}})})})(is);var bu=function(t){return t&&typeof t=="object"&&typeof t.copy=="function"&&typeof t.fill=="function"&&typeof t.readUInt8=="function"},Li={exports:{}};typeof Object.create=="function"?Li.exports=function(t,n){n&&(t.super_=n,t.prototype=Object.create(n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:Li.exports=function(t,n){if(n){t.super_=n;var r=function(){};r.prototype=n.prototype,t.prototype=new r,t.prototype.constructor=t}};var vu=Li.exports;(function(e){var t=Object.getOwnPropertyDescriptors||function(m){for(var _=Object.keys(m),I={},k=0;k<_.length;k++)I[_[k]]=Object.getOwnPropertyDescriptor(m,_[k]);return I},n=/%[sdj%]/g;e.format=function(h){if(!S(h)){for(var m=[],_=0;_<arguments.length;_++)m.push(a(arguments[_]));return m.join(" ")}for(var _=1,I=arguments,k=I.length,L=String(h).replace(n,function(z){if(z==="%%")return"%";if(_>=k)return z;switch(z){case"%s":return String(I[_++]);case"%d":return Number(I[_++]);case"%j":try{return JSON.stringify(I[_++])}catch{return"[Circular]"}default:return z}}),W=I[_];_<k;W=I[++_])v(W)||!C(W)?L+=" "+W:L+=" "+a(W);return L},e.deprecate=function(h,m){if(typeof process<"u"&&process.noDeprecation===!0)return h;if(typeof process>"u")return function(){return e.deprecate(h,m).apply(this,arguments)};var _=!1;function I(){if(!_){if(process.throwDeprecation)throw new Error(m);process.traceDeprecation?console.trace(m):console.error(m),_=!0}return h.apply(this,arguments)}return I};var r={},i=/^$/;if({}.NODE_DEBUG){var o={}.NODE_DEBUG;o=o.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),i=new RegExp("^"+o+"$","i")}e.debuglog=function(h){if(h=h.toUpperCase(),!r[h])if(i.test(h)){var m=process.pid;r[h]=function(){var _=e.format.apply(e,arguments);console.error("%s %d: %s",h,m,_)}}else r[h]=function(){};return r[h]};function a(h,m){var _={seen:[],stylize:l};return arguments.length>=3&&(_.depth=arguments[2]),arguments.length>=4&&(_.colors=arguments[3]),g(m)?_.showHidden=m:m&&e._extend(_,m),j(_.showHidden)&&(_.showHidden=!1),j(_.depth)&&(_.depth=2),j(_.colors)&&(_.colors=!1),j(_.customInspect)&&(_.customInspect=!0),_.colors&&(_.stylize=s),c(_,h,_.depth)}e.inspect=a,a.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},a.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function s(h,m){var _=a.styles[m];return _?"\x1B["+a.colors[_][0]+"m"+h+"\x1B["+a.colors[_][1]+"m":h}function l(h,m){return h}function f(h){var m={};return h.forEach(function(_,I){m[_]=!0}),m}function c(h,m,_){if(h.customInspect&&m&&G(m.inspect)&&m.inspect!==e.inspect&&!(m.constructor&&m.constructor.prototype===m)){var I=m.inspect(_,h);return S(I)||(I=c(h,I,_)),I}var k=d(h,m);if(k)return k;var L=Object.keys(m),W=f(L);if(h.showHidden&&(L=Object.getOwnPropertyNames(m)),V(m)&&(L.indexOf("message")>=0||L.indexOf("description")>=0))return u(m);if(L.length===0){if(G(m)){var z=m.name?": "+m.name:"";return h.stylize("[Function"+z+"]","special")}if(T(m))return h.stylize(RegExp.prototype.toString.call(m),"regexp");if(K(m))return h.stylize(Date.prototype.toString.call(m),"date");if(V(m))return u(m)}var ne="",pe=!1,Te=["{","}"];if(y(m)&&(pe=!0,Te=["[","]"]),G(m)){var Be=m.name?": "+m.name:"";ne=" [Function"+Be+"]"}if(T(m)&&(ne=" "+RegExp.prototype.toString.call(m)),K(m)&&(ne=" "+Date.prototype.toUTCString.call(m)),V(m)&&(ne=" "+u(m)),L.length===0&&(!pe||m.length==0))return Te[0]+ne+Te[1];if(_<0)return T(m)?h.stylize(RegExp.prototype.toString.call(m),"regexp"):h.stylize("[Object]","special");h.seen.push(m);var ge;return pe?ge=p(h,m,_,W,L):ge=L.map(function(Ge){return w(h,m,_,W,Ge,pe)}),h.seen.pop(),b(ge,ne,Te)}function d(h,m){if(j(m))return h.stylize("undefined","undefined");if(S(m)){var _="'"+JSON.stringify(m).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return h.stylize(_,"string")}if(O(m))return h.stylize(""+m,"number");if(g(m))return h.stylize(""+m,"boolean");if(v(m))return h.stylize("null","null")}function u(h){return"["+Error.prototype.toString.call(h)+"]"}function p(h,m,_,I,k){for(var L=[],W=0,z=m.length;W<z;++W)N(m,String(W))?L.push(w(h,m,_,I,String(W),!0)):L.push("");return k.forEach(function(ne){ne.match(/^\d+$/)||L.push(w(h,m,_,I,ne,!0))}),L}function w(h,m,_,I,k,L){var W,z,ne;if(ne=Object.getOwnPropertyDescriptor(m,k)||{value:m[k]},ne.get?ne.set?z=h.stylize("[Getter/Setter]","special"):z=h.stylize("[Getter]","special"):ne.set&&(z=h.stylize("[Setter]","special")),N(I,k)||(W="["+k+"]"),z||(h.seen.indexOf(ne.value)<0?(v(_)?z=c(h,ne.value,null):z=c(h,ne.value,_-1),z.indexOf(`
`)>-1&&(L?z=z.split(`
`).map(function(pe){return"  "+pe}).join(`
`).slice(2):z=`
`+z.split(`
`).map(function(pe){return"   "+pe}).join(`
`))):z=h.stylize("[Circular]","special")),j(W)){if(L&&k.match(/^\d+$/))return z;W=JSON.stringify(""+k),W.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(W=W.slice(1,-1),W=h.stylize(W,"name")):(W=W.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),W=h.stylize(W,"string"))}return W+": "+z}function b(h,m,_){var I=h.reduce(function(k,L){return L.indexOf(`
`)>=0,k+L.replace(/\u001b\[\d\d?m/g,"").length+1},0);return I>60?_[0]+(m===""?"":m+`
 `)+" "+h.join(`,
  `)+" "+_[1]:_[0]+m+" "+h.join(", ")+" "+_[1]}e.types=is;function y(h){return Array.isArray(h)}e.isArray=y;function g(h){return typeof h=="boolean"}e.isBoolean=g;function v(h){return h===null}e.isNull=v;function A(h){return h==null}e.isNullOrUndefined=A;function O(h){return typeof h=="number"}e.isNumber=O;function S(h){return typeof h=="string"}e.isString=S;function $(h){return typeof h=="symbol"}e.isSymbol=$;function j(h){return h===void 0}e.isUndefined=j;function T(h){return C(h)&&H(h)==="[object RegExp]"}e.isRegExp=T,e.types.isRegExp=T;function C(h){return typeof h=="object"&&h!==null}e.isObject=C;function K(h){return C(h)&&H(h)==="[object Date]"}e.isDate=K,e.types.isDate=K;function V(h){return C(h)&&(H(h)==="[object Error]"||h instanceof Error)}e.isError=V,e.types.isNativeError=V;function G(h){return typeof h=="function"}e.isFunction=G;function ee(h){return h===null||typeof h=="boolean"||typeof h=="number"||typeof h=="string"||typeof h=="symbol"||typeof h>"u"}e.isPrimitive=ee,e.isBuffer=bu;function H(h){return Object.prototype.toString.call(h)}function D(h){return h<10?"0"+h.toString(10):h.toString(10)}var B=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function M(){var h=new Date,m=[D(h.getHours()),D(h.getMinutes()),D(h.getSeconds())].join(":");return[h.getDate(),B[h.getMonth()],m].join(" ")}e.log=function(){console.log("%s - %s",M(),e.format.apply(e,arguments))},e.inherits=vu,e._extend=function(h,m){if(!m||!C(m))return h;for(var _=Object.keys(m),I=_.length;I--;)h[_[I]]=m[_[I]];return h};function N(h,m){return Object.prototype.hasOwnProperty.call(h,m)}var U=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;e.promisify=function(m){if(typeof m!="function")throw new TypeError('The "original" argument must be of type Function');if(U&&m[U]){var _=m[U];if(typeof _!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(_,U,{value:_,enumerable:!1,writable:!1,configurable:!0}),_}function _(){for(var I,k,L=new Promise(function(ne,pe){I=ne,k=pe}),W=[],z=0;z<arguments.length;z++)W.push(arguments[z]);W.push(function(ne,pe){ne?k(ne):I(pe)});try{m.apply(this,W)}catch(ne){k(ne)}return L}return Object.setPrototypeOf(_,Object.getPrototypeOf(m)),U&&Object.defineProperty(_,U,{value:_,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(_,t(m))},e.promisify.custom=U;function Z(h,m){if(!h){var _=new Error("Promise was rejected with a falsy value");_.reason=h,h=_}return m(h)}function x(h){if(typeof h!="function")throw new TypeError('The "original" argument must be of type Function');function m(){for(var _=[],I=0;I<arguments.length;I++)_.push(arguments[I]);var k=_.pop();if(typeof k!="function")throw new TypeError("The last argument must be of type Function");var L=this,W=function(){return k.apply(L,arguments)};h.apply(this,_).then(function(z){process.nextTick(W.bind(null,null,z))},function(z){process.nextTick(Z.bind(null,z,W))})}return Object.setPrototypeOf(m,Object.getPrototypeOf(h)),Object.defineProperties(m,t(h)),m}e.callbackify=x})(zt);var Mo;function Es(){if(Mo)return Or;Mo=1;function e(b){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?e=function(g){return typeof g}:e=function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g},e(b)}function t(b,y){if(!(b instanceof y))throw new TypeError("Cannot call a class as a function")}function n(b,y){return y&&(e(y)==="object"||typeof y=="function")?y:r(b)}function r(b){if(b===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b}function i(b){return i=Object.setPrototypeOf?Object.getPrototypeOf:function(g){return g.__proto__||Object.getPrototypeOf(g)},i(b)}function o(b,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function");b.prototype=Object.create(y&&y.prototype,{constructor:{value:b,writable:!0,configurable:!0}}),y&&a(b,y)}function a(b,y){return a=Object.setPrototypeOf||function(v,A){return v.__proto__=A,v},a(b,y)}var s={},l,f;function c(b,y,g){g||(g=Error);function v(O,S,$){return typeof y=="string"?y:y(O,S,$)}var A=function(O){o(S,O);function S($,j,T){var C;return t(this,S),C=n(this,i(S).call(this,v($,j,T))),C.code=b,C}return S}(g);s[b]=A}function d(b,y){if(Array.isArray(b)){var g=b.length;return b=b.map(function(v){return String(v)}),g>2?"one of ".concat(y," ").concat(b.slice(0,g-1).join(", "),", or ")+b[g-1]:g===2?"one of ".concat(y," ").concat(b[0]," or ").concat(b[1]):"of ".concat(y," ").concat(b[0])}else return"of ".concat(y," ").concat(String(b))}function u(b,y,g){return b.substr(!g||g<0?0:+g,y.length)===y}function p(b,y,g){return(g===void 0||g>b.length)&&(g=b.length),b.substring(g-y.length,g)===y}function w(b,y,g){return typeof g!="number"&&(g=0),g+y.length>b.length?!1:b.indexOf(y,g)!==-1}return c("ERR_AMBIGUOUS_ARGUMENT",'The "%s" argument is ambiguous. %s',TypeError),c("ERR_INVALID_ARG_TYPE",function(b,y,g){l===void 0&&(l=Ki()),l(typeof b=="string","'name' must be a string");var v;typeof y=="string"&&u(y,"not ")?(v="must not be",y=y.replace(/^not /,"")):v="must be";var A;if(p(b," argument"))A="The ".concat(b," ").concat(v," ").concat(d(y,"type"));else{var O=w(b,".")?"property":"argument";A='The "'.concat(b,'" ').concat(O," ").concat(v," ").concat(d(y,"type"))}return A+=". Received type ".concat(e(g)),A},TypeError),c("ERR_INVALID_ARG_VALUE",function(b,y){var g=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"is invalid";f===void 0&&(f=zt);var v=f.inspect(y);return v.length>128&&(v="".concat(v.slice(0,128),"...")),"The argument '".concat(b,"' ").concat(g,". Received ").concat(v)},TypeError),c("ERR_INVALID_RETURN_VALUE",function(b,y,g){var v;return g&&g.constructor&&g.constructor.name?v="instance of ".concat(g.constructor.name):v="type ".concat(e(g)),"Expected ".concat(b,' to be returned from the "').concat(y,'"')+" function but got ".concat(v,".")},TypeError),c("ERR_MISSING_ARGS",function(){for(var b=arguments.length,y=new Array(b),g=0;g<b;g++)y[g]=arguments[g];l===void 0&&(l=Ki()),l(y.length>0,"At least one arg needs to be specified");var v="The ",A=y.length;switch(y=y.map(function(O){return'"'.concat(O,'"')}),A){case 1:v+="".concat(y[0]," argument");break;case 2:v+="".concat(y[0]," and ").concat(y[1]," arguments");break;default:v+=y.slice(0,A-1).join(", "),v+=", and ".concat(y[A-1]," arguments");break}return"".concat(v," must be specified")},TypeError),Or.codes=s,Or}var Fr,Fo;function wu(){if(Fo)return Fr;Fo=1;function e(D){for(var B=1;B<arguments.length;B++){var M=arguments[B]!=null?arguments[B]:{},N=Object.keys(M);typeof Object.getOwnPropertySymbols=="function"&&(N=N.concat(Object.getOwnPropertySymbols(M).filter(function(U){return Object.getOwnPropertyDescriptor(M,U).enumerable}))),N.forEach(function(U){t(D,U,M[U])})}return D}function t(D,B,M){return B in D?Object.defineProperty(D,B,{value:M,enumerable:!0,configurable:!0,writable:!0}):D[B]=M,D}function n(D,B){if(!(D instanceof B))throw new TypeError("Cannot call a class as a function")}function r(D,B){for(var M=0;M<B.length;M++){var N=B[M];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(D,N.key,N)}}function i(D,B,M){return B&&r(D.prototype,B),M&&r(D,M),D}function o(D,B){return B&&(w(B)==="object"||typeof B=="function")?B:a(D)}function a(D){if(D===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return D}function s(D,B){if(typeof B!="function"&&B!==null)throw new TypeError("Super expression must either be null or a function");D.prototype=Object.create(B&&B.prototype,{constructor:{value:D,writable:!0,configurable:!0}}),B&&u(D,B)}function l(D){var B=typeof Map=="function"?new Map:void 0;return l=function(N){if(N===null||!d(N))return N;if(typeof N!="function")throw new TypeError("Super expression must either be null or a function");if(typeof B<"u"){if(B.has(N))return B.get(N);B.set(N,U)}function U(){return c(N,arguments,p(this).constructor)}return U.prototype=Object.create(N.prototype,{constructor:{value:U,enumerable:!1,writable:!0,configurable:!0}}),u(U,N)},l(D)}function f(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function c(D,B,M){return f()?c=Reflect.construct:c=function(U,Z,x){var h=[null];h.push.apply(h,Z);var m=Function.bind.apply(U,h),_=new m;return x&&u(_,x.prototype),_},c.apply(null,arguments)}function d(D){return Function.toString.call(D).indexOf("[native code]")!==-1}function u(D,B){return u=Object.setPrototypeOf||function(N,U){return N.__proto__=U,N},u(D,B)}function p(D){return p=Object.setPrototypeOf?Object.getPrototypeOf:function(M){return M.__proto__||Object.getPrototypeOf(M)},p(D)}function w(D){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?w=function(M){return typeof M}:w=function(M){return M&&typeof Symbol=="function"&&M.constructor===Symbol&&M!==Symbol.prototype?"symbol":typeof M},w(D)}var b=zt,y=b.inspect,g=Es(),v=g.codes.ERR_INVALID_ARG_TYPE;function A(D,B,M){return(M===void 0||M>D.length)&&(M=D.length),D.substring(M-B.length,M)===B}function O(D,B){if(B=Math.floor(B),D.length==0||B==0)return"";var M=D.length*B;for(B=Math.floor(Math.log(B)/Math.log(2));B;)D+=D,B--;return D+=D.substring(0,M-D.length),D}var S="",$="",j="",T="",C={deepStrictEqual:"Expected values to be strictly deep-equal:",strictEqual:"Expected values to be strictly equal:",strictEqualObject:'Expected "actual" to be reference-equal to "expected":',deepEqual:"Expected values to be loosely deep-equal:",equal:"Expected values to be loosely equal:",notDeepStrictEqual:'Expected "actual" not to be strictly deep-equal to:',notStrictEqual:'Expected "actual" to be strictly unequal to:',notStrictEqualObject:'Expected "actual" not to be reference-equal to "expected":',notDeepEqual:'Expected "actual" not to be loosely deep-equal to:',notEqual:'Expected "actual" to be loosely unequal to:',notIdentical:"Values identical but not reference-equal:"},K=10;function V(D){var B=Object.keys(D),M=Object.create(Object.getPrototypeOf(D));return B.forEach(function(N){M[N]=D[N]}),Object.defineProperty(M,"message",{value:D.message}),M}function G(D){return y(D,{compact:!1,customInspect:!1,depth:1e3,maxArrayLength:1/0,showHidden:!1,breakLength:1/0,showProxy:!1,sorted:!0,getters:!0})}function ee(D,B,M){var N="",U="",Z=0,x="",h=!1,m=G(D),_=m.split(`
`),I=G(B).split(`
`),k=0,L="";if(M==="strictEqual"&&w(D)==="object"&&w(B)==="object"&&D!==null&&B!==null&&(M="strictEqualObject"),_.length===1&&I.length===1&&_[0]!==I[0]){var W=_[0].length+I[0].length;if(W<=K){if((w(D)!=="object"||D===null)&&(w(B)!=="object"||B===null)&&(D!==0||B!==0))return"".concat(C[M],`

`)+"".concat(_[0]," !== ").concat(I[0],`
`)}else if(M!=="strictEqualObject"){var z=process.stderr&&process.stderr.isTTY?process.stderr.columns:80;if(W<z){for(;_[0][k]===I[0][k];)k++;k>2&&(L=`
  `.concat(O(" ",k),"^"),k=0)}}}for(var ne=_[_.length-1],pe=I[I.length-1];ne===pe&&(k++<2?x=`
  `.concat(ne).concat(x):N=ne,_.pop(),I.pop(),!(_.length===0||I.length===0));)ne=_[_.length-1],pe=I[I.length-1];var Te=Math.max(_.length,I.length);if(Te===0){var Be=m.split(`
`);if(Be.length>30)for(Be[26]="".concat(S,"...").concat(T);Be.length>27;)Be.pop();return"".concat(C.notIdentical,`

`).concat(Be.join(`
`),`
`)}k>3&&(x=`
`.concat(S,"...").concat(T).concat(x),h=!0),N!==""&&(x=`
  `.concat(N).concat(x),N="");var ge=0,Ge=C[M]+`
`.concat($,"+ actual").concat(T," ").concat(j,"- expected").concat(T),ht=" ".concat(S,"...").concat(T," Lines skipped");for(k=0;k<Te;k++){var je=k-Z;if(_.length<k+1)je>1&&k>2&&(je>4?(U+=`
`.concat(S,"...").concat(T),h=!0):je>3&&(U+=`
  `.concat(I[k-2]),ge++),U+=`
  `.concat(I[k-1]),ge++),Z=k,N+=`
`.concat(j,"-").concat(T," ").concat(I[k]),ge++;else if(I.length<k+1)je>1&&k>2&&(je>4?(U+=`
`.concat(S,"...").concat(T),h=!0):je>3&&(U+=`
  `.concat(_[k-2]),ge++),U+=`
  `.concat(_[k-1]),ge++),Z=k,U+=`
`.concat($,"+").concat(T," ").concat(_[k]),ge++;else{var He=I[k],R=_[k],pt=R!==He&&(!A(R,",")||R.slice(0,-1)!==He);pt&&A(He,",")&&He.slice(0,-1)===R&&(pt=!1,R+=","),pt?(je>1&&k>2&&(je>4?(U+=`
`.concat(S,"...").concat(T),h=!0):je>3&&(U+=`
  `.concat(_[k-2]),ge++),U+=`
  `.concat(_[k-1]),ge++),Z=k,U+=`
`.concat($,"+").concat(T," ").concat(R),N+=`
`.concat(j,"-").concat(T," ").concat(He),ge+=2):(U+=N,N="",(je===1||k===0)&&(U+=`
  `.concat(R),ge++))}if(ge>20&&k<Te-2)return"".concat(Ge).concat(ht,`
`).concat(U,`
`).concat(S,"...").concat(T).concat(N,`
`)+"".concat(S,"...").concat(T)}return"".concat(Ge).concat(h?ht:"",`
`).concat(U).concat(N).concat(x).concat(L)}var H=function(D){s(B,D);function B(M){var N;if(n(this,B),w(M)!=="object"||M===null)throw new v("options","Object",M);var U=M.message,Z=M.operator,x=M.stackStartFn,h=M.actual,m=M.expected,_=Error.stackTraceLimit;if(Error.stackTraceLimit=0,U!=null)N=o(this,p(B).call(this,String(U)));else if(process.stderr&&process.stderr.isTTY&&(process.stderr&&process.stderr.getColorDepth&&process.stderr.getColorDepth()!==1?(S="\x1B[34m",$="\x1B[32m",T="\x1B[39m",j="\x1B[31m"):(S="",$="",T="",j="")),w(h)==="object"&&h!==null&&w(m)==="object"&&m!==null&&"stack"in h&&h instanceof Error&&"stack"in m&&m instanceof Error&&(h=V(h),m=V(m)),Z==="deepStrictEqual"||Z==="strictEqual")N=o(this,p(B).call(this,ee(h,m,Z)));else if(Z==="notDeepStrictEqual"||Z==="notStrictEqual"){var I=C[Z],k=G(h).split(`
`);if(Z==="notStrictEqual"&&w(h)==="object"&&h!==null&&(I=C.notStrictEqualObject),k.length>30)for(k[26]="".concat(S,"...").concat(T);k.length>27;)k.pop();k.length===1?N=o(this,p(B).call(this,"".concat(I," ").concat(k[0]))):N=o(this,p(B).call(this,"".concat(I,`

`).concat(k.join(`
`),`
`)))}else{var L=G(h),W="",z=C[Z];Z==="notDeepEqual"||Z==="notEqual"?(L="".concat(C[Z],`

`).concat(L),L.length>1024&&(L="".concat(L.slice(0,1021),"..."))):(W="".concat(G(m)),L.length>512&&(L="".concat(L.slice(0,509),"...")),W.length>512&&(W="".concat(W.slice(0,509),"...")),Z==="deepEqual"||Z==="equal"?L="".concat(z,`

`).concat(L,`

should equal

`):W=" ".concat(Z," ").concat(W)),N=o(this,p(B).call(this,"".concat(L).concat(W)))}return Error.stackTraceLimit=_,N.generatedMessage=!U,Object.defineProperty(a(N),"name",{value:"AssertionError [ERR_ASSERTION]",enumerable:!1,writable:!0,configurable:!0}),N.code="ERR_ASSERTION",N.actual=h,N.expected=m,N.operator=Z,Error.captureStackTrace&&Error.captureStackTrace(a(N),x),N.stack,N.name="AssertionError",o(N)}return i(B,[{key:"toString",value:function(){return"".concat(this.name," [").concat(this.code,"]: ").concat(this.message)}},{key:y.custom,value:function(N,U){return y(this,e({},U,{customInspect:!1,depth:0}))}}]),B}(l(Error));return Fr=H,Fr}var qr,qo;function _u(){if(qo)return qr;qo=1;function e(n,r){if(n==null)throw new TypeError("Cannot convert first argument to object");for(var i=Object(n),o=1;o<arguments.length;o++){var a=arguments[o];if(a!=null)for(var s=Object.keys(Object(a)),l=0,f=s.length;l<f;l++){var c=s[l],d=Object.getOwnPropertyDescriptor(a,c);d!==void 0&&d.enumerable&&(i[c]=a[c])}}return i}function t(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:e})}return qr={assign:e,polyfill:t},qr}var Lr,Lo;function Os(){if(Lo)return Lr;Lo=1;var e=Object.prototype.toString;return Lr=function(n){var r=e.call(n),i=r==="[object Arguments]";return i||(i=r!=="[object Array]"&&n!==null&&typeof n=="object"&&typeof n.length=="number"&&n.length>=0&&e.call(n.callee)==="[object Function]"),i},Lr}var Kr,Ko;function Su(){if(Ko)return Kr;Ko=1;var e;if(!Object.keys){var t=Object.prototype.hasOwnProperty,n=Object.prototype.toString,r=Os(),i=Object.prototype.propertyIsEnumerable,o=!i.call({toString:null},"toString"),a=i.call(function(){},"prototype"),s=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],l=function(u){var p=u.constructor;return p&&p.prototype===u},f={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},c=function(){if(typeof window>"u")return!1;for(var u in window)try{if(!f["$"+u]&&t.call(window,u)&&window[u]!==null&&typeof window[u]=="object")try{l(window[u])}catch{return!0}}catch{return!0}return!1}(),d=function(u){if(typeof window>"u"||!c)return l(u);try{return l(u)}catch{return!1}};e=function(p){var w=p!==null&&typeof p=="object",b=n.call(p)==="[object Function]",y=r(p),g=w&&n.call(p)==="[object String]",v=[];if(!w&&!b&&!y)throw new TypeError("Object.keys called on a non-object");var A=a&&b;if(g&&p.length>0&&!t.call(p,0))for(var O=0;O<p.length;++O)v.push(String(O));if(y&&p.length>0)for(var S=0;S<p.length;++S)v.push(String(S));else for(var $ in p)!(A&&$==="prototype")&&t.call(p,$)&&v.push(String($));if(o)for(var j=d(p),T=0;T<s.length;++T)!(j&&s[T]==="constructor")&&t.call(p,s[T])&&v.push(s[T]);return v}}return Kr=e,Kr}var Ur,Uo;function Au(){if(Uo)return Ur;Uo=1;var e=Array.prototype.slice,t=Os(),n=Object.keys,r=n?function(a){return n(a)}:Su(),i=Object.keys;return r.shim=function(){if(Object.keys){var a=function(){var s=Object.keys(arguments);return s&&s.length===arguments.length}(1,2);a||(Object.keys=function(l){return t(l)?i(e.call(l)):i(l)})}else Object.keys=r;return Object.keys||r},Ur=r,Ur}var zr,zo;function Eu(){if(zo)return zr;zo=1;var e=fr(),t=e("%Object.defineProperty%",!0),n=function(){if(t)try{return t({},"a",{value:1}),!0}catch{return!1}return!1};return n.hasArrayLengthDefineBug=function(){if(!n())return null;try{return t([],"length",{value:1}).length!==1}catch{return!0}},zr=n,zr}var Vr,Vo;function hr(){if(Vo)return Vr;Vo=1;var e=Au(),t=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",n=Object.prototype.toString,r=Array.prototype.concat,i=Object.defineProperty,o=function(c){return typeof c=="function"&&n.call(c)==="[object Function]"},a=Eu()(),s=i&&a,l=function(c,d,u,p){if(d in c){if(p===!0){if(c[d]===u)return}else if(!o(p)||!p())return}s?i(c,d,{configurable:!0,enumerable:!1,value:u,writable:!0}):c[d]=u},f=function(c,d){var u=arguments.length>2?arguments[2]:{},p=e(d);t&&(p=r.call(p,Object.getOwnPropertySymbols(d)));for(var w=0;w<p.length;w+=1)l(c,p[w],d[p[w]],u[p[w]])};return f.supportsDescriptors=!!s,Vr=f,Vr}var Gr,Go;function Ps(){if(Go)return Gr;Go=1;var e=function(t){return t!==t};return Gr=function(n,r){return n===0&&r===0?1/n===1/r:!!(n===r||e(n)&&e(r))},Gr}var Hr,Ho;function $s(){if(Ho)return Hr;Ho=1;var e=Ps();return Hr=function(){return typeof Object.is=="function"?Object.is:e},Hr}var Wr,Wo;function Ou(){if(Wo)return Wr;Wo=1;var e=$s(),t=hr();return Wr=function(){var r=e();return t(Object,{is:r},{is:function(){return Object.is!==r}}),r},Wr}var Yr,Yo;function js(){if(Yo)return Yr;Yo=1;var e=hr(),t=lo(),n=Ps(),r=$s(),i=Ou(),o=t(r(),Object);return e(o,{getPolyfill:r,implementation:n,shim:i}),Yr=o,Yr}var Jr,Jo;function xs(){return Jo||(Jo=1,Jr=function(t){return t!==t}),Jr}var Xr,Xo;function ks(){if(Xo)return Xr;Xo=1;var e=xs();return Xr=function(){return Number.isNaN&&Number.isNaN(NaN)&&!Number.isNaN("a")?Number.isNaN:e},Xr}var Qr,Qo;function Pu(){if(Qo)return Qr;Qo=1;var e=hr(),t=ks();return Qr=function(){var r=t();return e(Number,{isNaN:r},{isNaN:function(){return Number.isNaN!==r}}),r},Qr}var Zr,Zo;function $u(){if(Zo)return Zr;Zo=1;var e=lo(),t=hr(),n=xs(),r=ks(),i=Pu(),o=e(r(),Number);return t(o,{getPolyfill:r,implementation:n,shim:i}),Zr=o,Zr}var ei,ea;function ju(){if(ea)return ei;ea=1;function e(E,P){return r(E)||n(E,P)||t()}function t(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function n(E,P){var F=[],Y=!0,J=!1,ie=void 0;try{for(var te=E[Symbol.iterator](),se;!(Y=(se=te.next()).done)&&(F.push(se.value),!(P&&F.length===P));Y=!0);}catch(ae){J=!0,ie=ae}finally{try{!Y&&te.return!=null&&te.return()}finally{if(J)throw ie}}return F}function r(E){if(Array.isArray(E))return E}function i(E){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?i=function(F){return typeof F}:i=function(F){return F&&typeof Symbol=="function"&&F.constructor===Symbol&&F!==Symbol.prototype?"symbol":typeof F},i(E)}var o=/a/g.flags!==void 0,a=function(P){var F=[];return P.forEach(function(Y){return F.push(Y)}),F},s=function(P){var F=[];return P.forEach(function(Y,J){return F.push([J,Y])}),F},l=Object.is?Object.is:js(),f=Object.getOwnPropertySymbols?Object.getOwnPropertySymbols:function(){return[]},c=Number.isNaN?Number.isNaN:$u();function d(E){return E.call.bind(E)}var u=d(Object.prototype.hasOwnProperty),p=d(Object.prototype.propertyIsEnumerable),w=d(Object.prototype.toString),b=zt.types,y=b.isAnyArrayBuffer,g=b.isArrayBufferView,v=b.isDate,A=b.isMap,O=b.isRegExp,S=b.isSet,$=b.isNativeError,j=b.isBoxedPrimitive,T=b.isNumberObject,C=b.isStringObject,K=b.isBooleanObject,V=b.isBigIntObject,G=b.isSymbolObject,ee=b.isFloat32Array,H=b.isFloat64Array;function D(E){if(E.length===0||E.length>10)return!0;for(var P=0;P<E.length;P++){var F=E.charCodeAt(P);if(F<48||F>57)return!0}return E.length===10&&E>=Math.pow(2,32)}function B(E){return Object.keys(E).filter(D).concat(f(E).filter(Object.prototype.propertyIsEnumerable.bind(E)))}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */function M(E,P){if(E===P)return 0;for(var F=E.length,Y=P.length,J=0,ie=Math.min(F,Y);J<ie;++J)if(E[J]!==P[J]){F=E[J],Y=P[J];break}return F<Y?-1:Y<F?1:0}var N=!0,U=!1,Z=0,x=1,h=2,m=3;function _(E,P){return o?E.source===P.source&&E.flags===P.flags:RegExp.prototype.toString.call(E)===RegExp.prototype.toString.call(P)}function I(E,P){if(E.byteLength!==P.byteLength)return!1;for(var F=0;F<E.byteLength;F++)if(E[F]!==P[F])return!1;return!0}function k(E,P){return E.byteLength!==P.byteLength?!1:M(new Uint8Array(E.buffer,E.byteOffset,E.byteLength),new Uint8Array(P.buffer,P.byteOffset,P.byteLength))===0}function L(E,P){return E.byteLength===P.byteLength&&M(new Uint8Array(E),new Uint8Array(P))===0}function W(E,P){return T(E)?T(P)&&l(Number.prototype.valueOf.call(E),Number.prototype.valueOf.call(P)):C(E)?C(P)&&String.prototype.valueOf.call(E)===String.prototype.valueOf.call(P):K(E)?K(P)&&Boolean.prototype.valueOf.call(E)===Boolean.prototype.valueOf.call(P):V(E)?V(P)&&BigInt.prototype.valueOf.call(E)===BigInt.prototype.valueOf.call(P):G(P)&&Symbol.prototype.valueOf.call(E)===Symbol.prototype.valueOf.call(P)}function z(E,P,F,Y){if(E===P)return E!==0?!0:F?l(E,P):!0;if(F){if(i(E)!=="object")return typeof E=="number"&&c(E)&&c(P);if(i(P)!=="object"||E===null||P===null||Object.getPrototypeOf(E)!==Object.getPrototypeOf(P))return!1}else{if(E===null||i(E)!=="object")return P===null||i(P)!=="object"?E==P:!1;if(P===null||i(P)!=="object")return!1}var J=w(E),ie=w(P);if(J!==ie)return!1;if(Array.isArray(E)){if(E.length!==P.length)return!1;var te=B(E),se=B(P);return te.length!==se.length?!1:pe(E,P,F,Y,x,te)}if(J==="[object Object]"&&(!A(E)&&A(P)||!S(E)&&S(P)))return!1;if(v(E)){if(!v(P)||Date.prototype.getTime.call(E)!==Date.prototype.getTime.call(P))return!1}else if(O(E)){if(!O(P)||!_(E,P))return!1}else if($(E)||E instanceof Error){if(E.message!==P.message||E.name!==P.name)return!1}else if(g(E)){if(!F&&(ee(E)||H(E))){if(!I(E,P))return!1}else if(!k(E,P))return!1;var ae=B(E),Ie=B(P);return ae.length!==Ie.length?!1:pe(E,P,F,Y,Z,ae)}else{if(S(E))return!S(P)||E.size!==P.size?!1:pe(E,P,F,Y,h);if(A(E))return!A(P)||E.size!==P.size?!1:pe(E,P,F,Y,m);if(y(E)){if(!L(E,P))return!1}else if(j(E)&&!W(E,P))return!1}return pe(E,P,F,Y,Z)}function ne(E,P){return P.filter(function(F){return p(E,F)})}function pe(E,P,F,Y,J,ie){if(arguments.length===5){ie=Object.keys(E);var te=Object.keys(P);if(ie.length!==te.length)return!1}for(var se=0;se<ie.length;se++)if(!u(P,ie[se]))return!1;if(F&&arguments.length===5){var ae=f(E);if(ae.length!==0){var Ie=0;for(se=0;se<ae.length;se++){var De=ae[se];if(p(E,De)){if(!p(P,De))return!1;ie.push(De),Ie++}else if(p(P,De))return!1}var Yt=f(P);if(ae.length!==Yt.length&&ne(P,Yt).length!==Ie)return!1}else{var jt=f(P);if(jt.length!==0&&ne(P,jt).length!==0)return!1}}if(ie.length===0&&(J===Z||J===x&&E.length===0||E.size===0))return!0;if(Y===void 0)Y={val1:new Map,val2:new Map,position:0};else{var Jt=Y.val1.get(E);if(Jt!==void 0){var xt=Y.val2.get(P);if(xt!==void 0)return Jt===xt}Y.position++}Y.val1.set(E,Y.position),Y.val2.set(P,Y.position);var Fs=R(E,P,F,ie,Y,J);return Y.val1.delete(E),Y.val2.delete(P),Fs}function Te(E,P,F,Y){for(var J=a(E),ie=0;ie<J.length;ie++){var te=J[ie];if(z(P,te,F,Y))return E.delete(te),!0}return!1}function Be(E){switch(i(E)){case"undefined":return null;case"object":return;case"symbol":return!1;case"string":E=+E;case"number":if(c(E))return!1}return!0}function ge(E,P,F){var Y=Be(F);return Y??(P.has(Y)&&!E.has(Y))}function Ge(E,P,F,Y,J){var ie=Be(F);if(ie!=null)return ie;var te=P.get(ie);return te===void 0&&!P.has(ie)||!z(Y,te,!1,J)?!1:!E.has(ie)&&z(Y,te,!1,J)}function ht(E,P,F,Y){for(var J=null,ie=a(E),te=0;te<ie.length;te++){var se=ie[te];if(i(se)==="object"&&se!==null)J===null&&(J=new Set),J.add(se);else if(!P.has(se)){if(F||!ge(E,P,se))return!1;J===null&&(J=new Set),J.add(se)}}if(J!==null){for(var ae=a(P),Ie=0;Ie<ae.length;Ie++){var De=ae[Ie];if(i(De)==="object"&&De!==null){if(!Te(J,De,F,Y))return!1}else if(!F&&!E.has(De)&&!Te(J,De,F,Y))return!1}return J.size===0}return!0}function je(E,P,F,Y,J,ie){for(var te=a(E),se=0;se<te.length;se++){var ae=te[se];if(z(F,ae,J,ie)&&z(Y,P.get(ae),J,ie))return E.delete(ae),!0}return!1}function He(E,P,F,Y){for(var J=null,ie=s(E),te=0;te<ie.length;te++){var se=e(ie[te],2),ae=se[0],Ie=se[1];if(i(ae)==="object"&&ae!==null)J===null&&(J=new Set),J.add(ae);else{var De=P.get(ae);if(De===void 0&&!P.has(ae)||!z(Ie,De,F,Y)){if(F||!Ge(E,P,ae,Ie,Y))return!1;J===null&&(J=new Set),J.add(ae)}}}if(J!==null){for(var Yt=s(P),jt=0;jt<Yt.length;jt++){var Jt=e(Yt[jt],2),ae=Jt[0],xt=Jt[1];if(i(ae)==="object"&&ae!==null){if(!je(J,E,ae,xt,F,Y))return!1}else if(!F&&(!E.has(ae)||!z(E.get(ae),xt,!1,Y))&&!je(J,E,ae,xt,!1,Y))return!1}return J.size===0}return!0}function R(E,P,F,Y,J,ie){var te=0;if(ie===h){if(!ht(E,P,F,J))return!1}else if(ie===m){if(!He(E,P,F,J))return!1}else if(ie===x)for(;te<E.length;te++)if(u(E,te)){if(!u(P,te)||!z(E[te],P[te],F,J))return!1}else{if(u(P,te))return!1;for(var se=Object.keys(E);te<se.length;te++){var ae=se[te];if(!u(P,ae)||!z(E[ae],P[ae],F,J))return!1}return se.length===Object.keys(P).length}for(te=0;te<Y.length;te++){var Ie=Y[te];if(!z(E[Ie],P[Ie],F,J))return!1}return!0}function pt(E,P){return z(E,P,U)}function po(E,P){return z(E,P,N)}return ei={isDeepEqual:pt,isDeepStrictEqual:po},ei}var ta;function Ki(){if(ta)return Er.exports;ta=1;function e(x){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?e=function(m){return typeof m}:e=function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m},e(x)}function t(x,h){if(!(x instanceof h))throw new TypeError("Cannot call a class as a function")}var n=Es(),r=n.codes,i=r.ERR_AMBIGUOUS_ARGUMENT,o=r.ERR_INVALID_ARG_TYPE,a=r.ERR_INVALID_ARG_VALUE,s=r.ERR_INVALID_RETURN_VALUE,l=r.ERR_MISSING_ARGS,f=wu(),c=zt,d=c.inspect,u=zt.types,p=u.isPromise,w=u.isRegExp,b=Object.assign?Object.assign:_u().assign,y=Object.is?Object.is:js(),g,v;function A(){var x=ju();g=x.isDeepEqual,v=x.isDeepStrictEqual}var O=!1,S=Er.exports=K,$={};function j(x){throw x.message instanceof Error?x.message:new f(x)}function T(x,h,m,_,I){var k=arguments.length,L;if(k===0)L="Failed";else if(k===1)m=x,x=void 0;else{if(O===!1){O=!0;var W=process.emitWarning?process.emitWarning:console.warn.bind(console);W("assert.fail() with more than one argument is deprecated. Please use assert.strictEqual() instead or only pass a message.","DeprecationWarning","DEP0094")}k===2&&(_="!=")}if(m instanceof Error)throw m;var z={actual:x,expected:h,operator:_===void 0?"fail":_,stackStartFn:I||T};m!==void 0&&(z.message=m);var ne=new f(z);throw L&&(ne.message=L,ne.generatedMessage=!0),ne}S.fail=T,S.AssertionError=f;function C(x,h,m,_){if(!m){var I=!1;if(h===0)I=!0,_="No value argument passed to `assert.ok()`";else if(_ instanceof Error)throw _;var k=new f({actual:m,expected:!0,message:_,operator:"==",stackStartFn:x});throw k.generatedMessage=I,k}}function K(){for(var x=arguments.length,h=new Array(x),m=0;m<x;m++)h[m]=arguments[m];C.apply(void 0,[K,h.length].concat(h))}S.ok=K,S.equal=function x(h,m,_){if(arguments.length<2)throw new l("actual","expected");h!=m&&j({actual:h,expected:m,message:_,operator:"==",stackStartFn:x})},S.notEqual=function x(h,m,_){if(arguments.length<2)throw new l("actual","expected");h==m&&j({actual:h,expected:m,message:_,operator:"!=",stackStartFn:x})},S.deepEqual=function x(h,m,_){if(arguments.length<2)throw new l("actual","expected");g===void 0&&A(),g(h,m)||j({actual:h,expected:m,message:_,operator:"deepEqual",stackStartFn:x})},S.notDeepEqual=function x(h,m,_){if(arguments.length<2)throw new l("actual","expected");g===void 0&&A(),g(h,m)&&j({actual:h,expected:m,message:_,operator:"notDeepEqual",stackStartFn:x})},S.deepStrictEqual=function x(h,m,_){if(arguments.length<2)throw new l("actual","expected");g===void 0&&A(),v(h,m)||j({actual:h,expected:m,message:_,operator:"deepStrictEqual",stackStartFn:x})},S.notDeepStrictEqual=V;function V(x,h,m){if(arguments.length<2)throw new l("actual","expected");g===void 0&&A(),v(x,h)&&j({actual:x,expected:h,message:m,operator:"notDeepStrictEqual",stackStartFn:V})}S.strictEqual=function x(h,m,_){if(arguments.length<2)throw new l("actual","expected");y(h,m)||j({actual:h,expected:m,message:_,operator:"strictEqual",stackStartFn:x})},S.notStrictEqual=function x(h,m,_){if(arguments.length<2)throw new l("actual","expected");y(h,m)&&j({actual:h,expected:m,message:_,operator:"notStrictEqual",stackStartFn:x})};var G=function x(h,m,_){var I=this;t(this,x),m.forEach(function(k){k in h&&(_!==void 0&&typeof _[k]=="string"&&w(h[k])&&h[k].test(_[k])?I[k]=_[k]:I[k]=h[k])})};function ee(x,h,m,_,I,k){if(!(m in x)||!v(x[m],h[m])){if(!_){var L=new G(x,I),W=new G(h,I,x),z=new f({actual:L,expected:W,operator:"deepStrictEqual",stackStartFn:k});throw z.actual=x,z.expected=h,z.operator=k.name,z}j({actual:x,expected:h,message:_,operator:k.name,stackStartFn:k})}}function H(x,h,m,_){if(typeof h!="function"){if(w(h))return h.test(x);if(arguments.length===2)throw new o("expected",["Function","RegExp"],h);if(e(x)!=="object"||x===null){var I=new f({actual:x,expected:h,message:m,operator:"deepStrictEqual",stackStartFn:_});throw I.operator=_.name,I}var k=Object.keys(h);if(h instanceof Error)k.push("name","message");else if(k.length===0)throw new a("error",h,"may not be an empty object");return g===void 0&&A(),k.forEach(function(L){typeof x[L]=="string"&&w(h[L])&&h[L].test(x[L])||ee(x,h,L,m,k,_)}),!0}return h.prototype!==void 0&&x instanceof h?!0:Error.isPrototypeOf(h)?!1:h.call({},x)===!0}function D(x){if(typeof x!="function")throw new o("fn","Function",x);try{x()}catch(h){return h}return $}function B(x){return p(x)||x!==null&&e(x)==="object"&&typeof x.then=="function"&&typeof x.catch=="function"}function M(x){return Promise.resolve().then(function(){var h;if(typeof x=="function"){if(h=x(),!B(h))throw new s("instance of Promise","promiseFn",h)}else if(B(x))h=x;else throw new o("promiseFn",["Function","Promise"],x);return Promise.resolve().then(function(){return h}).then(function(){return $}).catch(function(m){return m})})}function N(x,h,m,_){if(typeof m=="string"){if(arguments.length===4)throw new o("error",["Object","Error","Function","RegExp"],m);if(e(h)==="object"&&h!==null){if(h.message===m)throw new i("error/message",'The error message "'.concat(h.message,'" is identical to the message.'))}else if(h===m)throw new i("error/message",'The error "'.concat(h,'" is identical to the message.'));_=m,m=void 0}else if(m!=null&&e(m)!=="object"&&typeof m!="function")throw new o("error",["Object","Error","Function","RegExp"],m);if(h===$){var I="";m&&m.name&&(I+=" (".concat(m.name,")")),I+=_?": ".concat(_):".";var k=x.name==="rejects"?"rejection":"exception";j({actual:void 0,expected:m,operator:x.name,message:"Missing expected ".concat(k).concat(I),stackStartFn:x})}if(m&&!H(h,m,_,x))throw h}function U(x,h,m,_){if(h!==$){if(typeof m=="string"&&(_=m,m=void 0),!m||H(h,m)){var I=_?": ".concat(_):".",k=x.name==="doesNotReject"?"rejection":"exception";j({actual:h,expected:m,operator:x.name,message:"Got unwanted ".concat(k).concat(I,`
`)+'Actual message: "'.concat(h&&h.message,'"'),stackStartFn:x})}throw h}}S.throws=function x(h){for(var m=arguments.length,_=new Array(m>1?m-1:0),I=1;I<m;I++)_[I-1]=arguments[I];N.apply(void 0,[x,D(h)].concat(_))},S.rejects=function x(h){for(var m=arguments.length,_=new Array(m>1?m-1:0),I=1;I<m;I++)_[I-1]=arguments[I];return M(h).then(function(k){return N.apply(void 0,[x,k].concat(_))})},S.doesNotThrow=function x(h){for(var m=arguments.length,_=new Array(m>1?m-1:0),I=1;I<m;I++)_[I-1]=arguments[I];U.apply(void 0,[x,D(h)].concat(_))},S.doesNotReject=function x(h){for(var m=arguments.length,_=new Array(m>1?m-1:0),I=1;I<m;I++)_[I-1]=arguments[I];return M(h).then(function(k){return U.apply(void 0,[x,k].concat(_))})},S.ifError=function x(h){if(h!=null){var m="ifError got unwanted exception: ";e(h)==="object"&&typeof h.message=="string"?h.message.length===0&&h.constructor?m+=h.constructor.name:m+=h.message:m+=d(h);var _=new f({actual:h,expected:null,operator:"ifError",message:m,stackStartFn:x}),I=h.stack;if(typeof I=="string"){var k=I.split(`
`);k.shift();for(var L=_.stack.split(`
`),W=0;W<k.length;W++){var z=L.indexOf(k[W]);if(z!==-1){L=L.slice(0,z);break}}_.stack="".concat(L.join(`
`),`
`).concat(k.join(`
`))}throw _}};function Z(){for(var x=arguments.length,h=new Array(x),m=0;m<x;m++)h[m]=arguments[m];C.apply(void 0,[Z,h.length].concat(h))}return S.strict=b(Z,S,{equal:S.strictEqual,deepEqual:S.deepStrictEqual,notEqual:S.notStrictEqual,notDeepEqual:S.notDeepStrictEqual}),S.strict.strict=S.strict,Er.exports}var xu=Ki();const Ts=Oc(xu);class Is{static decodeArrayBuffer(t){const n=t.length/4*3,r=new ArrayBuffer(n);return this.decode(t,r),r}static removePaddingChars(t){return this._keyStr.indexOf(t.charAt(t.length-1))==64?t.substring(0,t.length-1):t}static decode(t,n){t=this.removePaddingChars(t),t=this.removePaddingChars(t);const r=Math.floor(t.length/4*3);let i,o,a,s,l,f,c,d=0,u=0;const p=n?new Uint8Array(n):new Uint8Array(r);for(t=t.replace(/[^A-Za-z0-9+/=]/g,""),d=0;d<r;d+=3)s=this._keyStr.indexOf(t.charAt(u++)),l=this._keyStr.indexOf(t.charAt(u++)),f=this._keyStr.indexOf(t.charAt(u++)),c=this._keyStr.indexOf(t.charAt(u++)),i=s<<2|l>>4,o=(l&15)<<4|f>>2,a=(f&3)<<6|c,p[d]=i,f!=64&&(p[d+1]=o),c!=64&&(p[d+2]=a);return p}}_e(Is,"_keyStr","ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=");class Rs{get filename(){const t=this.location.split("/").at(-1);if(!t)throw new Error(`Unexpected sample location '${this.location}'`);return t}}class Ne extends Rs{constructor(n,r){super();_e(this,"label");_e(this,"location");this.location=n,this.label=r}async downloadDirtSample(){const i=await bc("tidalcycles","Dirt-Samples",this.location),o=Is.decodeArrayBuffer(i);return new Blob([o],{type:"audio/wav"})}async ensureCached(){let n;n=await $e.instance.getSampleBlob(this.filename),n||(n=await this.downloadDirtSample(),$e.instance.addSample({filename:this.filename,data:n}))}}class ku extends Rs{constructor(n,r){super();_e(this,"label");_e(this,"location");this.location=n,this.label=r}async ensureCached(){let n;if(n=await $e.instance.getSampleBlob(this.filename),!n){const r=await fetch(this.location);if(!r.ok)throw new Error(`Error fetching file: '${this.filename}'
${await r.text()}`);n=await r.blob(),$e.instance.addSample({filename:this.filename,data:n})}}}class pr{}_e(pr,"samples",[new ku("https://dobrian.github.io/cmp/topics/sample-recording-and-playback-with-web-audio-api/freejazz.wav","Freejazz"),new Ne("moog/000_Mighty Moog C2.wav","Moog C2"),new Ne("juno/03_juno_chorus_low.wav","Juno"),new Ne("jazz/007_SN.wav","Snare"),new Ne("bleep/checkpoint-hit.wav","Bleep"),new Ne("808/CH.WAV","808CH"),new Ne("808oh/OH00.WAV","808OH"),new Ne("808bd/BD0010.WAV","808BD"),new Ne("808bd/BD0025.WAV","808BD2"),new Ne("808/CP.WAV","808CP"),new Ne("808/RS.WAV","808RS"),new Ne("juno/04_juno_chorus_mid.wav","Juno Mid"),new Ne("birds/001_10.wav","Birdies"),new Ne("bleep/pc_beep.wav","Beep")]);Ts(pr.samples.length>ns,"Not enough default samples");var Cs=(e=>(e[e.ERROR=0]="ERROR",e[e.WARN=1]="WARN",e[e.INFO=2]="INFO",e[e.DEBUG=3]="DEBUG",e))(Cs||{});const bt=class{static log(t,n,...r){bt.Loggers[Cs[n]](`[${n}] ${t}`,...r)}static error(t,...n){bt.log(t,"ERROR",...n)}static warn(t,...n){bt.log(t,"WARN",...n)}static info(t,...n){bt.log(t,"INFO",...n)}static debug(t,...n){bt.log(t,"DEBUG",...n)}};let st=bt;_e(st,"Loggers",[console.error,console.warn,console.info,console.debug]);class Tu{static toAppState(t){return Cu(JSON.parse(t),zi("AppState"))}static appStateToJson(t){return JSON.stringify(Bu(t,zi("AppState")),null,2)}}function Ye(e,t,n,r=""){const i=Ui(e),o=r?` on ${r}`:"",a=n?` for key "${n}"`:"";throw Error(`Invalid value${a}${o}. Expected ${i} but got ${JSON.stringify(t)}`)}function Ui(e){return Array.isArray(e)?e.length===2&&e[0]===void 0?`an optional ${Ui(e[1])}`:`one of [${e.map(t=>Ui(t)).join(", ")}]`:typeof e=="object"&&e.literal!==void 0?e.literal:typeof e}function Iu(e){if(e.jsonToJS===void 0){const t={};e.props.forEach(n=>t[n.json]={key:n.js,typ:n.typ}),e.jsonToJS=t}return e.jsonToJS}function Ru(e){if(e.jsToJSON===void 0){const t={};e.props.forEach(n=>t[n.js]={key:n.json,typ:n.typ}),e.jsToJSON=t}return e.jsToJSON}function Mt(e,t,n,r="",i=""){function o(u,p){return typeof u==typeof p?p:Ye(u,p,r,i)}function a(u,p){const w=u.length;for(let b=0;b<w;b++){const y=u[b];try{return Mt(p,y,n)}catch{}}return Ye(u,p,r,i)}function s(u,p){return u.indexOf(p)!==-1?p:Ye(u.map(w=>xn(w)),p,r,i)}function l(u,p){return Array.isArray(p)?p.map(w=>Mt(w,u,n)):Ye(xn("array"),p,r,i)}function f(u){if(u===null)return null;const p=new Date(u);return isNaN(p.valueOf())?Ye(xn("Date"),u,r,i):p}function c(u,p,w){if(w===null||typeof w!="object"||Array.isArray(w))return Ye(xn(d||"object"),w,r,i);const b={};return Object.getOwnPropertyNames(u).forEach(y=>{const g=u[y],v=Object.prototype.hasOwnProperty.call(w,y)?w[y]:void 0;b[g.key]=Mt(v,g.typ,n,y,d)}),Object.getOwnPropertyNames(w).forEach(y=>{Object.prototype.hasOwnProperty.call(u,y)||(b[y]=Mt(w[y],p,n,y,d))}),b}if(t==="any")return e;if(t===null)return e===null?e:Ye(t,e,r,i);if(t===!1)return Ye(t,e,r,i);let d;for(;typeof t=="object"&&t.ref!==void 0;)d=t.ref,t=Nu[t.ref];return Array.isArray(t)?s(t,e):typeof t=="object"?t.hasOwnProperty("unionMembers")?a(t.unionMembers,e):t.hasOwnProperty("arrayItems")?l(t.arrayItems,e):t.hasOwnProperty("props")?c(n(t),t.additional,e):Ye(t,e,r,i):t===Date&&typeof e!="number"?f(e):o(t,e)}function Cu(e,t){return Mt(e,t,Iu)}function Bu(e,t){return Mt(e,t,Ru)}function xn(e){return{literal:e}}function Du(e){return{arrayItems:e}}function na(e,t){return{props:e,additional:t}}function zi(e){return{ref:e}}const Nu={AppState:na([{json:"samplers",js:"samplers",typ:Du(zi("SamplePlayer"))}],!1),SamplePlayer:na([{json:"label",js:"label",typ:""},{json:"playbackRate",js:"playbackRate",typ:3.14},{json:"src",js:"src",typ:""}],!1)},Bs="soundbored-app";function Mu(){const e=localStorage.getItem(Bs);if(e)try{return Tu.toAppState(e)}catch(t){return st.error("Failed to parse App state from JSON",t),null}return null}function Fu(){return{samplers:pr.samples.slice(0,ns).map(({filename:t,label:n})=>({src:t,label:n,playbackRate:1}))}}const qu=Mu()??Fu(),[yr,Ds]=Za(qu);function yn(){localStorage.setItem(Bs,JSON.stringify(yr))}async function Lu(){$e.init(),performance.mark("fetch-sample-start");const e=await Promise.allSettled(pr.samples.map(async r=>{try{return await r.ensureCached(),Promise.resolve()}catch(i){return st.error(`Failed to load sample '${r}'`,i),Promise.reject()}}));performance.mark("fetch-sample-end");const t=e.reduce((r,i)=>(r[i.status]+=1,r),{fulfilled:0,rejected:0}),n=performance.measure("fetch-sample-duration","fetch-sample-start","fetch-sample-end");t.fulfilled&&st.info(`Successfully loaded ${t.fulfilled} samples`),t.rejected&&st.warn(`Failed to load ${t.rejected} samples`),st.debug(`Sample fetch took ${Math.ceil(n.duration)}ms`)}const Ku=["Bytes","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"],Uu=["Bytes","kB","MB","GB","TB","PB","EB","ZB","YB"];function zu(e,t=!1,n=2){const r=t?1e3:1024,i=Math.floor(Math.log(e)/Math.log(r));return`${(e/Math.pow(r,i)).toFixed(n)} ${t?Uu[i]:Ku[i]}`}const Vu="_root_i3ynq_1",Gu="_content_i3ynq_7",Hu="_navbar_i3ynq_14",Wu="_icon_i3ynq_27",Yu="_footer_i3ynq_47",Ju="_interaction_i3ynq_64",Je={root:Vu,content:Gu,navbar:Hu,icon:Wu,"header-title":"_header-title_i3ynq_43",footer:Yu,interaction:Ju},Xu=ce('<div><header><h1>SoundBored</h1><ul class="flex gap-1"><li><button></button><input id="fileExplorer" type="file" accept="audio/*" hidden multiple></li><li><button></button></li><li><a href="https://github.com/grddavies/soundbored"></a></li></ul></header><main role="main" class="flex flex-1 justify-content-center align-items-center"></main><footer>');function Qu(){const e=Lu(),[t,n]=me(!0);return(()=>{const r=Xu(),i=r.firstChild,o=i.firstChild,a=o.nextSibling,s=a.firstChild,l=s.firstChild,f=l.nextSibling,c=s.nextSibling,d=c.firstChild,u=c.nextSibling,p=u.firstChild,w=i.nextSibling,b=w.nextSibling;return re(r,oe(Lf,{get show(){return t()},setShow:n}),i),l.$$click=()=>{var y;return(y=document.getElementById("fileExplorer"))==null?void 0:y.click()},re(l,oe(vl,{size:36})),f.addEventListener("change",y=>{if(y.currentTarget.files)for(const g of y.currentTarget.files)$e.instance.addSampleFromFile(g)}),d.$$click=()=>{n(!0)},re(d,oe(wl,{size:36})),re(p,oe(bl,{size:36})),re(w,oe(yd,{appInitialized:e,get samplers(){return yr.samplers}})),ue(y=>{const g=Je.root,v=Je.navbar+" px-4",A=Je["header-title"],O=Je.icon,S=`${Je.interaction} flex`,$=Je.icon,j=`${Je.interaction} flex`,T=Je.icon,C=Je.footer;return g!==y._v$&&ve(r,y._v$=g),v!==y._v$2&&ve(i,y._v$2=v),A!==y._v$3&&ve(o,y._v$3=A),O!==y._v$4&&ve(s,y._v$4=O),S!==y._v$5&&ve(l,y._v$5=S),$!==y._v$6&&ve(c,y._v$6=$),j!==y._v$7&&ve(d,y._v$7=j),T!==y._v$8&&ve(u,y._v$8=T),C!==y._v$9&&ve(b,y._v$9=C),y},{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0,_v$5:void 0,_v$6:void 0,_v$7:void 0,_v$8:void 0,_v$9:void 0}),r})()}Gt(["click"]);function Zu(e){return e!==null&&(typeof e=="object"||typeof e=="function")}var ir=e=>typeof e=="function"&&!e.length?e():e,ra=e=>Array.isArray(e)?e:e?[e]:[];function ia(e,...t){return typeof e=="function"?e(...t):e}var ef=Object.entries,tf=sn;function nf(e,t,n,r){return e.addEventListener(t,n,r),tf(e.removeEventListener.bind(e,t,n,r))}function rf(e,t,n,r){const i=()=>{ra(ir(e)).forEach(o=>{o&&ra(ir(t)).forEach(a=>nf(o,a,n,r))})};typeof e=="function"?ar(i):ue(i)}var of=e=>Object.assign({},e);function oa(e,...t){const n=typeof t[0]=="string"?[t]:t,r=of(e),i=[];for(let o=0;o<n.length;o++){const a=n[o];i.push({});for(const s of a)i[o][s]=r[s],delete r[s]}return[...i,r]}var af=e=>e.substring(2).toLowerCase(),sf=e=>{const t={};return Object.entries(e).forEach(([n,r])=>t[af(n)]=r),t};function gn(e){const[{target:t=document.body,pointerTypes:n,passive:r=!0},i]=oa(e,"target","pointerTypes","passive"),[{gotcapture:o,lostcapture:a},s]=oa(sf(i),"gotcapture","lostcapture"),l=c=>d=>(!n||n.includes(d.pointerType))&&c(d),f=(c,d)=>rf(t,c,l(d),{passive:r});ef(s).forEach(([c,d])=>d&&f(`pointer${c}`,d)),o&&f("gotpointercapture",o),a&&f("lostpointercapture",a)}function ti(e,t,n,r,i){t.forEach(o=>{e.addEventListener(o,n,{capture:r,passive:i})})}function kn(e,t,n,r,i){t.forEach(o=>e.removeEventListener(o,n,{capture:r,passive:i}))}function lf(e,t=!1,n=!1){const r=document.hidden!==void 0;function i(){}const o=navigator.userAgent.toLowerCase(),a=n||o.indexOf("iphone")>=0&&o.indexOf("like iphone")<0||o.indexOf("ipad")>=0&&o.indexOf("like ipad")<0||o.indexOf("ipod")>=0&&o.indexOf("like ipod")<0||o.indexOf("mac os x")>=0&&navigator.maxTouchPoints>0;let s=!0;function l(){const O=!!(t||(!r||!document.hidden)&&(!a||document.hasFocus()));O!==s&&(s=O,b(!1),d())}const f=()=>{l()};r&&ti(document,["visibilitychange"],f,!0,!0);function c(O){O&&O.target!==window||l()}a&&ti(window,["focus","blur"],c,!0,!0);function d(){if(s){if(e.state!=="running"&&e.state!=="closed"&&v){const O=e.resume();O&&O.then(i,i).catch(i)}}else if(e.state==="running"){const O=e.suspend();O&&O.then(i,i).catch(i)}}const u=O=>{(!O||!O.unmuteHandled)&&(O.unmuteHandled=!0,d())};e.addEventListener("statechange",u,{capture:!0,passive:!0}),e.onstatechange||(e.onstatechange=u);let p=null;const w="data:audio/mpeg;base64,//uQx"+"A".repeat(23)+"WGluZwAAAA8AAAACAAACcQCA"+"gICA".repeat(16)+"/".repeat(66)+"8AAABhTEFNRTMuMTAwA8MAAAAAAAAAABQgJAUHQQAB9AAAAnGMHkkI"+"A".repeat(320)+"//sQxAADgnABGiAAQBCqgCRMAAgEAH"+"/".repeat(15)+"7+n/9FTuQsQH//////2NG0jWUGlio5gLQTOtIoeR2WX////X4s9Atb/JRVCbBUpeRUq"+"/".repeat(18)+"9RUi0f2jn/+xDECgPCjAEQAABN4AAANIAAAAQVTEFNRTMuMTAw"+"V".repeat(97)+"Q==";function b(O){if(a)if(s){if(O){if(!p){const S=document.createElement("div");S.innerHTML="<audio x-webkit-airplay='deny'></audio>",p=S.children.item(0),p.controls=!1,p.disableRemotePlayback=!0,p.preload="auto",p.src=w,p.loop=!0,p.load()}if(p.paused){const S=p.play();S&&S.then(i,y).catch(y)}}}else y()}function y(){p&&(p.src="about:blank",p.load(),p=null)}const g=["click","contextmenu","auxclick","dblclick","mousedown","mouseup","touchend","keydown","keyup"];let v=!1;function A(){v=!0,b(!0),d()}return ti(window,g,A,!0,!0),{dispose:function(){y(),r&&kn(document,["visibilitychange"],f,!0,!0),a&&kn(window,["focus","blur"],c,!0,!0),kn(window,g,A,!0,!0),kn(e,["statechange"],u,!0,!0),e.onstatechange===u&&(e.onstatechange=null)}}}const[At,cf]=me(null);function uf(e,t=!1){if(!t&&At())return;const n=new AudioContext(e);lf(n),cf(n)}class ff{constructor(t,n){_e(this,"audio");_e(this,"_splitter");_e(this,"_audioOut");_e(this,"_sampleHolder");_e(this,"_analyser");_e(this,"_playing",!1);this.audio=new AudioBufferSourceNode(t,n),this._splitter=new ChannelSplitterNode(t),this._analyser=new AnalyserNode(t),this._audioOut=new ChannelMergerNode(t),this._sampleHolder=new Float32Array(1),this.audio.addEventListener("ended",()=>{this._playing=!1})}get playbackPosition(){return this._analyser.getFloatTimeDomainData(this._sampleHolder),this._sampleHolder[0]}get playing(){return this._playing}loadBuffer(t){const n=Math.max(t.numberOfChannels,3),r=n-1;if(this.audio.buffer=new AudioBuffer({length:t.length,sampleRate:t.sampleRate,numberOfChannels:n}),t.numberOfChannels==1)this.audio.buffer.copyToChannel(t.getChannelData(0),0),this.audio.buffer.copyToChannel(t.getChannelData(0),1);else for(let o=0;o<t.numberOfChannels;o++)this.audio.buffer.copyToChannel(t.getChannelData(o),o);const i=this.audio.buffer.getChannelData(r);for(let o=0;o<t.length;o++)i[o]=o/t.length;this.audio.connect(this._splitter);for(let o=0;o<r;o++)this._splitter.connect(this._audioOut,o,o);this._splitter.connect(this._analyser,r)}get playbackRate(){return this.audio.playbackRate}start(){this._playing=!0,this.audio.start()}stop(){this.audio.stop()}connect(t,n){return this._audioOut.connect(t,n)}}const df="_buttonPad_1gbmg_1",hf="_selected_1gbmg_11",pf="_label_1gbmg_37",ni={buttonPad:df,selected:hf,label:pf},yf=ce("<canvas>"),gf=ce("<button><div>"),mf=ce("<button>"),bf=e=>{let t,n,r,i,o;const a=()=>At()&&e.model.src,[s]=Vi(a,async d=>{var p;const u=await $e.instance.getSampleBlob(d);if(u)return await((p=At())==null?void 0:p.decodeAudioData(await u.arrayBuffer()))});ar(()=>{const d=e.model.playbackRate;r&&(r.audio.playbackRate.value=d)});function l(){const d=n.getContext("2d");!d||!r||(d.clearRect(0,0,n.width,n.height),d.fillStyle="white",d.fillRect(0,0,n.width*r.playbackPosition,n.height),r!=null&&r.playing?requestAnimationFrame(l):d.clearRect(0,0,n.width,n.height))}const f=()=>{const d=At();if(!d)return;r&&r.playing&&r.stop(),r=new ff(d,{playbackRate:e.model.playbackRate});const u=s();u&&(r.loadBuffer(u),r.connect(d.destination),r.start(),l())},c=()=>{r&&r.playing&&r.stop()};return gn({target:()=>i,pointerTypes:["touch","pen","mouse"],onDown:f}),gn({target:()=>o,pointerTypes:["touch","pen","mouse"],onDown:c}),oe(Ms,{get sampler(){return e.model},ref(d){const u=t;typeof u=="function"?u(d):t=d},get class(){return ni.buttonPad},get onClick(){return e.onClick},get classList(){return{...e.classList,[ni.selected]:e.selected}},get children(){return[(()=>{const d=yf(),u=n;return typeof u=="function"?lt(u,d):n=d,d})(),(()=>{const d=gf(),u=d.firstChild,p=i;return typeof p=="function"?lt(p,d):i=d,re(u,()=>e.model.label),re(d,oe(_l,{size:24}),null),ue(w=>{const b=s.loading,y=ni.label;return b!==w._v$&&(d.disabled=w._v$=b),y!==w._v$2&&ve(u,w._v$2=y),w},{_v$:void 0,_v$2:void 0}),d})(),(()=>{const d=mf(),u=o;return typeof u=="function"?lt(u,d):o=d,re(d,oe(Sl,{size:24})),ue(()=>d.disabled=s.loading),d})()]}})};function Ns(e,t){let n=-1/0;gn({target:e,onUp:r=>{const i=performance.now();i-n<Ec?(t(r),n=-1/0):n=i}})}const[fo,vf]=me(0),wf=()=>yr.samplers[fo()],_f=e=>{Ds("samplers",fo(),ts(e))},Sf={selected:wf,selectedIdx:fo,setSelectionIndex:vf,mutateSelected:_f},wn=()=>Sf,Af="_knob_uikyq_1",Ef="_value_uikyq_10",Of="_arc_uikyq_17",Pf="_dial_uikyq_21",Bt={knob:Af,value:Ef,arc:Of,dial:Pf,"knob-label":"_knob-label_uikyq_26"};function $f(...e){return e.reduce((t,n)=>({x:t.x+n.x,y:t.y+n.y}))}function jf(e,t){return{x:e*Math.cos(t),y:e*Math.sin(t)}}const xf=ce('<svg viewBox="0 0 120 120" xmlns="http://www.w3.org/2000/svg"><path></path><path></path><text x="70" y="100">'),kf=ce("<svg><path></svg>",!1,!0),Tf=e=>{const t=()=>(e.value-(e.min??0))/(e.max-(e.min??0)),o={x:60,y:60},a=3/4,s=()=>2*Math.PI*(t()*.75+(1-a)),l=Math.PI/15,f=()=>s()+l,c=u=>{const p=jf(50,u);return $f(p,o)},d=()=>s()>3*Math.PI/2?1:0;return(()=>{const u=xf(),p=u.firstChild,w=p.nextSibling,b=w.nextSibling,y=e.ref;return typeof y=="function"?lt(y,u):e.ref=u,re(u,(()=>{const g=Se(()=>s()+l<2*Math.PI);return()=>g()&&(()=>{const v=kf();return ue(A=>{const O=Bt.track,S=`M ${o.x+50},${o.y} A 50 50 0 ${f()>Math.PI?0:1} 0 ${c(f()).x} ${c(f()).y}`;return O!==A._v$9&&le(v,"class",A._v$9=O),S!==A._v$10&&le(v,"d",A._v$10=S),A},{_v$9:void 0,_v$10:void 0}),v})()})(),p),re(b,()=>e.value.toFixed(2)),ue(g=>{const v=Bt.knob,A=e.size??48,O=e.size??48,S=Bt.arc,$=`M ${o.x},${o.y+50} A 50 50 0 ${d()} 1 ${c(s()).x} ${c(s()).y}`,j=Bt.dial,T=`M ${o.x},${o.y} L ${c(s()).x} ${c(s()).y}`,C=Bt.value;return v!==g._v$&&le(u,"class",g._v$=v),A!==g._v$2&&le(u,"width",g._v$2=A),O!==g._v$3&&le(u,"height",g._v$3=O),S!==g._v$4&&le(p,"class",g._v$4=S),$!==g._v$5&&le(p,"d",g._v$5=$),j!==g._v$6&&le(w,"class",g._v$6=j),T!==g._v$7&&le(w,"d",g._v$7=T),C!==g._v$8&&le(b,"class",g._v$8=C),g},{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0,_v$5:void 0,_v$6:void 0,_v$7:void 0,_v$8:void 0}),u})()},If=ce('<div class="flex flex-column"><div>'),Rf=e=>{let t;const[n,r]=me(e.value),[i,o]=me(null),[a,s]=me(0),[l,f]=me(!1),c=u=>{u.pointerId===i()&&(u.preventDefault(),u.stopImmediatePropagation(),u.pointerType==="Mouse"&&u.shiftKey&&f(!0),e.updateFunc(Math.min(e.max,Math.max(e.min??0,n()+(a()-u.clientY)/screen.availHeight*(l()?1:4)))))},d=u=>{u.pointerId===i()&&(yn(),o(null),f(!1),window.removeEventListener("pointermove",c),window.removeEventListener("pointerup",d))};return gn({target:()=>t,onDown:u=>{s(u.clientY),r(e.value),o(u.pointerId),window.addEventListener("pointerup",d,{passive:!1}),window.addEventListener("pointermove",c,{passive:!1})}}),Ns(()=>t,()=>{e.updateFunc(e.defaultValue),yn()}),(()=>{const u=If(),p=u.firstChild;return re(p,()=>e.label),re(u,oe(Tf,{ref(w){const b=t;typeof b=="function"?b(w):t=w},get value(){return e.value},get min(){return e.min},get max(){return e.max},get size(){return e.size}}),null),ue(()=>ve(p,Bt["knob-label"])),u})()},Cf="_modal_1azvw_1",Bf="_topbar_1azvw_24",Tn={modal:Cf,topbar:Bf,"modal-content":"_modal-content_1azvw_36","modal-overlay":"_modal-overlay_1azvw_51"},Df=ce("<div><div><button></button></div><div>"),Nf=ce("<div>"),Mf=ce("<button>"),Ff=e=>{let t,n;return[(()=>{const r=Df(),i=r.firstChild,o=i.firstChild,a=i.nextSibling,s=t;return typeof s=="function"?lt(s,r):t=r,li(o,"click",e.onClose,!0),re(a,()=>e.children),re(r,(()=>{const l=Se(()=>!!e.buttonText);return()=>l()&&(()=>{const f=Mf();return li(f,"click",e.onClose,!0),re(f,()=>e.buttonText),f})()})(),null),ue(l=>{const f={[Tn.modal]:!0,hidden:!e.show},c=`${Tn.topbar} flex flex-row-reverse`,d=`${Tn["modal-content"]} p-2`;return l._v$=ci(r,f,l._v$),c!==l._v$2&&ve(i,l._v$2=c),d!==l._v$3&&ve(a,l._v$3=d),l},{_v$:void 0,_v$2:void 0,_v$3:void 0}),r})(),(()=>{const r=Nf(),i=n;return typeof i=="function"?lt(i,r):n=r,ue(o=>ci(r,{[Tn["modal-overlay"]]:!0,hidden:!e.show},o)),r})()]};Gt(["click"]);const qf=ce('<div class="grid"><div class="col"><h2 class="pb-2">SoundBored</h2><div class="text-left"><div class="py-2">Trigger samples by hitting the pads</div><div class="py-2">Load new sounds from the sample explorer</div><div class="py-2">Record and upload your own samples'),Lf=e=>oe(Ff,{get show(){return e.show},onClose:()=>{uf(),e.setShow(!1)},buttonText:"Ok",get children(){return qf()}}),Kf=ce('<div class="h-full flex flex-column px-2 text-sm text-left"><div class="flex"><div class="w-8rem"></div><div class="flex-grow-1 text-right text-color-secondary w-2rem h-full overflow-hidden text-overflow-ellipsis white-space-nowrap">/</div></div><div class="flex flex-auto align-items-end py-2">'),Uf=ce('<input type="text" class="border-none h-full w-full text-xs">'),zf=ce("<div>"),Vf=()=>{const[e,t]=me(!1),{selected:n,mutateSelected:r}=wn();return(()=>{const i=Kf(),o=i.firstChild,a=o.firstChild,s=a.nextSibling;s.firstChild;const l=o.nextSibling;return re(a,(()=>{const f=Se(()=>!!e());return()=>f()?(()=>{const c=Uf();return c.addEventListener("mouseleave",()=>{t(!1)}),c.$$keyup=d=>{d.key==="Enter"&&t(!1)},c.addEventListener("change",()=>yn()),c.$$input=d=>{r(u=>{u.label=d.currentTarget.value})},le(c,"maxlength",rs),ue(()=>c.value=n().label),c})():(()=>{const c=zf();return c.$$click=()=>{t(!0)},re(c,()=>n().label),c})()})()),re(s,()=>n().src,null),re(i,oe(Rd,{get model(){return n()}}),l),re(l,oe(Rf,{get value(){return n().playbackRate},updateFunc:f=>r(c=>{c.playbackRate=f}),defaultValue:1,min:.01,max:2,size:50,label:"Playback Speed"})),i})()};Gt(["input","keyup","click"]);function Gf(e){const[t,n]=Za([]);return ar(Us(e,()=>{Hf(Wa(e),t,n)})),t}function Hf(e,t,n,r={key:"id"}){const i=e.subscribe(o=>n(Ac(o,r)));return sn(()=>"unsubscribe"in i?i.unsubscribe():i()),t}function Wf(e){return qe({a:{viewBox:"0 0 16 16"},c:'<path fill="currentColor" d="M14 8h-2.5L8 11.5 4.5 8H2l-2 4v1h16v-1l-2-4zM0 14h16v1H0v-1zm9-9V1H7v4H3.5L8 9.5 12.5 5H9z"/>'},e)}function ho(e,t){e.src=t,e.label=mc(t).substring(0,rs)}const Yf=ce('<div class="w-full h-full flex"><div class="relative h-full w-full flex flex-column border-right-1 border-200 text-left"><div class="text-lg pl-2 border-bottom-1 border-100">Samples</div><div class="h-full overflow-y-auto"><ul class="list-none text-sm">'),Jf=ce("<li>"),Xf=ce('<div class="absolute top-0 left-50 w-6 h-full surface-100 shadow-2"><div class="flex flex-column h-full"><div class="px-2 text-lg border-bottom-1 border-200">File info</div><div class="flex-grow-1"><div class="p-2 text-xs select-text"><div>Filename:</div><div class="text-color-secondary"></div><div>Size:</div><div class="text-color-secondary"></div><div>Type:</div><div class="text-color-secondary"></div></div></div><div class="p-2 flex text-sm gap-2 w-full"><button class="bg-primary h-2rem flex justify-content-center align-items-center flex-grow-1"></button><button class="h-2rem flex justify-content-center align-items-center flex-grow-1">'),Qf=()=>{const e=Gf(()=>$e.instance.getAllSampleFileNames()),[t,n]=me(void 0),r=()=>t()!=null?e[t()]:void 0,{mutateSelected:i}=wn();return(()=>{const o=Yf(),a=o.firstChild,s=a.firstChild,l=s.nextSibling,f=l.firstChild;return re(a,oe(el,{get when(){return r()!=null},get children(){return oe(Zf,{get path(){return r()}})}}),l),re(f,oe(Zs,{each:e,children:(c,d)=>{let u;return Ns(()=>u,()=>i(p=>{ho(p,c),yn()})),(()=>{const p=Jf();return p.$$pointerdown=()=>{n(d()===t()?void 0:d())},p.addEventListener("dragstart",w=>{var b;(b=w.dataTransfer)==null||b.setData("text/plain",w.target.textContent??"")}),lt(w=>u=w,p),le(p,"draggable",!0),re(p,c),ue(()=>ve(p,`pl-2 border-1 border-transparent overflow-hidden text-overflow-ellipsis white-space-nowrap ${t()===d()?"bg-indigo-400 border-indigo-200":"hover:surface-300"}`)),p})()}})),o})()},Zf=e=>{const{mutateSelected:t}=wn(),[n]=Vi(()=>e.path,async r=>$e.instance.getSampleBlob(r));return(()=>{const r=Xf(),i=r.firstChild,o=i.firstChild,a=o.nextSibling,s=a.firstChild,l=s.firstChild,f=l.nextSibling,c=f.nextSibling,d=c.nextSibling,u=d.nextSibling,p=u.nextSibling,w=a.nextSibling,b=w.firstChild,y=b.nextSibling;return re(f,()=>e.path),re(d,()=>{var g;return zu(((g=n())==null?void 0:g.size)??0,!0)}),re(p,()=>{var g;return(g=n())==null?void 0:g.type}),b.$$click=()=>{t(g=>{ho(g,e.path),yn()})},re(b,oe(Wf,{})),y.$$click=async()=>{confirm(`Delete '${e.path}'`)&&$e.instance.deleteSampleByName(e.path)},re(y,oe(Ol,{})),r})()};Gt(["pointerdown","click"]);function ed(e){return qe({a:{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",viewBox:"0 0 24 24"},c:'<path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="1"/><path d="M15.51 15.56A5 5 0 1012 17M18.832 17.86A9 9 0 1012 21M12 12v9"/>'},e)}function td(e){return qe({a:{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",viewBox:"0 0 24 24"},c:'<path stroke="none" d="M0 0h24v24H0z"/><path d="M3 12h5l4 8V4l4 8h5"/>'},e)}function nd(e){return qe({a:{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",viewBox:"0 0 24 24"},c:'<path stroke="none" d="M0 0h24v24H0z"/><path d="M21 12h-2c-.894 0-1.662-.857-1.761-2-.296-3.45-.749-6-2.749-6s-2.5 3.582-2.5 8-.5 8-2.5 8-2.452-2.547-2.749-6c-.1-1.147-.867-2-1.763-2h-2"/>'},e)}function rd(e){return qe({a:{fill:"currentColor",viewBox:"0 0 16 16"},c:'<path d="M8 10a2 2 0 100-4 2 2 0 000 4z"/><path fill-rule="evenodd" d="M8.6 1c1.6.1 3.1.9 4.2 2 1.3 1.4 2 3.1 2 5.1 0 1.6-.6 3.1-1.6 4.4-1 1.2-2.4 2.1-4 2.4-1.6.3-3.2.1-4.6-.7-1.4-.8-2.5-2-3.1-3.5C.9 9.2.8 7.5 1.3 6c.5-1.6 1.4-2.9 2.8-3.8C5.4 1.3 7 .9 8.6 1zm.5 12.9c1.3-.3 2.5-1 3.4-2.1.8-1.1 1.3-2.4 1.2-3.8 0-1.6-.6-3.2-1.7-4.3-1-1-2.2-1.6-3.6-1.7-1.3-.1-2.7.2-3.8 1-1.1.8-1.9 1.9-2.3 3.3-.4 1.3-.4 2.7.2 4 .6 1.3 1.5 2.3 2.7 3 1.2.7 2.6.9 3.9.6z" clip-rule="evenodd"/>'},e)}const id="_controlPanel_1v00h_1",od={controlPanel:id},ad=ce('<div><div class="w-2rem"><ul class="w-full h-full flex flex-initial flex-column justify-content-evenly list-none"></ul></div><div class="h-full flex-grow-1">'),sd=ce('<li><a class="flex justify-content-center align-content-center flex-wrap w-full hover:text-primary transition-duration-200">'),ld=ce("<span>Sorry, tab not implemented"),cd=["SAMPLE","EXPLORER","RECORD","EFFECT"];function ud(e,t=!1,n){switch(e){case"SAMPLE":return t?oe(td,{size:n}):oe(nd,{size:n});case"EXPLORER":return t?oe(Al,{size:n}):oe(El,{size:n});case"RECORD":return oe(rd,{size:n});case"EFFECT":return oe(ed,{size:n})}}const fd=()=>{const[e,t]=me("SAMPLE");return(()=>{const n=ad(),r=n.firstChild,i=r.firstChild,o=r.nextSibling;return re(i,()=>cd.slice(0,2).map((a,s)=>(()=>{const l=sd(),f=l.firstChild;return l.$$click=()=>t(a),re(f,()=>ud(a,a===e(),24)),ue(()=>ve(l,`flex-auto flex cursor-pointer border-50 border-right-1 ${s?"border-top-1":""} ${e()===a?"surface-300":"surface-100"}`)),l})())),o.style.setProperty("width","calc(100% - 2rem)"),re(o,oe(ga,{get fallback(){return ld()},get children(){return[oe(Dt,{get when(){return e()==="SAMPLE"},get children(){return oe(Vf,{})}}),oe(Dt,{get when(){return e()==="EXPLORER"},get children(){return oe(Qf,{})}})]}})),ue(()=>ve(n,`${od.controlPanel} w-full flex overflow-hidden surface-200 select-none border-1 border-primary border-round`)),n})()};Gt(["click"]);const dd="_sampler_513kt_1",hd="_buttonGrid_513kt_28",ri={sampler:dd,buttonGrid:hd,"hide-md":"_hide-md_513kt_41"},pd=ce("<div><div>"),yd=e=>{const{selected:t,setSelectionIndex:n}=wn();return(()=>{const r=pd(),i=r.firstChild;return re(r,oe(fd,{}),i),re(i,()=>e.samplers.map((o,a)=>oe(bf,{get selected(){return o===t()},get classList(){return{[ri["hide-md"]]:a>8}},model:o,onClick:()=>n(a)}))),ue(o=>{const a=`${ri.sampler}`,s=ri.buttonGrid;return a!==o._v$&&ve(r,o._v$=a),s!==o._v$2&&ve(i,o._v$2=s),o},{_v$:void 0,_v$2:void 0}),r})()};function gd(e){const t={...e},n={...e},r={},i=a=>{let s=r[a];if(!s){if(!Gi())return t[a];r[a]=s=me(t[a],{internal:!0}),delete t[a]}return s[0]()};for(const a in e)Object.defineProperty(n,a,{get:()=>i(a),enumerable:!0});const o=(a,s)=>{const l=r[a];if(l)return l[1](s);a in t&&(t[a]=ia(s,[t[a]]))};return[n,(a,s)=>{if(Zu(a)){const l=Ce(()=>Object.entries(ia(a,n)));la(()=>{for(const[f,c]of l)o(f,()=>c)})}else o(a,s);return n}]}var md={width:null,height:null};function bd(e){if(!e)return{...md};const{width:t,height:n}=e.getBoundingClientRect();return{width:t,height:n}}function vd(e){const[t,n]=gd(bd(ir(e))),r=new ResizeObserver(([i])=>{const{width:o,height:a}=i.contentRect;n({width:o,height:a})});return sn(()=>r.disconnect()),ar(()=>{const i=ir(e);i&&(r.observe(i),sn(()=>r.unobserve(i)))}),t}const wd="_sampleView_1decy_1",_d="_fgLight_1decy_19",Sd="_waveform_1decy_23",Ad="_midline_1decy_31",Ed="_dragline_1decy_37",gt={sampleView:wd,fgLight:_d,waveform:Sd,midline:Ad,dragline:Ed},ii=ce("<svg><path></svg>",!1,!0),Od=ce('<svg><text x="50%" y="50%" text-anchor="middle" alignment-baseline="middle">Audio Engine Off</svg>',!1,!0),Pd=ce('<svg><text x="50%" y="50%" text-anchor="middle" alignment-baseline="middle">No Sample Loaded</svg>',!1,!0),$d=ce('<svg><text x="50%" y="50%" text-anchor="middle" alignment-baseline="middle">... Loading</svg>',!1,!0),jd=ce('<svg class="w-full h-full"><g>'),xd=10;function kd(e,t){return e.subarray(Math.max(0,0+t.pan.x),Math.min(Math.floor(e.length/t.zoom.x),e.length))}function Td(e,t,n){const r=kd(e,n),i=Math.min(t.width*4,r.length),o=Math.floor(r.length/i),a=t.height/2,s=c=>c*t.width/i,l=c=>a+c*(t.height-xd)*.5*n.zoom.y;let f=`M 0 ${r[0]}`;for(let c=1;c<i;c++){const d=r.subarray(c*o,(c+1)*o);f+=` L ${s(c)} ${l(d[0])}`}return f}async function Id({src:e,ctx:t}){const n=$e.instance.getChannelData(e);if(n)return n;const r=await $e.instance.getSampleBlob(e);if(!r||!t)return[];const i=await t.decodeAudioData(await r.arrayBuffer()),o=new Array(i.numberOfChannels).fill(null).map((a,s)=>{const l=new Float32Array(i.length);return i.copyFromChannel(l,s),l});return $e.instance.cacheChannelData(e,o),o}const Rd=e=>{let t,n;const r=vd(()=>t),i=()=>({pan:{x:0,y:0},zoom:{x:1,y:1}}),[o]=Vi(()=>({src:e.model.src,ctx:At()}),Id),a=()=>(r.height||0)/2,s=Se(()=>{const y=At(),g=o(),v=i(),A={width:r.width??0,height:r.height??0};return!g||!y?[]:g.map(O=>(()=>{const S=ii();return ue($=>{const j=gt.waveform,T=Td(O,A,v);return j!==$._v$&&le(S,"class",$._v$=j),T!==$._v$2&&le(S,"d",$._v$2=T),$},{_v$:void 0,_v$2:void 0}),S})())}),[l,f]=me(null),[c,d]=me(0),[u,p]=me(0),w=y=>{y.pointerId===l()&&(f(null),p(null),window.removeEventListener("pointermove",b),window.removeEventListener("pointerup",w))},b=y=>{y.pointerId===l()&&(y.preventDefault(),y.stopImmediatePropagation())};return gn({target:()=>n,onDown:y=>{Ts(n);const g=n.getBoundingClientRect();d(y.clientY-g.top),p(y.clientX-g.left),f(y.pointerId),window.addEventListener("pointerup",w,{passive:!1}),window.addEventListener("pointermove",b,{passive:!1})}}),oe(Ms,{ref(y){const g=t;typeof g=="function"?g(y):t=y},get class(){return`${gt.sampleView} overflow-hidden`},get children(){const y=jd(),g=y.firstChild,v=n;return typeof v=="function"?lt(v,y):n=y,re(g,oe(ga,{get children(){return[oe(Dt,{get when(){return!At()},get children(){const A=Od();return ue(()=>le(A,"class",`${gt.fgLight} font-bold text-sm`)),A}}),oe(Dt,{get when(){return o.state==="ready"},get children(){return[(()=>{const A=ii();return ue(O=>{const S=gt.midline,$=`M 0 ${a()} L ${r.width??0} ${a()}`;return S!==O._v$3&&le(A,"class",O._v$3=S),$!==O._v$4&&le(A,"d",O._v$4=$),O},{_v$3:void 0,_v$4:void 0}),A})(),Se(()=>s()),Se(()=>Se(()=>u()!=null)()&&(()=>{const A=ii();return ue(O=>{const S=gt.dragline,$=`M ${u()-i().pan.x} 0 V ${r.height??0}`;return S!==O._v$7&&le(A,"class",O._v$7=S),$!==O._v$8&&le(A,"d",O._v$8=$),O},{_v$7:void 0,_v$8:void 0}),A})())]}}),oe(Dt,{get when(){return o.state==="errored"},get children(){const A=Pd();return ue(()=>le(A,"class",`${gt.fgLight} font-bold text-sm`)),A}}),oe(Dt,{get when(){return o.loading},get children(){const A=$d();return ue(()=>le(A,"class",`${gt.fgLight} font-bold text-sm`)),A}})]}})),ue(A=>{const O=r.width??0,S=r.height??0;return O!==A._v$5&&le(y,"width",A._v$5=O),S!==A._v$6&&le(y,"height",A._v$6=S),A},{_v$5:void 0,_v$6:void 0}),y}})},Cd=ce("<div>"),Ms=e=>{const[,t]=Qs(e,["children","sampler"]),{selectedIdx:n}=wn();return(()=>{const r=Cd();return ba(r,pa(t,{onDragOver:i=>{i.preventDefault(),i.dataTransfer&&(i.dataTransfer.dropEffect="link")},onDrop:i=>{i.preventDefault(),Ds("samplers",e.sampler?yr.samplers.indexOf(e.sampler):n(),ts(o=>{i.dataTransfer&&ho(o,i.dataTransfer.getData("text/plain"))}))}}),!1,!0),re(r,()=>e.children),r})()};ul(()=>oe(Qu,{}),document.getElementById("root"));
