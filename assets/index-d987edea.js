var Fs=Object.defineProperty;var qs=(e,t,n)=>t in e?Fs(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Se=(e,t,n)=>(qs(e,typeof t!="symbol"?t+"":t,n),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();const Ls=(e,t)=>e===t,Le=Symbol("solid-proxy"),oi=Symbol("solid-track"),Ln={equals:Ls};let oa=fa;const it=1,Kn=2,aa={owned:null,cleanups:null,context:null,owner:null},br={};var Ae=null;let vr=null,ge=null,$e=null,et=null,ar=0;function xn(e,t){const n=ge,r=Ae,i=e.length===0,o=i?aa:{owned:null,cleanups:null,context:null,owner:t===void 0?r:t},a=i?e:()=>e(()=>Ce(()=>cr(o)));Ae=o,ge=null;try{return lt(a,!0)}finally{ge=n,Ae=r}}function be(e,t){t=t?Object.assign({},Ln,t):Ln;const n={value:e,observers:null,observerSlots:null,comparator:t.equals||void 0},r=i=>(typeof i=="function"&&(i=i(n.value)),ua(n,i));return[ca.bind(n),r]}function fo(e,t,n){const r=lr(e,t,!0,it);Ut(r)}function ae(e,t,n){const r=lr(e,t,!1,it);Ut(r)}function sr(e,t,n){oa=Ws;const r=lr(e,t,!1,it);(!n||!n.render)&&(r.user=!0),et?et.push(r):Ut(r)}function we(e,t,n){n=n?Object.assign({},Ln,n):Ln;const r=lr(e,t,!0,0);return r.observers=null,r.observerSlots=null,r.comparator=n.equals||void 0,Ut(r),ca.bind(r)}function sa(e,t,n){let r,i,o;arguments.length===2&&typeof t=="object"||arguments.length===1?(r=!0,i=e,o=t||{}):(r=e,i=t,o=n||{});let a=null,s=br,l=!1,f="initialValue"in o,c=typeof r=="function"&&we(r);const d=new Set,[u,p]=(o.storage||be)(o.initialValue),[w,g]=be(void 0),[y,m]=be(void 0,{equals:!1}),[v,A]=be(f?"ready":"unresolved");function O(C,R,L,z){return a===C&&(a=null,f=!0,(C===s||R===s)&&o.onHydrated&&queueMicrotask(()=>o.onHydrated(z,{value:R})),s=br,S(R,L)),R}function S(C,R){lt(()=>{R===void 0&&p(()=>C),A(R!==void 0?"errored":"ready"),g(R);for(const L of d.keys())L.decrement();d.clear()},!1)}function x(){const C=Vs,R=u(),L=w();if(L!==void 0&&!a)throw L;return ge&&!ge.user&&C&&fo(()=>{y(),a&&(C.resolved||d.has(C)||(C.increment(),d.add(C)))}),R}function P(C=!0){if(C!==!1&&l)return;l=!1;const R=c?c():r;if(R==null||R===!1){O(a,Ce(u));return}const L=s!==br?s:Ce(()=>i(R,{value:u(),refetching:C}));return typeof L!="object"||!(L&&"then"in L)?(O(a,L,void 0,R),L):(a=L,l=!0,queueMicrotask(()=>l=!1),lt(()=>{A(f?"refreshing":"pending"),m()},!1),L.then(z=>O(L,z,void 0,R),z=>O(L,void 0,Hs(z),R)))}return Object.defineProperties(x,{state:{get:()=>v()},error:{get:()=>w()},loading:{get(){const C=v();return C==="pending"||C==="refreshing"}},latest:{get(){if(!f)return x();const C=w();if(C&&!a)throw C;return u()}}}),c?fo(()=>P(!1)):P(!1),[x,{refetch:P,mutate:p}]}function la(e){return lt(e,!1)}function Ce(e){if(ge===null)return e();const t=ge;ge=null;try{return e()}finally{ge=t}}function Ks(e,t,n){const r=Array.isArray(e);let i,o=n&&n.defer;return a=>{let s;if(r){s=Array(e.length);for(let f=0;f<e.length;f++)s[f]=e[f]()}else s=e();if(o){o=!1;return}const l=Ce(()=>t(s,i,a));return i=s,l}}function rn(e){return Ae===null||(Ae.cleanups===null?Ae.cleanups=[e]:Ae.cleanups.push(e)),e}function Vi(){return ge}function Us(e){const t=we(e),n=we(()=>ai(t()));return n.toArray=()=>{const r=n();return Array.isArray(r)?r:r!=null?[r]:[]},n}let Vs;function ca(){if(this.sources&&this.state)if(this.state===it)Ut(this);else{const e=$e;$e=null,lt(()=>Vn(this),!1),$e=e}if(ge){const e=this.observers?this.observers.length:0;ge.sources?(ge.sources.push(this),ge.sourceSlots.push(e)):(ge.sources=[this],ge.sourceSlots=[e]),this.observers?(this.observers.push(ge),this.observerSlots.push(ge.sources.length-1)):(this.observers=[ge],this.observerSlots=[ge.sources.length-1])}return this.value}function ua(e,t,n){let r=e.value;return(!e.comparator||!e.comparator(r,t))&&(e.value=t,e.observers&&e.observers.length&&lt(()=>{for(let i=0;i<e.observers.length;i+=1){const o=e.observers[i],a=vr&&vr.running;a&&vr.disposed.has(o),(a?!o.tState:!o.state)&&(o.pure?$e.push(o):et.push(o),o.observers&&da(o)),a||(o.state=it)}if($e.length>1e6)throw $e=[],new Error},!1)),t}function Ut(e){if(!e.fn)return;cr(e);const t=Ae,n=ge,r=ar;ge=Ae=e,zs(e,e.value,r),ge=n,Ae=t}function zs(e,t,n){let r;try{r=e.fn(t)}catch(i){return e.pure&&(e.state=it,e.owned&&e.owned.forEach(cr),e.owned=null),e.updatedAt=n+1,ha(i)}(!e.updatedAt||e.updatedAt<=n)&&(e.updatedAt!=null&&"observers"in e?ua(e,r):e.value=r,e.updatedAt=n)}function lr(e,t,n,r=it,i){const o={fn:e,state:r,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:t,owner:Ae,context:null,pure:n};return Ae===null||Ae!==aa&&(Ae.owned?Ae.owned.push(o):Ae.owned=[o]),o}function Un(e){if(e.state===0)return;if(e.state===Kn)return Vn(e);if(e.suspense&&Ce(e.suspense.inFallback))return e.suspense.effects.push(e);const t=[e];for(;(e=e.owner)&&(!e.updatedAt||e.updatedAt<ar);)e.state&&t.push(e);for(let n=t.length-1;n>=0;n--)if(e=t[n],e.state===it)Ut(e);else if(e.state===Kn){const r=$e;$e=null,lt(()=>Vn(e,t[0]),!1),$e=r}}function lt(e,t){if($e)return e();let n=!1;t||($e=[]),et?n=!0:et=[],ar++;try{const r=e();return Gs(n),r}catch(r){n||(et=null),$e=null,ha(r)}}function Gs(e){if($e&&(fa($e),$e=null),e)return;const t=et;et=null,t.length&&lt(()=>oa(t),!1)}function fa(e){for(let t=0;t<e.length;t++)Un(e[t])}function Ws(e){let t,n=0;for(t=0;t<e.length;t++){const r=e[t];r.user?e[n++]=r:Un(r)}for(t=0;t<n;t++)Un(e[t])}function Vn(e,t){e.state=0;for(let n=0;n<e.sources.length;n+=1){const r=e.sources[n];if(r.sources){const i=r.state;i===it?r!==t&&(!r.updatedAt||r.updatedAt<ar)&&Un(r):i===Kn&&Vn(r,t)}}}function da(e){for(let t=0;t<e.observers.length;t+=1){const n=e.observers[t];n.state||(n.state=Kn,n.pure?$e.push(n):et.push(n),n.observers&&da(n))}}function cr(e){let t;if(e.sources)for(;e.sources.length;){const n=e.sources.pop(),r=e.sourceSlots.pop(),i=n.observers;if(i&&i.length){const o=i.pop(),a=n.observerSlots.pop();r<i.length&&(o.sourceSlots[a]=r,i[r]=o,n.observerSlots[r]=a)}}if(e.owned){for(t=e.owned.length-1;t>=0;t--)cr(e.owned[t]);e.owned=null}if(e.cleanups){for(t=e.cleanups.length-1;t>=0;t--)e.cleanups[t]();e.cleanups=null}e.state=0,e.context=null}function Hs(e){return e instanceof Error?e:new Error(typeof e=="string"?e:"Unknown error",{cause:e})}function ha(e){throw e}function ai(e){if(typeof e=="function"&&!e.length)return ai(e());if(Array.isArray(e)){const t=[];for(let n=0;n<e.length;n++){const r=ai(e[n]);Array.isArray(r)?t.push.apply(t,r):t.push(r)}return t}return e}const Ys=Symbol("fallback");function ho(e){for(let t=0;t<e.length;t++)e[t]()}function Js(e,t,n={}){let r=[],i=[],o=[],a=0,s=t.length>1?[]:null;return rn(()=>ho(o)),()=>{let l=e()||[],f,c;return l[oi],Ce(()=>{let u=l.length,p,w,g,y,m,v,A,O,S;if(u===0)a!==0&&(ho(o),o=[],r=[],i=[],a=0,s&&(s=[])),n.fallback&&(r=[Ys],i[0]=xn(x=>(o[0]=x,n.fallback())),a=1);else if(a===0){for(i=new Array(u),c=0;c<u;c++)r[c]=l[c],i[c]=xn(d);a=u}else{for(g=new Array(u),y=new Array(u),s&&(m=new Array(u)),v=0,A=Math.min(a,u);v<A&&r[v]===l[v];v++);for(A=a-1,O=u-1;A>=v&&O>=v&&r[A]===l[O];A--,O--)g[O]=i[A],y[O]=o[A],s&&(m[O]=s[A]);for(p=new Map,w=new Array(O+1),c=O;c>=v;c--)S=l[c],f=p.get(S),w[c]=f===void 0?-1:f,p.set(S,c);for(f=v;f<=A;f++)S=r[f],c=p.get(S),c!==void 0&&c!==-1?(g[c]=i[f],y[c]=o[f],s&&(m[c]=s[f]),c=w[c],p.set(S,c)):o[f]();for(c=v;c<u;c++)c in g?(i[c]=g[c],o[c]=y[c],s&&(s[c]=m[c],s[c](c))):i[c]=xn(d);i=i.slice(0,a=u),r=l.slice(0)}return i});function d(u){if(o[c]=u,s){const[p,w]=be(c);return s[c]=w,t(l[c],p)}return t(l[c])}}}function ce(e,t){return Ce(()=>e(t||{}))}function mn(){return!0}const si={get(e,t,n){return t===Le?n:e.get(t)},has(e,t){return t===Le?!0:e.has(t)},set:mn,deleteProperty:mn,getOwnPropertyDescriptor(e,t){return{configurable:!0,enumerable:!0,get(){return e.get(t)},set:mn,deleteProperty:mn}},ownKeys(e){return e.keys()}};function wr(e){return(e=typeof e=="function"?e():e)?e:{}}function pa(...e){let t=!1;for(let r=0;r<e.length;r++){const i=e[r];t=t||!!i&&Le in i,e[r]=typeof i=="function"?(t=!0,we(i)):i}if(t)return new Proxy({get(r){for(let i=e.length-1;i>=0;i--){const o=wr(e[i])[r];if(o!==void 0)return o}},has(r){for(let i=e.length-1;i>=0;i--)if(r in wr(e[i]))return!0;return!1},keys(){const r=[];for(let i=0;i<e.length;i++)r.push(...Object.keys(wr(e[i])));return[...new Set(r)]}},si);const n={};for(let r=e.length-1;r>=0;r--)if(e[r]){const i=Object.getOwnPropertyDescriptors(e[r]);for(const o in i)o in n||Object.defineProperty(n,o,{enumerable:!0,get(){for(let a=e.length-1;a>=0;a--){const s=(e[a]||{})[o];if(s!==void 0)return s}}})}return n}function Qs(e,...t){const n=new Set(t.flat());if(Le in e){const i=t.map(o=>new Proxy({get(a){return o.includes(a)?e[a]:void 0},has(a){return o.includes(a)&&a in e},keys(){return o.filter(a=>a in e)}},si));return i.push(new Proxy({get(o){return n.has(o)?void 0:e[o]},has(o){return n.has(o)?!1:o in e},keys(){return Object.keys(e).filter(o=>!n.has(o))}},si)),i}const r=Object.getOwnPropertyDescriptors(e);return t.push(Object.keys(r).filter(i=>!n.has(i))),t.map(i=>{const o={};for(let a=0;a<i.length;a++){const s=i[a];s in e&&Object.defineProperty(o,s,r[s]?r[s]:{get(){return e[s]},set(){return!0},enumerable:!0})}return o})}const ya=e=>`Stale read from <${e}>.`;function Xs(e){const t="fallback"in e&&{fallback:()=>e.fallback};return we(Js(()=>e.each,e.children,t||void 0))}function po(e){const t=e.keyed,n=we(()=>e.when,void 0,{equals:(r,i)=>t?r===i:!r==!i});return we(()=>{const r=n();if(r){const i=e.children;return typeof i=="function"&&i.length>0?Ce(()=>i(t?r:()=>{if(!Ce(n))throw ya("Show");return e.when})):i}return e.fallback},void 0,void 0)}function Zs(e){let t=!1;const n=(o,a)=>o[0]===a[0]&&(t?o[1]===a[1]:!o[1]==!a[1])&&o[2]===a[2],r=Us(()=>e.children),i=we(()=>{let o=r();Array.isArray(o)||(o=[o]);for(let a=0;a<o.length;a++){const s=o[a].when;if(s)return t=!!o[a].keyed,[a,s,o[a]]}return[-1]},void 0,{equals:n});return we(()=>{const[o,a,s]=i();if(o<0)return e.fallback;const l=s.children;return typeof l=="function"&&l.length>0?Ce(()=>l(t?a:()=>{if(Ce(i)[0]!==o)throw ya("Match");return s.when})):l},void 0,void 0)}function bn(e){return e}const el=["allowfullscreen","async","autofocus","autoplay","checked","controls","default","disabled","formnovalidate","hidden","indeterminate","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","seamless","selected"],tl=new Set(["className","value","readOnly","formNoValidate","isMap","noModule","playsInline",...el]),nl=new Set(["innerHTML","textContent","innerText","children"]),rl=Object.assign(Object.create(null),{className:"class",htmlFor:"for"}),il=Object.assign(Object.create(null),{class:"className",formnovalidate:{$:"formNoValidate",BUTTON:1,INPUT:1},ismap:{$:"isMap",IMG:1},nomodule:{$:"noModule",SCRIPT:1},playsinline:{$:"playsInline",VIDEO:1},readonly:{$:"readOnly",INPUT:1,TEXTAREA:1}});function ol(e,t){const n=il[e];return typeof n=="object"?n[t]?n.$:void 0:n}const al=new Set(["beforeinput","click","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"]),sl={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"};function ll(e,t,n){let r=n.length,i=t.length,o=r,a=0,s=0,l=t[i-1].nextSibling,f=null;for(;a<i||s<o;){if(t[a]===n[s]){a++,s++;continue}for(;t[i-1]===n[o-1];)i--,o--;if(i===a){const c=o<r?s?n[s-1].nextSibling:n[o-s]:l;for(;s<o;)e.insertBefore(n[s++],c)}else if(o===s)for(;a<i;)(!f||!f.has(t[a]))&&t[a].remove(),a++;else if(t[a]===n[o-1]&&n[s]===t[i-1]){const c=t[--i].nextSibling;e.insertBefore(n[s++],t[a++].nextSibling),e.insertBefore(n[--o],c),t[i]=n[o]}else{if(!f){f=new Map;let d=s;for(;d<o;)f.set(n[d],d++)}const c=f.get(t[a]);if(c!=null)if(s<c&&c<o){let d=a,u=1,p;for(;++d<i&&d<o&&!((p=f.get(t[d]))==null||p!==c+u);)u++;if(u>c-s){const w=t[a];for(;s<c;)e.insertBefore(n[s++],w)}else e.replaceChild(n[s++],t[a++])}else a++;else t[a++].remove()}}}const yo="_$DX_DELEGATE";function cl(e,t,n,r={}){let i;return xn(o=>{i=o,t===document?e():ie(t,e(),t.firstChild?null:void 0,n)},r.owner),()=>{i(),t.textContent=""}}function ue(e,t,n){let r;const i=()=>{const a=document.createElement("template");return a.innerHTML=e,n?a.content.firstChild.firstChild:a.content.firstChild},o=t?()=>(r||(r=i())).cloneNode(!0):()=>Ce(()=>document.importNode(r||(r=i()),!0));return o.cloneNode=o,o}function hn(e,t=window.document){const n=t[yo]||(t[yo]=new Set);for(let r=0,i=e.length;r<i;r++){const o=e[r];n.has(o)||(n.add(o),t.addEventListener(o,hl))}}function le(e,t,n){n==null?e.removeAttribute(t):e.setAttribute(t,n)}function ul(e,t,n,r){r==null?e.removeAttributeNS(t,n):e.setAttributeNS(t,n,r)}function he(e,t){t==null?e.removeAttribute("class"):e.className=t}function li(e,t,n,r){if(r)Array.isArray(n)?(e[`$$${t}`]=n[0],e[`$$${t}Data`]=n[1]):e[`$$${t}`]=n;else if(Array.isArray(n)){const i=n[0];e.addEventListener(t,n[0]=o=>i.call(e,n[1],o))}else e.addEventListener(t,n)}function zn(e,t,n={}){const r=Object.keys(t||{}),i=Object.keys(n);let o,a;for(o=0,a=i.length;o<a;o++){const s=i[o];!s||s==="undefined"||t[s]||(go(e,s,!1),delete n[s])}for(o=0,a=r.length;o<a;o++){const s=r[o],l=!!t[s];!s||s==="undefined"||n[s]===l||!l||(go(e,s,!0),n[s]=l)}return n}function ga(e,t,n){if(!t)return n?le(e,"style"):t;const r=e.style;if(typeof t=="string")return r.cssText=t;typeof n=="string"&&(r.cssText=n=void 0),n||(n={}),t||(t={});let i,o;for(o in n)t[o]==null&&r.removeProperty(o),delete n[o];for(o in t)i=t[o],i!==n[o]&&(r.setProperty(o,i),n[o]=i);return n}function ma(e,t={},n,r){const i={};return r||ae(()=>i.children=qt(e,t.children,i.children)),ae(()=>t.ref&&t.ref(e)),ae(()=>fl(e,t,n,!0,i,!0)),i}function st(e,t,n){return Ce(()=>e(t,n))}function ie(e,t,n,r){if(n!==void 0&&!r&&(r=[]),typeof t!="function")return qt(e,t,r,n);ae(i=>qt(e,t(),i,n),r)}function fl(e,t,n,r,i={},o=!1){t||(t={});for(const a in i)if(!(a in t)){if(a==="children")continue;i[a]=mo(e,a,null,i[a],n,o)}for(const a in t){if(a==="children"){r||qt(e,t.children);continue}const s=t[a];i[a]=mo(e,a,s,i[a],n,o)}}function dl(e){return e.toLowerCase().replace(/-([a-z])/g,(t,n)=>n.toUpperCase())}function go(e,t,n){const r=t.trim().split(/\s+/);for(let i=0,o=r.length;i<o;i++)e.classList.toggle(r[i],n)}function mo(e,t,n,r,i,o){let a,s,l,f,c;if(t==="style")return ga(e,n,r);if(t==="classList")return zn(e,n,r);if(n===r)return r;if(t==="ref")o||n(e);else if(t.slice(0,3)==="on:"){const d=t.slice(3);r&&e.removeEventListener(d,r),n&&e.addEventListener(d,n)}else if(t.slice(0,10)==="oncapture:"){const d=t.slice(10);r&&e.removeEventListener(d,r,!0),n&&e.addEventListener(d,n,!0)}else if(t.slice(0,2)==="on"){const d=t.slice(2).toLowerCase(),u=al.has(d);if(!u&&r){const p=Array.isArray(r)?r[0]:r;e.removeEventListener(d,p)}(u||n)&&(li(e,d,n,u),u&&hn([d]))}else if(t.slice(0,5)==="attr:")le(e,t.slice(5),n);else if((c=t.slice(0,5)==="prop:")||(l=nl.has(t))||!i&&((f=ol(t,e.tagName))||(s=tl.has(t)))||(a=e.nodeName.includes("-")))c&&(t=t.slice(5),s=!0),t==="class"||t==="className"?he(e,n):a&&!s&&!l?e[dl(t)]=n:e[f||t]=n;else{const d=i&&t.indexOf(":")>-1&&sl[t.split(":")[0]];d?ul(e,d,t,n):le(e,rl[t]||t,n)}return n}function hl(e){const t=`$$${e.type}`;let n=e.composedPath&&e.composedPath()[0]||e.target;for(e.target!==n&&Object.defineProperty(e,"target",{configurable:!0,value:n}),Object.defineProperty(e,"currentTarget",{configurable:!0,get(){return n||document}});n;){const r=n[t];if(r&&!n.disabled){const i=n[`${t}Data`];if(i!==void 0?r.call(n,i,e):r.call(n,e),e.cancelBubble)return}n=n._$host||n.parentNode||n.host}}function qt(e,t,n,r,i){for(;typeof n=="function";)n=n();if(t===n)return n;const o=typeof t,a=r!==void 0;if(e=a&&n[0]&&n[0].parentNode||e,o==="string"||o==="number")if(o==="number"&&(t=t.toString()),a){let s=n[0];s&&s.nodeType===3?s.data=t:s=document.createTextNode(t),n=xt(e,n,r,s)}else n!==""&&typeof n=="string"?n=e.firstChild.data=t:n=e.textContent=t;else if(t==null||o==="boolean")n=xt(e,n,r);else{if(o==="function")return ae(()=>{let s=t();for(;typeof s=="function";)s=s();n=qt(e,s,n,r)}),()=>n;if(Array.isArray(t)){const s=[],l=n&&Array.isArray(n);if(ci(s,t,n,i))return ae(()=>n=qt(e,s,n,r,!0)),()=>n;if(s.length===0){if(n=xt(e,n,r),a)return n}else l?n.length===0?bo(e,s,r):ll(e,n,s):(n&&xt(e),bo(e,s));n=s}else if(t instanceof Node){if(Array.isArray(n)){if(a)return n=xt(e,n,r,t);xt(e,n,null,t)}else n==null||n===""||!e.firstChild?e.appendChild(t):e.replaceChild(t,e.firstChild);n=t}else console.warn("Unrecognized value. Skipped inserting",t)}return n}function ci(e,t,n,r){let i=!1;for(let o=0,a=t.length;o<a;o++){let s=t[o],l=n&&n[o];if(s instanceof Node)e.push(s);else if(!(s==null||s===!0||s===!1))if(Array.isArray(s))i=ci(e,s,l)||i;else if(typeof s=="function")if(r){for(;typeof s=="function";)s=s();i=ci(e,Array.isArray(s)?s:[s],Array.isArray(l)?l:[l])||i}else e.push(s),i=!0;else{const f=String(s);l&&l.nodeType===3?(l.data=f,e.push(l)):e.push(document.createTextNode(f))}}return i}function bo(e,t,n=null){for(let r=0,i=t.length;r<i;r++)e.insertBefore(t[r],n)}function xt(e,t,n,r){if(n===void 0)return e.textContent="";const i=r||document.createTextNode("");if(t.length){let o=!1;for(let a=t.length-1;a>=0;a--){const s=t[a];if(i!==s){const l=s.parentNode===e;!o&&!a?l?e.replaceChild(i,s):e.insertBefore(i,n):l&&s.remove()}else o=!0}}else e.insertBefore(i,n);return[i]}const pl=!1;const yl=ue('<svg fill="currentColor" stroke-width="0" xmlns="http://www.w3.org/2000/svg"></svg>',2),gl=ue("<title></title>",2);function dt(e,t){const n=pa(e.a,t);return(()=>{const r=yl.cloneNode(!0);return ma(r,n,!0,!0),ie(r,()=>pl,null),ie(r,(()=>{const i=we(()=>!!t.title,!0);return()=>i()&&(()=>{const o=gl.cloneNode(!0);return ie(o,()=>t.title),o})()})(),null),ae(i=>{const o=e.a.stroke,a={...t.style,overflow:"visible",color:t.color||"currentColor"},s=t.size||"1em",l=t.size||"1em",f=e.c;return o!==i._v$&&le(r,"stroke",i._v$=o),i._v$2=ga(r,a,i._v$2),s!==i._v$3&&le(r,"height",i._v$3=s),l!==i._v$4&&le(r,"width",i._v$4=l),f!==i._v$5&&(r.innerHTML=i._v$5=f),i},{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0,_v$5:void 0}),r})()}function ml(e){return dt({a:{viewBox:"0 0 24 24"},c:'<path fill-rule="evenodd" d="M12.026 2c-5.509 0-9.974 4.465-9.974 9.974 0 4.406 2.857 8.145 6.821 9.465.499.09.679-.217.679-.481 0-.237-.008-.865-.011-1.696-2.775.602-3.361-1.338-3.361-1.338-.452-1.152-1.107-1.459-1.107-1.459-.905-.619.069-.605.069-.605 1.002.07 1.527 1.028 1.527 1.028.89 1.524 2.336 1.084 2.902.829.091-.645.351-1.085.635-1.334-2.214-.251-4.542-1.107-4.542-4.93 0-1.087.389-1.979 1.024-2.675-.101-.253-.446-1.268.099-2.64 0 0 .837-.269 2.742 1.021a9.582 9.582 0 012.496-.336 9.554 9.554 0 012.496.336c1.906-1.291 2.742-1.021 2.742-1.021.545 1.372.203 2.387.099 2.64.64.696 1.024 1.587 1.024 2.675 0 3.833-2.33 4.675-4.552 4.922.355.308.675.916.675 1.846 0 1.334-.012 2.41-.012 2.737 0 .267.178.577.687.479C19.146 20.115 22 16.379 22 11.974 22 6.465 17.535 2 12.026 2z" clip-rule="evenodd"/>'},e)}function bl(e){return dt({a:{viewBox:"0 0 24 24"},c:'<path d="M13 19v-4h3l-4-5-4 5h3v4z"/><path d="M7 19h2v-2H7c-1.654 0-3-1.346-3-3 0-1.404 1.199-2.756 2.673-3.015l.581-.102.192-.558C8.149 8.274 9.895 7 12 7c2.757 0 5 2.243 5 5v1h1c1.103 0 2 .897 2 2s-.897 2-2 2h-3v2h3c2.206 0 4-1.794 4-4a4.01 4.01 0 00-3.056-3.888C18.507 7.67 15.56 5 12 5 9.244 5 6.85 6.611 5.757 9.15 3.609 9.792 2 11.82 2 14c0 2.757 2.243 5 5 5z"/>'},e)}function vl(e){return dt({a:{viewBox:"0 0 24 24"},c:'<path d="M12 6a3.939 3.939 0 00-3.934 3.934h2C10.066 8.867 10.934 8 12 8s1.934.867 1.934 1.934c0 .598-.481 1.032-1.216 1.626a9.208 9.208 0 00-.691.599c-.998.997-1.027 2.056-1.027 2.174V15h2l-.001-.633c.001-.016.033-.386.441-.793.15-.15.339-.3.535-.458.779-.631 1.958-1.584 1.958-3.182A3.937 3.937 0 0012 6zm-1 10h2v2h-2z"/><path d="M12 2C6.486 2 2 6.486 2 12s4.486 10 10 10 10-4.486 10-10S17.514 2 12 2zm0 18c-4.411 0-8-3.589-8-8s3.589-8 8-8 8 3.589 8 8-3.589 8-8 8z"/>'},e)}function wl(e){return dt({a:{viewBox:"0 0 24 24"},c:'<path d="M7 6v12l10-6z"/>'},e)}function _l(e){return dt({a:{viewBox:"0 0 24 24"},c:'<path d="M7 7h10v10H7z"/>'},e)}function Sl(e){return dt({a:{viewBox:"0 0 24 24"},c:'<path d="M2.165 19.551c.186.28.499.449.835.449h15c.4 0 .762-.238.919-.606l3-7A.998.998 0 0021 11h-1V8c0-1.103-.897-2-2-2h-6.655L8.789 4H4c-1.103 0-2 .897-2 2v13h.007a1 1 0 00.158.551zM18 8v3H6c-.4 0-.762.238-.919.606L4 14.129V8h14z"/>'},e)}function Al(e){return dt({a:{viewBox:"0 0 24 24"},c:'<path d="M20 5h-9.586L8.707 3.293A.997.997 0 008 3H4c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h16c1.103 0 2-.897 2-2V7c0-1.103-.897-2-2-2z"/>'},e)}function El(e){return dt({a:{viewBox:"0 0 24 24"},c:'<path d="M6 7H5v13a2 2 0 002 2h10a2 2 0 002-2V7H6zm4 12H8v-9h2v9zm6 0h-2v-9h2v9zm.618-15L15 2H9L7.382 4H3v2h18V4z"/>'},e)}const de=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,ve=Object.keys,Oe=Array.isArray;function ke(e,t){return typeof t!="object"||ve(t).forEach(function(n){e[n]=t[n]}),e}typeof Promise>"u"||de.Promise||(de.Promise=Promise);const on=Object.getPrototypeOf,Ol={}.hasOwnProperty;function Fe(e,t){return Ol.call(e,t)}function Lt(e,t){typeof t=="function"&&(t=t(on(e))),(typeof Reflect>"u"?ve:Reflect.ownKeys)(t).forEach(n=>{tt(e,n,t[n])})}const ba=Object.defineProperty;function tt(e,t,n,r){ba(e,t,ke(n&&Fe(n,"get")&&typeof n.get=="function"?{get:n.get,set:n.set,configurable:!0}:{value:n,configurable:!0,writable:!0},r))}function Nt(e){return{from:function(t){return e.prototype=Object.create(t.prototype),tt(e.prototype,"constructor",e),{extend:Lt.bind(null,e.prototype)}}}}const $l=Object.getOwnPropertyDescriptor;function zi(e,t){let n;return $l(e,t)||(n=on(e))&&zi(n,t)}const Pl=[].slice;function Gn(e,t,n){return Pl.call(e,t,n)}function va(e,t){return t(e)}function Yt(e){if(!e)throw new Error("Assertion Failed")}function wa(e){de.setImmediate?setImmediate(e):setTimeout(e,0)}function _a(e,t){return e.reduce((n,r,i)=>{var o=t(r,i);return o&&(n[o[0]]=o[1]),n},{})}function nt(e,t){if(Fe(e,t))return e[t];if(!t)return e;if(typeof t!="string"){for(var n=[],r=0,i=t.length;r<i;++r){var o=nt(e,t[r]);n.push(o)}return n}var a=t.indexOf(".");if(a!==-1){var s=e[t.substr(0,a)];return s===void 0?void 0:nt(s,t.substr(a+1))}}function qe(e,t,n){if(e&&t!==void 0&&(!("isFrozen"in Object)||!Object.isFrozen(e)))if(typeof t!="string"&&"length"in t){Yt(typeof n!="string"&&"length"in n);for(var r=0,i=t.length;r<i;++r)qe(e,t[r],n[r])}else{var o=t.indexOf(".");if(o!==-1){var a=t.substr(0,o),s=t.substr(o+1);if(s==="")n===void 0?Oe(e)&&!isNaN(parseInt(a))?e.splice(a,1):delete e[a]:e[a]=n;else{var l=e[a];l&&Fe(e,a)||(l=e[a]={}),qe(l,s,n)}}else n===void 0?Oe(e)&&!isNaN(parseInt(t))?e.splice(t,1):delete e[t]:e[t]=n}}function Sa(e){var t={};for(var n in e)Fe(e,n)&&(t[n]=e[n]);return t}const jl=[].concat;function Aa(e){return jl.apply([],e)}const Ea="Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(Aa([8,16,32,64].map(e=>["Int","Uint","Float"].map(t=>t+e+"Array")))).filter(e=>de[e]),xl=Ea.map(e=>de[e]);_a(Ea,e=>[e,!0]);let at=null;function pn(e){at=typeof WeakMap<"u"&&new WeakMap;const t=ui(e);return at=null,t}function ui(e){if(!e||typeof e!="object")return e;let t=at&&at.get(e);if(t)return t;if(Oe(e)){t=[],at&&at.set(e,t);for(var n=0,r=e.length;n<r;++n)t.push(ui(e[n]))}else if(xl.indexOf(e.constructor)>=0)t=e;else{const o=on(e);for(var i in t=o===Object.prototype?{}:Object.create(o),at&&at.set(e,t),e)Fe(e,i)&&(t[i]=ui(e[i]))}return t}const{toString:kl}={};function fi(e){return kl.call(e).slice(8,-1)}const di=typeof Symbol<"u"?Symbol.iterator:"@@iterator",Il=typeof di=="symbol"?function(e){var t;return e!=null&&(t=e[di])&&t.apply(e)}:function(){return null},Tt={};function Xe(e){var t,n,r,i;if(arguments.length===1){if(Oe(e))return e.slice();if(this===Tt&&typeof e=="string")return[e];if(i=Il(e)){for(n=[];!(r=i.next()).done;)n.push(r.value);return n}if(e==null)return[e];if(typeof(t=e.length)=="number"){for(n=new Array(t);t--;)n[t]=e[t];return n}return[e]}for(t=arguments.length,n=new Array(t);t--;)n[t]=arguments[t];return n}const Gi=typeof Symbol<"u"?e=>e[Symbol.toStringTag]==="AsyncFunction":()=>!1;var ze=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function Oa(e,t){ze=e,$a=t}var $a=()=>!0;const Tl=!new Error("").stack;function $t(){if(Tl)try{throw $t.arguments,new Error}catch(e){return e}return new Error}function hi(e,t){var n=e.stack;return n?(t=t||0,n.indexOf(e.name)===0&&(t+=(e.name+e.message).split(`
`).length),n.split(`
`).slice(t).filter($a).map(r=>`
`+r).join("")):""}var Pa=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],Wi=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(Pa),Rl={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function Mt(e,t){this._e=$t(),this.name=e,this.message=t}function ja(e,t){return e+". Errors: "+Object.keys(t).map(n=>t[n].toString()).filter((n,r,i)=>i.indexOf(n)===r).join(`
`)}function Wn(e,t,n,r){this._e=$t(),this.failures=t,this.failedKeys=r,this.successCount=n,this.message=ja(e,t)}function Xt(e,t){this._e=$t(),this.name="BulkError",this.failures=Object.keys(t).map(n=>t[n]),this.failuresByPos=t,this.message=ja(e,t)}Nt(Mt).from(Error).extend({stack:{get:function(){return this._stack||(this._stack=this.name+": "+this.message+hi(this._e,2))}},toString:function(){return this.name+": "+this.message}}),Nt(Wn).from(Mt),Nt(Xt).from(Mt);var Hi=Wi.reduce((e,t)=>(e[t]=t+"Error",e),{});const Cl=Mt;var X=Wi.reduce((e,t)=>{var n=t+"Error";function r(i,o){this._e=$t(),this.name=n,i?typeof i=="string"?(this.message=`${i}${o?`
 `+o:""}`,this.inner=o||null):typeof i=="object"&&(this.message=`${i.name} ${i.message}`,this.inner=i):(this.message=Rl[t]||n,this.inner=null)}return Nt(r).from(Cl),e[t]=r,e},{});X.Syntax=SyntaxError,X.Type=TypeError,X.Range=RangeError;var vo=Pa.reduce((e,t)=>(e[t+"Error"]=X[t],e),{}),kn=Wi.reduce((e,t)=>(["Syntax","Type","Range"].indexOf(t)===-1&&(e[t+"Error"]=X[t]),e),{});function fe(){}function an(e){return e}function Dl(e,t){return e==null||e===an?t:function(n){return t(e(n))}}function At(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function Bl(e,t){return e===fe?t:function(){var n=e.apply(this,arguments);n!==void 0&&(arguments[0]=n);var r=this.onsuccess,i=this.onerror;this.onsuccess=null,this.onerror=null;var o=t.apply(this,arguments);return r&&(this.onsuccess=this.onsuccess?At(r,this.onsuccess):r),i&&(this.onerror=this.onerror?At(i,this.onerror):i),o!==void 0?o:n}}function Nl(e,t){return e===fe?t:function(){e.apply(this,arguments);var n=this.onsuccess,r=this.onerror;this.onsuccess=this.onerror=null,t.apply(this,arguments),n&&(this.onsuccess=this.onsuccess?At(n,this.onsuccess):n),r&&(this.onerror=this.onerror?At(r,this.onerror):r)}}function Ml(e,t){return e===fe?t:function(n){var r=e.apply(this,arguments);ke(n,r);var i=this.onsuccess,o=this.onerror;this.onsuccess=null,this.onerror=null;var a=t.apply(this,arguments);return i&&(this.onsuccess=this.onsuccess?At(i,this.onsuccess):i),o&&(this.onerror=this.onerror?At(o,this.onerror):o),r===void 0?a===void 0?void 0:a:ke(r,a)}}function Fl(e,t){return e===fe?t:function(){return t.apply(this,arguments)!==!1&&e.apply(this,arguments)}}function Yi(e,t){return e===fe?t:function(){var n=e.apply(this,arguments);if(n&&typeof n.then=="function"){for(var r=this,i=arguments.length,o=new Array(i);i--;)o[i]=arguments[i];return n.then(function(){return t.apply(r,o)})}return t.apply(this,arguments)}}kn.ModifyError=Wn,kn.DexieError=Mt,kn.BulkError=Xt;var sn={};const[pi,Hn,yi]=typeof Promise>"u"?[]:(()=>{let e=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[e,on(e),e];const t=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[t,on(t),e]})(),xa=Hn&&Hn.then,In=pi&&pi.constructor,Ji=!!yi;var gi=!1,ql=yi?()=>{yi.then(vn)}:de.setImmediate?setImmediate.bind(null,vn):de.MutationObserver?()=>{var e=document.createElement("div");new MutationObserver(()=>{vn(),e=null}).observe(e,{attributes:!0}),e.setAttribute("i","1")}:()=>{setTimeout(vn,0)},Zt=function(e,t){Jt.push([e,t]),Yn&&(ql(),Yn=!1)},mi=!0,Yn=!0,vt=[],Tn=[],bi=null,vi=an,Ft={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:_o,pgp:!1,env:{},finalize:function(){this.unhandleds.forEach(e=>{try{_o(e[0],e[1])}catch{}})}},Q=Ft,Jt=[],wt=0,Rn=[];function q(e){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this.onuncatched=fe,this._lib=!1;var t=this._PSD=Q;if(ze&&(this._stackHolder=$t(),this._prev=null,this._numPrev=0),typeof e!="function"){if(e!==sn)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&_i(this,this._value))}this._state=null,this._value=null,++t.ref,Ia(this,e)}const wi={get:function(){var e=Q,t=Jn;function n(r,i){var o=!e.global&&(e!==Q||t!==Jn);const a=o&&!rt();var s=new q((l,f)=>{Qi(this,new ka(Qn(r,e,o,a),Qn(i,e,o,a),l,f,e))});return ze&&Ca(s,this),s}return n.prototype=sn,n},set:function(e){tt(this,"then",e&&e.prototype===sn?wi:{get:function(){return e},set:wi.set})}};function ka(e,t,n,r,i){this.onFulfilled=typeof e=="function"?e:null,this.onRejected=typeof t=="function"?t:null,this.resolve=n,this.reject=r,this.psd=i}function Ia(e,t){try{t(n=>{if(e._state===null){if(n===e)throw new TypeError("A promise cannot be resolved with itself.");var r=e._lib&&yn();n&&typeof n.then=="function"?Ia(e,(i,o)=>{n instanceof q?n._then(i,o):n.then(i,o)}):(e._state=!0,e._value=n,Ta(e)),r&&gn()}},_i.bind(null,e))}catch(n){_i(e,n)}}function _i(e,t){if(Tn.push(t),e._state===null){var n=e._lib&&yn();t=vi(t),e._state=!1,e._value=t,ze&&t!==null&&typeof t=="object"&&!t._promise&&function(r,i,o){try{r.apply(null,o)}catch(a){i&&i(a)}}(()=>{var r=zi(t,"stack");t._promise=e,tt(t,"stack",{get:()=>gi?r&&(r.get?r.get.apply(t):r.value):e.stack})}),function(r){vt.some(i=>i._value===r._value)||vt.push(r)}(e),Ta(e),n&&gn()}}function Ta(e){var t=e._listeners;e._listeners=[];for(var n=0,r=t.length;n<r;++n)Qi(e,t[n]);var i=e._PSD;--i.ref||i.finalize(),wt===0&&(++wt,Zt(()=>{--wt==0&&Xi()},[]))}function Qi(e,t){if(e._state!==null){var n=e._state?t.onFulfilled:t.onRejected;if(n===null)return(e._state?t.resolve:t.reject)(e._value);++t.psd.ref,++wt,Zt(Ll,[n,e,t])}else e._listeners.push(t)}function Ll(e,t,n){try{bi=t;var r,i=t._value;t._state?r=e(i):(Tn.length&&(Tn=[]),r=e(i),Tn.indexOf(i)===-1&&function(o){for(var a=vt.length;a;)if(vt[--a]._value===o._value)return void vt.splice(a,1)}(t)),n.resolve(r)}catch(o){n.reject(o)}finally{bi=null,--wt==0&&Xi(),--n.psd.ref||n.psd.finalize()}}function Ra(e,t,n){if(t.length===n)return t;var r="";if(e._state===!1){var i,o,a=e._value;a!=null?(i=a.name||"Error",o=a.message||a,r=hi(a,0)):(i=a,o=""),t.push(i+(o?": "+o:"")+r)}return ze&&((r=hi(e._stackHolder,2))&&t.indexOf(r)===-1&&t.push(r),e._prev&&Ra(e._prev,t,n)),t}function Ca(e,t){var n=t?t._numPrev+1:0;n<100&&(e._prev=t,e._numPrev=n)}function vn(){yn()&&gn()}function yn(){var e=mi;return mi=!1,Yn=!1,e}function gn(){var e,t,n;do for(;Jt.length>0;)for(e=Jt,Jt=[],n=e.length,t=0;t<n;++t){var r=e[t];r[0].apply(null,r[1])}while(Jt.length>0);mi=!0,Yn=!0}function Xi(){var e=vt;vt=[],e.forEach(r=>{r._PSD.onunhandled.call(null,r._value,r)});for(var t=Rn.slice(0),n=t.length;n;)t[--n]()}function wn(e){return new q(sn,!1,e)}function pe(e,t){var n=Q;return function(){var r=yn(),i=Q;try{return ut(n,!0),e.apply(this,arguments)}catch(o){t&&t(o)}finally{ut(i,!1),r&&gn()}}}Lt(q.prototype,{then:wi,_then:function(e,t){Qi(this,new ka(null,null,e,t,Q))},catch:function(e){if(arguments.length===1)return this.then(null,e);var t=arguments[0],n=arguments[1];return typeof t=="function"?this.then(null,r=>r instanceof t?n(r):wn(r)):this.then(null,r=>r&&r.name===t?n(r):wn(r))},finally:function(e){return this.then(t=>(e(),t),t=>(e(),wn(t)))},stack:{get:function(){if(this._stack)return this._stack;try{gi=!0;var e=Ra(this,[],20).join(`
From previous: `);return this._state!==null&&(this._stack=e),e}finally{gi=!1}}},timeout:function(e,t){return e<1/0?new q((n,r)=>{var i=setTimeout(()=>r(new X.Timeout(t)),e);this.then(n,r).finally(clearTimeout.bind(null,i))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&tt(q.prototype,Symbol.toStringTag,"Dexie.Promise"),Ft.env=Da(),Lt(q,{all:function(){var e=Xe.apply(null,arguments).map(_n);return new q(function(t,n){e.length===0&&t([]);var r=e.length;e.forEach((i,o)=>q.resolve(i).then(a=>{e[o]=a,--r||t(e)},n))})},resolve:e=>{if(e instanceof q)return e;if(e&&typeof e.then=="function")return new q((n,r)=>{e.then(n,r)});var t=new q(sn,!0,e);return Ca(t,bi),t},reject:wn,race:function(){var e=Xe.apply(null,arguments).map(_n);return new q((t,n)=>{e.map(r=>q.resolve(r).then(t,n))})},PSD:{get:()=>Q,set:e=>Q=e},totalEchoes:{get:()=>Jn},newPSD:ct,usePSD:zt,scheduler:{get:()=>Zt,set:e=>{Zt=e}},rejectionMapper:{get:()=>vi,set:e=>{vi=e}},follow:(e,t)=>new q((n,r)=>ct((i,o)=>{var a=Q;a.unhandleds=[],a.onunhandled=o,a.finalize=At(function(){(function(s){function l(){s(),Rn.splice(Rn.indexOf(l),1)}Rn.push(l),++wt,Zt(()=>{--wt==0&&Xi()},[])})(()=>{this.unhandleds.length===0?i():o(this.unhandleds[0])})},a.finalize),e()},t,n,r))}),In&&(In.allSettled&&tt(q,"allSettled",function(){const e=Xe.apply(null,arguments).map(_n);return new q(t=>{e.length===0&&t([]);let n=e.length;const r=new Array(n);e.forEach((i,o)=>q.resolve(i).then(a=>r[o]={status:"fulfilled",value:a},a=>r[o]={status:"rejected",reason:a}).then(()=>--n||t(r)))})}),In.any&&typeof AggregateError<"u"&&tt(q,"any",function(){const e=Xe.apply(null,arguments).map(_n);return new q((t,n)=>{e.length===0&&n(new AggregateError([]));let r=e.length;const i=new Array(r);e.forEach((o,a)=>q.resolve(o).then(s=>t(s),s=>{i[a]=s,--r||n(new AggregateError(i))}))})}));const Ee={awaits:0,echoes:0,id:0};var Kl=0,Cn=[],_r=0,Jn=0,Ul=0;function ct(e,t,n,r){var i=Q,o=Object.create(i);o.parent=i,o.ref=0,o.global=!1,o.id=++Ul;var a=Ft.env;o.env=Ji?{Promise:q,PromiseProp:{value:q,configurable:!0,writable:!0},all:q.all,race:q.race,allSettled:q.allSettled,any:q.any,resolve:q.resolve,reject:q.reject,nthen:wo(a.nthen,o),gthen:wo(a.gthen,o)}:{},t&&ke(o,t),++i.ref,o.finalize=function(){--this.parent.ref||this.parent.finalize()};var s=zt(o,e,n,r);return o.ref===0&&o.finalize(),s}function Vt(){return Ee.id||(Ee.id=++Kl),++Ee.awaits,Ee.echoes+=100,Ee.id}function rt(){return!!Ee.awaits&&(--Ee.awaits==0&&(Ee.id=0),Ee.echoes=100*Ee.awaits,!0)}function _n(e){return Ee.echoes&&e&&e.constructor===In?(Vt(),e.then(t=>(rt(),t),t=>(rt(),_e(t)))):e}function Vl(e){++Jn,Ee.echoes&&--Ee.echoes!=0||(Ee.echoes=Ee.id=0),Cn.push(Q),ut(e,!0)}function zl(){var e=Cn[Cn.length-1];Cn.pop(),ut(e,!1)}function ut(e,t){var n=Q;if((t?!Ee.echoes||_r++&&e===Q:!_r||--_r&&e===Q)||Ba(t?Vl.bind(null,e):zl),e!==Q&&(Q=e,n===Ft&&(Ft.env=Da()),Ji)){var r=Ft.env.Promise,i=e.env;Hn.then=i.nthen,r.prototype.then=i.gthen,(n.global||e.global)&&(Object.defineProperty(de,"Promise",i.PromiseProp),r.all=i.all,r.race=i.race,r.resolve=i.resolve,r.reject=i.reject,i.allSettled&&(r.allSettled=i.allSettled),i.any&&(r.any=i.any))}}function Da(){var e=de.Promise;return Ji?{Promise:e,PromiseProp:Object.getOwnPropertyDescriptor(de,"Promise"),all:e.all,race:e.race,allSettled:e.allSettled,any:e.any,resolve:e.resolve,reject:e.reject,nthen:Hn.then,gthen:e.prototype.then}:{}}function zt(e,t,n,r,i){var o=Q;try{return ut(e,!0),t(n,r,i)}finally{ut(o,!1)}}function Ba(e){xa.call(pi,e)}function Qn(e,t,n,r){return typeof e!="function"?e:function(){var i=Q;n&&Vt(),ut(t,!0);try{return e.apply(this,arguments)}finally{ut(i,!1),r&&Ba(rt)}}}function wo(e,t){return function(n,r){return e.call(this,Qn(n,t),Qn(r,t))}}(""+xa).indexOf("[native code]")===-1&&(Vt=rt=fe);function _o(e,t){var n;try{n=t.onuncatched(e)}catch{}if(n!==!1)try{var r,i={promise:t,reason:e};if(de.document&&document.createEvent?((r=document.createEvent("Event")).initEvent("unhandledrejection",!0,!0),ke(r,i)):de.CustomEvent&&ke(r=new CustomEvent("unhandledrejection",{detail:i}),i),r&&de.dispatchEvent&&(dispatchEvent(r),!de.PromiseRejectionEvent&&de.onunhandledrejection))try{de.onunhandledrejection(r)}catch{}ze&&r&&!r.defaultPrevented&&console.warn(`Unhandled rejection: ${e.stack||e}`)}catch{}}var _e=q.reject;function Si(e,t,n,r){if(e.idbdb&&(e._state.openComplete||Q.letThrough||e._vip)){var i=e._createTransaction(t,n,e._dbSchema);try{i.create(),e._state.PR1398_maxLoop=3}catch(o){return o.name===Hi.InvalidState&&e.isOpen()&&--e._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),e._close(),e.open().then(()=>Si(e,t,n,r))):_e(o)}return i._promise(t,(o,a)=>ct(()=>(Q.trans=i,r(o,a,i)))).then(o=>i._completion.then(()=>o))}if(e._state.openComplete)return _e(new X.DatabaseClosed(e._state.dbOpenError));if(!e._state.isBeingOpened){if(!e._options.autoOpen)return _e(new X.DatabaseClosed);e.open().catch(fe)}return e._state.dbReadyPromise.then(()=>Si(e,t,n,r))}const bt=String.fromCharCode(65535),He="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",en=[],ur=typeof navigator<"u"&&/(MSIE|Trident|Edge)/.test(navigator.userAgent),Gl=ur,Wl=ur,Na=e=>!/(dexie\.js|dexie\.min\.js)/.test(e);function Et(e,t){return e?t?function(){return e.apply(this,arguments)&&t.apply(this,arguments)}:e:t}const Ma={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function Sn(e){return typeof e!="string"||/\./.test(e)?t=>t:t=>(t[e]===void 0&&e in t&&delete(t=pn(t))[e],t)}class Hl{_trans(t,n,r){const i=this._tx||Q.trans,o=this.name;function a(l,f,c){if(!c.schema[o])throw new X.NotFound("Table "+o+" not part of transaction");return n(c.idbtrans,c)}const s=yn();try{return i&&i.db===this.db?i===Q.trans?i._promise(t,a,r):ct(()=>i._promise(t,a,r),{trans:i,transless:Q.transless||Q}):Si(this.db,t,[this.name],a)}finally{s&&gn()}}get(t,n){return t&&t.constructor===Object?this.where(t).first(n):this._trans("readonly",r=>this.core.get({trans:r,key:t}).then(i=>this.hook.reading.fire(i))).then(n)}where(t){if(typeof t=="string")return new this.db.WhereClause(this,t);if(Oe(t))return new this.db.WhereClause(this,`[${t.join("+")}]`);const n=ve(t);if(n.length===1)return this.where(n[0]).equals(t[n[0]]);const r=this.schema.indexes.concat(this.schema.primKey).filter(f=>f.compound&&n.every(c=>f.keyPath.indexOf(c)>=0)&&f.keyPath.every(c=>n.indexOf(c)>=0))[0];if(r&&this.db._maxKey!==bt)return this.where(r.name).equals(r.keyPath.map(f=>t[f]));!r&&ze&&console.warn(`The query ${JSON.stringify(t)} on ${this.name} would benefit of a compound index [${n.join("+")}]`);const{idxByName:i}=this.schema,o=this.db._deps.indexedDB;function a(f,c){try{return o.cmp(f,c)===0}catch{return!1}}const[s,l]=n.reduce(([f,c],d)=>{const u=i[d],p=t[d];return[f||u,f||!u?Et(c,u&&u.multi?w=>{const g=nt(w,d);return Oe(g)&&g.some(y=>a(p,y))}:w=>a(p,nt(w,d))):c]},[null,null]);return s?this.where(s.name).equals(t[s.keyPath]).filter(l):r?this.filter(l):this.where(n).equals("")}filter(t){return this.toCollection().and(t)}count(t){return this.toCollection().count(t)}offset(t){return this.toCollection().offset(t)}limit(t){return this.toCollection().limit(t)}each(t){return this.toCollection().each(t)}toArray(t){return this.toCollection().toArray(t)}toCollection(){return new this.db.Collection(new this.db.WhereClause(this))}orderBy(t){return new this.db.Collection(new this.db.WhereClause(this,Oe(t)?`[${t.join("+")}]`:t))}reverse(){return this.toCollection().reverse()}mapToClass(t){this.schema.mappedClass=t;const n=r=>{if(!r)return r;const i=Object.create(t.prototype);for(var o in r)if(Fe(r,o))try{i[o]=r[o]}catch{}return i};return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=n,this.hook("reading",n),t}defineClass(){return this.mapToClass(function(t){ke(this,t)})}add(t,n){const{auto:r,keyPath:i}=this.schema.primKey;let o=t;return i&&r&&(o=Sn(i)(t)),this._trans("readwrite",a=>this.core.mutate({trans:a,type:"add",keys:n!=null?[n]:null,values:[o]})).then(a=>a.numFailures?q.reject(a.failures[0]):a.lastResult).then(a=>{if(i)try{qe(t,i,a)}catch{}return a})}update(t,n){if(typeof t!="object"||Oe(t))return this.where(":id").equals(t).modify(n);{const r=nt(t,this.schema.primKey.keyPath);if(r===void 0)return _e(new X.InvalidArgument("Given object does not contain its primary key"));try{typeof n!="function"?ve(n).forEach(i=>{qe(t,i,n[i])}):n(t,{value:t,primKey:r})}catch{}return this.where(":id").equals(r).modify(n)}}put(t,n){const{auto:r,keyPath:i}=this.schema.primKey;let o=t;return i&&r&&(o=Sn(i)(t)),this._trans("readwrite",a=>this.core.mutate({trans:a,type:"put",values:[o],keys:n!=null?[n]:null})).then(a=>a.numFailures?q.reject(a.failures[0]):a.lastResult).then(a=>{if(i)try{qe(t,i,a)}catch{}return a})}delete(t){return this._trans("readwrite",n=>this.core.mutate({trans:n,type:"delete",keys:[t]})).then(n=>n.numFailures?q.reject(n.failures[0]):void 0)}clear(){return this._trans("readwrite",t=>this.core.mutate({trans:t,type:"deleteRange",range:Ma})).then(t=>t.numFailures?q.reject(t.failures[0]):void 0)}bulkGet(t){return this._trans("readonly",n=>this.core.getMany({keys:t,trans:n}).then(r=>r.map(i=>this.hook.reading.fire(i))))}bulkAdd(t,n,r){const i=Array.isArray(n)?n:void 0,o=(r=r||(i?void 0:n))?r.allKeys:void 0;return this._trans("readwrite",a=>{const{auto:s,keyPath:l}=this.schema.primKey;if(l&&i)throw new X.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(i&&i.length!==t.length)throw new X.InvalidArgument("Arguments objects and keys must have the same length");const f=t.length;let c=l&&s?t.map(Sn(l)):t;return this.core.mutate({trans:a,type:"add",keys:i,values:c,wantResults:o}).then(({numFailures:d,results:u,lastResult:p,failures:w})=>{if(d===0)return o?u:p;throw new Xt(`${this.name}.bulkAdd(): ${d} of ${f} operations failed`,w)})})}bulkPut(t,n,r){const i=Array.isArray(n)?n:void 0,o=(r=r||(i?void 0:n))?r.allKeys:void 0;return this._trans("readwrite",a=>{const{auto:s,keyPath:l}=this.schema.primKey;if(l&&i)throw new X.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(i&&i.length!==t.length)throw new X.InvalidArgument("Arguments objects and keys must have the same length");const f=t.length;let c=l&&s?t.map(Sn(l)):t;return this.core.mutate({trans:a,type:"put",keys:i,values:c,wantResults:o}).then(({numFailures:d,results:u,lastResult:p,failures:w})=>{if(d===0)return o?u:p;throw new Xt(`${this.name}.bulkPut(): ${d} of ${f} operations failed`,w)})})}bulkDelete(t){const n=t.length;return this._trans("readwrite",r=>this.core.mutate({trans:r,type:"delete",keys:t})).then(({numFailures:r,lastResult:i,failures:o})=>{if(r===0)return i;throw new Xt(`${this.name}.bulkDelete(): ${r} of ${n} operations failed`,o)})}}function tn(e){var t={},n=function(s,l){if(l){for(var f=arguments.length,c=new Array(f-1);--f;)c[f-1]=arguments[f];return t[s].subscribe.apply(null,c),e}if(typeof s=="string")return t[s]};n.addEventType=o;for(var r=1,i=arguments.length;r<i;++r)o(arguments[r]);return n;function o(s,l,f){if(typeof s=="object")return a(s);l||(l=Fl),f||(f=fe);var c={subscribers:[],fire:f,subscribe:function(d){c.subscribers.indexOf(d)===-1&&(c.subscribers.push(d),c.fire=l(c.fire,d))},unsubscribe:function(d){c.subscribers=c.subscribers.filter(function(u){return u!==d}),c.fire=c.subscribers.reduce(l,f)}};return t[s]=n[s]=c,c}function a(s){ve(s).forEach(function(l){var f=s[l];if(Oe(f))o(l,s[l][0],s[l][1]);else{if(f!=="asap")throw new X.InvalidArgument("Invalid event config");var c=o(l,an,function(){for(var d=arguments.length,u=new Array(d);d--;)u[d]=arguments[d];c.subscribers.forEach(function(p){wa(function(){p.apply(null,u)})})})}})}}function Ht(e,t){return Nt(t).from({prototype:e}),t}function kt(e,t){return!(e.filter||e.algorithm||e.or)&&(t?e.justLimit:!e.replayFilter)}function Sr(e,t){e.filter=Et(e.filter,t)}function Ar(e,t,n){var r=e.replayFilter;e.replayFilter=r?()=>Et(r(),t()):t,e.justLimit=n&&!r}function Dn(e,t){if(e.isPrimKey)return t.primaryKey;const n=t.getIndexByKeyPath(e.index);if(!n)throw new X.Schema("KeyPath "+e.index+" on object store "+t.name+" is not indexed");return n}function So(e,t,n){const r=Dn(e,t.schema);return t.openCursor({trans:n,values:!e.keysOnly,reverse:e.dir==="prev",unique:!!e.unique,query:{index:r,range:e.range}})}function An(e,t,n,r){const i=e.replayFilter?Et(e.filter,e.replayFilter()):e.filter;if(e.or){const o={},a=(s,l,f)=>{if(!i||i(l,f,u=>l.stop(u),u=>l.fail(u))){var c=l.primaryKey,d=""+c;d==="[object ArrayBuffer]"&&(d=""+new Uint8Array(c)),Fe(o,d)||(o[d]=!0,t(s,l,f))}};return Promise.all([e.or._iterate(a,n),Ao(So(e,r,n),e.algorithm,a,!e.keysOnly&&e.valueMapper)])}return Ao(So(e,r,n),Et(e.algorithm,i),t,!e.keysOnly&&e.valueMapper)}function Ao(e,t,n,r){var i=pe(r?(o,a,s)=>n(r(o),a,s):n);return e.then(o=>{if(o)return o.start(()=>{var a=()=>o.continue();t&&!t(o,s=>a=s,s=>{o.stop(s),a=fe},s=>{o.fail(s),a=fe})||i(o.value,o,s=>a=s),a()})})}function je(e,t){try{const n=Eo(e),r=Eo(t);if(n!==r)return n==="Array"?1:r==="Array"?-1:n==="binary"?1:r==="binary"?-1:n==="string"?1:r==="string"?-1:n==="Date"?1:r!=="Date"?NaN:-1;switch(n){case"number":case"Date":case"string":return e>t?1:e<t?-1:0;case"binary":return function(i,o){const a=i.length,s=o.length,l=a<s?a:s;for(let f=0;f<l;++f)if(i[f]!==o[f])return i[f]<o[f]?-1:1;return a===s?0:a<s?-1:1}(Oo(e),Oo(t));case"Array":return function(i,o){const a=i.length,s=o.length,l=a<s?a:s;for(let f=0;f<l;++f){const c=je(i[f],o[f]);if(c!==0)return c}return a===s?0:a<s?-1:1}(e,t)}}catch{}return NaN}function Eo(e){const t=typeof e;if(t!=="object")return t;if(ArrayBuffer.isView(e))return"binary";const n=fi(e);return n==="ArrayBuffer"?"binary":n}function Oo(e){return e instanceof Uint8Array?e:ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):new Uint8Array(e)}class Yl{_read(t,n){var r=this._ctx;return r.error?r.table._trans(null,_e.bind(null,r.error)):r.table._trans("readonly",t).then(n)}_write(t){var n=this._ctx;return n.error?n.table._trans(null,_e.bind(null,n.error)):n.table._trans("readwrite",t,"locked")}_addAlgorithm(t){var n=this._ctx;n.algorithm=Et(n.algorithm,t)}_iterate(t,n){return An(this._ctx,t,n,this._ctx.table.core)}clone(t){var n=Object.create(this.constructor.prototype),r=Object.create(this._ctx);return t&&ke(r,t),n._ctx=r,n}raw(){return this._ctx.valueMapper=null,this}each(t){var n=this._ctx;return this._read(r=>An(n,t,r,n.table.core))}count(t){return this._read(n=>{const r=this._ctx,i=r.table.core;if(kt(r,!0))return i.count({trans:n,query:{index:Dn(r,i.schema),range:r.range}}).then(a=>Math.min(a,r.limit));var o=0;return An(r,()=>(++o,!1),n,i).then(()=>o)}).then(t)}sortBy(t,n){const r=t.split(".").reverse(),i=r[0],o=r.length-1;function a(f,c){return c?a(f[r[c]],c-1):f[i]}var s=this._ctx.dir==="next"?1:-1;function l(f,c){var d=a(f,o),u=a(c,o);return d<u?-s:d>u?s:0}return this.toArray(function(f){return f.sort(l)}).then(n)}toArray(t){return this._read(n=>{var r=this._ctx;if(r.dir==="next"&&kt(r,!0)&&r.limit>0){const{valueMapper:i}=r,o=Dn(r,r.table.core.schema);return r.table.core.query({trans:n,limit:r.limit,values:!0,query:{index:o,range:r.range}}).then(({result:a})=>i?a.map(i):a)}{const i=[];return An(r,o=>i.push(o),n,r.table.core).then(()=>i)}},t)}offset(t){var n=this._ctx;return t<=0||(n.offset+=t,kt(n)?Ar(n,()=>{var r=t;return(i,o)=>r===0||(r===1?(--r,!1):(o(()=>{i.advance(r),r=0}),!1))}):Ar(n,()=>{var r=t;return()=>--r<0})),this}limit(t){return this._ctx.limit=Math.min(this._ctx.limit,t),Ar(this._ctx,()=>{var n=t;return function(r,i,o){return--n<=0&&i(o),n>=0}},!0),this}until(t,n){return Sr(this._ctx,function(r,i,o){return!t(r.value)||(i(o),n)}),this}first(t){return this.limit(1).toArray(function(n){return n[0]}).then(t)}last(t){return this.reverse().first(t)}filter(t){var n,r;return Sr(this._ctx,function(i){return t(i.value)}),n=this._ctx,r=t,n.isMatch=Et(n.isMatch,r),this}and(t){return this.filter(t)}or(t){return new this.db.WhereClause(this._ctx.table,t,this)}reverse(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this}desc(){return this.reverse()}eachKey(t){var n=this._ctx;return n.keysOnly=!n.isMatch,this.each(function(r,i){t(i.key,i)})}eachUniqueKey(t){return this._ctx.unique="unique",this.eachKey(t)}eachPrimaryKey(t){var n=this._ctx;return n.keysOnly=!n.isMatch,this.each(function(r,i){t(i.primaryKey,i)})}keys(t){var n=this._ctx;n.keysOnly=!n.isMatch;var r=[];return this.each(function(i,o){r.push(o.key)}).then(function(){return r}).then(t)}primaryKeys(t){var n=this._ctx;if(n.dir==="next"&&kt(n,!0)&&n.limit>0)return this._read(i=>{var o=Dn(n,n.table.core.schema);return n.table.core.query({trans:i,values:!1,limit:n.limit,query:{index:o,range:n.range}})}).then(({result:i})=>i).then(t);n.keysOnly=!n.isMatch;var r=[];return this.each(function(i,o){r.push(o.primaryKey)}).then(function(){return r}).then(t)}uniqueKeys(t){return this._ctx.unique="unique",this.keys(t)}firstKey(t){return this.limit(1).keys(function(n){return n[0]}).then(t)}lastKey(t){return this.reverse().firstKey(t)}distinct(){var t=this._ctx,n=t.index&&t.table.schema.idxByName[t.index];if(!n||!n.multi)return this;var r={};return Sr(this._ctx,function(i){var o=i.primaryKey.toString(),a=Fe(r,o);return r[o]=!0,!a}),this}modify(t){var n=this._ctx;return this._write(r=>{var i;if(typeof t=="function")i=t;else{var o=ve(t),a=o.length;i=function(g){for(var y=!1,m=0;m<a;++m){var v=o[m],A=t[v];nt(g,v)!==A&&(qe(g,v,A),y=!0)}return y}}const s=n.table.core,{outbound:l,extractKey:f}=s.schema.primaryKey,c=this.db._options.modifyChunkSize||200,d=[];let u=0;const p=[],w=(g,y)=>{const{failures:m,numFailures:v}=y;u+=g-v;for(let A of ve(m))d.push(m[A])};return this.clone().primaryKeys().then(g=>{const y=m=>{const v=Math.min(c,g.length-m);return s.getMany({trans:r,keys:g.slice(m,m+v),cache:"immutable"}).then(A=>{const O=[],S=[],x=l?[]:null,P=[];for(let R=0;R<v;++R){const L=A[R],z={value:pn(L),primKey:g[m+R]};i.call(z,z.value,z)!==!1&&(z.value==null?P.push(g[m+R]):l||je(f(L),f(z.value))===0?(S.push(z.value),l&&x.push(g[m+R])):(P.push(g[m+R]),O.push(z.value)))}const C=kt(n)&&n.limit===1/0&&(typeof t!="function"||t===Er)&&{index:n.index,range:n.range};return Promise.resolve(O.length>0&&s.mutate({trans:r,type:"add",values:O}).then(R=>{for(let L in R.failures)P.splice(parseInt(L),1);w(O.length,R)})).then(()=>(S.length>0||C&&typeof t=="object")&&s.mutate({trans:r,type:"put",keys:x,values:S,criteria:C,changeSpec:typeof t!="function"&&t}).then(R=>w(S.length,R))).then(()=>(P.length>0||C&&t===Er)&&s.mutate({trans:r,type:"delete",keys:P,criteria:C}).then(R=>w(P.length,R))).then(()=>g.length>m+v&&y(m+c))})};return y(0).then(()=>{if(d.length>0)throw new Wn("Error modifying one or more objects",d,u,p);return g.length})})})}delete(){var t=this._ctx,n=t.range;return kt(t)&&(t.isPrimKey&&!Wl||n.type===3)?this._write(r=>{const{primaryKey:i}=t.table.core.schema,o=n;return t.table.core.count({trans:r,query:{index:i,range:o}}).then(a=>t.table.core.mutate({trans:r,type:"deleteRange",range:o}).then(({failures:s,lastResult:l,results:f,numFailures:c})=>{if(c)throw new Wn("Could not delete some values",Object.keys(s).map(d=>s[d]),a-c);return a-c}))}):this.modify(Er)}}const Er=(e,t)=>t.value=null;function Jl(e,t){return e<t?-1:e===t?0:1}function Ql(e,t){return e>t?-1:e===t?0:1}function Me(e,t,n){var r=e instanceof qa?new e.Collection(e):e;return r._ctx.error=n?new n(t):new TypeError(t),r}function It(e){return new e.Collection(e,()=>Fa("")).limit(0)}function Xl(e,t,n,r,i,o){for(var a=Math.min(e.length,r.length),s=-1,l=0;l<a;++l){var f=t[l];if(f!==r[l])return i(e[l],n[l])<0?e.substr(0,l)+n[l]+n.substr(l+1):i(e[l],r[l])<0?e.substr(0,l)+r[l]+n.substr(l+1):s>=0?e.substr(0,s)+t[s]+n.substr(s+1):null;i(e[l],f)<0&&(s=l)}return a<r.length&&o==="next"?e+n.substr(e.length):a<e.length&&o==="prev"?e.substr(0,n.length):s<0?null:e.substr(0,s)+r[s]+n.substr(s+1)}function En(e,t,n,r){var i,o,a,s,l,f,c,d=n.length;if(!n.every(g=>typeof g=="string"))return Me(e,"String expected.");function u(g){i=function(m){return m==="next"?v=>v.toUpperCase():v=>v.toLowerCase()}(g),o=function(m){return m==="next"?v=>v.toLowerCase():v=>v.toUpperCase()}(g),a=g==="next"?Jl:Ql;var y=n.map(function(m){return{lower:o(m),upper:i(m)}}).sort(function(m,v){return a(m.lower,v.lower)});s=y.map(function(m){return m.upper}),l=y.map(function(m){return m.lower}),f=g,c=g==="next"?"":r}u("next");var p=new e.Collection(e,()=>ot(s[0],l[d-1]+r));p._ondirectionchange=function(g){u(g)};var w=0;return p._addAlgorithm(function(g,y,m){var v=g.key;if(typeof v!="string")return!1;var A=o(v);if(t(A,l,w))return!0;for(var O=null,S=w;S<d;++S){var x=Xl(v,A,s[S],l[S],a,f);x===null&&O===null?w=S+1:(O===null||a(O,x)>0)&&(O=x)}return y(O!==null?function(){g.continue(O+c)}:m),!1}),p}function ot(e,t,n,r){return{type:2,lower:e,upper:t,lowerOpen:n,upperOpen:r}}function Fa(e){return{type:1,lower:e,upper:e}}class qa{get Collection(){return this._ctx.table.db.Collection}between(t,n,r,i){r=r!==!1,i=i===!0;try{return this._cmp(t,n)>0||this._cmp(t,n)===0&&(r||i)&&(!r||!i)?It(this):new this.Collection(this,()=>ot(t,n,!r,!i))}catch{return Me(this,He)}}equals(t){return t==null?Me(this,He):new this.Collection(this,()=>Fa(t))}above(t){return t==null?Me(this,He):new this.Collection(this,()=>ot(t,void 0,!0))}aboveOrEqual(t){return t==null?Me(this,He):new this.Collection(this,()=>ot(t,void 0,!1))}below(t){return t==null?Me(this,He):new this.Collection(this,()=>ot(void 0,t,!1,!0))}belowOrEqual(t){return t==null?Me(this,He):new this.Collection(this,()=>ot(void 0,t))}startsWith(t){return typeof t!="string"?Me(this,"String expected."):this.between(t,t+bt,!0,!0)}startsWithIgnoreCase(t){return t===""?this.startsWith(t):En(this,(n,r)=>n.indexOf(r[0])===0,[t],bt)}equalsIgnoreCase(t){return En(this,(n,r)=>n===r[0],[t],"")}anyOfIgnoreCase(){var t=Xe.apply(Tt,arguments);return t.length===0?It(this):En(this,(n,r)=>r.indexOf(n)!==-1,t,"")}startsWithAnyOfIgnoreCase(){var t=Xe.apply(Tt,arguments);return t.length===0?It(this):En(this,(n,r)=>r.some(i=>n.indexOf(i)===0),t,bt)}anyOf(){const t=Xe.apply(Tt,arguments);let n=this._cmp;try{t.sort(n)}catch{return Me(this,He)}if(t.length===0)return It(this);const r=new this.Collection(this,()=>ot(t[0],t[t.length-1]));r._ondirectionchange=o=>{n=o==="next"?this._ascending:this._descending,t.sort(n)};let i=0;return r._addAlgorithm((o,a,s)=>{const l=o.key;for(;n(l,t[i])>0;)if(++i,i===t.length)return a(s),!1;return n(l,t[i])===0||(a(()=>{o.continue(t[i])}),!1)}),r}notEqual(t){return this.inAnyRange([[-(1/0),t],[t,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})}noneOf(){const t=Xe.apply(Tt,arguments);if(t.length===0)return new this.Collection(this);try{t.sort(this._ascending)}catch{return Me(this,He)}const n=t.reduce((r,i)=>r?r.concat([[r[r.length-1][1],i]]):[[-(1/0),i]],null);return n.push([t[t.length-1],this.db._maxKey]),this.inAnyRange(n,{includeLowers:!1,includeUppers:!1})}inAnyRange(t,n){const r=this._cmp,i=this._ascending,o=this._descending,a=this._min,s=this._max;if(t.length===0)return It(this);if(!t.every(v=>v[0]!==void 0&&v[1]!==void 0&&i(v[0],v[1])<=0))return Me(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",X.InvalidArgument);const l=!n||n.includeLowers!==!1,f=n&&n.includeUppers===!0;let c,d=i;function u(v,A){return d(v[0],A[0])}try{c=t.reduce(function(v,A){let O=0,S=v.length;for(;O<S;++O){const x=v[O];if(r(A[0],x[1])<0&&r(A[1],x[0])>0){x[0]=a(x[0],A[0]),x[1]=s(x[1],A[1]);break}}return O===S&&v.push(A),v},[]),c.sort(u)}catch{return Me(this,He)}let p=0;const w=f?v=>i(v,c[p][1])>0:v=>i(v,c[p][1])>=0,g=l?v=>o(v,c[p][0])>0:v=>o(v,c[p][0])>=0;let y=w;const m=new this.Collection(this,()=>ot(c[0][0],c[c.length-1][1],!l,!f));return m._ondirectionchange=v=>{v==="next"?(y=w,d=i):(y=g,d=o),c.sort(u)},m._addAlgorithm((v,A,O)=>{for(var S=v.key;y(S);)if(++p,p===c.length)return A(O),!1;return!!function(x){return!w(x)&&!g(x)}(S)||(this._cmp(S,c[p][1])===0||this._cmp(S,c[p][0])===0||A(()=>{d===i?v.continue(c[p][0]):v.continue(c[p][1])}),!1)}),m}startsWithAnyOf(){const t=Xe.apply(Tt,arguments);return t.every(n=>typeof n=="string")?t.length===0?It(this):this.inAnyRange(t.map(n=>[n,n+bt])):Me(this,"startsWithAnyOf() only works with strings")}}function Ue(e){return pe(function(t){return ln(t),e(t.target.error),!1})}function ln(e){e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault()}const ft=tn(null,"storagemutated");class Zl{_lock(){return Yt(!Q.global),++this._reculock,this._reculock!==1||Q.global||(Q.lockOwnerFor=this),this}_unlock(){if(Yt(!Q.global),--this._reculock==0)for(Q.global||(Q.lockOwnerFor=null);this._blockedFuncs.length>0&&!this._locked();){var t=this._blockedFuncs.shift();try{zt(t[1],t[0])}catch{}}return this}_locked(){return this._reculock&&Q.lockOwnerFor!==this}create(t){if(!this.mode)return this;const n=this.db.idbdb,r=this.db._state.dbOpenError;if(Yt(!this.idbtrans),!t&&!n)switch(r&&r.name){case"DatabaseClosedError":throw new X.DatabaseClosed(r);case"MissingAPIError":throw new X.MissingAPI(r.message,r);default:throw new X.OpenFailed(r)}if(!this.active)throw new X.TransactionInactive;return Yt(this._completion._state===null),(t=this.idbtrans=t||(this.db.core?this.db.core.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}):n.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}))).onerror=pe(i=>{ln(i),this._reject(t.error)}),t.onabort=pe(i=>{ln(i),this.active&&this._reject(new X.Abort(t.error)),this.active=!1,this.on("abort").fire(i)}),t.oncomplete=pe(()=>{this.active=!1,this._resolve(),"mutatedParts"in t&&ft.storagemutated.fire(t.mutatedParts)}),this}_promise(t,n,r){if(t==="readwrite"&&this.mode!=="readwrite")return _e(new X.ReadOnly("Transaction is readonly"));if(!this.active)return _e(new X.TransactionInactive);if(this._locked())return new q((o,a)=>{this._blockedFuncs.push([()=>{this._promise(t,n,r).then(o,a)},Q])});if(r)return ct(()=>{var o=new q((a,s)=>{this._lock();const l=n(a,s,this);l&&l.then&&l.then(a,s)});return o.finally(()=>this._unlock()),o._lib=!0,o});var i=new q((o,a)=>{var s=n(o,a,this);s&&s.then&&s.then(o,a)});return i._lib=!0,i}_root(){return this.parent?this.parent._root():this}waitFor(t){var n=this._root();const r=q.resolve(t);if(n._waitingFor)n._waitingFor=n._waitingFor.then(()=>r);else{n._waitingFor=r,n._waitingQueue=[];var i=n.idbtrans.objectStore(n.storeNames[0]);(function a(){for(++n._spinCount;n._waitingQueue.length;)n._waitingQueue.shift()();n._waitingFor&&(i.get(-1/0).onsuccess=a)})()}var o=n._waitingFor;return new q((a,s)=>{r.then(l=>n._waitingQueue.push(pe(a.bind(null,l))),l=>n._waitingQueue.push(pe(s.bind(null,l)))).finally(()=>{n._waitingFor===o&&(n._waitingFor=null)})})}abort(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new X.Abort))}table(t){const n=this._memoizedTables||(this._memoizedTables={});if(Fe(n,t))return n[t];const r=this.schema[t];if(!r)throw new X.NotFound("Table "+t+" not part of transaction");const i=new this.db.Table(t,r,this);return i.core=this.db.core.table(t),n[t]=i,i}}function Ai(e,t,n,r,i,o,a){return{name:e,keyPath:t,unique:n,multi:r,auto:i,compound:o,src:(n&&!a?"&":"")+(r?"*":"")+(i?"++":"")+La(t)}}function La(e){return typeof e=="string"?e:e?"["+[].join.call(e,"+")+"]":""}function Ka(e,t,n){return{name:e,primKey:t,indexes:n,mappedClass:null,idxByName:_a(n,r=>[r.name,r])}}let cn=e=>{try{return e.only([[]]),cn=()=>[[]],[[]]}catch{return cn=()=>bt,bt}};function Ei(e){return e==null?()=>{}:typeof e=="string"?function(t){return t.split(".").length===1?n=>n[t]:n=>nt(n,t)}(e):t=>nt(t,e)}function $o(e){return[].slice.call(e)}let ec=0;function nn(e){return e==null?":id":typeof e=="string"?e:`[${e.join("+")}]`}function tc(e,t,n){function r(l){if(l.type===3)return null;if(l.type===4)throw new Error("Cannot convert never type to IDBKeyRange");const{lower:f,upper:c,lowerOpen:d,upperOpen:u}=l;return f===void 0?c===void 0?null:t.upperBound(c,!!u):c===void 0?t.lowerBound(f,!!d):t.bound(f,c,!!d,!!u)}const{schema:i,hasGetAll:o}=function(l,f){const c=$o(l.objectStoreNames);return{schema:{name:l.name,tables:c.map(d=>f.objectStore(d)).map(d=>{const{keyPath:u,autoIncrement:p}=d,w=Oe(u),g=u==null,y={},m={name:d.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:g,compound:w,keyPath:u,autoIncrement:p,unique:!0,extractKey:Ei(u)},indexes:$o(d.indexNames).map(v=>d.index(v)).map(v=>{const{name:A,unique:O,multiEntry:S,keyPath:x}=v,P={name:A,compound:Oe(x),keyPath:x,unique:O,multiEntry:S,extractKey:Ei(x)};return y[nn(x)]=P,P}),getIndexByKeyPath:v=>y[nn(v)]};return y[":id"]=m.primaryKey,u!=null&&(y[nn(u)]=m.primaryKey),m})},hasGetAll:c.length>0&&"getAll"in f.objectStore(c[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}}(e,n),a=i.tables.map(l=>function(f){const c=f.name;return{name:c,schema:f,mutate:function({trans:d,type:u,keys:p,values:w,range:g}){return new Promise((y,m)=>{y=pe(y);const v=d.objectStore(c),A=v.keyPath==null,O=u==="put"||u==="add";if(!O&&u!=="delete"&&u!=="deleteRange")throw new Error("Invalid operation type: "+u);const{length:S}=p||w||{length:1};if(p&&w&&p.length!==w.length)throw new Error("Given keys array must have same length as given values array.");if(S===0)return y({numFailures:0,failures:{},results:[],lastResult:void 0});let x;const P=[],C=[];let R=0;const L=G=>{++R,ln(G)};if(u==="deleteRange"){if(g.type===4)return y({numFailures:R,failures:C,results:[],lastResult:void 0});g.type===3?P.push(x=v.clear()):P.push(x=v.delete(r(g)))}else{const[G,ee]=O?A?[w,p]:[w,null]:[p,null];if(O)for(let W=0;W<S;++W)P.push(x=ee&&ee[W]!==void 0?v[u](G[W],ee[W]):v[u](G[W])),x.onerror=L;else for(let W=0;W<S;++W)P.push(x=v[u](G[W])),x.onerror=L}const z=G=>{const ee=G.target.result;P.forEach((W,B)=>W.error!=null&&(C[B]=W.error)),y({numFailures:R,failures:C,results:u==="delete"?p:P.map(W=>W.result),lastResult:ee})};x.onerror=G=>{L(G),z(G)},x.onsuccess=z})},getMany:({trans:d,keys:u})=>new Promise((p,w)=>{p=pe(p);const g=d.objectStore(c),y=u.length,m=new Array(y);let v,A=0,O=0;const S=P=>{const C=P.target;m[C._pos]=C.result,++O===A&&p(m)},x=Ue(w);for(let P=0;P<y;++P)u[P]!=null&&(v=g.get(u[P]),v._pos=P,v.onsuccess=S,v.onerror=x,++A);A===0&&p(m)}),get:({trans:d,key:u})=>new Promise((p,w)=>{p=pe(p);const g=d.objectStore(c).get(u);g.onsuccess=y=>p(y.target.result),g.onerror=Ue(w)}),query:function(d){return u=>new Promise((p,w)=>{p=pe(p);const{trans:g,values:y,limit:m,query:v}=u,A=m===1/0?void 0:m,{index:O,range:S}=v,x=g.objectStore(c),P=O.isPrimaryKey?x:x.index(O.name),C=r(S);if(m===0)return p({result:[]});if(d){const R=y?P.getAll(C,A):P.getAllKeys(C,A);R.onsuccess=L=>p({result:L.target.result}),R.onerror=Ue(w)}else{let R=0;const L=y||!("openKeyCursor"in P)?P.openCursor(C):P.openKeyCursor(C),z=[];L.onsuccess=G=>{const ee=L.result;return ee?(z.push(y?ee.value:ee.primaryKey),++R===m?p({result:z}):void ee.continue()):p({result:z})},L.onerror=Ue(w)}})}(o),openCursor:function({trans:d,values:u,query:p,reverse:w,unique:g}){return new Promise((y,m)=>{y=pe(y);const{index:v,range:A}=p,O=d.objectStore(c),S=v.isPrimaryKey?O:O.index(v.name),x=w?g?"prevunique":"prev":g?"nextunique":"next",P=u||!("openKeyCursor"in S)?S.openCursor(r(A),x):S.openKeyCursor(r(A),x);P.onerror=Ue(m),P.onsuccess=pe(C=>{const R=P.result;if(!R)return void y(null);R.___id=++ec,R.done=!1;const L=R.continue.bind(R);let z=R.continuePrimaryKey;z&&(z=z.bind(R));const G=R.advance.bind(R),ee=()=>{throw new Error("Cursor not stopped")};R.trans=d,R.stop=R.continue=R.continuePrimaryKey=R.advance=()=>{throw new Error("Cursor not started")},R.fail=pe(m),R.next=function(){let W=1;return this.start(()=>W--?this.continue():this.stop()).then(()=>this)},R.start=W=>{const B=new Promise((M,N)=>{M=pe(M),P.onerror=Ue(N),R.fail=N,R.stop=U=>{R.stop=R.continue=R.continuePrimaryKey=R.advance=ee,M(U)}}),D=()=>{if(P.result)try{W()}catch(M){R.fail(M)}else R.done=!0,R.start=()=>{throw new Error("Cursor behind last entry")},R.stop()};return P.onsuccess=pe(M=>{P.onsuccess=D,D()}),R.continue=L,R.continuePrimaryKey=z,R.advance=G,D(),B},y(R)},m)})},count({query:d,trans:u}){const{index:p,range:w}=d;return new Promise((g,y)=>{const m=u.objectStore(c),v=p.isPrimaryKey?m:m.index(p.name),A=r(w),O=A?v.count(A):v.count();O.onsuccess=pe(S=>g(S.target.result)),O.onerror=Ue(y)})}}}(l)),s={};return a.forEach(l=>s[l.name]=l),{stack:"dbcore",transaction:e.transaction.bind(e),table(l){if(!s[l])throw new Error(`Table '${l}' not found`);return s[l]},MIN_KEY:-1/0,MAX_KEY:cn(t),schema:i}}function Oi({_novip:e},t){const n=t.db,r=function(i,o,{IDBKeyRange:a,indexedDB:s},l){return{dbcore:function(c,d){return d.reduce((u,{create:p})=>({...u,...p(u)}),c)}(tc(o,a,l),i.dbcore)}}(e._middlewares,n,e._deps,t);e.core=r.dbcore,e.tables.forEach(i=>{const o=i.name;e.core.schema.tables.some(a=>a.name===o)&&(i.core=e.core.table(o),e[o]instanceof e.Table&&(e[o].core=i.core))})}function Xn({_novip:e},t,n,r){n.forEach(i=>{const o=r[i];t.forEach(a=>{const s=zi(a,i);(!s||"value"in s&&s.value===void 0)&&(a===e.Transaction.prototype||a instanceof e.Transaction?tt(a,i,{get(){return this.table(i)},set(l){ba(this,i,{value:l,writable:!0,configurable:!0,enumerable:!0})}}):a[i]=new e.Table(i,o))})})}function $i({_novip:e},t){t.forEach(n=>{for(let r in n)n[r]instanceof e.Table&&delete n[r]})}function nc(e,t){return e._cfg.version-t._cfg.version}function rc(e,t,n,r){const i=e._dbSchema,o=e._createTransaction("readwrite",e._storeNames,i);o.create(n),o._completion.catch(r);const a=o._reject.bind(o),s=Q.transless||Q;ct(()=>{Q.trans=o,Q.transless=s,t===0?(ve(i).forEach(l=>{Or(n,l,i[l].primKey,i[l].indexes)}),Oi(e,n),q.follow(()=>e.on.populate.fire(o)).catch(a)):function({_novip:l},f,c,d){const u=[],p=l._versions;let w=l._dbSchema=ji(l,l.idbdb,d),g=!1;function y(){return u.length?q.resolve(u.shift()(c.idbtrans)).then(y):q.resolve()}return p.filter(m=>m._cfg.version>=f).forEach(m=>{u.push(()=>{const v=w,A=m._cfg.dbschema;xi(l,v,d),xi(l,A,d),w=l._dbSchema=A;const O=Ua(v,A);O.add.forEach(x=>{Or(d,x[0],x[1].primKey,x[1].indexes)}),O.change.forEach(x=>{if(x.recreate)throw new X.Upgrade("Not yet support for changing primary key");{const P=d.objectStore(x.name);x.add.forEach(C=>Pi(P,C)),x.change.forEach(C=>{P.deleteIndex(C.name),Pi(P,C)}),x.del.forEach(C=>P.deleteIndex(C))}});const S=m._cfg.contentUpgrade;if(S&&m._cfg.version>f){Oi(l,d),c._memoizedTables={},g=!0;let x=Sa(A);O.del.forEach(L=>{x[L]=v[L]}),$i(l,[l.Transaction.prototype]),Xn(l,[l.Transaction.prototype],ve(x),x),c.schema=x;const P=Gi(S);let C;P&&Vt();const R=q.follow(()=>{if(C=S(c),C&&P){var L=rt.bind(null,null);C.then(L,L)}});return C&&typeof C.then=="function"?q.resolve(C):R.then(()=>C)}}),u.push(v=>{(!g||!Gl)&&function(A,O){[].slice.call(O.db.objectStoreNames).forEach(S=>A[S]==null&&O.db.deleteObjectStore(S))}(m._cfg.dbschema,v),$i(l,[l.Transaction.prototype]),Xn(l,[l.Transaction.prototype],l._storeNames,l._dbSchema),c.schema=l._dbSchema})}),y().then(()=>{var m,v;v=d,ve(m=w).forEach(A=>{v.db.objectStoreNames.contains(A)||Or(v,A,m[A].primKey,m[A].indexes)})})}(e,t,o,n).catch(a)})}function Ua(e,t){const n={del:[],add:[],change:[]};let r;for(r in e)t[r]||n.del.push(r);for(r in t){const i=e[r],o=t[r];if(i){const a={name:r,def:o,recreate:!1,del:[],add:[],change:[]};if(""+(i.primKey.keyPath||"")!=""+(o.primKey.keyPath||"")||i.primKey.auto!==o.primKey.auto&&!ur)a.recreate=!0,n.change.push(a);else{const s=i.idxByName,l=o.idxByName;let f;for(f in s)l[f]||a.del.push(f);for(f in l){const c=s[f],d=l[f];c?c.src!==d.src&&a.change.push(d):a.add.push(d)}(a.del.length>0||a.add.length>0||a.change.length>0)&&n.change.push(a)}}else n.add.push([r,o])}return n}function Or(e,t,n,r){const i=e.db.createObjectStore(t,n.keyPath?{keyPath:n.keyPath,autoIncrement:n.auto}:{autoIncrement:n.auto});return r.forEach(o=>Pi(i,o)),i}function Pi(e,t){e.createIndex(t.name,t.keyPath,{unique:t.unique,multiEntry:t.multi})}function ji(e,t,n){const r={};return Gn(t.objectStoreNames,0).forEach(i=>{const o=n.objectStore(i);let a=o.keyPath;const s=Ai(La(a),a||"",!1,!1,!!o.autoIncrement,a&&typeof a!="string",!0),l=[];for(let c=0;c<o.indexNames.length;++c){const d=o.index(o.indexNames[c]);a=d.keyPath;var f=Ai(d.name,a,!!d.unique,!!d.multiEntry,!1,a&&typeof a!="string",!1);l.push(f)}r[i]=Ka(i,s,l)}),r}function xi({_novip:e},t,n){const r=n.db.objectStoreNames;for(let i=0;i<r.length;++i){const o=r[i],a=n.objectStore(o);e._hasGetAll="getAll"in a;for(let s=0;s<a.indexNames.length;++s){const l=a.indexNames[s],f=a.index(l).keyPath,c=typeof f=="string"?f:"["+Gn(f).join("+")+"]";if(t[o]){const d=t[o].idxByName[c];d&&(d.name=l,delete t[o].idxByName[c],t[o].idxByName[l]=d)}}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&de.WorkerGlobalScope&&de instanceof de.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(e._hasGetAll=!1)}class ic{_parseStoresSpec(t,n){ve(t).forEach(r=>{if(t[r]!==null){var i=t[r].split(",").map((a,s)=>{const l=(a=a.trim()).replace(/([&*]|\+\+)/g,""),f=/^\[/.test(l)?l.match(/^\[(.*)\]$/)[1].split("+"):l;return Ai(l,f||null,/\&/.test(a),/\*/.test(a),/\+\+/.test(a),Oe(f),s===0)}),o=i.shift();if(o.multi)throw new X.Schema("Primary key cannot be multi-valued");i.forEach(a=>{if(a.auto)throw new X.Schema("Only primary key can be marked as autoIncrement (++)");if(!a.keyPath)throw new X.Schema("Index must have a name and cannot be an empty string")}),n[r]=Ka(r,o,i)}})}stores(t){const n=this.db;this._cfg.storesSource=this._cfg.storesSource?ke(this._cfg.storesSource,t):t;const r=n._versions,i={};let o={};return r.forEach(a=>{ke(i,a._cfg.storesSource),o=a._cfg.dbschema={},a._parseStoresSpec(i,o)}),n._dbSchema=o,$i(n,[n._allTables,n,n.Transaction.prototype]),Xn(n,[n._allTables,n,n.Transaction.prototype,this._cfg.tables],ve(o),o),n._storeNames=ve(o),this}upgrade(t){return this._cfg.contentUpgrade=Yi(this._cfg.contentUpgrade||fe,t),this}}function Zi(e,t){let n=e._dbNamesDB;return n||(n=e._dbNamesDB=new _t("__dbnames",{addons:[],indexedDB:e,IDBKeyRange:t}),n.version(1).stores({dbnames:"name"})),n.table("dbnames")}function eo(e){return e&&typeof e.databases=="function"}function ki(e){return ct(function(){return Q.letThrough=!0,e()})}function oc(){var e;return!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(t){var n=function(){return indexedDB.databases().finally(t)};e=setInterval(n,100),n()}).finally(function(){return clearInterval(e)}):Promise.resolve()}function ac(e){const t=e._state,{indexedDB:n}=e._deps;if(t.isBeingOpened||e.idbdb)return t.dbReadyPromise.then(()=>t.dbOpenError?_e(t.dbOpenError):e);ze&&(t.openCanceller._stackHolder=$t()),t.isBeingOpened=!0,t.dbOpenError=null,t.openComplete=!1;const r=t.openCanceller;function i(){if(t.openCanceller!==r)throw new X.DatabaseClosed("db.open() was cancelled")}let o=t.dbReadyResolve,a=null,s=!1;return q.race([r,(typeof navigator>"u"?q.resolve():oc()).then(()=>new q((l,f)=>{if(i(),!n)throw new X.MissingAPI;const c=e.name,d=t.autoSchema?n.open(c):n.open(c,Math.round(10*e.verno));if(!d)throw new X.MissingAPI;d.onerror=Ue(f),d.onblocked=pe(e._fireOnBlocked),d.onupgradeneeded=pe(u=>{if(a=d.transaction,t.autoSchema&&!e._options.allowEmptyDB){d.onerror=ln,a.abort(),d.result.close();const w=n.deleteDatabase(c);w.onsuccess=w.onerror=pe(()=>{f(new X.NoSuchDatabase(`Database ${c} doesnt exist`))})}else{a.onerror=Ue(f);var p=u.oldVersion>Math.pow(2,62)?0:u.oldVersion;s=p<1,e._novip.idbdb=d.result,rc(e,p/10,a,f)}},f),d.onsuccess=pe(()=>{a=null;const u=e._novip.idbdb=d.result,p=Gn(u.objectStoreNames);if(p.length>0)try{const g=u.transaction((w=p).length===1?w[0]:w,"readonly");t.autoSchema?function({_novip:y},m,v){y.verno=m.version/10;const A=y._dbSchema=ji(0,m,v);y._storeNames=Gn(m.objectStoreNames,0),Xn(y,[y._allTables],ve(A),A)}(e,u,g):(xi(e,e._dbSchema,g),function(y,m){const v=Ua(ji(0,y.idbdb,m),y._dbSchema);return!(v.add.length||v.change.some(A=>A.add.length||A.change.length))}(e,g)||console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Some queries may fail.")),Oi(e,g)}catch{}var w;en.push(e),u.onversionchange=pe(g=>{t.vcFired=!0,e.on("versionchange").fire(g)}),u.onclose=pe(g=>{e.on("close").fire(g)}),s&&function({indexedDB:g,IDBKeyRange:y},m){!eo(g)&&m!=="__dbnames"&&Zi(g,y).put({name:m}).catch(fe)}(e._deps,c),l()},f)}))]).then(()=>(i(),t.onReadyBeingFired=[],q.resolve(ki(()=>e.on.ready.fire(e.vip))).then(function l(){if(t.onReadyBeingFired.length>0){let f=t.onReadyBeingFired.reduce(Yi,fe);return t.onReadyBeingFired=[],q.resolve(ki(()=>f(e.vip))).then(l)}}))).finally(()=>{t.onReadyBeingFired=null,t.isBeingOpened=!1}).then(()=>e).catch(l=>{t.dbOpenError=l;try{a&&a.abort()}catch{}return r===t.openCanceller&&e._close(),_e(l)}).finally(()=>{t.openComplete=!0,o()})}function Ii(e){var t=o=>e.next(o),n=i(t),r=i(o=>e.throw(o));function i(o){return a=>{var s=o(a),l=s.value;return s.done?l:l&&typeof l.then=="function"?l.then(n,r):Oe(l)?Promise.all(l).then(n,r):n(l)}}return i(t)()}function sc(e,t,n){var r=arguments.length;if(r<2)throw new X.InvalidArgument("Too few arguments");for(var i=new Array(r-1);--r;)i[r-1]=arguments[r];n=i.pop();var o=Aa(i);return[e,o,n]}function Va(e,t,n,r,i){return q.resolve().then(()=>{const o=Q.transless||Q,a=e._createTransaction(t,n,e._dbSchema,r),s={trans:a,transless:o};if(r)a.idbtrans=r.idbtrans;else try{a.create(),e._state.PR1398_maxLoop=3}catch(d){return d.name===Hi.InvalidState&&e.isOpen()&&--e._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),e._close(),e.open().then(()=>Va(e,t,n,null,i))):_e(d)}const l=Gi(i);let f;l&&Vt();const c=q.follow(()=>{if(f=i.call(a,a),f)if(l){var d=rt.bind(null,null);f.then(d,d)}else typeof f.next=="function"&&typeof f.throw=="function"&&(f=Ii(f))},s);return(f&&typeof f.then=="function"?q.resolve(f).then(d=>a.active?d:_e(new X.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))):c.then(()=>f)).then(d=>(r&&a._resolve(),a._completion.then(()=>d))).catch(d=>(a._reject(d),_e(d)))})}function On(e,t,n){const r=Oe(e)?e.slice():[e];for(let i=0;i<n;++i)r.push(t);return r}const lc={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(e){return{...e,table(t){const n=e.table(t),{schema:r}=n,i={},o=[];function a(c,d,u){const p=nn(c),w=i[p]=i[p]||[],g=c==null?0:typeof c=="string"?1:c.length,y=d>0,m={...u,isVirtual:y,keyTail:d,keyLength:g,extractKey:Ei(c),unique:!y&&u.unique};return w.push(m),m.isPrimaryKey||o.push(m),g>1&&a(g===2?c[0]:c.slice(0,g-1),d+1,u),w.sort((v,A)=>v.keyTail-A.keyTail),m}const s=a(r.primaryKey.keyPath,0,r.primaryKey);i[":id"]=[s];for(const c of r.indexes)a(c.keyPath,0,c);function l(c){const d=c.query.index;return d.isVirtual?{...c,query:{index:d,range:(u=c.query.range,p=d.keyTail,{type:u.type===1?2:u.type,lower:On(u.lower,u.lowerOpen?e.MAX_KEY:e.MIN_KEY,p),lowerOpen:!0,upper:On(u.upper,u.upperOpen?e.MIN_KEY:e.MAX_KEY,p),upperOpen:!0})}}:c;var u,p}return{...n,schema:{...r,primaryKey:s,indexes:o,getIndexByKeyPath:function(c){const d=i[nn(c)];return d&&d[0]}},count:c=>n.count(l(c)),query:c=>n.query(l(c)),openCursor(c){const{keyTail:d,isVirtual:u,keyLength:p}=c.query.index;return u?n.openCursor(l(c)).then(w=>w&&function(g){return Object.create(g,{continue:{value:function(m){m!=null?g.continue(On(m,c.reverse?e.MAX_KEY:e.MIN_KEY,d)):c.unique?g.continue(g.key.slice(0,p).concat(c.reverse?e.MIN_KEY:e.MAX_KEY,d)):g.continue()}},continuePrimaryKey:{value(m,v){g.continuePrimaryKey(On(m,e.MAX_KEY,d),v)}},primaryKey:{get:()=>g.primaryKey},key:{get(){const m=g.key;return p===1?m[0]:m.slice(0,p)}},value:{get:()=>g.value}})}(w)):n.openCursor(c)}}}}}};function to(e,t,n,r){return n=n||{},r=r||"",ve(e).forEach(i=>{if(Fe(t,i)){var o=e[i],a=t[i];if(typeof o=="object"&&typeof a=="object"&&o&&a){const s=fi(o);s!==fi(a)?n[r+i]=t[i]:s==="Object"?to(o,a,n,r+i+"."):o!==a&&(n[r+i]=t[i])}else o!==a&&(n[r+i]=t[i])}else n[r+i]=void 0}),ve(t).forEach(i=>{Fe(e,i)||(n[r+i]=t[i])}),n}const cc={stack:"dbcore",name:"HooksMiddleware",level:2,create:e=>({...e,table(t){const n=e.table(t),{primaryKey:r}=n.schema;return{...n,mutate(o){const a=Q.trans,{deleting:s,creating:l,updating:f}=a.table(t).hook;switch(o.type){case"add":if(l.fire===fe)break;return a._promise("readwrite",()=>c(o),!0);case"put":if(l.fire===fe&&f.fire===fe)break;return a._promise("readwrite",()=>c(o),!0);case"delete":if(s.fire===fe)break;return a._promise("readwrite",()=>c(o),!0);case"deleteRange":if(s.fire===fe)break;return a._promise("readwrite",()=>function(u){return d(u.trans,u.range,1e4)}(o),!0)}return n.mutate(o);function c(u){const p=Q.trans,w=u.keys||function(g,y){return y.type==="delete"?y.keys:y.keys||y.values.map(g.extractKey)}(r,u);if(!w)throw new Error("Keys missing");return(u=u.type==="add"||u.type==="put"?{...u,keys:w}:{...u}).type!=="delete"&&(u.values=[...u.values]),u.keys&&(u.keys=[...u.keys]),function(g,y,m){return y.type==="add"?Promise.resolve([]):g.getMany({trans:y.trans,keys:m,cache:"immutable"})}(n,u,w).then(g=>{const y=w.map((m,v)=>{const A=g[v],O={onerror:null,onsuccess:null};if(u.type==="delete")s.fire.call(O,m,A,p);else if(u.type==="add"||A===void 0){const S=l.fire.call(O,m,u.values[v],p);m==null&&S!=null&&(m=S,u.keys[v]=m,r.outbound||qe(u.values[v],r.keyPath,m))}else{const S=to(A,u.values[v]),x=f.fire.call(O,S,m,A,p);if(x){const P=u.values[v];Object.keys(x).forEach(C=>{Fe(P,C)?P[C]=x[C]:qe(P,C,x[C])})}}return O});return n.mutate(u).then(({failures:m,results:v,numFailures:A,lastResult:O})=>{for(let S=0;S<w.length;++S){const x=v?v[S]:w[S],P=y[S];x==null?P.onerror&&P.onerror(m[S]):P.onsuccess&&P.onsuccess(u.type==="put"&&g[S]?u.values[S]:x)}return{failures:m,results:v,numFailures:A,lastResult:O}}).catch(m=>(y.forEach(v=>v.onerror&&v.onerror(m)),Promise.reject(m)))})}function d(u,p,w){return n.query({trans:u,values:!1,query:{index:r,range:p},limit:w}).then(({result:g})=>c({type:"delete",keys:g,trans:u}).then(y=>y.numFailures>0?Promise.reject(y.failures[0]):g.length<w?{failures:[],numFailures:0,lastResult:void 0}:d(u,{...p,lower:g[g.length-1],lowerOpen:!0},w)))}}}}})};function za(e,t,n){try{if(!t||t.keys.length<e.length)return null;const r=[];for(let i=0,o=0;i<t.keys.length&&o<e.length;++i)je(t.keys[i],e[o])===0&&(r.push(n?pn(t.values[i]):t.values[i]),++o);return r.length===e.length?r:null}catch{return null}}const uc={stack:"dbcore",level:-1,create:e=>({table:t=>{const n=e.table(t);return{...n,getMany:r=>{if(!r.cache)return n.getMany(r);const i=za(r.keys,r.trans._cache,r.cache==="clone");return i?q.resolve(i):n.getMany(r).then(o=>(r.trans._cache={keys:r.keys,values:r.cache==="clone"?pn(o):o},o))},mutate:r=>(r.type!=="add"&&(r.trans._cache=null),n.mutate(r))}}})};function no(e){return!("from"in e)}const Qe=function(e,t){if(!this){const n=new Qe;return e&&"d"in e&&ke(n,e),n}ke(this,arguments.length?{d:1,from:e,to:arguments.length>1?t:e}:{d:0})};function un(e,t,n){const r=je(t,n);if(isNaN(r))return;if(r>0)throw RangeError();if(no(e))return ke(e,{from:t,to:n,d:1});const i=e.l,o=e.r;if(je(n,e.from)<0)return i?un(i,t,n):e.l={from:t,to:n,d:1,l:null,r:null},Po(e);if(je(t,e.to)>0)return o?un(o,t,n):e.r={from:t,to:n,d:1,l:null,r:null},Po(e);je(t,e.from)<0&&(e.from=t,e.l=null,e.d=o?o.d+1:1),je(n,e.to)>0&&(e.to=n,e.r=null,e.d=e.l?e.l.d+1:1);const a=!e.r;i&&!e.l&&Zn(e,i),o&&a&&Zn(e,o)}function Zn(e,t){no(t)||function n(r,{from:i,to:o,l:a,r:s}){un(r,i,o),a&&n(r,a),s&&n(r,s)}(e,t)}function fc(e,t){const n=Ti(t);let r=n.next();if(r.done)return!1;let i=r.value;const o=Ti(e);let a=o.next(i.from),s=a.value;for(;!r.done&&!a.done;){if(je(s.from,i.to)<=0&&je(s.to,i.from)>=0)return!0;je(i.from,s.from)<0?i=(r=n.next(s.from)).value:s=(a=o.next(i.from)).value}return!1}function Ti(e){let t=no(e)?null:{s:0,n:e};return{next(n){const r=arguments.length>0;for(;t;)switch(t.s){case 0:if(t.s=1,r)for(;t.n.l&&je(n,t.n.from)<0;)t={up:t,n:t.n.l,s:1};else for(;t.n.l;)t={up:t,n:t.n.l,s:1};case 1:if(t.s=2,!r||je(n,t.n.to)<=0)return{value:t.n,done:!1};case 2:if(t.n.r){t.s=3,t={up:t,n:t.n.r,s:0};continue}case 3:t=t.up}return{done:!0}}}}function Po(e){var t,n;const r=(((t=e.r)===null||t===void 0?void 0:t.d)||0)-(((n=e.l)===null||n===void 0?void 0:n.d)||0),i=r>1?"r":r<-1?"l":"";if(i){const o=i==="r"?"l":"r",a={...e},s=e[i];e.from=s.from,e.to=s.to,e[i]=s[i],a[i]=s[o],e[o]=a,a.d=jo(a)}e.d=jo(e)}function jo({r:e,l:t}){return(e?t?Math.max(e.d,t.d):e.d:t?t.d:0)+1}Lt(Qe.prototype,{add(e){return Zn(this,e),this},addKey(e){return un(this,e,e),this},addKeys(e){return e.forEach(t=>un(this,t,t)),this},[di](){return Ti(this)}});const dc={stack:"dbcore",level:0,create:e=>{const t=e.schema.name,n=new Qe(e.MIN_KEY,e.MAX_KEY);return{...e,table:r=>{const i=e.table(r),{schema:o}=i,{primaryKey:a}=o,{extractKey:s,outbound:l}=a,f={...i,mutate:u=>{const p=u.trans,w=p.mutatedParts||(p.mutatedParts={}),g=x=>{const P=`idb://${t}/${r}/${x}`;return w[P]||(w[P]=new Qe)},y=g(""),m=g(":dels"),{type:v}=u;let[A,O]=u.type==="deleteRange"?[u.range]:u.type==="delete"?[u.keys]:u.values.length<50?[[],u.values]:[];const S=u.trans._cache;return i.mutate(u).then(x=>{if(Oe(A)){v!=="delete"&&(A=x.results),y.addKeys(A);const P=za(A,S);P||v==="add"||m.addKeys(A),(P||O)&&function(C,R,L,z){function G(ee){const W=C(ee.name||"");function B(M){return M!=null?ee.extractKey(M):null}const D=M=>ee.multiEntry&&Oe(M)?M.forEach(N=>W.addKey(N)):W.addKey(M);(L||z).forEach((M,N)=>{const U=L&&B(L[N]),Z=z&&B(z[N]);je(U,Z)!==0&&(U!=null&&D(U),Z!=null&&D(Z))})}R.indexes.forEach(G)}(g,o,P,O)}else if(A){const P={from:A.lower,to:A.upper};m.add(P),y.add(P)}else y.add(n),m.add(n),o.indexes.forEach(P=>g(P.name).add(n));return x})}},c=({query:{index:u,range:p}})=>{var w,g;return[u,new Qe((w=p.lower)!==null&&w!==void 0?w:e.MIN_KEY,(g=p.upper)!==null&&g!==void 0?g:e.MAX_KEY)]},d={get:u=>[a,new Qe(u.key)],getMany:u=>[a,new Qe().addKeys(u.keys)],count:c,query:c,openCursor:c};return ve(d).forEach(u=>{f[u]=function(p){const{subscr:w}=Q;if(w){const g=O=>{const S=`idb://${t}/${r}/${O}`;return w[S]||(w[S]=new Qe)},y=g(""),m=g(":dels"),[v,A]=d[u](p);if(g(v.name||"").add(A),!v.isPrimaryKey){if(u!=="count"){const O=u==="query"&&l&&p.values&&i.query({...p,values:!1});return i[u].apply(this,arguments).then(S=>{if(u==="query"){if(l&&p.values)return O.then(({result:P})=>(y.addKeys(P),S));const x=p.values?S.result.map(s):S.result;p.values?y.addKeys(x):m.addKeys(x)}else if(u==="openCursor"){const x=S,P=p.values;return x&&Object.create(x,{key:{get:()=>(m.addKey(x.primaryKey),x.key)},primaryKey:{get(){const C=x.primaryKey;return m.addKey(C),C}},value:{get:()=>(P&&y.addKey(x.primaryKey),x.value)}})}return S})}m.add(n)}}return i[u].apply(this,arguments)}}),f}}}};class _t{constructor(t,n){this._middlewares={},this.verno=0;const r=_t.dependencies;this._options=n={addons:_t.addons,autoOpen:!0,indexedDB:r.indexedDB,IDBKeyRange:r.IDBKeyRange,...n},this._deps={indexedDB:n.indexedDB,IDBKeyRange:n.IDBKeyRange};const{addons:i}=n;this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;const o={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:fe,dbReadyPromise:null,cancelOpen:fe,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3};var a;o.dbReadyPromise=new q(s=>{o.dbReadyResolve=s}),o.openCanceller=new q((s,l)=>{o.cancelOpen=l}),this._state=o,this.name=t,this.on=tn(this,"populate","blocked","versionchange","close",{ready:[Yi,fe]}),this.on.ready.subscribe=va(this.on.ready.subscribe,s=>(l,f)=>{_t.vip(()=>{const c=this._state;if(c.openComplete)c.dbOpenError||q.resolve().then(l),f&&s(l);else if(c.onReadyBeingFired)c.onReadyBeingFired.push(l),f&&s(l);else{s(l);const d=this;f||s(function u(){d.on.ready.unsubscribe(l),d.on.ready.unsubscribe(u)})}})}),this.Collection=(a=this,Ht(Yl.prototype,function(s,l){this.db=a;let f=Ma,c=null;if(l)try{f=l()}catch(w){c=w}const d=s._ctx,u=d.table,p=u.hook.reading.fire;this._ctx={table:u,index:d.index,isPrimKey:!d.index||u.schema.primKey.keyPath&&d.index===u.schema.primKey.name,range:f,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:c,or:d.or,valueMapper:p!==an?p:null}})),this.Table=function(s){return Ht(Hl.prototype,function(l,f,c){this.db=s,this._tx=c,this.name=l,this.schema=f,this.hook=s._allTables[l]?s._allTables[l].hook:tn(null,{creating:[Bl,fe],reading:[Dl,an],updating:[Ml,fe],deleting:[Nl,fe]})})}(this),this.Transaction=function(s){return Ht(Zl.prototype,function(l,f,c,d,u){this.db=s,this.mode=l,this.storeNames=f,this.schema=c,this.chromeTransactionDurability=d,this.idbtrans=null,this.on=tn(this,"complete","error","abort"),this.parent=u||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new q((p,w)=>{this._resolve=p,this._reject=w}),this._completion.then(()=>{this.active=!1,this.on.complete.fire()},p=>{var w=this.active;return this.active=!1,this.on.error.fire(p),this.parent?this.parent._reject(p):w&&this.idbtrans&&this.idbtrans.abort(),_e(p)})})}(this),this.Version=function(s){return Ht(ic.prototype,function(l){this.db=s,this._cfg={version:l,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})}(this),this.WhereClause=function(s){return Ht(qa.prototype,function(l,f,c){this.db=s,this._ctx={table:l,index:f===":id"?null:f,or:c};const d=s._deps.indexedDB;if(!d)throw new X.MissingAPI;this._cmp=this._ascending=d.cmp.bind(d),this._descending=(u,p)=>d.cmp(p,u),this._max=(u,p)=>d.cmp(u,p)>0?u:p,this._min=(u,p)=>d.cmp(u,p)<0?u:p,this._IDBKeyRange=s._deps.IDBKeyRange})}(this),this.on("versionchange",s=>{s.newVersion>0?console.warn(`Another connection wants to upgrade database '${this.name}'. Closing db now to resume the upgrade.`):console.warn(`Another connection wants to delete database '${this.name}'. Closing db now to resume the delete request.`),this.close()}),this.on("blocked",s=>{!s.newVersion||s.newVersion<s.oldVersion?console.warn(`Dexie.delete('${this.name}') was blocked`):console.warn(`Upgrade '${this.name}' blocked by other connection holding version ${s.oldVersion/10}`)}),this._maxKey=cn(n.IDBKeyRange),this._createTransaction=(s,l,f,c)=>new this.Transaction(s,l,f,this._options.chromeTransactionDurability,c),this._fireOnBlocked=s=>{this.on("blocked").fire(s),en.filter(l=>l.name===this.name&&l!==this&&!l._state.vcFired).map(l=>l.on("versionchange").fire(s))},this.use(lc),this.use(cc),this.use(dc),this.use(uc),this.vip=Object.create(this,{_vip:{value:!0}}),i.forEach(s=>s(this))}version(t){if(isNaN(t)||t<.1)throw new X.Type("Given version is not a positive number");if(t=Math.round(10*t)/10,this.idbdb||this._state.isBeingOpened)throw new X.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,t);const n=this._versions;var r=n.filter(i=>i._cfg.version===t)[0];return r||(r=new this.Version(t),n.push(r),n.sort(nc),r.stores({}),this._state.autoSchema=!1,r)}_whenReady(t){return this.idbdb&&(this._state.openComplete||Q.letThrough||this._vip)?t():new q((n,r)=>{if(this._state.openComplete)return r(new X.DatabaseClosed(this._state.dbOpenError));if(!this._state.isBeingOpened){if(!this._options.autoOpen)return void r(new X.DatabaseClosed);this.open().catch(fe)}this._state.dbReadyPromise.then(n,r)}).then(t)}use({stack:t,create:n,level:r,name:i}){i&&this.unuse({stack:t,name:i});const o=this._middlewares[t]||(this._middlewares[t]=[]);return o.push({stack:t,create:n,level:r??10,name:i}),o.sort((a,s)=>a.level-s.level),this}unuse({stack:t,name:n,create:r}){return t&&this._middlewares[t]&&(this._middlewares[t]=this._middlewares[t].filter(i=>r?i.create!==r:!!n&&i.name!==n)),this}open(){return ac(this)}_close(){const t=this._state,n=en.indexOf(this);if(n>=0&&en.splice(n,1),this.idbdb){try{this.idbdb.close()}catch{}this._novip.idbdb=null}t.dbReadyPromise=new q(r=>{t.dbReadyResolve=r}),t.openCanceller=new q((r,i)=>{t.cancelOpen=i})}close(){this._close();const t=this._state;this._options.autoOpen=!1,t.dbOpenError=new X.DatabaseClosed,t.isBeingOpened&&t.cancelOpen(t.dbOpenError)}delete(){const t=arguments.length>0,n=this._state;return new q((r,i)=>{const o=()=>{this.close();var a=this._deps.indexedDB.deleteDatabase(this.name);a.onsuccess=pe(()=>{(function({indexedDB:s,IDBKeyRange:l},f){!eo(s)&&f!=="__dbnames"&&Zi(s,l).delete(f).catch(fe)})(this._deps,this.name),r()}),a.onerror=Ue(i),a.onblocked=this._fireOnBlocked};if(t)throw new X.InvalidArgument("Arguments not allowed in db.delete()");n.isBeingOpened?n.dbReadyPromise.then(o):o()})}backendDB(){return this.idbdb}isOpen(){return this.idbdb!==null}hasBeenClosed(){const t=this._state.dbOpenError;return t&&t.name==="DatabaseClosed"}hasFailed(){return this._state.dbOpenError!==null}dynamicallyOpened(){return this._state.autoSchema}get tables(){return ve(this._allTables).map(t=>this._allTables[t])}transaction(){const t=sc.apply(this,arguments);return this._transaction.apply(this,t)}_transaction(t,n,r){let i=Q.trans;i&&i.db===this&&t.indexOf("!")===-1||(i=null);const o=t.indexOf("?")!==-1;let a,s;t=t.replace("!","").replace("?","");try{if(s=n.map(f=>{var c=f instanceof this.Table?f.name:f;if(typeof c!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return c}),t=="r"||t==="readonly")a="readonly";else{if(t!="rw"&&t!="readwrite")throw new X.InvalidArgument("Invalid transaction mode: "+t);a="readwrite"}if(i){if(i.mode==="readonly"&&a==="readwrite"){if(!o)throw new X.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");i=null}i&&s.forEach(f=>{if(i&&i.storeNames.indexOf(f)===-1){if(!o)throw new X.SubTransaction("Table "+f+" not included in parent transaction.");i=null}}),o&&i&&!i.active&&(i=null)}}catch(f){return i?i._promise(null,(c,d)=>{d(f)}):_e(f)}const l=Va.bind(null,this,a,s,i,r);return i?i._promise(a,l,"lock"):Q.trans?zt(Q.transless,()=>this._whenReady(l)):this._whenReady(l)}table(t){if(!Fe(this._allTables,t))throw new X.InvalidTable(`Table ${t} does not exist`);return this._allTables[t]}}const hc=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable";class pc{constructor(t){this._subscribe=t}subscribe(t,n,r){return this._subscribe(t&&typeof t!="function"?t:{next:t,error:n,complete:r})}[hc](){return this}}function Ga(e,t){return ve(t).forEach(n=>{Zn(e[n]||(e[n]=new Qe),t[n])}),e}function Wa(e){return new pc(t=>{const n=Gi(e);let r=!1,i={},o={};const a={get closed(){return r},unsubscribe:()=>{r=!0,ft.storagemutated.unsubscribe(c)}};t.start&&t.start(a);let s=!1,l=!1;function f(){return ve(o).some(u=>i[u]&&fc(i[u],o[u]))}const c=u=>{Ga(i,u),f()&&d()},d=()=>{if(s||r)return;i={};const u={},p=function(w){n&&Vt();const g=()=>ct(e,{subscr:w,trans:null}),y=Q.trans?zt(Q.transless,g):g();return n&&y.then(rt,rt),y}(u);l||(ft("storagemutated",c),l=!0),s=!0,Promise.resolve(p).then(w=>{s=!1,r||(f()?d():(i={},o=u,t.next&&t.next(w)))},w=>{s=!1,t.error&&t.error(w),a.unsubscribe()})};return d(),a})}let Ri;try{Ri={indexedDB:de.indexedDB||de.mozIndexedDB||de.webkitIndexedDB||de.msIndexedDB,IDBKeyRange:de.IDBKeyRange||de.webkitIDBKeyRange}}catch{Ri={indexedDB:null,IDBKeyRange:null}}const yt=_t;function Bn(e){let t=Ze;try{Ze=!0,ft.storagemutated.fire(e)}finally{Ze=t}}Lt(yt,{...kn,delete:e=>new yt(e,{addons:[]}).delete(),exists:e=>new yt(e,{addons:[]}).open().then(t=>(t.close(),!0)).catch("NoSuchDatabaseError",()=>!1),getDatabaseNames(e){try{return function({indexedDB:t,IDBKeyRange:n}){return eo(t)?Promise.resolve(t.databases()).then(r=>r.map(i=>i.name).filter(i=>i!=="__dbnames")):Zi(t,n).toCollection().primaryKeys()}(yt.dependencies).then(e)}catch{return _e(new X.MissingAPI)}},defineClass:()=>function(e){ke(this,e)},ignoreTransaction:e=>Q.trans?zt(Q.transless,e):e(),vip:ki,async:function(e){return function(){try{var t=Ii(e.apply(this,arguments));return t&&typeof t.then=="function"?t:q.resolve(t)}catch(n){return _e(n)}}},spawn:function(e,t,n){try{var r=Ii(e.apply(n,t||[]));return r&&typeof r.then=="function"?r:q.resolve(r)}catch(i){return _e(i)}},currentTransaction:{get:()=>Q.trans||null},waitFor:function(e,t){const n=q.resolve(typeof e=="function"?yt.ignoreTransaction(e):e).timeout(t||6e4);return Q.trans?Q.trans.waitFor(n):n},Promise:q,debug:{get:()=>ze,set:e=>{Oa(e,e==="dexie"?()=>!0:Na)}},derive:Nt,extend:ke,props:Lt,override:va,Events:tn,on:ft,liveQuery:Wa,extendObservabilitySet:Ga,getByKeyPath:nt,setByKeyPath:qe,delByKeyPath:function(e,t){typeof t=="string"?qe(e,t,void 0):"length"in t&&[].map.call(t,function(n){qe(e,n,void 0)})},shallowClone:Sa,deepClone:pn,getObjectDiff:to,cmp:je,asap:wa,minKey:-(1/0),addons:[],connections:en,errnames:Hi,dependencies:Ri,semVer:"3.2.3",version:"3.2.3".split(".").map(e=>parseInt(e)).reduce((e,t,n)=>e+t/Math.pow(10,2*n))}),yt.maxKey=cn(yt.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(ft("storagemutated",e=>{if(!Ze){let t;ur?(t=document.createEvent("CustomEvent"),t.initCustomEvent("x-storagemutated-1",!0,!0,e)):t=new CustomEvent("x-storagemutated-1",{detail:e}),Ze=!0,dispatchEvent(t),Ze=!1}}),addEventListener("x-storagemutated-1",({detail:e})=>{Ze||Bn(e)}));let Ze=!1;if(typeof BroadcastChannel<"u"){const e=new BroadcastChannel("x-storagemutated-1");typeof e.unref=="function"&&e.unref(),ft("storagemutated",t=>{Ze||e.postMessage(t)}),e.onmessage=t=>{t.data&&Bn(t.data)}}else if(typeof self<"u"&&typeof navigator<"u"){ft("storagemutated",t=>{try{Ze||(typeof localStorage<"u"&&localStorage.setItem("x-storagemutated-1",JSON.stringify({trig:Math.random(),changedParts:t})),typeof self.clients=="object"&&[...self.clients.matchAll({includeUncontrolled:!0})].forEach(n=>n.postMessage({type:"x-storagemutated-1",changedParts:t})))}catch{}}),typeof addEventListener<"u"&&addEventListener("storage",t=>{if(t.key==="x-storagemutated-1"){const n=JSON.parse(t.newValue);n&&Bn(n.changedParts)}});const e=self.document&&navigator.serviceWorker;e&&e.addEventListener("message",function({data:t}){t&&t.type==="x-storagemutated-1"&&Bn(t.changedParts)})}q.rejectionMapper=function(e,t){if(!e||e instanceof Mt||e instanceof TypeError||e instanceof SyntaxError||!e.name||!vo[e.name])return e;var n=new vo[e.name](t||e.message,e);return"stack"in e&&tt(n,"stack",{get:function(){return this.inner.stack}}),n},Oa(ze,Na);class yc extends _t{constructor(){super("SoundBoardDB");Se(this,"sample");this.version(1).stores({sample:"filename"})}}const mt=class{constructor(){Se(this,"_db",new yc);Se(this,"_channelDataStore",new Map)}static init(){mt._instance=new mt}static get instance(){return mt._instance||mt.init(),mt._instance}async getSampleBlob(t){return await this._db.sample.get({filename:t}).then(n=>n==null?void 0:n.data)}cacheChannelData(t,n){this._channelDataStore.set(t,n)}getChannelData(t){return this._channelDataStore.get(t)}async getAllSampleFileNames(){return await this._db.sample.toCollection().keys()}async addSampleFromFile(t){return await this._db.sample.put({filename:t.name,data:t})}async addSample(t){return await this._db.sample.put(t)}async deleteSampleByName(t){return this._channelDataStore.delete(t),await this._db.sample.where({filename:t}).delete()}};let xe=mt;Se(xe,"_instance");function gc(e){return(e.split(/.*[/|\\]/).at(-1)??"").replace(/\..*$/,"")}async function mc(e,t,n){const r=await fetch(`https://api.github.com/repos/${e}/${t}/contents/${n}`,{headers:{"Content-Type":"application/vnd.github.raw"}});if(!r.ok)throw new Error(`Error fetching file:'${n}'
${await r.text()}`);return(await r.json()).content}const er=Symbol("store-raw"),fn=Symbol("store-node");function Ha(e){let t=e[Le];if(!t&&(Object.defineProperty(e,Le,{value:t=new Proxy(e,wc)}),!Array.isArray(e))){const n=Object.keys(e),r=Object.getOwnPropertyDescriptors(e);for(let i=0,o=n.length;i<o;i++){const a=n[i];r[a].get&&Object.defineProperty(e,a,{enumerable:r[a].enumerable,get:r[a].get.bind(t)})}}return t}function Ve(e){let t;return e!=null&&typeof e=="object"&&(e[Le]||!(t=Object.getPrototypeOf(e))||t===Object.prototype||Array.isArray(e))}function Ot(e,t=new Set){let n,r,i,o;if(n=e!=null&&e[er])return n;if(!Ve(e)||t.has(e))return e;if(Array.isArray(e)){Object.isFrozen(e)?e=e.slice(0):t.add(e);for(let a=0,s=e.length;a<s;a++)i=e[a],(r=Ot(i,t))!==i&&(e[a]=r)}else{Object.isFrozen(e)?e=Object.assign({},e):t.add(e);const a=Object.keys(e),s=Object.getOwnPropertyDescriptors(e);for(let l=0,f=a.length;l<f;l++)o=a[l],!s[o].get&&(i=e[o],(r=Ot(i,t))!==i&&(e[o]=r))}return e}function ro(e){let t=e[fn];return t||Object.defineProperty(e,fn,{value:t=Object.create(null)}),t}function Ci(e,t,n){return e[t]||(e[t]=Ja(n))}function bc(e,t){const n=Reflect.getOwnPropertyDescriptor(e,t);return!n||n.get||!n.configurable||t===Le||t===fn||(delete n.value,delete n.writable,n.get=()=>e[Le][t]),n}function Ya(e){if(Vi()){const t=ro(e);(t._||(t._=Ja()))()}}function vc(e){return Ya(e),Reflect.ownKeys(e)}function Ja(e){const[t,n]=be(e,{equals:!1,internal:!0});return t.$=n,t}const wc={get(e,t,n){if(t===er)return e;if(t===Le)return n;if(t===oi)return Ya(e),n;const r=ro(e),i=r[t];let o=i?i():e[t];if(t===fn||t==="__proto__")return o;if(!i){const a=Object.getOwnPropertyDescriptor(e,t);Vi()&&(typeof o!="function"||e.hasOwnProperty(t))&&!(a&&a.get)&&(o=Ci(r,t,o)())}return Ve(o)?Ha(o):o},has(e,t){return t===er||t===Le||t===oi||t===fn||t==="__proto__"?!0:(this.get(e,t,e),t in e)},set(){return!0},deleteProperty(){return!0},ownKeys:vc,getOwnPropertyDescriptor:bc};function Re(e,t,n,r=!1){if(!r&&e[t]===n)return;const i=e[t],o=e.length;n===void 0?delete e[t]:e[t]=n;let a=ro(e),s;(s=Ci(a,t,i))&&s.$(()=>n),Array.isArray(e)&&e.length!==o&&(s=Ci(a,"length",o))&&s.$(e.length),(s=a._)&&s.$()}function Qa(e,t){const n=Object.keys(t);for(let r=0;r<n.length;r+=1){const i=n[r];Re(e,i,t[i])}}function _c(e,t){if(typeof t=="function"&&(t=t(e)),t=Ot(t),Array.isArray(t)){if(e===t)return;let n=0,r=t.length;for(;n<r;n++){const i=t[n];e[n]!==i&&Re(e,n,i)}Re(e,"length",r)}else Qa(e,t)}function Qt(e,t,n=[]){let r,i=e;if(t.length>1){r=t.shift();const a=typeof r,s=Array.isArray(e);if(Array.isArray(r)){for(let l=0;l<r.length;l++)Qt(e,[r[l]].concat(t),n);return}else if(s&&a==="function"){for(let l=0;l<e.length;l++)r(e[l],l)&&Qt(e,[l].concat(t),n);return}else if(s&&a==="object"){const{from:l=0,to:f=e.length-1,by:c=1}=r;for(let d=l;d<=f;d+=c)Qt(e,[d].concat(t),n);return}else if(t.length>1){Qt(e[r],t,[r].concat(n));return}i=e[r],n=[r].concat(n)}let o=t[0];typeof o=="function"&&(o=o(i,n),o===i)||r===void 0&&o==null||(o=Ot(o),r===void 0||Ve(i)&&Ve(o)&&!Array.isArray(o)?Qa(i,o):Re(e,r,o))}function Xa(...[e,t]){const n=Ot(e||{}),r=Array.isArray(n),i=Ha(n);function o(...a){la(()=>{r&&a.length===1?_c(n,a[0]):Qt(n,a)})}return[i,o]}const Di=Symbol("store-root");function Rt(e,t,n,r,i){const o=t[n];if(e===o)return;if(n!==Di&&(!Ve(e)||!Ve(o)||i&&e[i]!==o[i])){Re(t,n,e);return}if(Array.isArray(e)){if(e.length&&o.length&&(!r||i&&e[0]&&e[0][i]!=null)){let l,f,c,d,u,p,w,g;for(c=0,d=Math.min(o.length,e.length);c<d&&(o[c]===e[c]||i&&o[c]&&e[c]&&o[c][i]===e[c][i]);c++)Rt(e[c],o,c,r,i);const y=new Array(e.length),m=new Map;for(d=o.length-1,u=e.length-1;d>=c&&u>=c&&(o[d]===e[u]||i&&o[c]&&e[c]&&o[d][i]===e[u][i]);d--,u--)y[u]=o[d];if(c>u||c>d){for(f=c;f<=u;f++)Re(o,f,e[f]);for(;f<e.length;f++)Re(o,f,y[f]),Rt(e[f],o,f,r,i);o.length>e.length&&Re(o,"length",e.length);return}for(w=new Array(u+1),f=u;f>=c;f--)p=e[f],g=i&&p?p[i]:p,l=m.get(g),w[f]=l===void 0?-1:l,m.set(g,f);for(l=c;l<=d;l++)p=o[l],g=i&&p?p[i]:p,f=m.get(g),f!==void 0&&f!==-1&&(y[f]=o[l],f=w[f],m.set(g,f));for(f=c;f<e.length;f++)f in y?(Re(o,f,y[f]),Rt(e[f],o,f,r,i)):Re(o,f,e[f])}else for(let l=0,f=e.length;l<f;l++)Rt(e[l],o,l,r,i);o.length>e.length&&Re(o,"length",e.length);return}const a=Object.keys(e);for(let l=0,f=a.length;l<f;l++)Rt(e[a[l]],o,a[l],r,i);const s=Object.keys(o);for(let l=0,f=s.length;l<f;l++)e[s[l]]===void 0&&Re(o,s[l],void 0)}function Sc(e,t={}){const{merge:n,key:r="id"}=t,i=Ot(e);return o=>{if(!Ve(o)||!Ve(i))return i;const a=Rt(i,{[Di]:o},Di,n,r);return a===void 0?o:a}}const tr=new WeakMap,Za={get(e,t){if(t===er)return e;const n=e[t];let r;return Ve(n)?tr.get(n)||(tr.set(n,r=new Proxy(n,Za)),r):n},set(e,t,n){return Re(e,t,Ot(n)),!0},deleteProperty(e,t){return Re(e,t,void 0,!0),!0}};function es(e){return t=>{if(Ve(t)){let n;(n=tr.get(t))||tr.set(t,n=new Proxy(t,Za)),e(n)}return t}}const ts=12,Ac=200,ns=12;var io=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ec(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var nr={},Oc={get exports(){return nr},set exports(e){nr=e}},$r={},Kt={},rs={},is=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var t={},n=Symbol("test"),r=Object(n);if(typeof n=="string"||Object.prototype.toString.call(n)!=="[object Symbol]"||Object.prototype.toString.call(r)!=="[object Symbol]")return!1;var i=42;t[n]=i;for(n in t)return!1;if(typeof Object.keys=="function"&&Object.keys(t).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(t).length!==0)return!1;var o=Object.getOwnPropertySymbols(t);if(o.length!==1||o[0]!==n||!Object.prototype.propertyIsEnumerable.call(t,n))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var a=Object.getOwnPropertyDescriptor(t,n);if(a.value!==i||a.enumerable!==!0)return!1}return!0},$c=is,fr=function(){return $c()&&!!Symbol.toStringTag},Pr,xo;function Pc(){if(xo)return Pr;xo=1;var e=typeof Symbol<"u"&&Symbol,t=is;return Pr=function(){return typeof e!="function"||typeof Symbol!="function"||typeof e("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:t()},Pr}var jr,ko;function jc(){if(ko)return jr;ko=1;var e="Function.prototype.bind called on incompatible ",t=Array.prototype.slice,n=Object.prototype.toString,r="[object Function]";return jr=function(o){var a=this;if(typeof a!="function"||n.call(a)!==r)throw new TypeError(e+a);for(var s=t.call(arguments,1),l,f=function(){if(this instanceof l){var w=a.apply(this,s.concat(t.call(arguments)));return Object(w)===w?w:this}else return a.apply(o,s.concat(t.call(arguments)))},c=Math.max(0,a.length-s.length),d=[],u=0;u<c;u++)d.push("$"+u);if(l=Function("binder","return function ("+d.join(",")+"){ return binder.apply(this,arguments); }")(f),a.prototype){var p=function(){};p.prototype=a.prototype,l.prototype=new p,p.prototype=null}return l},jr}var xr,Io;function oo(){if(Io)return xr;Io=1;var e=jc();return xr=Function.prototype.bind||e,xr}var kr,To;function xc(){if(To)return kr;To=1;var e=oo();return kr=e.call(Function.call,Object.prototype.hasOwnProperty),kr}var Ir,Ro;function dr(){if(Ro)return Ir;Ro=1;var e,t=SyntaxError,n=Function,r=TypeError,i=function(z){try{return n('"use strict"; return ('+z+").constructor;")()}catch{}},o=Object.getOwnPropertyDescriptor;if(o)try{o({},"")}catch{o=null}var a=function(){throw new r},s=o?function(){try{return arguments.callee,a}catch{try{return o(arguments,"callee").get}catch{return a}}}():a,l=Pc()(),f=Object.getPrototypeOf||function(z){return z.__proto__},c={},d=typeof Uint8Array>"u"?e:f(Uint8Array),u={"%AggregateError%":typeof AggregateError>"u"?e:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?e:ArrayBuffer,"%ArrayIteratorPrototype%":l?f([][Symbol.iterator]()):e,"%AsyncFromSyncIteratorPrototype%":e,"%AsyncFunction%":c,"%AsyncGenerator%":c,"%AsyncGeneratorFunction%":c,"%AsyncIteratorPrototype%":c,"%Atomics%":typeof Atomics>"u"?e:Atomics,"%BigInt%":typeof BigInt>"u"?e:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?e:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?e:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?e:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?e:Float32Array,"%Float64Array%":typeof Float64Array>"u"?e:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?e:FinalizationRegistry,"%Function%":n,"%GeneratorFunction%":c,"%Int8Array%":typeof Int8Array>"u"?e:Int8Array,"%Int16Array%":typeof Int16Array>"u"?e:Int16Array,"%Int32Array%":typeof Int32Array>"u"?e:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":l?f(f([][Symbol.iterator]())):e,"%JSON%":typeof JSON=="object"?JSON:e,"%Map%":typeof Map>"u"?e:Map,"%MapIteratorPrototype%":typeof Map>"u"||!l?e:f(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?e:Promise,"%Proxy%":typeof Proxy>"u"?e:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?e:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?e:Set,"%SetIteratorPrototype%":typeof Set>"u"||!l?e:f(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?e:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":l?f(""[Symbol.iterator]()):e,"%Symbol%":l?Symbol:e,"%SyntaxError%":t,"%ThrowTypeError%":s,"%TypedArray%":d,"%TypeError%":r,"%Uint8Array%":typeof Uint8Array>"u"?e:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?e:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?e:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?e:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?e:WeakMap,"%WeakRef%":typeof WeakRef>"u"?e:WeakRef,"%WeakSet%":typeof WeakSet>"u"?e:WeakSet};try{null.error}catch(z){var p=f(f(z));u["%Error.prototype%"]=p}var w=function z(G){var ee;if(G==="%AsyncFunction%")ee=i("async function () {}");else if(G==="%GeneratorFunction%")ee=i("function* () {}");else if(G==="%AsyncGeneratorFunction%")ee=i("async function* () {}");else if(G==="%AsyncGenerator%"){var W=z("%AsyncGeneratorFunction%");W&&(ee=W.prototype)}else if(G==="%AsyncIteratorPrototype%"){var B=z("%AsyncGenerator%");B&&(ee=f(B.prototype))}return u[G]=ee,ee},g={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},y=oo(),m=xc(),v=y.call(Function.call,Array.prototype.concat),A=y.call(Function.apply,Array.prototype.splice),O=y.call(Function.call,String.prototype.replace),S=y.call(Function.call,String.prototype.slice),x=y.call(Function.call,RegExp.prototype.exec),P=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,C=/\\(\\)?/g,R=function(G){var ee=S(G,0,1),W=S(G,-1);if(ee==="%"&&W!=="%")throw new t("invalid intrinsic syntax, expected closing `%`");if(W==="%"&&ee!=="%")throw new t("invalid intrinsic syntax, expected opening `%`");var B=[];return O(G,P,function(D,M,N,U){B[B.length]=N?O(U,C,"$1"):M||D}),B},L=function(G,ee){var W=G,B;if(m(g,W)&&(B=g[W],W="%"+B[0]+"%"),m(u,W)){var D=u[W];if(D===c&&(D=w(W)),typeof D>"u"&&!ee)throw new r("intrinsic "+G+" exists, but is not available. Please file an issue!");return{alias:B,name:W,value:D}}throw new t("intrinsic "+G+" does not exist!")};return Ir=function(G,ee){if(typeof G!="string"||G.length===0)throw new r("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof ee!="boolean")throw new r('"allowMissing" argument must be a boolean');if(x(/^%?[^%]*%?$/,G)===null)throw new t("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var W=R(G),B=W.length>0?W[0]:"",D=L("%"+B+"%",ee),M=D.name,N=D.value,U=!1,Z=D.alias;Z&&(B=Z[0],A(W,v([0,1],Z)));for(var j=1,h=!0;j<W.length;j+=1){var b=W[j],_=S(b,0,1),I=S(b,-1);if((_==='"'||_==="'"||_==="`"||I==='"'||I==="'"||I==="`")&&_!==I)throw new t("property names with quotes must have matching quotes");if((b==="constructor"||!h)&&(U=!0),B+="."+b,M="%"+B+"%",m(u,M))N=u[M];else if(N!=null){if(!(b in N)){if(!ee)throw new r("base intrinsic for "+G+" exists, but the property is not available.");return}if(o&&j+1>=W.length){var k=o(N,b);h=!!k,h&&"get"in k&&!("originalValue"in k.get)?N=k.get:N=N[b]}else h=m(N,b),N=N[b];h&&!U&&(u[M]=N)}}return N},Ir}var rr={},kc={get exports(){return rr},set exports(e){rr=e}},Co;function ao(){return Co||(Co=1,function(e){var t=oo(),n=dr(),r=n("%Function.prototype.apply%"),i=n("%Function.prototype.call%"),o=n("%Reflect.apply%",!0)||t.call(i,r),a=n("%Object.getOwnPropertyDescriptor%",!0),s=n("%Object.defineProperty%",!0),l=n("%Math.max%");if(s)try{s({},"a",{value:1})}catch{s=null}e.exports=function(d){var u=o(t,i,arguments);if(a&&s){var p=a(u,"length");p.configurable&&s(u,"length",{value:1+l(0,d.length-(arguments.length-1))})}return u};var f=function(){return o(t,r,arguments)};s?s(e.exports,"apply",{value:f}):e.exports.apply=f}(kc)),rr}var os=dr(),as=ao(),Ic=as(os("String.prototype.indexOf")),so=function(t,n){var r=os(t,!!n);return typeof r=="function"&&Ic(t,".prototype.")>-1?as(r):r},Tc=fr(),Rc=so,Bi=Rc("Object.prototype.toString"),hr=function(t){return Tc&&t&&typeof t=="object"&&Symbol.toStringTag in t?!1:Bi(t)==="[object Arguments]"},ss=function(t){return hr(t)?!0:t!==null&&typeof t=="object"&&typeof t.length=="number"&&t.length>=0&&Bi(t)!=="[object Array]"&&Bi(t.callee)==="[object Function]"},Cc=function(){return hr(arguments)}();hr.isLegacyArguments=ss;var Dc=Cc?hr:ss,Bc=Object.prototype.toString,Nc=Function.prototype.toString,Mc=/^\s*(?:function)?\*/,ls=fr(),Tr=Object.getPrototypeOf,Fc=function(){if(!ls)return!1;try{return Function("return function*() {}")()}catch{}},Rr,qc=function(t){if(typeof t!="function")return!1;if(Mc.test(Nc.call(t)))return!0;if(!ls){var n=Bc.call(t);return n==="[object GeneratorFunction]"}if(!Tr)return!1;if(typeof Rr>"u"){var r=Fc();Rr=r?Tr(r):!1}return Tr(t)===Rr},cs=Function.prototype.toString,Dt=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,Ni,Nn;if(typeof Dt=="function"&&typeof Object.defineProperty=="function")try{Ni=Object.defineProperty({},"length",{get:function(){throw Nn}}),Nn={},Dt(function(){throw 42},null,Ni)}catch(e){e!==Nn&&(Dt=null)}else Dt=null;var Lc=/^\s*class\b/,Mi=function(t){try{var n=cs.call(t);return Lc.test(n)}catch{return!1}},Cr=function(t){try{return Mi(t)?!1:(cs.call(t),!0)}catch{return!1}},Mn=Object.prototype.toString,Kc="[object Object]",Uc="[object Function]",Vc="[object GeneratorFunction]",zc="[object HTMLAllCollection]",Gc="[object HTML document.all class]",Wc="[object HTMLCollection]",Hc=typeof Symbol=="function"&&!!Symbol.toStringTag,Yc=!(0 in[,]),Fi=function(){return!1};if(typeof document=="object"){var Jc=document.all;Mn.call(Jc)===Mn.call(document.all)&&(Fi=function(t){if((Yc||!t)&&(typeof t>"u"||typeof t=="object"))try{var n=Mn.call(t);return(n===zc||n===Gc||n===Wc||n===Kc)&&t("")==null}catch{}return!1})}var Qc=Dt?function(t){if(Fi(t))return!0;if(!t||typeof t!="function"&&typeof t!="object")return!1;try{Dt(t,null,Ni)}catch(n){if(n!==Nn)return!1}return!Mi(t)&&Cr(t)}:function(t){if(Fi(t))return!0;if(!t||typeof t!="function"&&typeof t!="object")return!1;if(Hc)return Cr(t);if(Mi(t))return!1;var n=Mn.call(t);return n!==Uc&&n!==Vc&&!/^\[object HTML/.test(n)?!1:Cr(t)},Xc=Qc,Zc=Object.prototype.toString,us=Object.prototype.hasOwnProperty,eu=function(t,n,r){for(var i=0,o=t.length;i<o;i++)us.call(t,i)&&(r==null?n(t[i],i,t):n.call(r,t[i],i,t))},tu=function(t,n,r){for(var i=0,o=t.length;i<o;i++)r==null?n(t.charAt(i),i,t):n.call(r,t.charAt(i),i,t)},nu=function(t,n,r){for(var i in t)us.call(t,i)&&(r==null?n(t[i],i,t):n.call(r,t[i],i,t))},ru=function(t,n,r){if(!Xc(n))throw new TypeError("iterator must be a function");var i;arguments.length>=3&&(i=r),Zc.call(t)==="[object Array]"?eu(t,n,i):typeof t=="string"?tu(t,n,i):nu(t,n,i)},fs=ru,Dr=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],iu=typeof globalThis>"u"?io:globalThis,ds=function(){for(var t=[],n=0;n<Dr.length;n++)typeof iu[Dr[n]]=="function"&&(t[t.length]=Dr[n]);return t},ou=dr(),Fn=ou("%Object.getOwnPropertyDescriptor%",!0);if(Fn)try{Fn([],"length")}catch{Fn=null}var hs=Fn,ps=fs,au=ds,lo=so,su=lo("Object.prototype.toString"),ys=fr(),qn=hs,lu=typeof globalThis>"u"?io:globalThis,gs=au(),cu=lo("Array.prototype.indexOf",!0)||function(t,n){for(var r=0;r<t.length;r+=1)if(t[r]===n)return r;return-1},uu=lo("String.prototype.slice"),ms={},Br=Object.getPrototypeOf;ys&&qn&&Br&&ps(gs,function(e){var t=new lu[e];if(Symbol.toStringTag in t){var n=Br(t),r=qn(n,Symbol.toStringTag);if(!r){var i=Br(n);r=qn(i,Symbol.toStringTag)}ms[e]=r.get}});var fu=function(t){var n=!1;return ps(ms,function(r,i){if(!n)try{n=r.call(t)===i}catch{}}),n},bs=function(t){if(!t||typeof t!="object")return!1;if(!ys||!(Symbol.toStringTag in t)){var n=uu(su(t),8,-1);return cu(gs,n)>-1}return qn?fu(t):!1},vs=fs,du=ds,ws=so,Nr=hs,hu=ws("Object.prototype.toString"),_s=fr(),Do=typeof globalThis>"u"?io:globalThis,pu=du(),yu=ws("String.prototype.slice"),Ss={},Mr=Object.getPrototypeOf;_s&&Nr&&Mr&&vs(pu,function(e){if(typeof Do[e]=="function"){var t=new Do[e];if(Symbol.toStringTag in t){var n=Mr(t),r=Nr(n,Symbol.toStringTag);if(!r){var i=Mr(n);r=Nr(i,Symbol.toStringTag)}Ss[e]=r.get}}});var gu=function(t){var n=!1;return vs(Ss,function(r,i){if(!n)try{var o=r.call(t);o===i&&(n=o)}catch{}}),n},mu=bs,bu=function(t){return mu(t)?!_s||!(Symbol.toStringTag in t)?yu(hu(t),8,-1):gu(t):!1};(function(e){var t=Dc,n=qc,r=bu,i=bs;function o(T){return T.call.bind(T)}var a=typeof BigInt<"u",s=typeof Symbol<"u",l=o(Object.prototype.toString),f=o(Number.prototype.valueOf),c=o(String.prototype.valueOf),d=o(Boolean.prototype.valueOf);if(a)var u=o(BigInt.prototype.valueOf);if(s)var p=o(Symbol.prototype.valueOf);function w(T,pt){if(typeof T!="object")return!1;try{return pt(T),!0}catch{return!1}}e.isArgumentsObject=t,e.isGeneratorFunction=n,e.isTypedArray=i;function g(T){return typeof Promise<"u"&&T instanceof Promise||T!==null&&typeof T=="object"&&typeof T.then=="function"&&typeof T.catch=="function"}e.isPromise=g;function y(T){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(T):i(T)||b(T)}e.isArrayBufferView=y;function m(T){return r(T)==="Uint8Array"}e.isUint8Array=m;function v(T){return r(T)==="Uint8ClampedArray"}e.isUint8ClampedArray=v;function A(T){return r(T)==="Uint16Array"}e.isUint16Array=A;function O(T){return r(T)==="Uint32Array"}e.isUint32Array=O;function S(T){return r(T)==="Int8Array"}e.isInt8Array=S;function x(T){return r(T)==="Int16Array"}e.isInt16Array=x;function P(T){return r(T)==="Int32Array"}e.isInt32Array=P;function C(T){return r(T)==="Float32Array"}e.isFloat32Array=C;function R(T){return r(T)==="Float64Array"}e.isFloat64Array=R;function L(T){return r(T)==="BigInt64Array"}e.isBigInt64Array=L;function z(T){return r(T)==="BigUint64Array"}e.isBigUint64Array=z;function G(T){return l(T)==="[object Map]"}G.working=typeof Map<"u"&&G(new Map);function ee(T){return typeof Map>"u"?!1:G.working?G(T):T instanceof Map}e.isMap=ee;function W(T){return l(T)==="[object Set]"}W.working=typeof Set<"u"&&W(new Set);function B(T){return typeof Set>"u"?!1:W.working?W(T):T instanceof Set}e.isSet=B;function D(T){return l(T)==="[object WeakMap]"}D.working=typeof WeakMap<"u"&&D(new WeakMap);function M(T){return typeof WeakMap>"u"?!1:D.working?D(T):T instanceof WeakMap}e.isWeakMap=M;function N(T){return l(T)==="[object WeakSet]"}N.working=typeof WeakSet<"u"&&N(new WeakSet);function U(T){return N(T)}e.isWeakSet=U;function Z(T){return l(T)==="[object ArrayBuffer]"}Z.working=typeof ArrayBuffer<"u"&&Z(new ArrayBuffer);function j(T){return typeof ArrayBuffer>"u"?!1:Z.working?Z(T):T instanceof ArrayBuffer}e.isArrayBuffer=j;function h(T){return l(T)==="[object DataView]"}h.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&h(new DataView(new ArrayBuffer(1),0,1));function b(T){return typeof DataView>"u"?!1:h.working?h(T):T instanceof DataView}e.isDataView=b;var _=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function I(T){return l(T)==="[object SharedArrayBuffer]"}function k(T){return typeof _>"u"?!1:(typeof I.working>"u"&&(I.working=I(new _)),I.working?I(T):T instanceof _)}e.isSharedArrayBuffer=k;function K(T){return l(T)==="[object AsyncFunction]"}e.isAsyncFunction=K;function H(T){return l(T)==="[object Map Iterator]"}e.isMapIterator=H;function V(T){return l(T)==="[object Set Iterator]"}e.isSetIterator=V;function ne(T){return l(T)==="[object Generator]"}e.isGeneratorObject=ne;function ye(T){return l(T)==="[object WebAssembly.Module]"}e.isWebAssemblyCompiledModule=ye;function Ie(T){return w(T,f)}e.isNumberObject=Ie;function De(T){return w(T,c)}e.isStringObject=De;function me(T){return w(T,d)}e.isBooleanObject=me;function Ge(T){return a&&w(T,u)}e.isBigIntObject=Ge;function ht(T){return s&&w(T,p)}e.isSymbolObject=ht;function Pe(T){return Ie(T)||De(T)||me(T)||Ge(T)||ht(T)}e.isBoxedPrimitive=Pe;function We(T){return typeof Uint8Array<"u"&&(j(T)||k(T))}e.isAnyArrayBuffer=We,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(T){Object.defineProperty(e,T,{enumerable:!1,value:function(){throw new Error(T+" is not supported in userland")}})})})(rs);var vu=function(t){return t&&typeof t=="object"&&typeof t.copy=="function"&&typeof t.fill=="function"&&typeof t.readUInt8=="function"},qi={},Bo={get exports(){return qi},set exports(e){qi=e}};typeof Object.create=="function"?Bo.exports=function(t,n){n&&(t.super_=n,t.prototype=Object.create(n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:Bo.exports=function(t,n){if(n){t.super_=n;var r=function(){};r.prototype=n.prototype,t.prototype=new r,t.prototype.constructor=t}};(function(e){var t=Object.getOwnPropertyDescriptors||function(b){for(var _=Object.keys(b),I={},k=0;k<_.length;k++)I[_[k]]=Object.getOwnPropertyDescriptor(b,_[k]);return I},n=/%[sdj%]/g;e.format=function(h){if(!S(h)){for(var b=[],_=0;_<arguments.length;_++)b.push(a(arguments[_]));return b.join(" ")}for(var _=1,I=arguments,k=I.length,K=String(h).replace(n,function(V){if(V==="%%")return"%";if(_>=k)return V;switch(V){case"%s":return String(I[_++]);case"%d":return Number(I[_++]);case"%j":try{return JSON.stringify(I[_++])}catch{return"[Circular]"}default:return V}}),H=I[_];_<k;H=I[++_])v(H)||!R(H)?K+=" "+H:K+=" "+a(H);return K},e.deprecate=function(h,b){if(typeof process<"u"&&process.noDeprecation===!0)return h;if(typeof process>"u")return function(){return e.deprecate(h,b).apply(this,arguments)};var _=!1;function I(){if(!_){if(process.throwDeprecation)throw new Error(b);process.traceDeprecation?console.trace(b):console.error(b),_=!0}return h.apply(this,arguments)}return I};var r={},i=/^$/;if({}.NODE_DEBUG){var o={}.NODE_DEBUG;o=o.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),i=new RegExp("^"+o+"$","i")}e.debuglog=function(h){if(h=h.toUpperCase(),!r[h])if(i.test(h)){var b=process.pid;r[h]=function(){var _=e.format.apply(e,arguments);console.error("%s %d: %s",h,b,_)}}else r[h]=function(){};return r[h]};function a(h,b){var _={seen:[],stylize:l};return arguments.length>=3&&(_.depth=arguments[2]),arguments.length>=4&&(_.colors=arguments[3]),m(b)?_.showHidden=b:b&&e._extend(_,b),P(_.showHidden)&&(_.showHidden=!1),P(_.depth)&&(_.depth=2),P(_.colors)&&(_.colors=!1),P(_.customInspect)&&(_.customInspect=!0),_.colors&&(_.stylize=s),c(_,h,_.depth)}e.inspect=a,a.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},a.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function s(h,b){var _=a.styles[b];return _?"\x1B["+a.colors[_][0]+"m"+h+"\x1B["+a.colors[_][1]+"m":h}function l(h,b){return h}function f(h){var b={};return h.forEach(function(_,I){b[_]=!0}),b}function c(h,b,_){if(h.customInspect&&b&&G(b.inspect)&&b.inspect!==e.inspect&&!(b.constructor&&b.constructor.prototype===b)){var I=b.inspect(_,h);return S(I)||(I=c(h,I,_)),I}var k=d(h,b);if(k)return k;var K=Object.keys(b),H=f(K);if(h.showHidden&&(K=Object.getOwnPropertyNames(b)),z(b)&&(K.indexOf("message")>=0||K.indexOf("description")>=0))return u(b);if(K.length===0){if(G(b)){var V=b.name?": "+b.name:"";return h.stylize("[Function"+V+"]","special")}if(C(b))return h.stylize(RegExp.prototype.toString.call(b),"regexp");if(L(b))return h.stylize(Date.prototype.toString.call(b),"date");if(z(b))return u(b)}var ne="",ye=!1,Ie=["{","}"];if(y(b)&&(ye=!0,Ie=["[","]"]),G(b)){var De=b.name?": "+b.name:"";ne=" [Function"+De+"]"}if(C(b)&&(ne=" "+RegExp.prototype.toString.call(b)),L(b)&&(ne=" "+Date.prototype.toUTCString.call(b)),z(b)&&(ne=" "+u(b)),K.length===0&&(!ye||b.length==0))return Ie[0]+ne+Ie[1];if(_<0)return C(b)?h.stylize(RegExp.prototype.toString.call(b),"regexp"):h.stylize("[Object]","special");h.seen.push(b);var me;return ye?me=p(h,b,_,H,K):me=K.map(function(Ge){return w(h,b,_,H,Ge,ye)}),h.seen.pop(),g(me,ne,Ie)}function d(h,b){if(P(b))return h.stylize("undefined","undefined");if(S(b)){var _="'"+JSON.stringify(b).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return h.stylize(_,"string")}if(O(b))return h.stylize(""+b,"number");if(m(b))return h.stylize(""+b,"boolean");if(v(b))return h.stylize("null","null")}function u(h){return"["+Error.prototype.toString.call(h)+"]"}function p(h,b,_,I,k){for(var K=[],H=0,V=b.length;H<V;++H)N(b,String(H))?K.push(w(h,b,_,I,String(H),!0)):K.push("");return k.forEach(function(ne){ne.match(/^\d+$/)||K.push(w(h,b,_,I,ne,!0))}),K}function w(h,b,_,I,k,K){var H,V,ne;if(ne=Object.getOwnPropertyDescriptor(b,k)||{value:b[k]},ne.get?ne.set?V=h.stylize("[Getter/Setter]","special"):V=h.stylize("[Getter]","special"):ne.set&&(V=h.stylize("[Setter]","special")),N(I,k)||(H="["+k+"]"),V||(h.seen.indexOf(ne.value)<0?(v(_)?V=c(h,ne.value,null):V=c(h,ne.value,_-1),V.indexOf(`
`)>-1&&(K?V=V.split(`
`).map(function(ye){return"  "+ye}).join(`
`).slice(2):V=`
`+V.split(`
`).map(function(ye){return"   "+ye}).join(`
`))):V=h.stylize("[Circular]","special")),P(H)){if(K&&k.match(/^\d+$/))return V;H=JSON.stringify(""+k),H.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(H=H.slice(1,-1),H=h.stylize(H,"name")):(H=H.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),H=h.stylize(H,"string"))}return H+": "+V}function g(h,b,_){var I=h.reduce(function(k,K){return K.indexOf(`
`)>=0,k+K.replace(/\u001b\[\d\d?m/g,"").length+1},0);return I>60?_[0]+(b===""?"":b+`
 `)+" "+h.join(`,
  `)+" "+_[1]:_[0]+b+" "+h.join(", ")+" "+_[1]}e.types=rs;function y(h){return Array.isArray(h)}e.isArray=y;function m(h){return typeof h=="boolean"}e.isBoolean=m;function v(h){return h===null}e.isNull=v;function A(h){return h==null}e.isNullOrUndefined=A;function O(h){return typeof h=="number"}e.isNumber=O;function S(h){return typeof h=="string"}e.isString=S;function x(h){return typeof h=="symbol"}e.isSymbol=x;function P(h){return h===void 0}e.isUndefined=P;function C(h){return R(h)&&W(h)==="[object RegExp]"}e.isRegExp=C,e.types.isRegExp=C;function R(h){return typeof h=="object"&&h!==null}e.isObject=R;function L(h){return R(h)&&W(h)==="[object Date]"}e.isDate=L,e.types.isDate=L;function z(h){return R(h)&&(W(h)==="[object Error]"||h instanceof Error)}e.isError=z,e.types.isNativeError=z;function G(h){return typeof h=="function"}e.isFunction=G;function ee(h){return h===null||typeof h=="boolean"||typeof h=="number"||typeof h=="string"||typeof h=="symbol"||typeof h>"u"}e.isPrimitive=ee,e.isBuffer=vu;function W(h){return Object.prototype.toString.call(h)}function B(h){return h<10?"0"+h.toString(10):h.toString(10)}var D=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function M(){var h=new Date,b=[B(h.getHours()),B(h.getMinutes()),B(h.getSeconds())].join(":");return[h.getDate(),D[h.getMonth()],b].join(" ")}e.log=function(){console.log("%s - %s",M(),e.format.apply(e,arguments))},e.inherits=qi,e._extend=function(h,b){if(!b||!R(b))return h;for(var _=Object.keys(b),I=_.length;I--;)h[_[I]]=b[_[I]];return h};function N(h,b){return Object.prototype.hasOwnProperty.call(h,b)}var U=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;e.promisify=function(b){if(typeof b!="function")throw new TypeError('The "original" argument must be of type Function');if(U&&b[U]){var _=b[U];if(typeof _!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(_,U,{value:_,enumerable:!1,writable:!1,configurable:!0}),_}function _(){for(var I,k,K=new Promise(function(ne,ye){I=ne,k=ye}),H=[],V=0;V<arguments.length;V++)H.push(arguments[V]);H.push(function(ne,ye){ne?k(ne):I(ye)});try{b.apply(this,H)}catch(ne){k(ne)}return K}return Object.setPrototypeOf(_,Object.getPrototypeOf(b)),U&&Object.defineProperty(_,U,{value:_,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(_,t(b))},e.promisify.custom=U;function Z(h,b){if(!h){var _=new Error("Promise was rejected with a falsy value");_.reason=h,h=_}return b(h)}function j(h){if(typeof h!="function")throw new TypeError('The "original" argument must be of type Function');function b(){for(var _=[],I=0;I<arguments.length;I++)_.push(arguments[I]);var k=_.pop();if(typeof k!="function")throw new TypeError("The last argument must be of type Function");var K=this,H=function(){return k.apply(K,arguments)};h.apply(this,_).then(function(V){process.nextTick(H.bind(null,null,V))},function(V){process.nextTick(Z.bind(null,V,H))})}return Object.setPrototypeOf(b,Object.getPrototypeOf(h)),Object.defineProperties(b,t(h)),b}e.callbackify=j})(Kt);var No;function As(){if(No)return $r;No=1;function e(g){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?e=function(m){return typeof m}:e=function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m},e(g)}function t(g,y){if(!(g instanceof y))throw new TypeError("Cannot call a class as a function")}function n(g,y){return y&&(e(y)==="object"||typeof y=="function")?y:r(g)}function r(g){if(g===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g}function i(g){return i=Object.setPrototypeOf?Object.getPrototypeOf:function(m){return m.__proto__||Object.getPrototypeOf(m)},i(g)}function o(g,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function");g.prototype=Object.create(y&&y.prototype,{constructor:{value:g,writable:!0,configurable:!0}}),y&&a(g,y)}function a(g,y){return a=Object.setPrototypeOf||function(v,A){return v.__proto__=A,v},a(g,y)}var s={},l,f;function c(g,y,m){m||(m=Error);function v(O,S,x){return typeof y=="string"?y:y(O,S,x)}var A=function(O){o(S,O);function S(x,P,C){var R;return t(this,S),R=n(this,i(S).call(this,v(x,P,C))),R.code=g,R}return S}(m);s[g]=A}function d(g,y){if(Array.isArray(g)){var m=g.length;return g=g.map(function(v){return String(v)}),m>2?"one of ".concat(y," ").concat(g.slice(0,m-1).join(", "),", or ")+g[m-1]:m===2?"one of ".concat(y," ").concat(g[0]," or ").concat(g[1]):"of ".concat(y," ").concat(g[0])}else return"of ".concat(y," ").concat(String(g))}function u(g,y,m){return g.substr(!m||m<0?0:+m,y.length)===y}function p(g,y,m){return(m===void 0||m>g.length)&&(m=g.length),g.substring(m-y.length,m)===y}function w(g,y,m){return typeof m!="number"&&(m=0),m+y.length>g.length?!1:g.indexOf(y,m)!==-1}return c("ERR_AMBIGUOUS_ARGUMENT",'The "%s" argument is ambiguous. %s',TypeError),c("ERR_INVALID_ARG_TYPE",function(g,y,m){l===void 0&&(l=Li()),l(typeof g=="string","'name' must be a string");var v;typeof y=="string"&&u(y,"not ")?(v="must not be",y=y.replace(/^not /,"")):v="must be";var A;if(p(g," argument"))A="The ".concat(g," ").concat(v," ").concat(d(y,"type"));else{var O=w(g,".")?"property":"argument";A='The "'.concat(g,'" ').concat(O," ").concat(v," ").concat(d(y,"type"))}return A+=". Received type ".concat(e(m)),A},TypeError),c("ERR_INVALID_ARG_VALUE",function(g,y){var m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"is invalid";f===void 0&&(f=Kt);var v=f.inspect(y);return v.length>128&&(v="".concat(v.slice(0,128),"...")),"The argument '".concat(g,"' ").concat(m,". Received ").concat(v)},TypeError),c("ERR_INVALID_RETURN_VALUE",function(g,y,m){var v;return m&&m.constructor&&m.constructor.name?v="instance of ".concat(m.constructor.name):v="type ".concat(e(m)),"Expected ".concat(g,' to be returned from the "').concat(y,'"')+" function but got ".concat(v,".")},TypeError),c("ERR_MISSING_ARGS",function(){for(var g=arguments.length,y=new Array(g),m=0;m<g;m++)y[m]=arguments[m];l===void 0&&(l=Li()),l(y.length>0,"At least one arg needs to be specified");var v="The ",A=y.length;switch(y=y.map(function(O){return'"'.concat(O,'"')}),A){case 1:v+="".concat(y[0]," argument");break;case 2:v+="".concat(y[0]," and ").concat(y[1]," arguments");break;default:v+=y.slice(0,A-1).join(", "),v+=", and ".concat(y[A-1]," arguments");break}return"".concat(v," must be specified")},TypeError),$r.codes=s,$r}var Fr,Mo;function wu(){if(Mo)return Fr;Mo=1;function e(B){for(var D=1;D<arguments.length;D++){var M=arguments[D]!=null?arguments[D]:{},N=Object.keys(M);typeof Object.getOwnPropertySymbols=="function"&&(N=N.concat(Object.getOwnPropertySymbols(M).filter(function(U){return Object.getOwnPropertyDescriptor(M,U).enumerable}))),N.forEach(function(U){t(B,U,M[U])})}return B}function t(B,D,M){return D in B?Object.defineProperty(B,D,{value:M,enumerable:!0,configurable:!0,writable:!0}):B[D]=M,B}function n(B,D){if(!(B instanceof D))throw new TypeError("Cannot call a class as a function")}function r(B,D){for(var M=0;M<D.length;M++){var N=D[M];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(B,N.key,N)}}function i(B,D,M){return D&&r(B.prototype,D),M&&r(B,M),B}function o(B,D){return D&&(w(D)==="object"||typeof D=="function")?D:a(B)}function a(B){if(B===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return B}function s(B,D){if(typeof D!="function"&&D!==null)throw new TypeError("Super expression must either be null or a function");B.prototype=Object.create(D&&D.prototype,{constructor:{value:B,writable:!0,configurable:!0}}),D&&u(B,D)}function l(B){var D=typeof Map=="function"?new Map:void 0;return l=function(N){if(N===null||!d(N))return N;if(typeof N!="function")throw new TypeError("Super expression must either be null or a function");if(typeof D<"u"){if(D.has(N))return D.get(N);D.set(N,U)}function U(){return c(N,arguments,p(this).constructor)}return U.prototype=Object.create(N.prototype,{constructor:{value:U,enumerable:!1,writable:!0,configurable:!0}}),u(U,N)},l(B)}function f(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function c(B,D,M){return f()?c=Reflect.construct:c=function(U,Z,j){var h=[null];h.push.apply(h,Z);var b=Function.bind.apply(U,h),_=new b;return j&&u(_,j.prototype),_},c.apply(null,arguments)}function d(B){return Function.toString.call(B).indexOf("[native code]")!==-1}function u(B,D){return u=Object.setPrototypeOf||function(N,U){return N.__proto__=U,N},u(B,D)}function p(B){return p=Object.setPrototypeOf?Object.getPrototypeOf:function(M){return M.__proto__||Object.getPrototypeOf(M)},p(B)}function w(B){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?w=function(M){return typeof M}:w=function(M){return M&&typeof Symbol=="function"&&M.constructor===Symbol&&M!==Symbol.prototype?"symbol":typeof M},w(B)}var g=Kt,y=g.inspect,m=As(),v=m.codes.ERR_INVALID_ARG_TYPE;function A(B,D,M){return(M===void 0||M>B.length)&&(M=B.length),B.substring(M-D.length,M)===D}function O(B,D){if(D=Math.floor(D),B.length==0||D==0)return"";var M=B.length*D;for(D=Math.floor(Math.log(D)/Math.log(2));D;)B+=B,D--;return B+=B.substring(0,M-B.length),B}var S="",x="",P="",C="",R={deepStrictEqual:"Expected values to be strictly deep-equal:",strictEqual:"Expected values to be strictly equal:",strictEqualObject:'Expected "actual" to be reference-equal to "expected":',deepEqual:"Expected values to be loosely deep-equal:",equal:"Expected values to be loosely equal:",notDeepStrictEqual:'Expected "actual" not to be strictly deep-equal to:',notStrictEqual:'Expected "actual" to be strictly unequal to:',notStrictEqualObject:'Expected "actual" not to be reference-equal to "expected":',notDeepEqual:'Expected "actual" not to be loosely deep-equal to:',notEqual:'Expected "actual" to be loosely unequal to:',notIdentical:"Values identical but not reference-equal:"},L=10;function z(B){var D=Object.keys(B),M=Object.create(Object.getPrototypeOf(B));return D.forEach(function(N){M[N]=B[N]}),Object.defineProperty(M,"message",{value:B.message}),M}function G(B){return y(B,{compact:!1,customInspect:!1,depth:1e3,maxArrayLength:1/0,showHidden:!1,breakLength:1/0,showProxy:!1,sorted:!0,getters:!0})}function ee(B,D,M){var N="",U="",Z=0,j="",h=!1,b=G(B),_=b.split(`
`),I=G(D).split(`
`),k=0,K="";if(M==="strictEqual"&&w(B)==="object"&&w(D)==="object"&&B!==null&&D!==null&&(M="strictEqualObject"),_.length===1&&I.length===1&&_[0]!==I[0]){var H=_[0].length+I[0].length;if(H<=L){if((w(B)!=="object"||B===null)&&(w(D)!=="object"||D===null)&&(B!==0||D!==0))return"".concat(R[M],`

`)+"".concat(_[0]," !== ").concat(I[0],`
`)}else if(M!=="strictEqualObject"){var V=process.stderr&&process.stderr.isTTY?process.stderr.columns:80;if(H<V){for(;_[0][k]===I[0][k];)k++;k>2&&(K=`
  `.concat(O(" ",k),"^"),k=0)}}}for(var ne=_[_.length-1],ye=I[I.length-1];ne===ye&&(k++<2?j=`
  `.concat(ne).concat(j):N=ne,_.pop(),I.pop(),!(_.length===0||I.length===0));)ne=_[_.length-1],ye=I[I.length-1];var Ie=Math.max(_.length,I.length);if(Ie===0){var De=b.split(`
`);if(De.length>30)for(De[26]="".concat(S,"...").concat(C);De.length>27;)De.pop();return"".concat(R.notIdentical,`

`).concat(De.join(`
`),`
`)}k>3&&(j=`
`.concat(S,"...").concat(C).concat(j),h=!0),N!==""&&(j=`
  `.concat(N).concat(j),N="");var me=0,Ge=R[M]+`
`.concat(x,"+ actual").concat(C," ").concat(P,"- expected").concat(C),ht=" ".concat(S,"...").concat(C," Lines skipped");for(k=0;k<Ie;k++){var Pe=k-Z;if(_.length<k+1)Pe>1&&k>2&&(Pe>4?(U+=`
`.concat(S,"...").concat(C),h=!0):Pe>3&&(U+=`
  `.concat(I[k-2]),me++),U+=`
  `.concat(I[k-1]),me++),Z=k,N+=`
`.concat(P,"-").concat(C," ").concat(I[k]),me++;else if(I.length<k+1)Pe>1&&k>2&&(Pe>4?(U+=`
`.concat(S,"...").concat(C),h=!0):Pe>3&&(U+=`
  `.concat(_[k-2]),me++),U+=`
  `.concat(_[k-1]),me++),Z=k,U+=`
`.concat(x,"+").concat(C," ").concat(_[k]),me++;else{var We=I[k],T=_[k],pt=T!==We&&(!A(T,",")||T.slice(0,-1)!==We);pt&&A(We,",")&&We.slice(0,-1)===T&&(pt=!1,T+=","),pt?(Pe>1&&k>2&&(Pe>4?(U+=`
`.concat(S,"...").concat(C),h=!0):Pe>3&&(U+=`
  `.concat(_[k-2]),me++),U+=`
  `.concat(_[k-1]),me++),Z=k,U+=`
`.concat(x,"+").concat(C," ").concat(T),N+=`
`.concat(P,"-").concat(C," ").concat(We),me+=2):(U+=N,N="",(Pe===1||k===0)&&(U+=`
  `.concat(T),me++))}if(me>20&&k<Ie-2)return"".concat(Ge).concat(ht,`
`).concat(U,`
`).concat(S,"...").concat(C).concat(N,`
`)+"".concat(S,"...").concat(C)}return"".concat(Ge).concat(h?ht:"",`
`).concat(U).concat(N).concat(j).concat(K)}var W=function(B){s(D,B);function D(M){var N;if(n(this,D),w(M)!=="object"||M===null)throw new v("options","Object",M);var U=M.message,Z=M.operator,j=M.stackStartFn,h=M.actual,b=M.expected,_=Error.stackTraceLimit;if(Error.stackTraceLimit=0,U!=null)N=o(this,p(D).call(this,String(U)));else if(process.stderr&&process.stderr.isTTY&&(process.stderr&&process.stderr.getColorDepth&&process.stderr.getColorDepth()!==1?(S="\x1B[34m",x="\x1B[32m",C="\x1B[39m",P="\x1B[31m"):(S="",x="",C="",P="")),w(h)==="object"&&h!==null&&w(b)==="object"&&b!==null&&"stack"in h&&h instanceof Error&&"stack"in b&&b instanceof Error&&(h=z(h),b=z(b)),Z==="deepStrictEqual"||Z==="strictEqual")N=o(this,p(D).call(this,ee(h,b,Z)));else if(Z==="notDeepStrictEqual"||Z==="notStrictEqual"){var I=R[Z],k=G(h).split(`
`);if(Z==="notStrictEqual"&&w(h)==="object"&&h!==null&&(I=R.notStrictEqualObject),k.length>30)for(k[26]="".concat(S,"...").concat(C);k.length>27;)k.pop();k.length===1?N=o(this,p(D).call(this,"".concat(I," ").concat(k[0]))):N=o(this,p(D).call(this,"".concat(I,`

`).concat(k.join(`
`),`
`)))}else{var K=G(h),H="",V=R[Z];Z==="notDeepEqual"||Z==="notEqual"?(K="".concat(R[Z],`

`).concat(K),K.length>1024&&(K="".concat(K.slice(0,1021),"..."))):(H="".concat(G(b)),K.length>512&&(K="".concat(K.slice(0,509),"...")),H.length>512&&(H="".concat(H.slice(0,509),"...")),Z==="deepEqual"||Z==="equal"?K="".concat(V,`

`).concat(K,`

should equal

`):H=" ".concat(Z," ").concat(H)),N=o(this,p(D).call(this,"".concat(K).concat(H)))}return Error.stackTraceLimit=_,N.generatedMessage=!U,Object.defineProperty(a(N),"name",{value:"AssertionError [ERR_ASSERTION]",enumerable:!1,writable:!0,configurable:!0}),N.code="ERR_ASSERTION",N.actual=h,N.expected=b,N.operator=Z,Error.captureStackTrace&&Error.captureStackTrace(a(N),j),N.stack,N.name="AssertionError",o(N)}return i(D,[{key:"toString",value:function(){return"".concat(this.name," [").concat(this.code,"]: ").concat(this.message)}},{key:y.custom,value:function(N,U){return y(this,e({},U,{customInspect:!1,depth:0}))}}]),D}(l(Error));return Fr=W,Fr}var qr,Fo;function _u(){if(Fo)return qr;Fo=1;function e(n,r){if(n==null)throw new TypeError("Cannot convert first argument to object");for(var i=Object(n),o=1;o<arguments.length;o++){var a=arguments[o];if(a!=null)for(var s=Object.keys(Object(a)),l=0,f=s.length;l<f;l++){var c=s[l],d=Object.getOwnPropertyDescriptor(a,c);d!==void 0&&d.enumerable&&(i[c]=a[c])}}return i}function t(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:e})}return qr={assign:e,polyfill:t},qr}var Lr,qo;function Es(){if(qo)return Lr;qo=1;var e=Object.prototype.toString;return Lr=function(n){var r=e.call(n),i=r==="[object Arguments]";return i||(i=r!=="[object Array]"&&n!==null&&typeof n=="object"&&typeof n.length=="number"&&n.length>=0&&e.call(n.callee)==="[object Function]"),i},Lr}var Kr,Lo;function Su(){if(Lo)return Kr;Lo=1;var e;if(!Object.keys){var t=Object.prototype.hasOwnProperty,n=Object.prototype.toString,r=Es(),i=Object.prototype.propertyIsEnumerable,o=!i.call({toString:null},"toString"),a=i.call(function(){},"prototype"),s=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],l=function(u){var p=u.constructor;return p&&p.prototype===u},f={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},c=function(){if(typeof window>"u")return!1;for(var u in window)try{if(!f["$"+u]&&t.call(window,u)&&window[u]!==null&&typeof window[u]=="object")try{l(window[u])}catch{return!0}}catch{return!0}return!1}(),d=function(u){if(typeof window>"u"||!c)return l(u);try{return l(u)}catch{return!1}};e=function(p){var w=p!==null&&typeof p=="object",g=n.call(p)==="[object Function]",y=r(p),m=w&&n.call(p)==="[object String]",v=[];if(!w&&!g&&!y)throw new TypeError("Object.keys called on a non-object");var A=a&&g;if(m&&p.length>0&&!t.call(p,0))for(var O=0;O<p.length;++O)v.push(String(O));if(y&&p.length>0)for(var S=0;S<p.length;++S)v.push(String(S));else for(var x in p)!(A&&x==="prototype")&&t.call(p,x)&&v.push(String(x));if(o)for(var P=d(p),C=0;C<s.length;++C)!(P&&s[C]==="constructor")&&t.call(p,s[C])&&v.push(s[C]);return v}}return Kr=e,Kr}var Ur,Ko;function Au(){if(Ko)return Ur;Ko=1;var e=Array.prototype.slice,t=Es(),n=Object.keys,r=n?function(a){return n(a)}:Su(),i=Object.keys;return r.shim=function(){if(Object.keys){var a=function(){var s=Object.keys(arguments);return s&&s.length===arguments.length}(1,2);a||(Object.keys=function(l){return t(l)?i(e.call(l)):i(l)})}else Object.keys=r;return Object.keys||r},Ur=r,Ur}var Vr,Uo;function Eu(){if(Uo)return Vr;Uo=1;var e=dr(),t=e("%Object.defineProperty%",!0),n=function(){if(t)try{return t({},"a",{value:1}),!0}catch{return!1}return!1};return n.hasArrayLengthDefineBug=function(){if(!n())return null;try{return t([],"length",{value:1}).length!==1}catch{return!0}},Vr=n,Vr}var zr,Vo;function pr(){if(Vo)return zr;Vo=1;var e=Au(),t=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",n=Object.prototype.toString,r=Array.prototype.concat,i=Object.defineProperty,o=function(c){return typeof c=="function"&&n.call(c)==="[object Function]"},a=Eu()(),s=i&&a,l=function(c,d,u,p){if(d in c){if(p===!0){if(c[d]===u)return}else if(!o(p)||!p())return}s?i(c,d,{configurable:!0,enumerable:!1,value:u,writable:!0}):c[d]=u},f=function(c,d){var u=arguments.length>2?arguments[2]:{},p=e(d);t&&(p=r.call(p,Object.getOwnPropertySymbols(d)));for(var w=0;w<p.length;w+=1)l(c,p[w],d[p[w]],u[p[w]])};return f.supportsDescriptors=!!s,zr=f,zr}var Gr,zo;function Os(){if(zo)return Gr;zo=1;var e=function(t){return t!==t};return Gr=function(n,r){return n===0&&r===0?1/n===1/r:!!(n===r||e(n)&&e(r))},Gr}var Wr,Go;function $s(){if(Go)return Wr;Go=1;var e=Os();return Wr=function(){return typeof Object.is=="function"?Object.is:e},Wr}var Hr,Wo;function Ou(){if(Wo)return Hr;Wo=1;var e=$s(),t=pr();return Hr=function(){var r=e();return t(Object,{is:r},{is:function(){return Object.is!==r}}),r},Hr}var Yr,Ho;function Ps(){if(Ho)return Yr;Ho=1;var e=pr(),t=ao(),n=Os(),r=$s(),i=Ou(),o=t(r(),Object);return e(o,{getPolyfill:r,implementation:n,shim:i}),Yr=o,Yr}var Jr,Yo;function js(){return Yo||(Yo=1,Jr=function(t){return t!==t}),Jr}var Qr,Jo;function xs(){if(Jo)return Qr;Jo=1;var e=js();return Qr=function(){return Number.isNaN&&Number.isNaN(NaN)&&!Number.isNaN("a")?Number.isNaN:e},Qr}var Xr,Qo;function $u(){if(Qo)return Xr;Qo=1;var e=pr(),t=xs();return Xr=function(){var r=t();return e(Number,{isNaN:r},{isNaN:function(){return Number.isNaN!==r}}),r},Xr}var Zr,Xo;function Pu(){if(Xo)return Zr;Xo=1;var e=ao(),t=pr(),n=js(),r=xs(),i=$u(),o=e(r(),Number);return t(o,{getPolyfill:r,implementation:n,shim:i}),Zr=o,Zr}var ei,Zo;function ju(){if(Zo)return ei;Zo=1;function e(E,$){return r(E)||n(E,$)||t()}function t(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function n(E,$){var F=[],Y=!0,J=!1,re=void 0;try{for(var te=E[Symbol.iterator](),se;!(Y=(se=te.next()).done)&&(F.push(se.value),!($&&F.length===$));Y=!0);}catch(oe){J=!0,re=oe}finally{try{!Y&&te.return!=null&&te.return()}finally{if(J)throw re}}return F}function r(E){if(Array.isArray(E))return E}function i(E){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?i=function(F){return typeof F}:i=function(F){return F&&typeof Symbol=="function"&&F.constructor===Symbol&&F!==Symbol.prototype?"symbol":typeof F},i(E)}var o=/a/g.flags!==void 0,a=function($){var F=[];return $.forEach(function(Y){return F.push(Y)}),F},s=function($){var F=[];return $.forEach(function(Y,J){return F.push([J,Y])}),F},l=Object.is?Object.is:Ps(),f=Object.getOwnPropertySymbols?Object.getOwnPropertySymbols:function(){return[]},c=Number.isNaN?Number.isNaN:Pu();function d(E){return E.call.bind(E)}var u=d(Object.prototype.hasOwnProperty),p=d(Object.prototype.propertyIsEnumerable),w=d(Object.prototype.toString),g=Kt.types,y=g.isAnyArrayBuffer,m=g.isArrayBufferView,v=g.isDate,A=g.isMap,O=g.isRegExp,S=g.isSet,x=g.isNativeError,P=g.isBoxedPrimitive,C=g.isNumberObject,R=g.isStringObject,L=g.isBooleanObject,z=g.isBigIntObject,G=g.isSymbolObject,ee=g.isFloat32Array,W=g.isFloat64Array;function B(E){if(E.length===0||E.length>10)return!0;for(var $=0;$<E.length;$++){var F=E.charCodeAt($);if(F<48||F>57)return!0}return E.length===10&&E>=Math.pow(2,32)}function D(E){return Object.keys(E).filter(B).concat(f(E).filter(Object.prototype.propertyIsEnumerable.bind(E)))}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */function M(E,$){if(E===$)return 0;for(var F=E.length,Y=$.length,J=0,re=Math.min(F,Y);J<re;++J)if(E[J]!==$[J]){F=E[J],Y=$[J];break}return F<Y?-1:Y<F?1:0}var N=!0,U=!1,Z=0,j=1,h=2,b=3;function _(E,$){return o?E.source===$.source&&E.flags===$.flags:RegExp.prototype.toString.call(E)===RegExp.prototype.toString.call($)}function I(E,$){if(E.byteLength!==$.byteLength)return!1;for(var F=0;F<E.byteLength;F++)if(E[F]!==$[F])return!1;return!0}function k(E,$){return E.byteLength!==$.byteLength?!1:M(new Uint8Array(E.buffer,E.byteOffset,E.byteLength),new Uint8Array($.buffer,$.byteOffset,$.byteLength))===0}function K(E,$){return E.byteLength===$.byteLength&&M(new Uint8Array(E),new Uint8Array($))===0}function H(E,$){return C(E)?C($)&&l(Number.prototype.valueOf.call(E),Number.prototype.valueOf.call($)):R(E)?R($)&&String.prototype.valueOf.call(E)===String.prototype.valueOf.call($):L(E)?L($)&&Boolean.prototype.valueOf.call(E)===Boolean.prototype.valueOf.call($):z(E)?z($)&&BigInt.prototype.valueOf.call(E)===BigInt.prototype.valueOf.call($):G($)&&Symbol.prototype.valueOf.call(E)===Symbol.prototype.valueOf.call($)}function V(E,$,F,Y){if(E===$)return E!==0?!0:F?l(E,$):!0;if(F){if(i(E)!=="object")return typeof E=="number"&&c(E)&&c($);if(i($)!=="object"||E===null||$===null||Object.getPrototypeOf(E)!==Object.getPrototypeOf($))return!1}else{if(E===null||i(E)!=="object")return $===null||i($)!=="object"?E==$:!1;if($===null||i($)!=="object")return!1}var J=w(E),re=w($);if(J!==re)return!1;if(Array.isArray(E)){if(E.length!==$.length)return!1;var te=D(E),se=D($);return te.length!==se.length?!1:ye(E,$,F,Y,j,te)}if(J==="[object Object]"&&(!A(E)&&A($)||!S(E)&&S($)))return!1;if(v(E)){if(!v($)||Date.prototype.getTime.call(E)!==Date.prototype.getTime.call($))return!1}else if(O(E)){if(!O($)||!_(E,$))return!1}else if(x(E)||E instanceof Error){if(E.message!==$.message||E.name!==$.name)return!1}else if(m(E)){if(!F&&(ee(E)||W(E))){if(!I(E,$))return!1}else if(!k(E,$))return!1;var oe=D(E),Te=D($);return oe.length!==Te.length?!1:ye(E,$,F,Y,Z,oe)}else{if(S(E))return!S($)||E.size!==$.size?!1:ye(E,$,F,Y,h);if(A(E))return!A($)||E.size!==$.size?!1:ye(E,$,F,Y,b);if(y(E)){if(!K(E,$))return!1}else if(P(E)&&!H(E,$))return!1}return ye(E,$,F,Y,Z)}function ne(E,$){return $.filter(function(F){return p(E,F)})}function ye(E,$,F,Y,J,re){if(arguments.length===5){re=Object.keys(E);var te=Object.keys($);if(re.length!==te.length)return!1}for(var se=0;se<re.length;se++)if(!u($,re[se]))return!1;if(F&&arguments.length===5){var oe=f(E);if(oe.length!==0){var Te=0;for(se=0;se<oe.length;se++){var Be=oe[se];if(p(E,Be)){if(!p($,Be))return!1;re.push(Be),Te++}else if(p($,Be))return!1}var Gt=f($);if(oe.length!==Gt.length&&ne($,Gt).length!==Te)return!1}else{var Pt=f($);if(Pt.length!==0&&ne($,Pt).length!==0)return!1}}if(re.length===0&&(J===Z||J===j&&E.length===0||E.size===0))return!0;if(Y===void 0)Y={val1:new Map,val2:new Map,position:0};else{var Wt=Y.val1.get(E);if(Wt!==void 0){var jt=Y.val2.get($);if(jt!==void 0)return Wt===jt}Y.position++}Y.val1.set(E,Y.position),Y.val2.set($,Y.position);var Ms=T(E,$,F,re,Y,J);return Y.val1.delete(E),Y.val2.delete($),Ms}function Ie(E,$,F,Y){for(var J=a(E),re=0;re<J.length;re++){var te=J[re];if(V($,te,F,Y))return E.delete(te),!0}return!1}function De(E){switch(i(E)){case"undefined":return null;case"object":return;case"symbol":return!1;case"string":E=+E;case"number":if(c(E))return!1}return!0}function me(E,$,F){var Y=De(F);return Y??($.has(Y)&&!E.has(Y))}function Ge(E,$,F,Y,J){var re=De(F);if(re!=null)return re;var te=$.get(re);return te===void 0&&!$.has(re)||!V(Y,te,!1,J)?!1:!E.has(re)&&V(Y,te,!1,J)}function ht(E,$,F,Y){for(var J=null,re=a(E),te=0;te<re.length;te++){var se=re[te];if(i(se)==="object"&&se!==null)J===null&&(J=new Set),J.add(se);else if(!$.has(se)){if(F||!me(E,$,se))return!1;J===null&&(J=new Set),J.add(se)}}if(J!==null){for(var oe=a($),Te=0;Te<oe.length;Te++){var Be=oe[Te];if(i(Be)==="object"&&Be!==null){if(!Ie(J,Be,F,Y))return!1}else if(!F&&!E.has(Be)&&!Ie(J,Be,F,Y))return!1}return J.size===0}return!0}function Pe(E,$,F,Y,J,re){for(var te=a(E),se=0;se<te.length;se++){var oe=te[se];if(V(F,oe,J,re)&&V(Y,$.get(oe),J,re))return E.delete(oe),!0}return!1}function We(E,$,F,Y){for(var J=null,re=s(E),te=0;te<re.length;te++){var se=e(re[te],2),oe=se[0],Te=se[1];if(i(oe)==="object"&&oe!==null)J===null&&(J=new Set),J.add(oe);else{var Be=$.get(oe);if(Be===void 0&&!$.has(oe)||!V(Te,Be,F,Y)){if(F||!Ge(E,$,oe,Te,Y))return!1;J===null&&(J=new Set),J.add(oe)}}}if(J!==null){for(var Gt=s($),Pt=0;Pt<Gt.length;Pt++){var Wt=e(Gt[Pt],2),oe=Wt[0],jt=Wt[1];if(i(oe)==="object"&&oe!==null){if(!Pe(J,E,oe,jt,F,Y))return!1}else if(!F&&(!E.has(oe)||!V(E.get(oe),jt,!1,Y))&&!Pe(J,E,oe,jt,!1,Y))return!1}return J.size===0}return!0}function T(E,$,F,Y,J,re){var te=0;if(re===h){if(!ht(E,$,F,J))return!1}else if(re===b){if(!We(E,$,F,J))return!1}else if(re===j)for(;te<E.length;te++)if(u(E,te)){if(!u($,te)||!V(E[te],$[te],F,J))return!1}else{if(u($,te))return!1;for(var se=Object.keys(E);te<se.length;te++){var oe=se[te];if(!u($,oe)||!V(E[oe],$[oe],F,J))return!1}return se.length===Object.keys($).length}for(te=0;te<Y.length;te++){var Te=Y[te];if(!V(E[Te],$[Te],F,J))return!1}return!0}function pt(E,$){return V(E,$,U)}function uo(E,$){return V(E,$,N)}return ei={isDeepEqual:pt,isDeepStrictEqual:uo},ei}var ea;function Li(){if(ea)return nr;ea=1;function e(j){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?e=function(b){return typeof b}:e=function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b},e(j)}function t(j,h){if(!(j instanceof h))throw new TypeError("Cannot call a class as a function")}var n=As(),r=n.codes,i=r.ERR_AMBIGUOUS_ARGUMENT,o=r.ERR_INVALID_ARG_TYPE,a=r.ERR_INVALID_ARG_VALUE,s=r.ERR_INVALID_RETURN_VALUE,l=r.ERR_MISSING_ARGS,f=wu(),c=Kt,d=c.inspect,u=Kt.types,p=u.isPromise,w=u.isRegExp,g=Object.assign?Object.assign:_u().assign,y=Object.is?Object.is:Ps(),m,v;function A(){var j=ju();m=j.isDeepEqual,v=j.isDeepStrictEqual}var O=!1,S=Oc.exports=L,x={};function P(j){throw j.message instanceof Error?j.message:new f(j)}function C(j,h,b,_,I){var k=arguments.length,K;if(k===0)K="Failed";else if(k===1)b=j,j=void 0;else{if(O===!1){O=!0;var H=process.emitWarning?process.emitWarning:console.warn.bind(console);H("assert.fail() with more than one argument is deprecated. Please use assert.strictEqual() instead or only pass a message.","DeprecationWarning","DEP0094")}k===2&&(_="!=")}if(b instanceof Error)throw b;var V={actual:j,expected:h,operator:_===void 0?"fail":_,stackStartFn:I||C};b!==void 0&&(V.message=b);var ne=new f(V);throw K&&(ne.message=K,ne.generatedMessage=!0),ne}S.fail=C,S.AssertionError=f;function R(j,h,b,_){if(!b){var I=!1;if(h===0)I=!0,_="No value argument passed to `assert.ok()`";else if(_ instanceof Error)throw _;var k=new f({actual:b,expected:!0,message:_,operator:"==",stackStartFn:j});throw k.generatedMessage=I,k}}function L(){for(var j=arguments.length,h=new Array(j),b=0;b<j;b++)h[b]=arguments[b];R.apply(void 0,[L,h.length].concat(h))}S.ok=L,S.equal=function j(h,b,_){if(arguments.length<2)throw new l("actual","expected");h!=b&&P({actual:h,expected:b,message:_,operator:"==",stackStartFn:j})},S.notEqual=function j(h,b,_){if(arguments.length<2)throw new l("actual","expected");h==b&&P({actual:h,expected:b,message:_,operator:"!=",stackStartFn:j})},S.deepEqual=function j(h,b,_){if(arguments.length<2)throw new l("actual","expected");m===void 0&&A(),m(h,b)||P({actual:h,expected:b,message:_,operator:"deepEqual",stackStartFn:j})},S.notDeepEqual=function j(h,b,_){if(arguments.length<2)throw new l("actual","expected");m===void 0&&A(),m(h,b)&&P({actual:h,expected:b,message:_,operator:"notDeepEqual",stackStartFn:j})},S.deepStrictEqual=function j(h,b,_){if(arguments.length<2)throw new l("actual","expected");m===void 0&&A(),v(h,b)||P({actual:h,expected:b,message:_,operator:"deepStrictEqual",stackStartFn:j})},S.notDeepStrictEqual=z;function z(j,h,b){if(arguments.length<2)throw new l("actual","expected");m===void 0&&A(),v(j,h)&&P({actual:j,expected:h,message:b,operator:"notDeepStrictEqual",stackStartFn:z})}S.strictEqual=function j(h,b,_){if(arguments.length<2)throw new l("actual","expected");y(h,b)||P({actual:h,expected:b,message:_,operator:"strictEqual",stackStartFn:j})},S.notStrictEqual=function j(h,b,_){if(arguments.length<2)throw new l("actual","expected");y(h,b)&&P({actual:h,expected:b,message:_,operator:"notStrictEqual",stackStartFn:j})};var G=function j(h,b,_){var I=this;t(this,j),b.forEach(function(k){k in h&&(_!==void 0&&typeof _[k]=="string"&&w(h[k])&&h[k].test(_[k])?I[k]=_[k]:I[k]=h[k])})};function ee(j,h,b,_,I,k){if(!(b in j)||!v(j[b],h[b])){if(!_){var K=new G(j,I),H=new G(h,I,j),V=new f({actual:K,expected:H,operator:"deepStrictEqual",stackStartFn:k});throw V.actual=j,V.expected=h,V.operator=k.name,V}P({actual:j,expected:h,message:_,operator:k.name,stackStartFn:k})}}function W(j,h,b,_){if(typeof h!="function"){if(w(h))return h.test(j);if(arguments.length===2)throw new o("expected",["Function","RegExp"],h);if(e(j)!=="object"||j===null){var I=new f({actual:j,expected:h,message:b,operator:"deepStrictEqual",stackStartFn:_});throw I.operator=_.name,I}var k=Object.keys(h);if(h instanceof Error)k.push("name","message");else if(k.length===0)throw new a("error",h,"may not be an empty object");return m===void 0&&A(),k.forEach(function(K){typeof j[K]=="string"&&w(h[K])&&h[K].test(j[K])||ee(j,h,K,b,k,_)}),!0}return h.prototype!==void 0&&j instanceof h?!0:Error.isPrototypeOf(h)?!1:h.call({},j)===!0}function B(j){if(typeof j!="function")throw new o("fn","Function",j);try{j()}catch(h){return h}return x}function D(j){return p(j)||j!==null&&e(j)==="object"&&typeof j.then=="function"&&typeof j.catch=="function"}function M(j){return Promise.resolve().then(function(){var h;if(typeof j=="function"){if(h=j(),!D(h))throw new s("instance of Promise","promiseFn",h)}else if(D(j))h=j;else throw new o("promiseFn",["Function","Promise"],j);return Promise.resolve().then(function(){return h}).then(function(){return x}).catch(function(b){return b})})}function N(j,h,b,_){if(typeof b=="string"){if(arguments.length===4)throw new o("error",["Object","Error","Function","RegExp"],b);if(e(h)==="object"&&h!==null){if(h.message===b)throw new i("error/message",'The error message "'.concat(h.message,'" is identical to the message.'))}else if(h===b)throw new i("error/message",'The error "'.concat(h,'" is identical to the message.'));_=b,b=void 0}else if(b!=null&&e(b)!=="object"&&typeof b!="function")throw new o("error",["Object","Error","Function","RegExp"],b);if(h===x){var I="";b&&b.name&&(I+=" (".concat(b.name,")")),I+=_?": ".concat(_):".";var k=j.name==="rejects"?"rejection":"exception";P({actual:void 0,expected:b,operator:j.name,message:"Missing expected ".concat(k).concat(I),stackStartFn:j})}if(b&&!W(h,b,_,j))throw h}function U(j,h,b,_){if(h!==x){if(typeof b=="string"&&(_=b,b=void 0),!b||W(h,b)){var I=_?": ".concat(_):".",k=j.name==="doesNotReject"?"rejection":"exception";P({actual:h,expected:b,operator:j.name,message:"Got unwanted ".concat(k).concat(I,`
`)+'Actual message: "'.concat(h&&h.message,'"'),stackStartFn:j})}throw h}}S.throws=function j(h){for(var b=arguments.length,_=new Array(b>1?b-1:0),I=1;I<b;I++)_[I-1]=arguments[I];N.apply(void 0,[j,B(h)].concat(_))},S.rejects=function j(h){for(var b=arguments.length,_=new Array(b>1?b-1:0),I=1;I<b;I++)_[I-1]=arguments[I];return M(h).then(function(k){return N.apply(void 0,[j,k].concat(_))})},S.doesNotThrow=function j(h){for(var b=arguments.length,_=new Array(b>1?b-1:0),I=1;I<b;I++)_[I-1]=arguments[I];U.apply(void 0,[j,B(h)].concat(_))},S.doesNotReject=function j(h){for(var b=arguments.length,_=new Array(b>1?b-1:0),I=1;I<b;I++)_[I-1]=arguments[I];return M(h).then(function(k){return U.apply(void 0,[j,k].concat(_))})},S.ifError=function j(h){if(h!=null){var b="ifError got unwanted exception: ";e(h)==="object"&&typeof h.message=="string"?h.message.length===0&&h.constructor?b+=h.constructor.name:b+=h.message:b+=d(h);var _=new f({actual:h,expected:null,operator:"ifError",message:b,stackStartFn:j}),I=h.stack;if(typeof I=="string"){var k=I.split(`
`);k.shift();for(var K=_.stack.split(`
`),H=0;H<k.length;H++){var V=K.indexOf(k[H]);if(V!==-1){K=K.slice(0,V);break}}_.stack="".concat(K.join(`
`),`
`).concat(k.join(`
`))}throw _}};function Z(){for(var j=arguments.length,h=new Array(j),b=0;b<j;b++)h[b]=arguments[b];R.apply(void 0,[Z,h.length].concat(h))}return S.strict=g(Z,S,{equal:S.strictEqual,deepEqual:S.deepStrictEqual,notEqual:S.notStrictEqual,notDeepEqual:S.notDeepStrictEqual}),S.strict.strict=S.strict,nr}var xu=Li();const ks=Ec(xu);class Is{static decodeArrayBuffer(t){const n=t.length/4*3,r=new ArrayBuffer(n);return this.decode(t,r),r}static removePaddingChars(t){return this._keyStr.indexOf(t.charAt(t.length-1))==64?t.substring(0,t.length-1):t}static decode(t,n){t=this.removePaddingChars(t),t=this.removePaddingChars(t);const r=Math.floor(t.length/4*3);let i,o,a,s,l,f,c,d=0,u=0;const p=n?new Uint8Array(n):new Uint8Array(r);for(t=t.replace(/[^A-Za-z0-9+/=]/g,""),d=0;d<r;d+=3)s=this._keyStr.indexOf(t.charAt(u++)),l=this._keyStr.indexOf(t.charAt(u++)),f=this._keyStr.indexOf(t.charAt(u++)),c=this._keyStr.indexOf(t.charAt(u++)),i=s<<2|l>>4,o=(l&15)<<4|f>>2,a=(f&3)<<6|c,p[d]=i,f!=64&&(p[d+1]=o),c!=64&&(p[d+2]=a);return p}}Se(Is,"_keyStr","ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=");class Ts{get filename(){const t=this.location.split("/").at(-1);if(!t)throw new Error(`Unexpected sample location '${this.location}'`);return t}}class Ne extends Ts{constructor(n,r){super();Se(this,"label");Se(this,"location");this.location=n,this.label=r}async downloadDirtSample(){const i=await mc("tidalcycles","Dirt-Samples",this.location),o=Is.decodeArrayBuffer(i);return new Blob([o],{type:"audio/wav"})}async ensureCached(){let n;n=await xe.instance.getSampleBlob(this.filename),n||(n=await this.downloadDirtSample(),xe.instance.addSample({filename:this.filename,data:n}))}}class ku extends Ts{constructor(n,r){super();Se(this,"label");Se(this,"location");this.location=n,this.label=r}async ensureCached(){let n;if(n=await xe.instance.getSampleBlob(this.filename),!n){const r=await fetch(this.location);if(!r.ok)throw new Error(`Error fetching file: '${this.filename}'
${await r.text()}`);n=await r.blob(),xe.instance.addSample({filename:this.filename,data:n})}}}class yr{}Se(yr,"samples",[new ku("https://dobrian.github.io/cmp/topics/sample-recording-and-playback-with-web-audio-api/freejazz.wav","Freejazz"),new Ne("moog/000_Mighty Moog C2.wav","Moog C2"),new Ne("juno/03_juno_chorus_low.wav","Juno"),new Ne("jazz/007_SN.wav","Snare"),new Ne("bleep/checkpoint-hit.wav","Bleep"),new Ne("808/CH.WAV","808CH"),new Ne("808oh/OH00.WAV","808OH"),new Ne("808bd/BD0010.WAV","808BD"),new Ne("808bd/BD0025.WAV","808BD2"),new Ne("808/CP.WAV","808CP"),new Ne("808/RS.WAV","808RS"),new Ne("juno/04_juno_chorus_mid.wav","Juno Mid"),new Ne("birds/001_10.wav","Birdies"),new Ne("bleep/pc_beep.wav","Beep")]);ks(yr.samples.length>ts,"Not enough default samples");class Iu{static toAppState(t){return Cu(JSON.parse(t),Ui("AppState"))}static appStateToJson(t){return JSON.stringify(Du(t,Ui("AppState")),null,2)}}function Ye(e,t,n,r=""){const i=Ki(e),o=r?` on ${r}`:"",a=n?` for key "${n}"`:"";throw Error(`Invalid value${a}${o}. Expected ${i} but got ${JSON.stringify(t)}`)}function Ki(e){return Array.isArray(e)?e.length===2&&e[0]===void 0?`an optional ${Ki(e[1])}`:`one of [${e.map(t=>Ki(t)).join(", ")}]`:typeof e=="object"&&e.literal!==void 0?e.literal:typeof e}function Tu(e){if(e.jsonToJS===void 0){const t={};e.props.forEach(n=>t[n.json]={key:n.js,typ:n.typ}),e.jsonToJS=t}return e.jsonToJS}function Ru(e){if(e.jsToJSON===void 0){const t={};e.props.forEach(n=>t[n.js]={key:n.json,typ:n.typ}),e.jsToJSON=t}return e.jsToJSON}function Bt(e,t,n,r="",i=""){function o(u,p){return typeof u==typeof p?p:Ye(u,p,r,i)}function a(u,p){const w=u.length;for(let g=0;g<w;g++){const y=u[g];try{return Bt(p,y,n)}catch{}}return Ye(u,p,r,i)}function s(u,p){return u.indexOf(p)!==-1?p:Ye(u.map(w=>$n(w)),p,r,i)}function l(u,p){return Array.isArray(p)?p.map(w=>Bt(w,u,n)):Ye($n("array"),p,r,i)}function f(u){if(u===null)return null;const p=new Date(u);return isNaN(p.valueOf())?Ye($n("Date"),u,r,i):p}function c(u,p,w){if(w===null||typeof w!="object"||Array.isArray(w))return Ye($n(d||"object"),w,r,i);const g={};return Object.getOwnPropertyNames(u).forEach(y=>{const m=u[y],v=Object.prototype.hasOwnProperty.call(w,y)?w[y]:void 0;g[m.key]=Bt(v,m.typ,n,y,d)}),Object.getOwnPropertyNames(w).forEach(y=>{Object.prototype.hasOwnProperty.call(u,y)||(g[y]=Bt(w[y],p,n,y,d))}),g}if(t==="any")return e;if(t===null)return e===null?e:Ye(t,e,r,i);if(t===!1)return Ye(t,e,r,i);let d;for(;typeof t=="object"&&t.ref!==void 0;)d=t.ref,t=Nu[t.ref];return Array.isArray(t)?s(t,e):typeof t=="object"?t.hasOwnProperty("unionMembers")?a(t.unionMembers,e):t.hasOwnProperty("arrayItems")?l(t.arrayItems,e):t.hasOwnProperty("props")?c(n(t),t.additional,e):Ye(t,e,r,i):t===Date&&typeof e!="number"?f(e):o(t,e)}function Cu(e,t){return Bt(e,t,Tu)}function Du(e,t){return Bt(e,t,Ru)}function $n(e){return{literal:e}}function Bu(e){return{arrayItems:e}}function ta(e,t){return{props:e,additional:t}}function Ui(e){return{ref:e}}const Nu={AppState:ta([{json:"samplers",js:"samplers",typ:Bu(Ui("SamplePlayer"))}],!1),SamplePlayer:ta([{json:"label",js:"label",typ:""},{json:"playbackRate",js:"playbackRate",typ:3.14},{json:"src",js:"src",typ:""}],!1)},Rs="soundbored-app";function Mu(){const e=localStorage.getItem(Rs);if(e)try{return Iu.toAppState(e)}catch(t){return console.error(t),null}return null}function Fu(){return{samplers:yr.samples.slice(0,ts).map(({filename:t,label:n})=>({src:t,label:n,playbackRate:1}))}}const qu=Mu()??Fu(),[gr,Cs]=Xa(qu);function ir(){localStorage.setItem(Rs,JSON.stringify(gr))}async function Lu(){xe.init(),await Promise.all(yr.samples.map(async e=>{try{await e.ensureCached()}catch(t){console.error(t)}}))}const Ku="_root_culz7_1",Uu="_content_culz7_7",Vu="_navbar_culz7_14",zu="_icon_culz7_27",Gu="_footer_culz7_47",Wu="_interaction_culz7_64",Ke={root:Ku,content:Uu,navbar:Vu,icon:zu,"header-title":"_header-title_culz7_43",footer:Gu,interaction:Wu},Hu=ue('<div><header><h1>SoundBored</h1><ul class="flex gap-1"><li><button></button><input id="fileExplorer" type="file" accept="audio/*" hidden multiple></li><li><button></button></li><li><a href="https://github.com/grddavies/soundbored"></a></li></ul></header><main role="main"></main><footer>');function Yu(){const e=Lu(),[t,n]=be(!0);return(()=>{const r=Hu(),i=r.firstChild,o=i.firstChild,a=o.nextSibling,s=a.firstChild,l=s.firstChild,f=l.nextSibling,c=s.nextSibling,d=c.firstChild,u=c.nextSibling,p=u.firstChild,w=i.nextSibling,g=w.nextSibling;return ie(r,ce(Mf,{get show(){return t()},setShow:n}),i),l.$$click=()=>{var y;return(y=document.getElementById("fileExplorer"))==null?void 0:y.click()},ie(l,ce(bl,{size:36})),f.addEventListener("change",y=>{if(y.currentTarget.files)for(const m of y.currentTarget.files)xe.instance.addSampleFromFile(m)}),d.$$click=()=>{n(!0)},ie(d,ce(vl,{size:36})),ie(p,ce(ml,{size:36})),ie(w,ce(yd,{appInitialized:e,get samplers(){return gr.samplers}})),ae(y=>{const m=Ke.root,v=Ke.navbar+" px-4",A=Ke["header-title"],O=Ke.icon,S=`${Ke.interaction} flex`,x=Ke.icon,P=`${Ke.interaction} flex`,C=Ke.icon,R=Ke.content,L=Ke.footer;return m!==y._v$&&he(r,y._v$=m),v!==y._v$2&&he(i,y._v$2=v),A!==y._v$3&&he(o,y._v$3=A),O!==y._v$4&&he(s,y._v$4=O),S!==y._v$5&&he(l,y._v$5=S),x!==y._v$6&&he(c,y._v$6=x),P!==y._v$7&&he(d,y._v$7=P),C!==y._v$8&&he(u,y._v$8=C),R!==y._v$9&&he(w,y._v$9=R),L!==y._v$10&&he(g,y._v$10=L),y},{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0,_v$5:void 0,_v$6:void 0,_v$7:void 0,_v$8:void 0,_v$9:void 0,_v$10:void 0}),r})()}hn(["click"]);function Ju(e){return e!==null&&(typeof e=="object"||typeof e=="function")}var or=e=>typeof e=="function"&&!e.length?e():e,na=e=>Array.isArray(e)?e:e?[e]:[];function ra(e,...t){return typeof e=="function"?e(...t):e}var Qu=Object.entries,Xu=rn;function Zu(e,t,n,r){return e.addEventListener(t,n,r),Xu(e.removeEventListener.bind(e,t,n,r))}function ef(e,t,n,r){const i=()=>{na(or(e)).forEach(o=>{o&&na(or(t)).forEach(a=>Zu(o,a,n,r))})};typeof e=="function"?sr(i):ae(i)}var tf=e=>Object.assign({},e);function ia(e,...t){const n=typeof t[0]=="string"?[t]:t,r=tf(e),i=[];for(let o=0;o<n.length;o++){const a=n[o];i.push({});for(const s of a)i[o][s]=r[s],delete r[s]}return[...i,r]}var nf=e=>e.substring(2).toLowerCase(),rf=e=>{const t={};return Object.entries(e).forEach(([n,r])=>t[nf(n)]=r),t};function dn(e){const[{target:t=document.body,pointerTypes:n,passive:r=!0},i]=ia(e,"target","pointerTypes","passive"),[{gotcapture:o,lostcapture:a},s]=ia(rf(i),"gotcapture","lostcapture"),l=c=>d=>(!n||n.includes(d.pointerType))&&c(d),f=(c,d)=>ef(t,c,l(d),{passive:r});Qu(s).forEach(([c,d])=>d&&f(`pointer${c}`,d)),o&&f("gotpointercapture",o),a&&f("lostpointercapture",a)}function ti(e,t,n,r,i){t.forEach(o=>{e.addEventListener(o,n,{capture:r,passive:i})})}function Pn(e,t,n,r,i){t.forEach(o=>e.removeEventListener(o,n,{capture:r,passive:i}))}function of(e,t=!1,n=!1){const r=document.hidden!==void 0;function i(){}const o=navigator.userAgent.toLowerCase(),a=n||o.indexOf("iphone")>=0&&o.indexOf("like iphone")<0||o.indexOf("ipad")>=0&&o.indexOf("like ipad")<0||o.indexOf("ipod")>=0&&o.indexOf("like ipod")<0||o.indexOf("mac os x")>=0&&navigator.maxTouchPoints>0;let s=!0;function l(){const O=!!(t||(!r||!document.hidden)&&(!a||document.hasFocus()));O!==s&&(s=O,g(!1),d())}const f=()=>{l()};r&&ti(document,["visibilitychange"],f,!0,!0);function c(O){O&&O.target!==window||l()}a&&ti(window,["focus","blur"],c,!0,!0);function d(){if(s){if(e.state!=="running"&&e.state!=="closed"&&v){const O=e.resume();O&&O.then(i,i).catch(i)}}else if(e.state==="running"){const O=e.suspend();O&&O.then(i,i).catch(i)}}const u=O=>{(!O||!O.unmuteHandled)&&(O.unmuteHandled=!0,d())};e.addEventListener("statechange",u,{capture:!0,passive:!0}),e.onstatechange||(e.onstatechange=u);let p=null;const w="data:audio/mpeg;base64,//uQx"+"A".repeat(23)+"WGluZwAAAA8AAAACAAACcQCA"+"gICA".repeat(16)+"/".repeat(66)+"8AAABhTEFNRTMuMTAwA8MAAAAAAAAAABQgJAUHQQAB9AAAAnGMHkkI"+"A".repeat(320)+"//sQxAADgnABGiAAQBCqgCRMAAgEAH"+"/".repeat(15)+"7+n/9FTuQsQH//////2NG0jWUGlio5gLQTOtIoeR2WX////X4s9Atb/JRVCbBUpeRUq"+"/".repeat(18)+"9RUi0f2jn/+xDECgPCjAEQAABN4AAANIAAAAQVTEFNRTMuMTAw"+"V".repeat(97)+"Q==";function g(O){if(a)if(s){if(O){if(!p){const S=document.createElement("div");S.innerHTML="<audio x-webkit-airplay='deny'></audio>",p=S.children.item(0),p.controls=!1,p.disableRemotePlayback=!0,p.preload="auto",p.src=w,p.loop=!0,p.load()}if(p.paused){const S=p.play();S&&S.then(i,y).catch(y)}}}else y()}function y(){p&&(p.src="about:blank",p.load(),p=null)}const m=["click","contextmenu","auxclick","dblclick","mousedown","mouseup","touchend","keydown","keyup"];let v=!1;function A(){v=!0,g(!0),d()}return ti(window,m,A,!0,!0),{dispose:function(){y(),r&&Pn(document,["visibilitychange"],f,!0,!0),a&&Pn(window,["focus","blur"],c,!0,!0),Pn(window,m,A,!0,!0),Pn(e,["statechange"],u,!0,!0),e.onstatechange===u&&(e.onstatechange=null)}}}const[St,af]=be(null);function sf(e,t=!1){if(!t&&St())return;const n=new AudioContext(e);of(n),af(n)}class lf{constructor(t,n){Se(this,"audio");Se(this,"_splitter");Se(this,"_audioOut");Se(this,"_sampleHolder");Se(this,"_analyser");Se(this,"_playing",!1);this.audio=new AudioBufferSourceNode(t,n),this._splitter=new ChannelSplitterNode(t),this._analyser=new AnalyserNode(t),this._audioOut=new ChannelMergerNode(t),this._sampleHolder=new Float32Array(1),this.audio.addEventListener("ended",()=>{this._playing=!1})}get playbackPosition(){return this._analyser.getFloatTimeDomainData(this._sampleHolder),this._sampleHolder[0]}get playing(){return this._playing}loadBuffer(t){const n=Math.max(t.numberOfChannels,3),r=n-1;if(this.audio.buffer=new AudioBuffer({length:t.length,sampleRate:t.sampleRate,numberOfChannels:n}),t.numberOfChannels==1)this.audio.buffer.copyToChannel(t.getChannelData(0),0),this.audio.buffer.copyToChannel(t.getChannelData(0),1);else for(let o=0;o<t.numberOfChannels;o++)this.audio.buffer.copyToChannel(t.getChannelData(o),o);const i=this.audio.buffer.getChannelData(r);for(let o=0;o<t.length;o++)i[o]=o/t.length;this.audio.connect(this._splitter);for(let o=0;o<r;o++)this._splitter.connect(this._audioOut,o,o);this._splitter.connect(this._analyser,r)}get playbackRate(){return this.audio.playbackRate}start(){this._playing=!0,this.audio.start()}stop(){this.audio.stop()}connect(t,n){return this._audioOut.connect(t,n)}}const cf="_buttonPad_r7cii_1",uf="_selected_r7cii_10",ff="_label_r7cii_36",ni={buttonPad:cf,selected:uf,label:ff},df=ue("<canvas>"),hf=ue("<button><div>"),pf=ue("<button>"),yf=e=>{let t,n,r,i,o;const a=()=>St()&&e.model.src,[s]=sa(a,async d=>{var p;const u=await xe.instance.getSampleBlob(d);if(u)return await((p=St())==null?void 0:p.decodeAudioData(await u.arrayBuffer()))});sr(()=>{const d=e.model.playbackRate;r&&(r.audio.playbackRate.value=d)});function l(){const d=n.getContext("2d");!d||!r||(d.clearRect(0,0,n.width,n.height),d.fillStyle="white",d.fillRect(0,0,n.width*r.playbackPosition,n.height),r!=null&&r.playing?requestAnimationFrame(l):d.clearRect(0,0,n.width,n.height))}const f=()=>{const d=St();if(!d)return;r&&r.playing&&r.stop(),r=new lf(d,{playbackRate:e.model.playbackRate});const u=s();u&&(r.loadBuffer(u),r.connect(d.destination),r.start(),l())},c=()=>{r&&r.playing&&r.stop()};return dn({target:()=>i,pointerTypes:["touch","pen","mouse"],onDown:f}),dn({target:()=>o,pointerTypes:["touch","pen","mouse"],onDown:c}),ce(Ns,{get sampler(){return e.model},ref(d){const u=t;typeof u=="function"?u(d):t=d},get class(){return ni.buttonPad},get onClick(){return e.onClick},get classList(){return{...e.classList,[ni.selected]:e.selected}},get children(){return[(()=>{const d=df(),u=n;return typeof u=="function"?st(u,d):n=d,d})(),(()=>{const d=hf(),u=d.firstChild,p=i;return typeof p=="function"?st(p,d):i=d,ie(u,()=>e.model.label),ie(d,ce(wl,{size:24}),null),ae(w=>{const g=s.loading,y=ni.label;return g!==w._v$&&(d.disabled=w._v$=g),y!==w._v$2&&he(u,w._v$2=y),w},{_v$:void 0,_v$2:void 0}),d})(),(()=>{const d=pf(),u=o;return typeof u=="function"?st(u,d):o=d,ie(d,ce(_l,{size:24})),ae(()=>d.disabled=s.loading),d})()]}})};function Ds(e,t){let n=-1/0;dn({target:e,onUp:r=>{const i=performance.now();i-n<Ac?(t(r),n=-1/0):n=i}})}const[co,gf]=be(0),mf=()=>gr.samplers[co()],bf=e=>{Cs("samplers",co(),es(e))},vf={selected:mf,selectedIdx:co,setSelectionIndex:gf,mutateSelected:bf},mr=()=>vf,wf="_knob_uikyq_1",_f="_value_uikyq_10",Sf="_arc_uikyq_17",Af="_dial_uikyq_21",Ct={knob:wf,value:_f,arc:Sf,dial:Af,"knob-label":"_knob-label_uikyq_26"};function Ef(...e){return e.reduce((t,n)=>({x:t.x+n.x,y:t.y+n.y}))}function Of(e,t){return{x:e*Math.cos(t),y:e*Math.sin(t)}}const $f=ue('<svg viewBox="0 0 120 120" xmlns="http://www.w3.org/2000/svg"><path></path><path></path><text x="70" y="100">'),Pf=ue("<svg><path></svg>",!1,!0),jf=e=>{const t=()=>(e.value-(e.min??0))/(e.max-(e.min??0)),o={x:60,y:60},a=3/4,s=()=>2*Math.PI*(t()*.75+(1-a)),l=Math.PI/15,f=()=>s()+l,c=u=>{const p=Of(50,u);return Ef(p,o)},d=()=>s()>3*Math.PI/2?1:0;return(()=>{const u=$f(),p=u.firstChild,w=p.nextSibling,g=w.nextSibling,y=e.ref;return typeof y=="function"?st(y,u):e.ref=u,ie(u,(()=>{const m=we(()=>s()+l<2*Math.PI);return()=>m()&&(()=>{const v=Pf();return ae(A=>{const O=Ct.track,S=`M ${o.x+50},${o.y} A 50 50 0 ${f()>Math.PI?0:1} 0 ${c(f()).x} ${c(f()).y}`;return O!==A._v$9&&le(v,"class",A._v$9=O),S!==A._v$10&&le(v,"d",A._v$10=S),A},{_v$9:void 0,_v$10:void 0}),v})()})(),p),ie(g,()=>e.value.toFixed(2)),ae(m=>{const v=Ct.knob,A=e.size??48,O=e.size??48,S=Ct.arc,x=`M ${o.x},${o.y+50} A 50 50 0 ${d()} 1 ${c(s()).x} ${c(s()).y}`,P=Ct.dial,C=`M ${o.x},${o.y} L ${c(s()).x} ${c(s()).y}`,R=Ct.value;return v!==m._v$&&le(u,"class",m._v$=v),A!==m._v$2&&le(u,"width",m._v$2=A),O!==m._v$3&&le(u,"height",m._v$3=O),S!==m._v$4&&le(p,"class",m._v$4=S),x!==m._v$5&&le(p,"d",m._v$5=x),P!==m._v$6&&le(w,"class",m._v$6=P),C!==m._v$7&&le(w,"d",m._v$7=C),R!==m._v$8&&le(g,"class",m._v$8=R),m},{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0,_v$5:void 0,_v$6:void 0,_v$7:void 0,_v$8:void 0}),u})()},xf=ue('<div class="flex flex-column"><div>'),kf=e=>{let t;const[n,r]=be(e.value),[i,o]=be(null),[a,s]=be(0),[l,f]=be(!1),c=u=>{u.pointerId===i()&&(u.preventDefault(),u.stopImmediatePropagation(),u.pointerType==="Mouse"&&u.shiftKey&&f(!0),e.updateFunc(Math.min(e.max,Math.max(e.min??0,n()+(a()-u.clientY)/screen.availHeight*(l()?1:4)))))},d=u=>{u.pointerId===i()&&(ir(),o(null),f(!1),window.removeEventListener("pointermove",c),window.removeEventListener("pointerup",d))};return dn({target:()=>t,onDown:u=>{s(u.clientY),r(e.value),o(u.pointerId),window.addEventListener("pointerup",d,{passive:!1}),window.addEventListener("pointermove",c,{passive:!1})}}),Ds(()=>t,()=>{e.updateFunc(e.defaultValue),ir()}),(()=>{const u=xf(),p=u.firstChild;return ie(p,()=>e.label),ie(u,ce(jf,{ref(w){const g=t;typeof g=="function"?g(w):t=w},get value(){return e.value},get min(){return e.min},get max(){return e.max},get size(){return e.size}}),null),ae(()=>he(p,Ct["knob-label"])),u})()},If="_modal_geya3_1",Tf="_topbar_geya3_25",jn={modal:If,topbar:Tf,"modal-content":"_modal-content_geya3_37","modal-overlay":"_modal-overlay_geya3_52"},Rf=ue("<div><div><button></button></div><div>"),Cf=ue("<div>"),Df=ue("<button>"),Bf=e=>{let t,n;return[(()=>{const r=Rf(),i=r.firstChild,o=i.firstChild,a=i.nextSibling,s=t;return typeof s=="function"?st(s,r):t=r,li(o,"click",e.onClose,!0),ie(a,()=>e.children),ie(r,(()=>{const l=we(()=>!!e.buttonText);return()=>l()&&(()=>{const f=Df();return li(f,"click",e.onClose,!0),ie(f,()=>e.buttonText),f})()})(),null),ae(l=>{const f={[jn.modal]:!0,hidden:!e.show},c=`${jn.topbar} flex flex-row-reverse`,d=`${jn["modal-content"]} p-2`;return l._v$=zn(r,f,l._v$),c!==l._v$2&&he(i,l._v$2=c),d!==l._v$3&&he(a,l._v$3=d),l},{_v$:void 0,_v$2:void 0,_v$3:void 0}),r})(),(()=>{const r=Cf(),i=n;return typeof i=="function"?st(i,r):n=r,ae(o=>zn(r,{[jn["modal-overlay"]]:!0,hidden:!e.show},o)),r})()]};hn(["click"]);const Nf=ue('<div class="grid"><div class="col"><h2 class="pb-2">SoundBored</h2><div class="text-left"><div class="py-2">Trigger samples by hitting the pads</div><div class="py-2">Load new sounds from the sample explorer</div><div class="py-2">Record and upload your own samples'),Mf=e=>ce(Bf,{get show(){return e.show},onClose:()=>{sf(),e.setShow(!1)},buttonText:"Ok",get children(){return Nf()}}),Ff="_labelInput_k2np5_1",qf={labelInput:Ff},Lf=ue('<div class="flex-grow-1 flex flex-column px-2 text-xs text-left"><div class="h-1rem flex"><div class="w-6rem"></div><div class="flex-grow-1 w-1rem h-full overflow-hidden text-overflow-ellipsis white-space-nowrap">/</div></div><div class="flex pt-2">'),Kf=ue('<input type="text">'),Uf=ue("<div>"),Vf=()=>{const[e,t]=be(!1),{selected:n,mutateSelected:r}=mr();return(()=>{const i=Lf(),o=i.firstChild,a=o.firstChild,s=a.nextSibling;s.firstChild;const l=o.nextSibling;return ie(a,(()=>{const f=we(()=>!!e());return()=>f()?(()=>{const c=Kf();return c.addEventListener("mouseleave",()=>{t(!1)}),c.$$keyup=d=>{d.key==="Enter"&&t(!1)},c.addEventListener("change",()=>ir()),c.$$input=d=>{r(u=>{u.label=d.currentTarget.value})},le(c,"maxlength",ns),ae(()=>he(c,`${qf.labelInput} h-full w-full text-xs`)),ae(()=>c.value=n().label),c})():(()=>{const c=Uf();return c.$$click=()=>{t(!0)},ie(c,()=>n().label),c})()})()),ie(s,()=>n().src,null),ie(i,ce(Rd,{get model(){return n()}}),l),ie(l,ce(kf,{get value(){return n().playbackRate},updateFunc:f=>r(c=>{c.playbackRate=f}),defaultValue:1,min:.01,max:2,size:50,label:"Playback Speed"})),i})()};hn(["input","keyup","click"]);function zf(e,t){const[n,r]=be(t);return[n,(...i)=>void r(o=>e(o,...i))]}function Gf(e){const[t,n]=Xa([]);return sr(Ks(e,()=>{Wf(Wa(e),t,n)})),t}function Wf(e,t,n,r={key:"id"}){const i=e.subscribe(o=>n(Sc(o,r)));return rn(()=>"unsubscribe"in i?i.unsubscribe():i()),t}function Bs(e,t){e.src=t,e.label=gc(t).substring(0,ns)}const Hf="_sampleExplorer_hybrd_1",Yf="_icon_hybrd_6",Jf="_scrollbarThin_hybrd_18",Qf="_listItem_hybrd_22",Xf="_selected_hybrd_38",Zf="_headerBox_hybrd_43",ed="_interaction_hybrd_48",td="_btn_hybrd_57",Je={sampleExplorer:Hf,icon:Yf,"sampleExplorer-list":"_sampleExplorer-list_hybrd_11",scrollbarThin:Jf,listItem:Qf,selected:Xf,headerBox:Zf,interaction:ed,btn:td},nd=ue("<div>"),rd=ue("<div><div><button>"),id=ue('<span class="text-base">Samples'),od=ue("<button>"),ad=ue("<div><div>"),sd=()=>{const e=Gf(()=>xe.instance.getAllSampleFileNames()),[t,n]=zf(a=>!a,!0),[r,i]=be(null),{mutateSelected:o}=mr();return(()=>{const a=rd(),s=a.firstChild,l=s.firstChild;return l.$$click=()=>n(),ie(l,(()=>{const f=we(()=>!!t());return()=>f()?ce(Al,{}):ce(Sl,{})})()),ie(s,(()=>{const f=we(()=>!t());return()=>f()&&id()})(),null),ie(a,ce(po,{get when(){return!t()},get children(){const f=nd();return f.addEventListener("mouseleave",()=>{i(null)}),ie(f,ce(Xs,{each:e,children:(c,d)=>{let u;return Ds(()=>u,()=>o(p=>{Bs(p,c),ir()})),(()=>{const p=ad(),w=p.firstChild;p.$$mouseover=()=>{i(d)},p.addEventListener("dragstart",y=>{var m;(m=y.dataTransfer)==null||m.setData("text/plain",y.target.textContent??"")});const g=u;return typeof g=="function"?st(g,p):u=p,le(p,"draggable",!0),ie(w,c),ie(p,ce(po,{get when(){return d()===r()},get children(){const y=od();return y.$$click=async()=>{confirm(`Delete '${c}' from sample bank?`)&&xe.instance.deleteSampleByName(c)},ie(y,ce(El,{get class(){return Je.icon}})),ae(()=>he(y,`${Je.btn} w-2rem`)),y}}),null),ae(y=>zn(p,{[`${Je.listItem} flex pl-2 justify-content-between`]:!0,[Je.selected]:d()===r()},y)),p})()}})),ae(()=>he(f,Je["sampleExplorer-list"])),f}}),null),ae(f=>{const c=`${Je.sampleExplorer} h-full flex flex-column text-left overflow-hidden ${t()?"w-2rem":"w-14rem"}`,d=`${Je.headerBox} flex pl-1 align-center`,u=`m-1 ${Je.interaction} ${Je.btn}`;return c!==f._v$&&he(a,f._v$=c),d!==f._v$2&&he(s,f._v$2=d),u!==f._v$3&&he(l,f._v$3=u),f},{_v$:void 0,_v$2:void 0,_v$3:void 0}),a})()};hn(["click","mouseover"]);const ld="_sampleEditor_1ejok_1",cd={sampleEditor:ld},ud=ue("<div>"),fd=()=>(()=>{const e=ud();return ie(e,ce(sd,{}),null),ie(e,ce(Vf,{}),null),ae(()=>he(e,`${cd.sampleEditor} w-full flex`)),e})(),dd="_sampler_513kt_1",hd="_buttonGrid_513kt_28",ri={sampler:dd,buttonGrid:hd,"hide-md":"_hide-md_513kt_41"},pd=ue("<div><div>"),yd=e=>{const{selected:t,setSelectionIndex:n}=mr();return(()=>{const r=pd(),i=r.firstChild;return ie(r,ce(fd,{}),i),ie(i,()=>e.samplers.map((o,a)=>ce(yf,{get selected(){return o===t()},get classList(){return{[ri["hide-md"]]:a>8}},model:o,onClick:()=>n(a)}))),ae(o=>{const a=ri.sampler,s=ri.buttonGrid;return a!==o._v$&&he(r,o._v$=a),s!==o._v$2&&he(i,o._v$2=s),o},{_v$:void 0,_v$2:void 0}),r})()};function gd(e){const t={...e},n={...e},r={},i=a=>{let s=r[a];if(!s){if(!Vi())return t[a];r[a]=s=be(t[a],{internal:!0}),delete t[a]}return s[0]()};for(const a in e)Object.defineProperty(n,a,{get:()=>i(a),enumerable:!0});const o=(a,s)=>{const l=r[a];if(l)return l[1](s);a in t&&(t[a]=ra(s,[t[a]]))};return[n,(a,s)=>{if(Ju(a)){const l=Ce(()=>Object.entries(ra(a,n)));la(()=>{for(const[f,c]of l)o(f,()=>c)})}else o(a,s);return n}]}var md={width:null,height:null};function bd(e){if(!e)return{...md};const{width:t,height:n}=e.getBoundingClientRect();return{width:t,height:n}}function vd(e){const[t,n]=gd(bd(or(e))),r=new ResizeObserver(([i])=>{const{width:o,height:a}=i.contentRect;n({width:o,height:a})});return rn(()=>r.disconnect()),sr(()=>{const i=or(e);i&&(r.observe(i),rn(()=>r.unobserve(i)))}),t}const wd="_sampleView_i8wrf_1",_d="_fgLight_i8wrf_19",Sd="_waveform_i8wrf_23",Ad="_midline_i8wrf_31",Ed="_dragline_i8wrf_37",gt={sampleView:wd,fgLight:_d,waveform:Sd,midline:Ad,dragline:Ed},ii=ue("<svg><path></svg>",!1,!0),Od=ue('<svg><text x="50%" y="50%" text-anchor="middle" alignment-baseline="middle">Audio Engine Off</svg>',!1,!0),$d=ue('<svg><text x="50%" y="50%" text-anchor="middle" alignment-baseline="middle">No Sample Loaded</svg>',!1,!0),Pd=ue('<svg><text x="50%" y="50%" text-anchor="middle" alignment-baseline="middle">... Loading</svg>',!1,!0),jd=ue('<svg class="w-full h-full"><g>'),xd=10;function kd(e,t){return e.subarray(Math.max(0,0+t.pan.x),Math.min(Math.floor(e.length/t.zoom.x),e.length))}function Id(e,t,n){const r=kd(e,n),i=Math.min(t.width*4,r.length),o=Math.floor(r.length/i),a=t.height/2,s=c=>c*t.width/i,l=c=>a+c*(t.height-xd)*.5*n.zoom.y;let f=`M 0 ${r[0]}`;for(let c=1;c<i;c++){const d=r.subarray(c*o,(c+1)*o);f+=` L ${s(c)} ${l(d[0])}`}return f}async function Td({src:e,ctx:t}){const n=xe.instance.getChannelData(e);if(n)return n;const r=await xe.instance.getSampleBlob(e);if(!r||!t)return[];const i=await t.decodeAudioData(await r.arrayBuffer()),o=new Array(i.numberOfChannels).fill(null).map((a,s)=>{const l=new Float32Array(i.length);return i.copyFromChannel(l,s),l});return xe.instance.cacheChannelData(e,o),o}const Rd=e=>{let t;const n=()=>({pan:{x:0,y:0},zoom:{x:1,y:1}}),[r]=sa(()=>({src:e.model.src,ctx:St()}),Td),i=vd(()=>t),o=()=>(i.height||0)/2,a=we(()=>{const g=St(),y=r(),m=n(),v={width:i.width??0,height:i.height??0};return!y||!g?[]:y.map(A=>(()=>{const O=ii();return ae(S=>{const x=gt.waveform,P=Id(A,v,m);return x!==S._v$&&le(O,"class",S._v$=x),P!==S._v$2&&le(O,"d",S._v$2=P),S},{_v$:void 0,_v$2:void 0}),O})())}),[s,l]=be(null),[f,c]=be(0),[d,u]=be(0),p=g=>{g.pointerId===s()&&(l(null),u(null),window.removeEventListener("pointermove",w),window.removeEventListener("pointerup",p))},w=g=>{g.pointerId===s()&&(g.preventDefault(),g.stopImmediatePropagation())};return dn({target:()=>t,onDown:g=>{ks(t);const y=t.getBoundingClientRect();c(g.clientY-y.top),u(g.clientX-y.left),l(g.pointerId),window.addEventListener("pointerup",p,{passive:!1}),window.addEventListener("pointermove",w,{passive:!1})}}),ce(Ns,{get class(){return`${gt.sampleView} overflow-hidden`},get children(){const g=jd(),y=g.firstChild,m=t;return typeof m=="function"?st(m,g):t=g,ie(y,ce(Zs,{get children(){return[ce(bn,{get when(){return!St()},get children(){const v=Od();return ae(()=>le(v,"class",`${gt.fgLight} font-bold text-sm`)),v}}),ce(bn,{get when(){return r.state==="ready"},get children(){return[(()=>{const v=ii();return ae(A=>{const O=gt.midline,S=`M 0 ${o()} L ${i.width??0} ${o()}`;return O!==A._v$3&&le(v,"class",A._v$3=O),S!==A._v$4&&le(v,"d",A._v$4=S),A},{_v$3:void 0,_v$4:void 0}),v})(),we(()=>a()),we(()=>we(()=>d()!=null)()&&(()=>{const v=ii();return ae(A=>{const O=gt.dragline,S=`M ${d()-n().pan.x} 0 V ${i.height??0}`;return O!==A._v$7&&le(v,"class",A._v$7=O),S!==A._v$8&&le(v,"d",A._v$8=S),A},{_v$7:void 0,_v$8:void 0}),v})())]}}),ce(bn,{get when(){return r.state==="errored"},get children(){const v=$d();return ae(()=>le(v,"class",`${gt.fgLight} font-bold text-sm`)),v}}),ce(bn,{get when(){return r.loading},get children(){const v=Pd();return ae(()=>le(v,"class",`${gt.fgLight} font-bold text-sm`)),v}})]}})),ae(v=>{const A=i.width??0,O=i.height??0;return A!==v._v$5&&le(g,"width",v._v$5=A),O!==v._v$6&&le(g,"height",v._v$6=O),v},{_v$5:void 0,_v$6:void 0}),g}})},Cd=ue("<div>"),Ns=e=>{const[,t]=Qs(e,["children"]),{selectedIdx:n}=mr();return(()=>{const r=Cd();return ma(r,pa(t,{onDragOver:i=>{i.preventDefault(),i.dataTransfer&&(i.dataTransfer.dropEffect="link")},onDrop:i=>{i.preventDefault(),Cs("samplers",e.sampler?gr.samplers.indexOf(e.sampler):n(),es(o=>{i.dataTransfer&&Bs(o,i.dataTransfer.getData("text/plain"))}))}}),!1,!0),ie(r,()=>e.children),r})()};cl(()=>ce(Yu,{}),document.getElementById("root"));
