var wu=Object.defineProperty;var _u=(e,t,n)=>t in e?wu(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var ue=(e,t,n)=>(_u(e,typeof t!="symbol"?t+"":t,n),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerpolicy&&(o.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?o.credentials="include":i.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();const me={};function Su(e){me.context=e}const Au=(e,t)=>e===t,Ne=Symbol("solid-proxy"),Kr=Symbol("solid-track"),Rn={equals:Au};let zo=Xo;const at=1,xn=2,Wo={owned:null,cleanups:null,context:null,owner:null};var ge=null;let ht=null,he=null,_e=null,We=null,Ai=0;function bn(e,t){const n=he,r=ge,i=e.length===0,o=i?Wo:{owned:null,cleanups:null,context:null,owner:t||r},a=i?e:()=>e(()=>ut(()=>Wn(o)));ge=o,he=null;try{return $t(a,!0)}finally{he=n,ge=r}}function vt(e,t){t=t?Object.assign({},Rn,t):Rn;const n={value:e,observers:null,observerSlots:null,comparator:t.equals||void 0},r=i=>(typeof i=="function"&&(i=i(n.value)),Jo(n,i));return[Yo.bind(n),r]}function De(e,t,n){const r=Ei(e,t,!1,at);on(r)}function rn(e,t,n){zo=Ru;const r=Ei(e,t,!1,at);r.user=!0,We?We.push(r):on(r)}function tt(e,t,n){n=n?Object.assign({},Rn,n):Rn;const r=Ei(e,t,!0,0);return r.observers=null,r.observerSlots=null,r.comparator=n.equals||void 0,on(r),Yo.bind(r)}function Eu(e){return $t(e,!1)}function ut(e){const t=he;he=null;try{return e()}finally{he=t}}function Ou(e,t,n){const r=Array.isArray(e);let i,o=n&&n.defer;return a=>{let u;if(r){u=Array(e.length);for(let c=0;c<e.length;c++)u[c]=e[c]()}else u=e();if(o){o=!1;return}const s=ut(()=>t(u,i,a));return i=u,s}}function Pu(e){rn(()=>ut(e))}function zn(e){return ge===null||(ge.cleanups===null?ge.cleanups=[e]:ge.cleanups.push(e)),e}function Ho(){return he}function Tu(){return ge}function Yo(){const e=ht;if(this.sources&&(this.state||e))if(this.state===at||e)on(this);else{const t=_e;_e=null,$t(()=>Cn(this),!1),_e=t}if(he){const t=this.observers?this.observers.length:0;he.sources?(he.sources.push(this),he.sourceSlots.push(t)):(he.sources=[this],he.sourceSlots=[t]),this.observers?(this.observers.push(he),this.observerSlots.push(he.sources.length-1)):(this.observers=[he],this.observerSlots=[he.sources.length-1])}return this.value}function Jo(e,t,n){let r=e.value;return(!e.comparator||!e.comparator(r,t))&&(e.value=t,e.observers&&e.observers.length&&$t(()=>{for(let i=0;i<e.observers.length;i+=1){const o=e.observers[i],a=ht&&ht.running;a&&ht.disposed.has(o),(a&&!o.tState||!a&&!o.state)&&(o.pure?_e.push(o):We.push(o),o.observers&&Qo(o)),a||(o.state=at)}if(_e.length>1e6)throw _e=[],new Error},!1)),t}function on(e){if(!e.fn)return;Wn(e);const t=ge,n=he,r=Ai;he=ge=e,ju(e,e.value,r),he=n,ge=t}function ju(e,t,n){let r;try{r=e.fn(t)}catch(i){e.pure&&(e.state=at,e.owned&&e.owned.forEach(Wn),e.owned=null),Zo(i)}(!e.updatedAt||e.updatedAt<=n)&&(e.updatedAt!=null&&"observers"in e?Jo(e,r):e.value=r,e.updatedAt=n)}function Ei(e,t,n,r=at,i){const o={fn:e,state:r,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:t,owner:ge,context:null,pure:n};return ge===null||ge!==Wo&&(ge.owned?ge.owned.push(o):ge.owned=[o]),o}function Dn(e){const t=ht;if(e.state===0||t)return;if(e.state===xn||t)return Cn(e);if(e.suspense&&ut(e.suspense.inFallback))return e.suspense.effects.push(e);const n=[e];for(;(e=e.owner)&&(!e.updatedAt||e.updatedAt<Ai);)(e.state||t)&&n.push(e);for(let r=n.length-1;r>=0;r--)if(e=n[r],e.state===at||t)on(e);else if(e.state===xn||t){const i=_e;_e=null,$t(()=>Cn(e,n[0]),!1),_e=i}}function $t(e,t){if(_e)return e();let n=!1;t||(_e=[]),We?n=!0:We=[],Ai++;try{const r=e();return Iu(n),r}catch(r){_e||(We=null),Zo(r)}}function Iu(e){if(_e&&(Xo(_e),_e=null),e)return;const t=We;We=null,t.length&&$t(()=>zo(t),!1)}function Xo(e){for(let t=0;t<e.length;t++)Dn(e[t])}function Ru(e){let t,n=0;for(t=0;t<e.length;t++){const r=e[t];r.user?e[n++]=r:Dn(r)}for(me.context&&Su(),t=0;t<n;t++)Dn(e[t])}function Cn(e,t){const n=ht;e.state=0;for(let r=0;r<e.sources.length;r+=1){const i=e.sources[r];i.sources&&(i.state===at||n?i!==t&&Dn(i):(i.state===xn||n)&&Cn(i,t))}}function Qo(e){const t=ht;for(let n=0;n<e.observers.length;n+=1){const r=e.observers[n];(!r.state||t)&&(r.state=xn,r.pure?_e.push(r):We.push(r),r.observers&&Qo(r))}}function Wn(e){let t;if(e.sources)for(;e.sources.length;){const n=e.sources.pop(),r=e.sourceSlots.pop(),i=n.observers;if(i&&i.length){const o=i.pop(),a=n.observerSlots.pop();r<i.length&&(o.sourceSlots[a]=r,i[r]=o,n.observerSlots[r]=a)}}if(e.owned){for(t=0;t<e.owned.length;t++)Wn(e.owned[t]);e.owned=null}if(e.cleanups){for(t=0;t<e.cleanups.length;t++)e.cleanups[t]();e.cleanups=null}e.state=0,e.context=null}function xu(e){return e instanceof Error||typeof e=="string"?e:new Error("Unknown error")}function Zo(e){throw e=xu(e),e}const Du=Symbol("fallback");function Ji(e){for(let t=0;t<e.length;t++)e[t]()}function Cu(e,t,n={}){let r=[],i=[],o=[],a=0,u=t.length>1?[]:null;return zn(()=>Ji(o)),()=>{let s=e()||[],c,f;return s[Kr],ut(()=>{let y=s.length,g,b,h,v,w,S,E,P,_;if(y===0)a!==0&&(Ji(o),o=[],r=[],i=[],a=0,u&&(u=[])),n.fallback&&(r=[Du],i[0]=bn(B=>(o[0]=B,n.fallback())),a=1);else if(a===0){for(i=new Array(y),f=0;f<y;f++)r[f]=s[f],i[f]=bn(d);a=y}else{for(h=new Array(y),v=new Array(y),u&&(w=new Array(y)),S=0,E=Math.min(a,y);S<E&&r[S]===s[S];S++);for(E=a-1,P=y-1;E>=S&&P>=S&&r[E]===s[P];E--,P--)h[P]=i[E],v[P]=o[E],u&&(w[P]=u[E]);for(g=new Map,b=new Array(P+1),f=P;f>=S;f--)_=s[f],c=g.get(_),b[f]=c===void 0?-1:c,g.set(_,f);for(c=S;c<=E;c++)_=r[c],f=g.get(_),f!==void 0&&f!==-1?(h[f]=i[c],v[f]=o[c],u&&(w[f]=u[c]),f=b[f],g.set(_,f)):o[c]();for(f=S;f<y;f++)f in h?(i[f]=h[f],o[f]=v[f],u&&(u[f]=w[f],u[f](f))):i[f]=bn(d);i=i.slice(0,a=y),r=s.slice(0)}return i});function d(y){if(o[f]=y,u){const[g,b]=vt(f);return u[f]=b,t(s[f],g)}return t(s[f])}}}function Ve(e,t){return ut(()=>e(t||{}))}function hn(){return!0}const qr={get(e,t,n){return t===Ne?n:e.get(t)},has(e,t){return t===Ne?!0:e.has(t)},set:hn,deleteProperty:hn,getOwnPropertyDescriptor(e,t){return{configurable:!0,enumerable:!0,get(){return e.get(t)},set:hn,deleteProperty:hn}},ownKeys(e){return e.keys()}};function rr(e){return(e=typeof e=="function"?e():e)?e:{}}function Bu(...e){let t=!1;for(let r=0;r<e.length;r++){const i=e[r];t=t||!!i&&Ne in i,e[r]=typeof i=="function"?(t=!0,tt(i)):i}if(t)return new Proxy({get(r){for(let i=e.length-1;i>=0;i--){const o=rr(e[i])[r];if(o!==void 0)return o}},has(r){for(let i=e.length-1;i>=0;i--)if(r in rr(e[i]))return!0;return!1},keys(){const r=[];for(let i=0;i<e.length;i++)r.push(...Object.keys(rr(e[i])));return[...new Set(r)]}},qr);const n={};for(let r=e.length-1;r>=0;r--)if(e[r]){const i=Object.getOwnPropertyDescriptors(e[r]);for(const o in i)o in n||Object.defineProperty(n,o,{enumerable:!0,get(){for(let a=e.length-1;a>=0;a--){const u=(e[a]||{})[o];if(u!==void 0)return u}}})}return n}function ku(e,...t){const n=new Set(t.flat());if(Ne in e){const i=t.map(o=>new Proxy({get(a){return o.includes(a)?e[a]:void 0},has(a){return o.includes(a)&&a in e},keys(){return o.filter(a=>a in e)}},qr));return i.push(new Proxy({get(o){return n.has(o)?void 0:e[o]},has(o){return n.has(o)?!1:o in e},keys(){return Object.keys(e).filter(o=>!n.has(o))}},qr)),i}const r=Object.getOwnPropertyDescriptors(e);return t.push(Object.keys(r).filter(i=>!n.has(i))),t.map(i=>{const o={};for(let a=0;a<i.length;a++){const u=i[a];u in e&&Object.defineProperty(o,u,r[u]?r[u]:{get(){return e[u]},set(){return!0},enumerable:!0})}return o})}function $u(e){const t="fallback"in e&&{fallback:()=>e.fallback};return tt(Cu(()=>e.each,e.children,t||void 0))}const Nu=["allowfullscreen","async","autofocus","autoplay","checked","controls","default","disabled","formnovalidate","hidden","indeterminate","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","seamless","selected"],Fu=new Set(["className","value","readOnly","formNoValidate","isMap","noModule","playsInline",...Nu]),Mu=new Set(["innerHTML","textContent","innerText","children"]),Ku=Object.assign(Object.create(null),{className:"class",htmlFor:"for"}),Xi=Object.assign(Object.create(null),{class:"className",formnovalidate:"formNoValidate",ismap:"isMap",nomodule:"noModule",playsinline:"playsInline",readonly:"readOnly"}),qu=new Set(["beforeinput","click","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"]),Lu=new Set(["altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignObject","g","glyph","glyphRef","hkern","image","line","linearGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","set","stop","svg","switch","symbol","text","textPath","tref","tspan","use","view","vkern"]),Uu={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"};function Vu(e,t,n){let r=n.length,i=t.length,o=r,a=0,u=0,s=t[i-1].nextSibling,c=null;for(;a<i||u<o;){if(t[a]===n[u]){a++,u++;continue}for(;t[i-1]===n[o-1];)i--,o--;if(i===a){const f=o<r?u?n[u-1].nextSibling:n[o-u]:s;for(;u<o;)e.insertBefore(n[u++],f)}else if(o===u)for(;a<i;)(!c||!c.has(t[a]))&&t[a].remove(),a++;else if(t[a]===n[o-1]&&n[u]===t[i-1]){const f=t[--i].nextSibling;e.insertBefore(n[u++],t[a++].nextSibling),e.insertBefore(n[--o],f),t[i]=n[o]}else{if(!c){c=new Map;let d=u;for(;d<o;)c.set(n[d],d++)}const f=c.get(t[a]);if(f!=null)if(u<f&&f<o){let d=a,y=1,g;for(;++d<i&&d<o&&!((g=c.get(t[d]))==null||g!==f+y);)y++;if(y>f-u){const b=t[a];for(;u<f;)e.insertBefore(n[u++],b)}else e.replaceChild(n[u++],t[a++])}else a++;else t[a++].remove()}}}const Qi="_$DX_DELEGATE";function Gu(e,t,n,r={}){let i;return bn(o=>{i=o,t===document?e():ye(t,e(),t.firstChild?null:void 0,n)},r.owner),()=>{i(),t.textContent=""}}function Te(e,t,n){const r=document.createElement("template");r.innerHTML=e;let i=r.content.firstChild;return n&&(i=i.firstChild),i}function an(e,t=window.document){const n=t[Qi]||(t[Qi]=new Set);for(let r=0,i=e.length;r<i;r++){const o=e[r];n.has(o)||(n.add(o),t.addEventListener(o,Ju))}}function jt(e,t,n){n==null?e.removeAttribute(t):e.setAttribute(t,n)}function zu(e,t,n,r){r==null?e.removeAttributeNS(t,n):e.setAttributeNS(t,n,r)}function ea(e,t){t==null?e.removeAttribute("class"):e.className=t}function Bn(e,t,n,r){if(r)Array.isArray(n)?(e[`$$${t}`]=n[0],e[`$$${t}Data`]=n[1]):e[`$$${t}`]=n;else if(Array.isArray(n)){const i=n[0];e.addEventListener(t,n[0]=o=>i.call(e,n[1],o))}else e.addEventListener(t,n)}function ta(e,t,n={}){const r=Object.keys(t||{}),i=Object.keys(n);let o,a;for(o=0,a=i.length;o<a;o++){const u=i[o];!u||u==="undefined"||t[u]||(Zi(e,u,!1),delete n[u])}for(o=0,a=r.length;o<a;o++){const u=r[o],s=!!t[u];!u||u==="undefined"||n[u]===s||!s||(Zi(e,u,!0),n[u]=s)}return n}function na(e,t,n){if(!t)return n?jt(e,"style"):t;const r=e.style;if(typeof t=="string")return r.cssText=t;typeof n=="string"&&(r.cssText=n=void 0),n||(n={}),t||(t={});let i,o;for(o in n)t[o]==null&&r.removeProperty(o),delete n[o];for(o in t)i=t[o],i!==n[o]&&(r.setProperty(o,i),n[o]=i);return n}function ra(e,t={},n,r){const i={};return r||De(()=>i.children=xt(e,t.children,i.children)),De(()=>t.ref&&t.ref(e)),De(()=>Wu(e,t,n,!0,i,!0)),i}function Ze(e,t,n){return ut(()=>e(t,n))}function ye(e,t,n,r){if(n!==void 0&&!r&&(r=[]),typeof t!="function")return xt(e,t,r,n);De(i=>xt(e,t(),i,n),r)}function Wu(e,t,n,r,i={},o=!1){t||(t={});for(const a in i)if(!(a in t)){if(a==="children")continue;i[a]=eo(e,a,null,i[a],n,o)}for(const a in t){if(a==="children"){r||xt(e,t.children);continue}const u=t[a];i[a]=eo(e,a,u,i[a],n,o)}}function Hu(e){let t,n;return!me.context||!(t=me.registry.get(n=Xu()))?e.cloneNode(!0):(me.completed&&me.completed.add(t),me.registry.delete(n),t)}function Yu(e){return e.toLowerCase().replace(/-([a-z])/g,(t,n)=>n.toUpperCase())}function Zi(e,t,n){const r=t.trim().split(/\s+/);for(let i=0,o=r.length;i<o;i++)e.classList.toggle(r[i],n)}function eo(e,t,n,r,i,o){let a,u,s;if(t==="style")return na(e,n,r);if(t==="classList")return ta(e,n,r);if(n===r)return r;if(t==="ref")o||n(e);else if(t.slice(0,3)==="on:"){const c=t.slice(3);r&&e.removeEventListener(c,r),n&&e.addEventListener(c,n)}else if(t.slice(0,10)==="oncapture:"){const c=t.slice(10);r&&e.removeEventListener(c,r,!0),n&&e.addEventListener(c,n,!0)}else if(t.slice(0,2)==="on"){const c=t.slice(2).toLowerCase(),f=qu.has(c);if(!f&&r){const d=Array.isArray(r)?r[0]:r;e.removeEventListener(c,d)}(f||n)&&(Bn(e,c,n,f),f&&an([c]))}else if((s=Mu.has(t))||!i&&(Xi[t]||(u=Fu.has(t)))||(a=e.nodeName.includes("-")))t==="class"||t==="className"?ea(e,n):a&&!u&&!s?e[Yu(t)]=n:e[Xi[t]||t]=n;else{const c=i&&t.indexOf(":")>-1&&Uu[t.split(":")[0]];c?zu(e,c,t,n):jt(e,Ku[t]||t,n)}return n}function Ju(e){const t=`$$${e.type}`;let n=e.composedPath&&e.composedPath()[0]||e.target;for(e.target!==n&&Object.defineProperty(e,"target",{configurable:!0,value:n}),Object.defineProperty(e,"currentTarget",{configurable:!0,get(){return n||document}}),me.registry&&!me.done&&(me.done=!0,document.querySelectorAll("[id^=pl-]").forEach(r=>{for(;r&&r.nodeType!==8&&r.nodeValue!=="pl-"+e;){let i=r.nextSibling;r.remove(),r=i}r&&r.remove()}));n;){const r=n[t];if(r&&!n.disabled){const i=n[`${t}Data`];if(i!==void 0?r.call(n,i,e):r.call(n,e),e.cancelBubble)return}n=n._$host||n.parentNode||n.host}}function xt(e,t,n,r,i){for(me.context&&!n&&(n=[...e.childNodes]);typeof n=="function";)n=n();if(t===n)return n;const o=typeof t,a=r!==void 0;if(e=a&&n[0]&&n[0].parentNode||e,o==="string"||o==="number"){if(me.context)return n;if(o==="number"&&(t=t.toString()),a){let u=n[0];u&&u.nodeType===3?u.data=t:u=document.createTextNode(t),n=St(e,n,r,u)}else n!==""&&typeof n=="string"?n=e.firstChild.data=t:n=e.textContent=t}else if(t==null||o==="boolean"){if(me.context)return n;n=St(e,n,r)}else{if(o==="function")return De(()=>{let u=t();for(;typeof u=="function";)u=u();n=xt(e,u,n,r)}),()=>n;if(Array.isArray(t)){const u=[],s=n&&Array.isArray(n);if(Lr(u,t,n,i))return De(()=>n=xt(e,u,n,r,!0)),()=>n;if(me.context){if(!u.length)return n;for(let c=0;c<u.length;c++)if(u[c].parentNode)return n=u}if(u.length===0){if(n=St(e,n,r),a)return n}else s?n.length===0?to(e,u,r):Vu(e,n,u):(n&&St(e),to(e,u));n=u}else if(t instanceof Node){if(me.context&&t.parentNode)return n=a?[t]:t;if(Array.isArray(n)){if(a)return n=St(e,n,r,t);St(e,n,null,t)}else n==null||n===""||!e.firstChild?e.appendChild(t):e.replaceChild(t,e.firstChild);n=t}}return n}function Lr(e,t,n,r){let i=!1;for(let o=0,a=t.length;o<a;o++){let u=t[o],s=n&&n[o];if(u instanceof Node)e.push(u);else if(!(u==null||u===!0||u===!1))if(Array.isArray(u))i=Lr(e,u,s)||i;else if(typeof u=="function")if(r){for(;typeof u=="function";)u=u();i=Lr(e,Array.isArray(u)?u:[u],Array.isArray(s)?s:[s])||i}else e.push(u),i=!0;else{const c=String(u);s&&s.nodeType===3&&s.data===c?e.push(s):e.push(document.createTextNode(c))}}return i}function to(e,t,n=null){for(let r=0,i=t.length;r<i;r++)e.insertBefore(t[r],n)}function St(e,t,n,r){if(n===void 0)return e.textContent="";const i=r||document.createTextNode("");if(t.length){let o=!1;for(let a=t.length-1;a>=0;a--){const u=t[a];if(i!==u){const s=u.parentNode===e;!o&&!a?s?e.replaceChild(i,u):e.insertBefore(i,n):s&&u.remove()}else o=!0}}else e.insertBefore(i,n);return[i]}function Xu(){const e=me.context;return`${e.id}${e.count++}`}const Qu=!1,Zu="http://www.w3.org/2000/svg";function es(e,t=!1){return t?document.createElementNS(Zu,e):document.createElement(e)}function ts(e){const[t,n]=ku(e,["component"]),r=tt(()=>t.component);return tt(()=>{const i=r();switch(typeof i){case"function":return ut(()=>i(n));case"string":const o=Lu.has(i),a=me.context?Hu():es(i,o);return ra(a,n,o),a}})}class ns{constructor(){ue(this,"_bindings",[])}attach(...t){this._bindings.push(...t)}detach(...t){this._bindings=this._bindings.filter(n=>!t.includes(n))}fire(t,n){this._bindings.forEach(r=>{r(t,n)})}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.
Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.
THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var oe=function(){return oe=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},oe.apply(this,arguments)};function Ur(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}var ce=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,de=Object.keys,we=Array.isArray;typeof Promise<"u"&&!ce.Promise&&(ce.Promise=Promise);function Ee(e,t){return typeof t!="object"||de(t).forEach(function(n){e[n]=t[n]}),e}var Yt=Object.getPrototypeOf,rs={}.hasOwnProperty;function Ce(e,t){return rs.call(e,t)}function Dt(e,t){typeof t=="function"&&(t=t(Yt(e))),(typeof Reflect>"u"?de:Reflect.ownKeys)(t).forEach(function(n){Ye(e,n,t[n])})}var ia=Object.defineProperty;function Ye(e,t,n,r){ia(e,t,Ee(n&&Ce(n,"get")&&typeof n.get=="function"?{get:n.get,set:n.set,configurable:!0}:{value:n,configurable:!0,writable:!0},r))}function Nt(e){return{from:function(t){return e.prototype=Object.create(t.prototype),Ye(e.prototype,"constructor",e),{extend:Dt.bind(null,e.prototype)}}}}var is=Object.getOwnPropertyDescriptor;function Oi(e,t){var n=is(e,t),r;return n||(r=Yt(e))&&Oi(r,t)}var os=[].slice;function Hn(e,t,n){return os.call(e,t,n)}function oa(e,t){return t(e)}function Ut(e){if(!e)throw new Error("Assertion Failed")}function aa(e){ce.setImmediate?setImmediate(e):setTimeout(e,0)}function ua(e,t){return e.reduce(function(n,r,i){var o=t(r,i);return o&&(n[o[0]]=o[1]),n},{})}function as(e,t,n){try{e.apply(null,n)}catch(r){t&&t(r)}}function He(e,t){if(Ce(e,t))return e[t];if(!t)return e;if(typeof t!="string"){for(var n=[],r=0,i=t.length;r<i;++r){var o=He(e,t[r]);n.push(o)}return n}var a=t.indexOf(".");if(a!==-1){var u=e[t.substr(0,a)];return u===void 0?void 0:He(u,t.substr(a+1))}}function $e(e,t,n){if(!(!e||t===void 0)&&!("isFrozen"in Object&&Object.isFrozen(e)))if(typeof t!="string"&&"length"in t){Ut(typeof n!="string"&&"length"in n);for(var r=0,i=t.length;r<i;++r)$e(e,t[r],n[r])}else{var o=t.indexOf(".");if(o!==-1){var a=t.substr(0,o),u=t.substr(o+1);if(u==="")n===void 0?we(e)&&!isNaN(parseInt(a))?e.splice(a,1):delete e[a]:e[a]=n;else{var s=e[a];(!s||!Ce(e,a))&&(s=e[a]={}),$e(s,u,n)}}else n===void 0?we(e)&&!isNaN(parseInt(t))?e.splice(t,1):delete e[t]:e[t]=n}}function us(e,t){typeof t=="string"?$e(e,t,void 0):"length"in t&&[].map.call(t,function(n){$e(e,n,void 0)})}function sa(e){var t={};for(var n in e)Ce(e,n)&&(t[n]=e[n]);return t}var ss=[].concat;function ca(e){return ss.apply([],e)}var la="Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(ca([8,16,32,64].map(function(e){return["Int","Uint","Float"].map(function(t){return t+e+"Array"})}))).filter(function(e){return ce[e]}),cs=la.map(function(e){return ce[e]});ua(la,function(e){return[e,!0]});var Qe=null;function un(e){Qe=typeof WeakMap<"u"&&new WeakMap;var t=Vr(e);return Qe=null,t}function Vr(e){if(!e||typeof e!="object")return e;var t=Qe&&Qe.get(e);if(t)return t;if(we(e)){t=[],Qe&&Qe.set(e,t);for(var n=0,r=e.length;n<r;++n)t.push(Vr(e[n]))}else if(cs.indexOf(e.constructor)>=0)t=e;else{var i=Yt(e);t=i===Object.prototype?{}:Object.create(i),Qe&&Qe.set(e,t);for(var o in e)Ce(e,o)&&(t[o]=Vr(e[o]))}return t}var ls={}.toString;function Gr(e){return ls.call(e).slice(8,-1)}var zr=typeof Symbol<"u"?Symbol.iterator:"@@iterator",fs=typeof zr=="symbol"?function(e){var t;return e!=null&&(t=e[zr])&&t.apply(e)}:function(){return null},Ot={};function Ge(e){var t,n,r,i;if(arguments.length===1){if(we(e))return e.slice();if(this===Ot&&typeof e=="string")return[e];if(i=fs(e)){for(n=[];r=i.next(),!r.done;)n.push(r.value);return n}if(e==null)return[e];if(t=e.length,typeof t=="number"){for(n=new Array(t);t--;)n[t]=e[t];return n}return[e]}for(t=arguments.length,n=new Array(t);t--;)n[t]=arguments[t];return n}var Pi=typeof Symbol<"u"?function(e){return e[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},Me=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function fa(e,t){Me=e,pa=t}var pa=function(){return!0},ps=!new Error("").stack;function bt(){if(ps)try{throw bt.arguments,new Error}catch(e){return e}return new Error}function Wr(e,t){var n=e.stack;return n?(t=t||0,n.indexOf(e.name)===0&&(t+=(e.name+e.message).split(`
`).length),n.split(`
`).slice(t).filter(pa).map(function(r){return`
`+r}).join("")):""}var hs=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"],ha=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],Ti=hs.concat(ha),ds={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function Ft(e,t){this._e=bt(),this.name=e,this.message=t}Nt(Ft).from(Error).extend({stack:{get:function(){return this._stack||(this._stack=this.name+": "+this.message+Wr(this._e,2))}},toString:function(){return this.name+": "+this.message}});function da(e,t){return e+". Errors: "+Object.keys(t).map(function(n){return t[n].toString()}).filter(function(n,r,i){return i.indexOf(n)===r}).join(`
`)}function kn(e,t,n,r){this._e=bt(),this.failures=t,this.failedKeys=r,this.successCount=n,this.message=da(e,t)}Nt(kn).from(Ft);function zt(e,t){this._e=bt(),this.name="BulkError",this.failures=Object.keys(t).map(function(n){return t[n]}),this.failuresByPos=t,this.message=da(e,t)}Nt(zt).from(Ft);var ji=Ti.reduce(function(e,t){return e[t]=t+"Error",e},{}),ys=Ft,ee=Ti.reduce(function(e,t){var n=t+"Error";function r(i,o){this._e=bt(),this.name=n,i?typeof i=="string"?(this.message=""+i+(o?`
 `+o:""),this.inner=o||null):typeof i=="object"&&(this.message=i.name+" "+i.message,this.inner=i):(this.message=ds[t]||n,this.inner=null)}return Nt(r).from(ys),e[t]=r,e},{});ee.Syntax=SyntaxError;ee.Type=TypeError;ee.Range=RangeError;var no=ha.reduce(function(e,t){return e[t+"Error"]=ee[t],e},{});function vs(e,t){if(!e||e instanceof Ft||e instanceof TypeError||e instanceof SyntaxError||!e.name||!no[e.name])return e;var n=new no[e.name](t||e.message,e);return"stack"in e&&Ye(n,"stack",{get:function(){return this.inner.stack}}),n}var Yn=Ti.reduce(function(e,t){return["Syntax","Type","Range"].indexOf(t)===-1&&(e[t+"Error"]=ee[t]),e},{});Yn.ModifyError=kn;Yn.DexieError=Ft;Yn.BulkError=zt;function se(){}function sn(e){return e}function gs(e,t){return e==null||e===sn?t:function(n){return t(e(n))}}function gt(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function ms(e,t){return e===se?t:function(){var n=e.apply(this,arguments);n!==void 0&&(arguments[0]=n);var r=this.onsuccess,i=this.onerror;this.onsuccess=null,this.onerror=null;var o=t.apply(this,arguments);return r&&(this.onsuccess=this.onsuccess?gt(r,this.onsuccess):r),i&&(this.onerror=this.onerror?gt(i,this.onerror):i),o!==void 0?o:n}}function bs(e,t){return e===se?t:function(){e.apply(this,arguments);var n=this.onsuccess,r=this.onerror;this.onsuccess=this.onerror=null,t.apply(this,arguments),n&&(this.onsuccess=this.onsuccess?gt(n,this.onsuccess):n),r&&(this.onerror=this.onerror?gt(r,this.onerror):r)}}function ws(e,t){return e===se?t:function(n){var r=e.apply(this,arguments);Ee(n,r);var i=this.onsuccess,o=this.onerror;this.onsuccess=null,this.onerror=null;var a=t.apply(this,arguments);return i&&(this.onsuccess=this.onsuccess?gt(i,this.onsuccess):i),o&&(this.onerror=this.onerror?gt(o,this.onerror):o),r===void 0?a===void 0?void 0:a:Ee(r,a)}}function _s(e,t){return e===se?t:function(){return t.apply(this,arguments)===!1?!1:e.apply(this,arguments)}}function Ii(e,t){return e===se?t:function(){var n=e.apply(this,arguments);if(n&&typeof n.then=="function"){for(var r=this,i=arguments.length,o=new Array(i);i--;)o[i]=arguments[i];return n.then(function(){return t.apply(r,o)})}return t.apply(this,arguments)}}var Jt={},Ss=100,As=20,ya=100,Ri=typeof Promise>"u"?[]:function(){var e=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[e,Yt(e),e];var t=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[t,Yt(t),e]}(),Hr=Ri[0],$n=Ri[1],Yr=Ri[2],va=$n&&$n.then,wn=Hr&&Hr.constructor,xi=!!Yr,Jr=!1,Es=Yr?function(){Yr.then(dn)}:ce.setImmediate?setImmediate.bind(null,dn):ce.MutationObserver?function(){var e=document.createElement("div");new MutationObserver(function(){dn(),e=null}).observe(e,{attributes:!0}),e.setAttribute("i","1")}:function(){setTimeout(dn,0)},Xt=function(e,t){Vt.push([e,t]),Nn&&(Es(),Nn=!1)},Xr=!0,Nn=!0,dt=[],_n=[],Qr=null,Zr=sn,It={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:oo,pgp:!1,env:{},finalize:function(){this.unhandleds.forEach(function(e){try{oo(e[0],e[1])}catch{}})}},Z=It,Vt=[],yt=0,Sn=[];function L(e){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this.onuncatched=se,this._lib=!1;var t=this._PSD=Z;if(Me&&(this._stackHolder=bt(),this._prev=null,this._numPrev=0),typeof e!="function"){if(e!==Jt)throw new TypeError("Not a function");this._state=arguments[1],this._value=arguments[2],this._state===!1&&ti(this,this._value);return}this._state=null,this._value=null,++t.ref,ma(this,e)}var ei={get:function(){var e=Z,t=Fn;function n(r,i){var o=this,a=!e.global&&(e!==Z||t!==Fn),u=a&&!Je(),s=new L(function(c,f){Di(o,new ga(Kn(r,e,a,u),Kn(i,e,a,u),c,f,e))});return Me&&_a(s,this),s}return n.prototype=Jt,n},set:function(e){Ye(this,"then",e&&e.prototype===Jt?ei:{get:function(){return e},set:ei.set})}};Dt(L.prototype,{then:ei,_then:function(e,t){Di(this,new ga(null,null,e,t,Z))},catch:function(e){if(arguments.length===1)return this.then(null,e);var t=arguments[0],n=arguments[1];return typeof t=="function"?this.then(null,function(r){return r instanceof t?n(r):An(r)}):this.then(null,function(r){return r&&r.name===t?n(r):An(r)})},finally:function(e){return this.then(function(t){return e(),t},function(t){return e(),An(t)})},stack:{get:function(){if(this._stack)return this._stack;try{Jr=!0;var e=wa(this,[],As),t=e.join(`
From previous: `);return this._state!==null&&(this._stack=t),t}finally{Jr=!1}}},timeout:function(e,t){var n=this;return e<1/0?new L(function(r,i){var o=setTimeout(function(){return i(new ee.Timeout(t))},e);n.then(r,i).finally(clearTimeout.bind(null,o))}):this}});typeof Symbol<"u"&&Symbol.toStringTag&&Ye(L.prototype,Symbol.toStringTag,"Dexie.Promise");It.env=Sa();function ga(e,t,n,r,i){this.onFulfilled=typeof e=="function"?e:null,this.onRejected=typeof t=="function"?t:null,this.resolve=n,this.reject=r,this.psd=i}Dt(L,{all:function(){var e=Ge.apply(null,arguments).map(Mn);return new L(function(t,n){e.length===0&&t([]);var r=e.length;e.forEach(function(i,o){return L.resolve(i).then(function(a){e[o]=a,--r||t(e)},n)})})},resolve:function(e){if(e instanceof L)return e;if(e&&typeof e.then=="function")return new L(function(n,r){e.then(n,r)});var t=new L(Jt,!0,e);return _a(t,Qr),t},reject:An,race:function(){var e=Ge.apply(null,arguments).map(Mn);return new L(function(t,n){e.map(function(r){return L.resolve(r).then(t,n)})})},PSD:{get:function(){return Z},set:function(e){return Z=e}},totalEchoes:{get:function(){return Fn}},newPSD:nt,usePSD:Kt,scheduler:{get:function(){return Xt},set:function(e){Xt=e}},rejectionMapper:{get:function(){return Zr},set:function(e){Zr=e}},follow:function(e,t){return new L(function(n,r){return nt(function(i,o){var a=Z;a.unhandleds=[],a.onunhandled=o,a.finalize=gt(function(){var u=this;Ps(function(){u.unhandleds.length===0?i():o(u.unhandleds[0])})},a.finalize),e()},t,n,r)})}});wn&&(wn.allSettled&&Ye(L,"allSettled",function(){var e=Ge.apply(null,arguments).map(Mn);return new L(function(t){e.length===0&&t([]);var n=e.length,r=new Array(n);e.forEach(function(i,o){return L.resolve(i).then(function(a){return r[o]={status:"fulfilled",value:a}},function(a){return r[o]={status:"rejected",reason:a}}).then(function(){return--n||t(r)})})})}),wn.any&&typeof AggregateError<"u"&&Ye(L,"any",function(){var e=Ge.apply(null,arguments).map(Mn);return new L(function(t,n){e.length===0&&n(new AggregateError([]));var r=e.length,i=new Array(r);e.forEach(function(o,a){return L.resolve(o).then(function(u){return t(u)},function(u){i[a]=u,--r||n(new AggregateError(i))})})})}));function ma(e,t){try{t(function(n){if(e._state===null){if(n===e)throw new TypeError("A promise cannot be resolved with itself.");var r=e._lib&&cn();n&&typeof n.then=="function"?ma(e,function(i,o){n instanceof L?n._then(i,o):n.then(i,o)}):(e._state=!0,e._value=n,ba(e)),r&&ln()}},ti.bind(null,e))}catch(n){ti(e,n)}}function ti(e,t){if(_n.push(t),e._state===null){var n=e._lib&&cn();t=Zr(t),e._state=!1,e._value=t,Me&&t!==null&&typeof t=="object"&&!t._promise&&as(function(){var r=Oi(t,"stack");t._promise=e,Ye(t,"stack",{get:function(){return Jr?r&&(r.get?r.get.apply(t):r.value):e.stack}})}),Ts(e),ba(e),n&&ln()}}function ba(e){var t=e._listeners;e._listeners=[];for(var n=0,r=t.length;n<r;++n)Di(e,t[n]);var i=e._PSD;--i.ref||i.finalize(),yt===0&&(++yt,Xt(function(){--yt===0&&Ci()},[]))}function Di(e,t){if(e._state===null){e._listeners.push(t);return}var n=e._state?t.onFulfilled:t.onRejected;if(n===null)return(e._state?t.resolve:t.reject)(e._value);++t.psd.ref,++yt,Xt(Os,[n,e,t])}function Os(e,t,n){try{Qr=t;var r,i=t._value;t._state?r=e(i):(_n.length&&(_n=[]),r=e(i),_n.indexOf(i)===-1&&js(t)),n.resolve(r)}catch(o){n.reject(o)}finally{Qr=null,--yt===0&&Ci(),--n.psd.ref||n.psd.finalize()}}function wa(e,t,n){if(t.length===n)return t;var r="";if(e._state===!1){var i=e._value,o,a;i!=null?(o=i.name||"Error",a=i.message||i,r=Wr(i,0)):(o=i,a=""),t.push(o+(a?": "+a:"")+r)}return Me&&(r=Wr(e._stackHolder,2),r&&t.indexOf(r)===-1&&t.push(r),e._prev&&wa(e._prev,t,n)),t}function _a(e,t){var n=t?t._numPrev+1:0;n<Ss&&(e._prev=t,e._numPrev=n)}function dn(){cn()&&ln()}function cn(){var e=Xr;return Xr=!1,Nn=!1,e}function ln(){var e,t,n;do for(;Vt.length>0;)for(e=Vt,Vt=[],n=e.length,t=0;t<n;++t){var r=e[t];r[0].apply(null,r[1])}while(Vt.length>0);Xr=!0,Nn=!0}function Ci(){var e=dt;dt=[],e.forEach(function(r){r._PSD.onunhandled.call(null,r._value,r)});for(var t=Sn.slice(0),n=t.length;n;)t[--n]()}function Ps(e){function t(){e(),Sn.splice(Sn.indexOf(t),1)}Sn.push(t),++yt,Xt(function(){--yt===0&&Ci()},[])}function Ts(e){dt.some(function(t){return t._value===e._value})||dt.push(e)}function js(e){for(var t=dt.length;t;)if(dt[--t]._value===e._value){dt.splice(t,1);return}}function An(e){return new L(Jt,!1,e)}function le(e,t){var n=Z;return function(){var r=cn(),i=Z;try{return rt(n,!0),e.apply(this,arguments)}catch(o){t&&t(o)}finally{rt(i,!1),r&&ln()}}}var be={awaits:0,echoes:0,id:0},Is=0,En=[],ir=0,Fn=0,Rs=0;function nt(e,t,n,r){var i=Z,o=Object.create(i);o.parent=i,o.ref=0,o.global=!1,o.id=++Rs;var a=It.env;o.env=xi?{Promise:L,PromiseProp:{value:L,configurable:!0,writable:!0},all:L.all,race:L.race,allSettled:L.allSettled,any:L.any,resolve:L.resolve,reject:L.reject,nthen:ro(a.nthen,o),gthen:ro(a.gthen,o)}:{},t&&Ee(o,t),++i.ref,o.finalize=function(){--this.parent.ref||this.parent.finalize()};var u=Kt(o,e,n,r);return o.ref===0&&o.finalize(),u}function Mt(){return be.id||(be.id=++Is),++be.awaits,be.echoes+=ya,be.id}function Je(){return be.awaits?(--be.awaits===0&&(be.id=0),be.echoes=be.awaits*ya,!0):!1}(""+va).indexOf("[native code]")===-1&&(Mt=Je=se);function Mn(e){return be.echoes&&e&&e.constructor===wn?(Mt(),e.then(function(t){return Je(),t},function(t){return Je(),ve(t)})):e}function xs(e){++Fn,(!be.echoes||--be.echoes===0)&&(be.echoes=be.id=0),En.push(Z),rt(e,!0)}function Ds(){var e=En[En.length-1];En.pop(),rt(e,!1)}function rt(e,t){var n=Z;if((t?be.echoes&&(!ir++||e!==Z):ir&&(!--ir||e!==Z))&&Aa(t?xs.bind(null,e):Ds),e!==Z&&(Z=e,n===It&&(It.env=Sa()),xi)){var r=It.env.Promise,i=e.env;$n.then=i.nthen,r.prototype.then=i.gthen,(n.global||e.global)&&(Object.defineProperty(ce,"Promise",i.PromiseProp),r.all=i.all,r.race=i.race,r.resolve=i.resolve,r.reject=i.reject,i.allSettled&&(r.allSettled=i.allSettled),i.any&&(r.any=i.any))}}function Sa(){var e=ce.Promise;return xi?{Promise:e,PromiseProp:Object.getOwnPropertyDescriptor(ce,"Promise"),all:e.all,race:e.race,allSettled:e.allSettled,any:e.any,resolve:e.resolve,reject:e.reject,nthen:$n.then,gthen:e.prototype.then}:{}}function Kt(e,t,n,r,i){var o=Z;try{return rt(e,!0),t(n,r,i)}finally{rt(o,!1)}}function Aa(e){va.call(Hr,e)}function Kn(e,t,n,r){return typeof e!="function"?e:function(){var i=Z;n&&Mt(),rt(t,!0);try{return e.apply(this,arguments)}finally{rt(i,!1),r&&Aa(Je)}}}function ro(e,t){return function(n,r){return e.call(this,Kn(n,t),Kn(r,t))}}var io="unhandledrejection";function oo(e,t){var n;try{n=t.onuncatched(e)}catch{}if(n!==!1)try{var r,i={promise:t,reason:e};if(ce.document&&document.createEvent?(r=document.createEvent("Event"),r.initEvent(io,!0,!0),Ee(r,i)):ce.CustomEvent&&(r=new CustomEvent(io,{detail:i}),Ee(r,i)),r&&ce.dispatchEvent&&(dispatchEvent(r),!ce.PromiseRejectionEvent&&ce.onunhandledrejection))try{ce.onunhandledrejection(r)}catch{}Me&&r&&!r.defaultPrevented&&console.warn("Unhandled rejection: "+(e.stack||e))}catch{}}var ve=L.reject;function ni(e,t,n,r){if(!e.idbdb||!e._state.openComplete&&!Z.letThrough&&!e._vip){if(e._state.openComplete)return ve(new ee.DatabaseClosed(e._state.dbOpenError));if(!e._state.isBeingOpened){if(!e._options.autoOpen)return ve(new ee.DatabaseClosed);e.open().catch(se)}return e._state.dbReadyPromise.then(function(){return ni(e,t,n,r)})}else{var i=e._createTransaction(t,n,e._dbSchema);try{i.create(),e._state.PR1398_maxLoop=3}catch(o){return o.name===ji.InvalidState&&e.isOpen()&&--e._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),e._close(),e.open().then(function(){return ni(e,t,n,r)})):ve(o)}return i._promise(t,function(o,a){return nt(function(){return Z.trans=i,r(o,a,i)})}).then(function(o){return i._completion.then(function(){return o})})}}var ao="3.2.2",pt=String.fromCharCode(65535),ri=-1/0,Le="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",Ea="String expected.",Wt=[],Jn=typeof navigator<"u"&&/(MSIE|Trident|Edge)/.test(navigator.userAgent),Cs=Jn,Bs=Jn,Oa=function(e){return!/(dexie\.js|dexie\.min\.js)/.test(e)},Xn="__dbnames",or="readonly",ar="readwrite";function mt(e,t){return e?t?function(){return e.apply(this,arguments)&&t.apply(this,arguments)}:e:t}var Pa={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function yn(e){return typeof e=="string"&&!/\./.test(e)?function(t){return t[e]===void 0&&e in t&&(t=un(t),delete t[e]),t}:function(t){return t}}var ks=function(){function e(){}return e.prototype._trans=function(t,n,r){var i=this._tx||Z.trans,o=this.name;function a(s,c,f){if(!f.schema[o])throw new ee.NotFound("Table "+o+" not part of transaction");return n(f.idbtrans,f)}var u=cn();try{return i&&i.db===this.db?i===Z.trans?i._promise(t,a,r):nt(function(){return i._promise(t,a,r)},{trans:i,transless:Z.transless||Z}):ni(this.db,t,[this.name],a)}finally{u&&ln()}},e.prototype.get=function(t,n){var r=this;return t&&t.constructor===Object?this.where(t).first(n):this._trans("readonly",function(i){return r.core.get({trans:i,key:t}).then(function(o){return r.hook.reading.fire(o)})}).then(n)},e.prototype.where=function(t){if(typeof t=="string")return new this.db.WhereClause(this,t);if(we(t))return new this.db.WhereClause(this,"["+t.join("+")+"]");var n=de(t);if(n.length===1)return this.where(n[0]).equals(t[n[0]]);var r=this.schema.indexes.concat(this.schema.primKey).filter(function(f){return f.compound&&n.every(function(d){return f.keyPath.indexOf(d)>=0})&&f.keyPath.every(function(d){return n.indexOf(d)>=0})})[0];if(r&&this.db._maxKey!==pt)return this.where(r.name).equals(r.keyPath.map(function(f){return t[f]}));!r&&Me&&console.warn("The query "+JSON.stringify(t)+" on "+this.name+" would benefit of a "+("compound index ["+n.join("+")+"]"));var i=this.schema.idxByName,o=this.db._deps.indexedDB;function a(f,d){try{return o.cmp(f,d)===0}catch{return!1}}var u=n.reduce(function(f,d){var y=f[0],g=f[1],b=i[d],h=t[d];return[y||b,y||!b?mt(g,b&&b.multi?function(v){var w=He(v,d);return we(w)&&w.some(function(S){return a(h,S)})}:function(v){return a(h,He(v,d))}):g]},[null,null]),s=u[0],c=u[1];return s?this.where(s.name).equals(t[s.keyPath]).filter(c):r?this.filter(c):this.where(n).equals("")},e.prototype.filter=function(t){return this.toCollection().and(t)},e.prototype.count=function(t){return this.toCollection().count(t)},e.prototype.offset=function(t){return this.toCollection().offset(t)},e.prototype.limit=function(t){return this.toCollection().limit(t)},e.prototype.each=function(t){return this.toCollection().each(t)},e.prototype.toArray=function(t){return this.toCollection().toArray(t)},e.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},e.prototype.orderBy=function(t){return new this.db.Collection(new this.db.WhereClause(this,we(t)?"["+t.join("+")+"]":t))},e.prototype.reverse=function(){return this.toCollection().reverse()},e.prototype.mapToClass=function(t){this.schema.mappedClass=t;var n=function(r){if(!r)return r;var i=Object.create(t.prototype);for(var o in r)if(Ce(r,o))try{i[o]=r[o]}catch{}return i};return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=n,this.hook("reading",n),t},e.prototype.defineClass=function(){function t(n){Ee(this,n)}return this.mapToClass(t)},e.prototype.add=function(t,n){var r=this,i=this.schema.primKey,o=i.auto,a=i.keyPath,u=t;return a&&o&&(u=yn(a)(t)),this._trans("readwrite",function(s){return r.core.mutate({trans:s,type:"add",keys:n!=null?[n]:null,values:[u]})}).then(function(s){return s.numFailures?L.reject(s.failures[0]):s.lastResult}).then(function(s){if(a)try{$e(t,a,s)}catch{}return s})},e.prototype.update=function(t,n){if(typeof t=="object"&&!we(t)){var r=He(t,this.schema.primKey.keyPath);if(r===void 0)return ve(new ee.InvalidArgument("Given object does not contain its primary key"));try{typeof n!="function"?de(n).forEach(function(i){$e(t,i,n[i])}):n(t,{value:t,primKey:r})}catch{}return this.where(":id").equals(r).modify(n)}else return this.where(":id").equals(t).modify(n)},e.prototype.put=function(t,n){var r=this,i=this.schema.primKey,o=i.auto,a=i.keyPath,u=t;return a&&o&&(u=yn(a)(t)),this._trans("readwrite",function(s){return r.core.mutate({trans:s,type:"put",values:[u],keys:n!=null?[n]:null})}).then(function(s){return s.numFailures?L.reject(s.failures[0]):s.lastResult}).then(function(s){if(a)try{$e(t,a,s)}catch{}return s})},e.prototype.delete=function(t){var n=this;return this._trans("readwrite",function(r){return n.core.mutate({trans:r,type:"delete",keys:[t]})}).then(function(r){return r.numFailures?L.reject(r.failures[0]):void 0})},e.prototype.clear=function(){var t=this;return this._trans("readwrite",function(n){return t.core.mutate({trans:n,type:"deleteRange",range:Pa})}).then(function(n){return n.numFailures?L.reject(n.failures[0]):void 0})},e.prototype.bulkGet=function(t){var n=this;return this._trans("readonly",function(r){return n.core.getMany({keys:t,trans:r}).then(function(i){return i.map(function(o){return n.hook.reading.fire(o)})})})},e.prototype.bulkAdd=function(t,n,r){var i=this,o=Array.isArray(n)?n:void 0;r=r||(o?void 0:n);var a=r?r.allKeys:void 0;return this._trans("readwrite",function(u){var s=i.schema.primKey,c=s.auto,f=s.keyPath;if(f&&o)throw new ee.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(o&&o.length!==t.length)throw new ee.InvalidArgument("Arguments objects and keys must have the same length");var d=t.length,y=f&&c?t.map(yn(f)):t;return i.core.mutate({trans:u,type:"add",keys:o,values:y,wantResults:a}).then(function(g){var b=g.numFailures,h=g.results,v=g.lastResult,w=g.failures,S=a?h:v;if(b===0)return S;throw new zt(i.name+".bulkAdd(): "+b+" of "+d+" operations failed",w)})})},e.prototype.bulkPut=function(t,n,r){var i=this,o=Array.isArray(n)?n:void 0;r=r||(o?void 0:n);var a=r?r.allKeys:void 0;return this._trans("readwrite",function(u){var s=i.schema.primKey,c=s.auto,f=s.keyPath;if(f&&o)throw new ee.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(o&&o.length!==t.length)throw new ee.InvalidArgument("Arguments objects and keys must have the same length");var d=t.length,y=f&&c?t.map(yn(f)):t;return i.core.mutate({trans:u,type:"put",keys:o,values:y,wantResults:a}).then(function(g){var b=g.numFailures,h=g.results,v=g.lastResult,w=g.failures,S=a?h:v;if(b===0)return S;throw new zt(i.name+".bulkPut(): "+b+" of "+d+" operations failed",w)})})},e.prototype.bulkDelete=function(t){var n=this,r=t.length;return this._trans("readwrite",function(i){return n.core.mutate({trans:i,type:"delete",keys:t})}).then(function(i){var o=i.numFailures,a=i.lastResult,u=i.failures;if(o===0)return a;throw new zt(n.name+".bulkDelete(): "+o+" of "+r+" operations failed",u)})},e}();function fn(e){var t={},n=function(u,s){if(s){for(var c=arguments.length,f=new Array(c-1);--c;)f[c-1]=arguments[c];return t[u].subscribe.apply(null,f),e}else if(typeof u=="string")return t[u]};n.addEventType=o;for(var r=1,i=arguments.length;r<i;++r)o(arguments[r]);return n;function o(u,s,c){if(typeof u=="object")return a(u);s||(s=_s),c||(c=se);var f={subscribers:[],fire:c,subscribe:function(d){f.subscribers.indexOf(d)===-1&&(f.subscribers.push(d),f.fire=s(f.fire,d))},unsubscribe:function(d){f.subscribers=f.subscribers.filter(function(y){return y!==d}),f.fire=f.subscribers.reduce(s,c)}};return t[u]=n[u]=f,f}function a(u){de(u).forEach(function(s){var c=u[s];if(we(c))o(s,u[s][0],u[s][1]);else if(c==="asap")var f=o(s,sn,function(){for(var y=arguments.length,g=new Array(y);y--;)g[y]=arguments[y];f.subscribers.forEach(function(b){aa(function(){b.apply(null,g)})})});else throw new ee.InvalidArgument("Invalid event config")})}}function pn(e,t){return Nt(t).from({prototype:e}),t}function $s(e){return pn(ks.prototype,function(n,r,i){this.db=e,this._tx=i,this.name=n,this.schema=r,this.hook=e._allTables[n]?e._allTables[n].hook:fn(null,{creating:[ms,se],reading:[gs,sn],updating:[ws,se],deleting:[bs,se]})})}function At(e,t){return!(e.filter||e.algorithm||e.or)&&(t?e.justLimit:!e.replayFilter)}function ur(e,t){e.filter=mt(e.filter,t)}function sr(e,t,n){var r=e.replayFilter;e.replayFilter=r?function(){return mt(r(),t())}:t,e.justLimit=n&&!r}function Ns(e,t){e.isMatch=mt(e.isMatch,t)}function On(e,t){if(e.isPrimKey)return t.primaryKey;var n=t.getIndexByKeyPath(e.index);if(!n)throw new ee.Schema("KeyPath "+e.index+" on object store "+t.name+" is not indexed");return n}function uo(e,t,n){var r=On(e,t.schema);return t.openCursor({trans:n,values:!e.keysOnly,reverse:e.dir==="prev",unique:!!e.unique,query:{index:r,range:e.range}})}function vn(e,t,n,r){var i=e.replayFilter?mt(e.filter,e.replayFilter()):e.filter;if(e.or){var o={},a=function(u,s,c){if(!i||i(s,c,function(y){return s.stop(y)},function(y){return s.fail(y)})){var f=s.primaryKey,d=""+f;d==="[object ArrayBuffer]"&&(d=""+new Uint8Array(f)),Ce(o,d)||(o[d]=!0,t(u,s,c))}};return Promise.all([e.or._iterate(a,n),so(uo(e,r,n),e.algorithm,a,!e.keysOnly&&e.valueMapper)])}else return so(uo(e,r,n),mt(e.algorithm,i),t,!e.keysOnly&&e.valueMapper)}function so(e,t,n,r){var i=r?function(a,u,s){return n(r(a),u,s)}:n,o=le(i);return e.then(function(a){if(a)return a.start(function(){var u=function(){return a.continue()};(!t||t(a,function(s){return u=s},function(s){a.stop(s),u=se},function(s){a.fail(s),u=se}))&&o(a.value,a,function(s){return u=s}),u()})})}function Ae(e,t){try{var n=co(e),r=co(t);if(n!==r)return n==="Array"?1:r==="Array"?-1:n==="binary"?1:r==="binary"?-1:n==="string"?1:r==="string"?-1:n==="Date"?1:r!=="Date"?NaN:-1;switch(n){case"number":case"Date":case"string":return e>t?1:e<t?-1:0;case"binary":return Ms(lo(e),lo(t));case"Array":return Fs(e,t)}}catch{}return NaN}function Fs(e,t){for(var n=e.length,r=t.length,i=n<r?n:r,o=0;o<i;++o){var a=Ae(e[o],t[o]);if(a!==0)return a}return n===r?0:n<r?-1:1}function Ms(e,t){for(var n=e.length,r=t.length,i=n<r?n:r,o=0;o<i;++o)if(e[o]!==t[o])return e[o]<t[o]?-1:1;return n===r?0:n<r?-1:1}function co(e){var t=typeof e;if(t!=="object")return t;if(ArrayBuffer.isView(e))return"binary";var n=Gr(e);return n==="ArrayBuffer"?"binary":n}function lo(e){return e instanceof Uint8Array?e:ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):new Uint8Array(e)}var Ks=function(){function e(){}return e.prototype._read=function(t,n){var r=this._ctx;return r.error?r.table._trans(null,ve.bind(null,r.error)):r.table._trans("readonly",t).then(n)},e.prototype._write=function(t){var n=this._ctx;return n.error?n.table._trans(null,ve.bind(null,n.error)):n.table._trans("readwrite",t,"locked")},e.prototype._addAlgorithm=function(t){var n=this._ctx;n.algorithm=mt(n.algorithm,t)},e.prototype._iterate=function(t,n){return vn(this._ctx,t,n,this._ctx.table.core)},e.prototype.clone=function(t){var n=Object.create(this.constructor.prototype),r=Object.create(this._ctx);return t&&Ee(r,t),n._ctx=r,n},e.prototype.raw=function(){return this._ctx.valueMapper=null,this},e.prototype.each=function(t){var n=this._ctx;return this._read(function(r){return vn(n,t,r,n.table.core)})},e.prototype.count=function(t){var n=this;return this._read(function(r){var i=n._ctx,o=i.table.core;if(At(i,!0))return o.count({trans:r,query:{index:On(i,o.schema),range:i.range}}).then(function(u){return Math.min(u,i.limit)});var a=0;return vn(i,function(){return++a,!1},r,o).then(function(){return a})}).then(t)},e.prototype.sortBy=function(t,n){var r=t.split(".").reverse(),i=r[0],o=r.length-1;function a(c,f){return f?a(c[r[f]],f-1):c[i]}var u=this._ctx.dir==="next"?1:-1;function s(c,f){var d=a(c,o),y=a(f,o);return d<y?-u:d>y?u:0}return this.toArray(function(c){return c.sort(s)}).then(n)},e.prototype.toArray=function(t){var n=this;return this._read(function(r){var i=n._ctx;if(i.dir==="next"&&At(i,!0)&&i.limit>0){var o=i.valueMapper,a=On(i,i.table.core.schema);return i.table.core.query({trans:r,limit:i.limit,values:!0,query:{index:a,range:i.range}}).then(function(s){var c=s.result;return o?c.map(o):c})}else{var u=[];return vn(i,function(s){return u.push(s)},r,i.table.core).then(function(){return u})}},t)},e.prototype.offset=function(t){var n=this._ctx;return t<=0?this:(n.offset+=t,At(n)?sr(n,function(){var r=t;return function(i,o){return r===0?!0:r===1?(--r,!1):(o(function(){i.advance(r),r=0}),!1)}}):sr(n,function(){var r=t;return function(){return--r<0}}),this)},e.prototype.limit=function(t){return this._ctx.limit=Math.min(this._ctx.limit,t),sr(this._ctx,function(){var n=t;return function(r,i,o){return--n<=0&&i(o),n>=0}},!0),this},e.prototype.until=function(t,n){return ur(this._ctx,function(r,i,o){return t(r.value)?(i(o),n):!0}),this},e.prototype.first=function(t){return this.limit(1).toArray(function(n){return n[0]}).then(t)},e.prototype.last=function(t){return this.reverse().first(t)},e.prototype.filter=function(t){return ur(this._ctx,function(n){return t(n.value)}),Ns(this._ctx,t),this},e.prototype.and=function(t){return this.filter(t)},e.prototype.or=function(t){return new this.db.WhereClause(this._ctx.table,t,this)},e.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},e.prototype.desc=function(){return this.reverse()},e.prototype.eachKey=function(t){var n=this._ctx;return n.keysOnly=!n.isMatch,this.each(function(r,i){t(i.key,i)})},e.prototype.eachUniqueKey=function(t){return this._ctx.unique="unique",this.eachKey(t)},e.prototype.eachPrimaryKey=function(t){var n=this._ctx;return n.keysOnly=!n.isMatch,this.each(function(r,i){t(i.primaryKey,i)})},e.prototype.keys=function(t){var n=this._ctx;n.keysOnly=!n.isMatch;var r=[];return this.each(function(i,o){r.push(o.key)}).then(function(){return r}).then(t)},e.prototype.primaryKeys=function(t){var n=this._ctx;if(n.dir==="next"&&At(n,!0)&&n.limit>0)return this._read(function(i){var o=On(n,n.table.core.schema);return n.table.core.query({trans:i,values:!1,limit:n.limit,query:{index:o,range:n.range}})}).then(function(i){var o=i.result;return o}).then(t);n.keysOnly=!n.isMatch;var r=[];return this.each(function(i,o){r.push(o.primaryKey)}).then(function(){return r}).then(t)},e.prototype.uniqueKeys=function(t){return this._ctx.unique="unique",this.keys(t)},e.prototype.firstKey=function(t){return this.limit(1).keys(function(n){return n[0]}).then(t)},e.prototype.lastKey=function(t){return this.reverse().firstKey(t)},e.prototype.distinct=function(){var t=this._ctx,n=t.index&&t.table.schema.idxByName[t.index];if(!n||!n.multi)return this;var r={};return ur(this._ctx,function(i){var o=i.primaryKey.toString(),a=Ce(r,o);return r[o]=!0,!a}),this},e.prototype.modify=function(t){var n=this,r=this._ctx;return this._write(function(i){var o;if(typeof t=="function")o=t;else{var a=de(t),u=a.length;o=function(w){for(var S=!1,E=0;E<u;++E){var P=a[E],_=t[P];He(w,P)!==_&&($e(w,P,_),S=!0)}return S}}var s=r.table.core,c=s.schema.primaryKey,f=c.outbound,d=c.extractKey,y=n.db._options.modifyChunkSize||200,g=[],b=0,h=[],v=function(w,S){var E=S.failures,P=S.numFailures;b+=w-P;for(var _=0,B=de(E);_<B.length;_++){var $=B[_];g.push(E[$])}};return n.clone().primaryKeys().then(function(w){var S=function(E){var P=Math.min(y,w.length-E);return s.getMany({trans:i,keys:w.slice(E,E+P),cache:"immutable"}).then(function(_){for(var B=[],$=[],D=f?[]:null,F=[],G=0;G<P;++G){var z=_[G],M={value:un(z),primKey:w[E+G]};o.call(M,M.value,M)!==!1&&(M.value==null?F.push(w[E+G]):!f&&Ae(d(z),d(M.value))!==0?(F.push(w[E+G]),B.push(M.value)):($.push(M.value),f&&D.push(w[E+G])))}var W=At(r)&&r.limit===1/0&&(typeof t!="function"||t===cr)&&{index:r.index,range:r.range};return Promise.resolve(B.length>0&&s.mutate({trans:i,type:"add",values:B}).then(function(X){for(var O in X.failures)F.splice(parseInt(O),1);v(B.length,X)})).then(function(){return($.length>0||W&&typeof t=="object")&&s.mutate({trans:i,type:"put",keys:D,values:$,criteria:W,changeSpec:typeof t!="function"&&t}).then(function(X){return v($.length,X)})}).then(function(){return(F.length>0||W&&t===cr)&&s.mutate({trans:i,type:"delete",keys:F,criteria:W}).then(function(X){return v(F.length,X)})}).then(function(){return w.length>E+P&&S(E+y)})})};return S(0).then(function(){if(g.length>0)throw new kn("Error modifying one or more objects",g,b,h);return w.length})})})},e.prototype.delete=function(){var t=this._ctx,n=t.range;return At(t)&&(t.isPrimKey&&!Bs||n.type===3)?this._write(function(r){var i=t.table.core.schema.primaryKey,o=n;return t.table.core.count({trans:r,query:{index:i,range:o}}).then(function(a){return t.table.core.mutate({trans:r,type:"deleteRange",range:o}).then(function(u){var s=u.failures;u.lastResult,u.results;var c=u.numFailures;if(c)throw new kn("Could not delete some values",Object.keys(s).map(function(f){return s[f]}),a-c);return a-c})})}):this.modify(cr)},e}(),cr=function(e,t){return t.value=null};function qs(e){return pn(Ks.prototype,function(n,r){this.db=e;var i=Pa,o=null;if(r)try{i=r()}catch(c){o=c}var a=n._ctx,u=a.table,s=u.hook.reading.fire;this._ctx={table:u,index:a.index,isPrimKey:!a.index||u.schema.primKey.keyPath&&a.index===u.schema.primKey.name,range:i,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:o,or:a.or,valueMapper:s!==sn?s:null}})}function Ls(e,t){return e<t?-1:e===t?0:1}function Us(e,t){return e>t?-1:e===t?0:1}function xe(e,t,n){var r=e instanceof ja?new e.Collection(e):e;return r._ctx.error=n?new n(t):new TypeError(t),r}function Et(e){return new e.Collection(e,function(){return Ta("")}).limit(0)}function Vs(e){return e==="next"?function(t){return t.toUpperCase()}:function(t){return t.toLowerCase()}}function Gs(e){return e==="next"?function(t){return t.toLowerCase()}:function(t){return t.toUpperCase()}}function zs(e,t,n,r,i,o){for(var a=Math.min(e.length,r.length),u=-1,s=0;s<a;++s){var c=t[s];if(c!==r[s])return i(e[s],n[s])<0?e.substr(0,s)+n[s]+n.substr(s+1):i(e[s],r[s])<0?e.substr(0,s)+r[s]+n.substr(s+1):u>=0?e.substr(0,u)+t[u]+n.substr(u+1):null;i(e[s],c)<0&&(u=s)}return a<r.length&&o==="next"?e+n.substr(e.length):a<e.length&&o==="prev"?e.substr(0,n.length):u<0?null:e.substr(0,u)+r[u]+n.substr(u+1)}function gn(e,t,n,r){var i,o,a,u,s,c,f,d=n.length;if(!n.every(function(h){return typeof h=="string"}))return xe(e,Ea);function y(h){i=Vs(h),o=Gs(h),a=h==="next"?Ls:Us;var v=n.map(function(w){return{lower:o(w),upper:i(w)}}).sort(function(w,S){return a(w.lower,S.lower)});u=v.map(function(w){return w.upper}),s=v.map(function(w){return w.lower}),c=h,f=h==="next"?"":r}y("next");var g=new e.Collection(e,function(){return Xe(u[0],s[d-1]+r)});g._ondirectionchange=function(h){y(h)};var b=0;return g._addAlgorithm(function(h,v,w){var S=h.key;if(typeof S!="string")return!1;var E=o(S);if(t(E,s,b))return!0;for(var P=null,_=b;_<d;++_){var B=zs(S,E,u[_],s[_],a,c);B===null&&P===null?b=_+1:(P===null||a(P,B)>0)&&(P=B)}return v(P!==null?function(){h.continue(P+f)}:w),!1}),g}function Xe(e,t,n,r){return{type:2,lower:e,upper:t,lowerOpen:n,upperOpen:r}}function Ta(e){return{type:1,lower:e,upper:e}}var ja=function(){function e(){}return Object.defineProperty(e.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),e.prototype.between=function(t,n,r,i){r=r!==!1,i=i===!0;try{return this._cmp(t,n)>0||this._cmp(t,n)===0&&(r||i)&&!(r&&i)?Et(this):new this.Collection(this,function(){return Xe(t,n,!r,!i)})}catch{return xe(this,Le)}},e.prototype.equals=function(t){return t==null?xe(this,Le):new this.Collection(this,function(){return Ta(t)})},e.prototype.above=function(t){return t==null?xe(this,Le):new this.Collection(this,function(){return Xe(t,void 0,!0)})},e.prototype.aboveOrEqual=function(t){return t==null?xe(this,Le):new this.Collection(this,function(){return Xe(t,void 0,!1)})},e.prototype.below=function(t){return t==null?xe(this,Le):new this.Collection(this,function(){return Xe(void 0,t,!1,!0)})},e.prototype.belowOrEqual=function(t){return t==null?xe(this,Le):new this.Collection(this,function(){return Xe(void 0,t)})},e.prototype.startsWith=function(t){return typeof t!="string"?xe(this,Ea):this.between(t,t+pt,!0,!0)},e.prototype.startsWithIgnoreCase=function(t){return t===""?this.startsWith(t):gn(this,function(n,r){return n.indexOf(r[0])===0},[t],pt)},e.prototype.equalsIgnoreCase=function(t){return gn(this,function(n,r){return n===r[0]},[t],"")},e.prototype.anyOfIgnoreCase=function(){var t=Ge.apply(Ot,arguments);return t.length===0?Et(this):gn(this,function(n,r){return r.indexOf(n)!==-1},t,"")},e.prototype.startsWithAnyOfIgnoreCase=function(){var t=Ge.apply(Ot,arguments);return t.length===0?Et(this):gn(this,function(n,r){return r.some(function(i){return n.indexOf(i)===0})},t,pt)},e.prototype.anyOf=function(){var t=this,n=Ge.apply(Ot,arguments),r=this._cmp;try{n.sort(r)}catch{return xe(this,Le)}if(n.length===0)return Et(this);var i=new this.Collection(this,function(){return Xe(n[0],n[n.length-1])});i._ondirectionchange=function(a){r=a==="next"?t._ascending:t._descending,n.sort(r)};var o=0;return i._addAlgorithm(function(a,u,s){for(var c=a.key;r(c,n[o])>0;)if(++o,o===n.length)return u(s),!1;return r(c,n[o])===0?!0:(u(function(){a.continue(n[o])}),!1)}),i},e.prototype.notEqual=function(t){return this.inAnyRange([[ri,t],[t,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},e.prototype.noneOf=function(){var t=Ge.apply(Ot,arguments);if(t.length===0)return new this.Collection(this);try{t.sort(this._ascending)}catch{return xe(this,Le)}var n=t.reduce(function(r,i){return r?r.concat([[r[r.length-1][1],i]]):[[ri,i]]},null);return n.push([t[t.length-1],this.db._maxKey]),this.inAnyRange(n,{includeLowers:!1,includeUppers:!1})},e.prototype.inAnyRange=function(t,n){var r=this,i=this._cmp,o=this._ascending,a=this._descending,u=this._min,s=this._max;if(t.length===0)return Et(this);if(!t.every(function(_){return _[0]!==void 0&&_[1]!==void 0&&o(_[0],_[1])<=0}))return xe(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",ee.InvalidArgument);var c=!n||n.includeLowers!==!1,f=n&&n.includeUppers===!0;function d(_,B){for(var $=0,D=_.length;$<D;++$){var F=_[$];if(i(B[0],F[1])<0&&i(B[1],F[0])>0){F[0]=u(F[0],B[0]),F[1]=s(F[1],B[1]);break}}return $===D&&_.push(B),_}var y=o;function g(_,B){return y(_[0],B[0])}var b;try{b=t.reduce(d,[]),b.sort(g)}catch{return xe(this,Le)}var h=0,v=f?function(_){return o(_,b[h][1])>0}:function(_){return o(_,b[h][1])>=0},w=c?function(_){return a(_,b[h][0])>0}:function(_){return a(_,b[h][0])>=0};function S(_){return!v(_)&&!w(_)}var E=v,P=new this.Collection(this,function(){return Xe(b[0][0],b[b.length-1][1],!c,!f)});return P._ondirectionchange=function(_){_==="next"?(E=v,y=o):(E=w,y=a),b.sort(g)},P._addAlgorithm(function(_,B,$){for(var D=_.key;E(D);)if(++h,h===b.length)return B($),!1;return S(D)?!0:(r._cmp(D,b[h][1])===0||r._cmp(D,b[h][0])===0||B(function(){y===o?_.continue(b[h][0]):_.continue(b[h][1])}),!1)}),P},e.prototype.startsWithAnyOf=function(){var t=Ge.apply(Ot,arguments);return t.every(function(n){return typeof n=="string"})?t.length===0?Et(this):this.inAnyRange(t.map(function(n){return[n,n+pt]})):xe(this,"startsWithAnyOf() only works with strings")},e}();function Ws(e){return pn(ja.prototype,function(n,r,i){this.db=e,this._ctx={table:n,index:r===":id"?null:r,or:i};var o=e._deps.indexedDB;if(!o)throw new ee.MissingAPI;this._cmp=this._ascending=o.cmp.bind(o),this._descending=function(a,u){return o.cmp(u,a)},this._max=function(a,u){return o.cmp(a,u)>0?a:u},this._min=function(a,u){return o.cmp(a,u)<0?a:u},this._IDBKeyRange=e._deps.IDBKeyRange})}function Fe(e){return le(function(t){return Qt(t),e(t.target.error),!1})}function Qt(e){e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault()}var Zt="storagemutated",et="x-storagemutated-1",it=fn(null,Zt),Hs=function(){function e(){}return e.prototype._lock=function(){return Ut(!Z.global),++this._reculock,this._reculock===1&&!Z.global&&(Z.lockOwnerFor=this),this},e.prototype._unlock=function(){if(Ut(!Z.global),--this._reculock===0)for(Z.global||(Z.lockOwnerFor=null);this._blockedFuncs.length>0&&!this._locked();){var t=this._blockedFuncs.shift();try{Kt(t[1],t[0])}catch{}}return this},e.prototype._locked=function(){return this._reculock&&Z.lockOwnerFor!==this},e.prototype.create=function(t){var n=this;if(!this.mode)return this;var r=this.db.idbdb,i=this.db._state.dbOpenError;if(Ut(!this.idbtrans),!t&&!r)switch(i&&i.name){case"DatabaseClosedError":throw new ee.DatabaseClosed(i);case"MissingAPIError":throw new ee.MissingAPI(i.message,i);default:throw new ee.OpenFailed(i)}if(!this.active)throw new ee.TransactionInactive;return Ut(this._completion._state===null),t=this.idbtrans=t||(this.db.core?this.db.core.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}):r.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})),t.onerror=le(function(o){Qt(o),n._reject(t.error)}),t.onabort=le(function(o){Qt(o),n.active&&n._reject(new ee.Abort(t.error)),n.active=!1,n.on("abort").fire(o)}),t.oncomplete=le(function(){n.active=!1,n._resolve(),"mutatedParts"in t&&it.storagemutated.fire(t.mutatedParts)}),this},e.prototype._promise=function(t,n,r){var i=this;if(t==="readwrite"&&this.mode!=="readwrite")return ve(new ee.ReadOnly("Transaction is readonly"));if(!this.active)return ve(new ee.TransactionInactive);if(this._locked())return new L(function(a,u){i._blockedFuncs.push([function(){i._promise(t,n,r).then(a,u)},Z])});if(r)return nt(function(){var a=new L(function(u,s){i._lock();var c=n(u,s,i);c&&c.then&&c.then(u,s)});return a.finally(function(){return i._unlock()}),a._lib=!0,a});var o=new L(function(a,u){var s=n(a,u,i);s&&s.then&&s.then(a,u)});return o._lib=!0,o},e.prototype._root=function(){return this.parent?this.parent._root():this},e.prototype.waitFor=function(t){var n=this._root(),r=L.resolve(t);if(n._waitingFor)n._waitingFor=n._waitingFor.then(function(){return r});else{n._waitingFor=r,n._waitingQueue=[];var i=n.idbtrans.objectStore(n.storeNames[0]);(function a(){for(++n._spinCount;n._waitingQueue.length;)n._waitingQueue.shift()();n._waitingFor&&(i.get(-1/0).onsuccess=a)})()}var o=n._waitingFor;return new L(function(a,u){r.then(function(s){return n._waitingQueue.push(le(a.bind(null,s)))},function(s){return n._waitingQueue.push(le(u.bind(null,s)))}).finally(function(){n._waitingFor===o&&(n._waitingFor=null)})})},e.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new ee.Abort))},e.prototype.table=function(t){var n=this._memoizedTables||(this._memoizedTables={});if(Ce(n,t))return n[t];var r=this.schema[t];if(!r)throw new ee.NotFound("Table "+t+" not part of transaction");var i=new this.db.Table(t,r,this);return i.core=this.db.core.table(t),n[t]=i,i},e}();function Ys(e){return pn(Hs.prototype,function(n,r,i,o,a){var u=this;this.db=e,this.mode=n,this.storeNames=r,this.schema=i,this.chromeTransactionDurability=o,this.idbtrans=null,this.on=fn(this,"complete","error","abort"),this.parent=a||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new L(function(s,c){u._resolve=s,u._reject=c}),this._completion.then(function(){u.active=!1,u.on.complete.fire()},function(s){var c=u.active;return u.active=!1,u.on.error.fire(s),u.parent?u.parent._reject(s):c&&u.idbtrans&&u.idbtrans.abort(),ve(s)})})}function ii(e,t,n,r,i,o,a){return{name:e,keyPath:t,unique:n,multi:r,auto:i,compound:o,src:(n&&!a?"&":"")+(r?"*":"")+(i?"++":"")+Ia(t)}}function Ia(e){return typeof e=="string"?e:e?"["+[].join.call(e,"+")+"]":""}function Ra(e,t,n){return{name:e,primKey:t,indexes:n,mappedClass:null,idxByName:ua(n,function(r){return[r.name,r]})}}function Js(e){return e.length===1?e[0]:e}var en=function(e){try{return e.only([[]]),en=function(){return[[]]},[[]]}catch{return en=function(){return pt},pt}};function oi(e){return e==null?function(){}:typeof e=="string"?Xs(e):function(t){return He(t,e)}}function Xs(e){var t=e.split(".");return t.length===1?function(n){return n[e]}:function(n){return He(n,e)}}function fo(e){return[].slice.call(e)}var Qs=0;function Ht(e){return e==null?":id":typeof e=="string"?e:"["+e.join("+")+"]"}function Zs(e,t,n){function r(d,y){var g=fo(d.objectStoreNames);return{schema:{name:d.name,tables:g.map(function(b){return y.objectStore(b)}).map(function(b){var h=b.keyPath,v=b.autoIncrement,w=we(h),S=h==null,E={},P={name:b.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:S,compound:w,keyPath:h,autoIncrement:v,unique:!0,extractKey:oi(h)},indexes:fo(b.indexNames).map(function(_){return b.index(_)}).map(function(_){var B=_.name,$=_.unique,D=_.multiEntry,F=_.keyPath,G=we(F),z={name:B,compound:G,keyPath:F,unique:$,multiEntry:D,extractKey:oi(F)};return E[Ht(F)]=z,z}),getIndexByKeyPath:function(_){return E[Ht(_)]}};return E[":id"]=P.primaryKey,h!=null&&(E[Ht(h)]=P.primaryKey),P})},hasGetAll:g.length>0&&"getAll"in y.objectStore(g[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}}function i(d){if(d.type===3)return null;if(d.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var y=d.lower,g=d.upper,b=d.lowerOpen,h=d.upperOpen,v=y===void 0?g===void 0?null:t.upperBound(g,!!h):g===void 0?t.lowerBound(y,!!b):t.bound(y,g,!!b,!!h);return v}function o(d){var y=d.name;function g(v){var w=v.trans,S=v.type,E=v.keys,P=v.values,_=v.range;return new Promise(function(B,$){B=le(B);var D=w.objectStore(y),F=D.keyPath==null,G=S==="put"||S==="add";if(!G&&S!=="delete"&&S!=="deleteRange")throw new Error("Invalid operation type: "+S);var z=(E||P||{length:1}).length;if(E&&P&&E.length!==P.length)throw new Error("Given keys array must have same length as given values array.");if(z===0)return B({numFailures:0,failures:{},results:[],lastResult:void 0});var M,W=[],X=[],O=0,C=function(l){++O,Qt(l)};if(S==="deleteRange"){if(_.type===4)return B({numFailures:O,failures:X,results:[],lastResult:void 0});_.type===3?W.push(M=D.clear()):W.push(M=D.delete(i(_)))}else{var N=G?F?[P,E]:[P,null]:[E,null],k=N[0],q=N[1];if(G)for(var Q=0;Q<z;++Q)W.push(M=q&&q[Q]!==void 0?D[S](k[Q],q[Q]):D[S](k[Q])),M.onerror=C;else for(var Q=0;Q<z;++Q)W.push(M=D[S](k[Q])),M.onerror=C}var T=function(l){var p=l.target.result;W.forEach(function(m,R){return m.error!=null&&(X[R]=m.error)}),B({numFailures:O,failures:X,results:S==="delete"?E:W.map(function(m){return m.result}),lastResult:p})};M.onerror=function(l){C(l),T(l)},M.onsuccess=T})}function b(v){var w=v.trans,S=v.values,E=v.query,P=v.reverse,_=v.unique;return new Promise(function(B,$){B=le(B);var D=E.index,F=E.range,G=w.objectStore(y),z=D.isPrimaryKey?G:G.index(D.name),M=P?_?"prevunique":"prev":_?"nextunique":"next",W=S||!("openKeyCursor"in z)?z.openCursor(i(F),M):z.openKeyCursor(i(F),M);W.onerror=Fe($),W.onsuccess=le(function(X){var O=W.result;if(!O){B(null);return}O.___id=++Qs,O.done=!1;var C=O.continue.bind(O),N=O.continuePrimaryKey;N&&(N=N.bind(O));var k=O.advance.bind(O),q=function(){throw new Error("Cursor not started")},Q=function(){throw new Error("Cursor not stopped")};O.trans=w,O.stop=O.continue=O.continuePrimaryKey=O.advance=q,O.fail=le($),O.next=function(){var T=this,l=1;return this.start(function(){return l--?T.continue():T.stop()}).then(function(){return T})},O.start=function(T){var l=new Promise(function(m,R){m=le(m),W.onerror=Fe(R),O.fail=R,O.stop=function(I){O.stop=O.continue=O.continuePrimaryKey=O.advance=Q,m(I)}}),p=function(){if(W.result)try{T()}catch(m){O.fail(m)}else O.done=!0,O.start=function(){throw new Error("Cursor behind last entry")},O.stop()};return W.onsuccess=le(function(m){W.onsuccess=p,p()}),O.continue=C,O.continuePrimaryKey=N,O.advance=k,p(),l},B(O)},$)})}function h(v){return function(w){return new Promise(function(S,E){S=le(S);var P=w.trans,_=w.values,B=w.limit,$=w.query,D=B===1/0?void 0:B,F=$.index,G=$.range,z=P.objectStore(y),M=F.isPrimaryKey?z:z.index(F.name),W=i(G);if(B===0)return S({result:[]});if(v){var X=_?M.getAll(W,D):M.getAllKeys(W,D);X.onsuccess=function(k){return S({result:k.target.result})},X.onerror=Fe(E)}else{var O=0,C=_||!("openKeyCursor"in M)?M.openCursor(W):M.openKeyCursor(W),N=[];C.onsuccess=function(k){var q=C.result;if(!q)return S({result:N});if(N.push(_?q.value:q.primaryKey),++O===B)return S({result:N});q.continue()},C.onerror=Fe(E)}})}}return{name:y,schema:d,mutate:g,getMany:function(v){var w=v.trans,S=v.keys;return new Promise(function(E,P){E=le(E);for(var _=w.objectStore(y),B=S.length,$=new Array(B),D=0,F=0,G,z=function(O){var C=O.target;($[C._pos]=C.result)!=null,++F===D&&E($)},M=Fe(P),W=0;W<B;++W){var X=S[W];X!=null&&(G=_.get(S[W]),G._pos=W,G.onsuccess=z,G.onerror=M,++D)}D===0&&E($)})},get:function(v){var w=v.trans,S=v.key;return new Promise(function(E,P){E=le(E);var _=w.objectStore(y),B=_.get(S);B.onsuccess=function($){return E($.target.result)},B.onerror=Fe(P)})},query:h(s),openCursor:b,count:function(v){var w=v.query,S=v.trans,E=w.index,P=w.range;return new Promise(function(_,B){var $=S.objectStore(y),D=E.isPrimaryKey?$:$.index(E.name),F=i(P),G=F?D.count(F):D.count();G.onsuccess=le(function(z){return _(z.target.result)}),G.onerror=Fe(B)})}}}var a=r(e,n),u=a.schema,s=a.hasGetAll,c=u.tables.map(function(d){return o(d)}),f={};return c.forEach(function(d){return f[d.name]=d}),{stack:"dbcore",transaction:e.transaction.bind(e),table:function(d){var y=f[d];if(!y)throw new Error("Table '"+d+"' not found");return f[d]},MIN_KEY:-1/0,MAX_KEY:en(t),schema:u}}function ec(e,t){return t.reduce(function(n,r){var i=r.create;return oe(oe({},n),i(n))},e)}function tc(e,t,n,r){var i=n.IDBKeyRange;n.indexedDB;var o=ec(Zs(t,i,r),e.dbcore);return{dbcore:o}}function Bi(e,t){var n=e._novip,r=t.db,i=tc(n._middlewares,r,n._deps,t);n.core=i.dbcore,n.tables.forEach(function(o){var a=o.name;n.core.schema.tables.some(function(u){return u.name===a})&&(o.core=n.core.table(a),n[a]instanceof n.Table&&(n[a].core=o.core))})}function qn(e,t,n,r){var i=e._novip;n.forEach(function(o){var a=r[o];t.forEach(function(u){var s=Oi(u,o);(!s||"value"in s&&s.value===void 0)&&(u===i.Transaction.prototype||u instanceof i.Transaction?Ye(u,o,{get:function(){return this.table(o)},set:function(c){ia(this,o,{value:c,writable:!0,configurable:!0,enumerable:!0})}}):u[o]=new i.Table(o,a))})})}function ai(e,t){var n=e._novip;t.forEach(function(r){for(var i in r)r[i]instanceof n.Table&&delete r[i]})}function nc(e,t){return e._cfg.version-t._cfg.version}function rc(e,t,n,r){var i=e._dbSchema,o=e._createTransaction("readwrite",e._storeNames,i);o.create(n),o._completion.catch(r);var a=o._reject.bind(o),u=Z.transless||Z;nt(function(){Z.trans=o,Z.transless=u,t===0?(de(i).forEach(function(s){ki(n,s,i[s].primKey,i[s].indexes)}),Bi(e,n),L.follow(function(){return e.on.populate.fire(o)}).catch(a)):ic(e,t,o,n).catch(a)})}function ic(e,t,n,r){var i=e._novip,o=[],a=i._versions,u=i._dbSchema=$i(i,i.idbdb,r),s=!1,c=a.filter(function(d){return d._cfg.version>=t});c.forEach(function(d){o.push(function(){var y=u,g=d._cfg.dbschema;si(i,y,r),si(i,g,r),u=i._dbSchema=g;var b=xa(y,g);b.add.forEach(function(P){ki(r,P[0],P[1].primKey,P[1].indexes)}),b.change.forEach(function(P){if(P.recreate)throw new ee.Upgrade("Not yet support for changing primary key");var _=r.objectStore(P.name);P.add.forEach(function(B){return ui(_,B)}),P.change.forEach(function(B){_.deleteIndex(B.name),ui(_,B)}),P.del.forEach(function(B){return _.deleteIndex(B)})});var h=d._cfg.contentUpgrade;if(h&&d._cfg.version>t){Bi(i,r),n._memoizedTables={},s=!0;var v=sa(g);b.del.forEach(function(P){v[P]=y[P]}),ai(i,[i.Transaction.prototype]),qn(i,[i.Transaction.prototype],de(v),v),n.schema=v;var w=Pi(h);w&&Mt();var S,E=L.follow(function(){if(S=h(n),S&&w){var P=Je.bind(null,null);S.then(P,P)}});return S&&typeof S.then=="function"?L.resolve(S):E.then(function(){return S})}}),o.push(function(y){if(!s||!Cs){var g=d._cfg.dbschema;ac(g,y)}ai(i,[i.Transaction.prototype]),qn(i,[i.Transaction.prototype],i._storeNames,i._dbSchema),n.schema=i._dbSchema})});function f(){return o.length?L.resolve(o.shift()(n.idbtrans)).then(f):L.resolve()}return f().then(function(){oc(u,r)})}function xa(e,t){var n={del:[],add:[],change:[]},r;for(r in e)t[r]||n.del.push(r);for(r in t){var i=e[r],o=t[r];if(!i)n.add.push([r,o]);else{var a={name:r,def:o,recreate:!1,del:[],add:[],change:[]};if(""+(i.primKey.keyPath||"")!=""+(o.primKey.keyPath||"")||i.primKey.auto!==o.primKey.auto&&!Jn)a.recreate=!0,n.change.push(a);else{var u=i.idxByName,s=o.idxByName,c=void 0;for(c in u)s[c]||a.del.push(c);for(c in s){var f=u[c],d=s[c];f?f.src!==d.src&&a.change.push(d):a.add.push(d)}(a.del.length>0||a.add.length>0||a.change.length>0)&&n.change.push(a)}}}return n}function ki(e,t,n,r){var i=e.db.createObjectStore(t,n.keyPath?{keyPath:n.keyPath,autoIncrement:n.auto}:{autoIncrement:n.auto});return r.forEach(function(o){return ui(i,o)}),i}function oc(e,t){de(e).forEach(function(n){t.db.objectStoreNames.contains(n)||ki(t,n,e[n].primKey,e[n].indexes)})}function ac(e,t){[].slice.call(t.db.objectStoreNames).forEach(function(n){return e[n]==null&&t.db.deleteObjectStore(n)})}function ui(e,t){e.createIndex(t.name,t.keyPath,{unique:t.unique,multiEntry:t.multi})}function $i(e,t,n){var r={},i=Hn(t.objectStoreNames,0);return i.forEach(function(o){for(var a=n.objectStore(o),u=a.keyPath,s=ii(Ia(u),u||"",!1,!1,!!a.autoIncrement,u&&typeof u!="string",!0),c=[],f=0;f<a.indexNames.length;++f){var d=a.index(a.indexNames[f]);u=d.keyPath;var y=ii(d.name,u,!!d.unique,!!d.multiEntry,!1,u&&typeof u!="string",!1);c.push(y)}r[o]=Ra(o,s,c)}),r}function uc(e,t,n){var r=e._novip;r.verno=t.version/10;var i=r._dbSchema=$i(r,t,n);r._storeNames=Hn(t.objectStoreNames,0),qn(r,[r._allTables],de(i),i)}function sc(e,t){var n=$i(e,e.idbdb,t),r=xa(n,e._dbSchema);return!(r.add.length||r.change.some(function(i){return i.add.length||i.change.length}))}function si(e,t,n){for(var r=e._novip,i=n.db.objectStoreNames,o=0;o<i.length;++o){var a=i[o],u=n.objectStore(a);r._hasGetAll="getAll"in u;for(var s=0;s<u.indexNames.length;++s){var c=u.indexNames[s],f=u.index(c).keyPath,d=typeof f=="string"?f:"["+Hn(f).join("+")+"]";if(t[a]){var y=t[a].idxByName[d];y&&(y.name=c,delete t[a].idxByName[d],t[a].idxByName[c]=y)}}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&ce.WorkerGlobalScope&&ce instanceof ce.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(r._hasGetAll=!1)}function cc(e){return e.split(",").map(function(t,n){t=t.trim();var r=t.replace(/([&*]|\+\+)/g,""),i=/^\[/.test(r)?r.match(/^\[(.*)\]$/)[1].split("+"):r;return ii(r,i||null,/\&/.test(t),/\*/.test(t),/\+\+/.test(t),we(i),n===0)})}var lc=function(){function e(){}return e.prototype._parseStoresSpec=function(t,n){de(t).forEach(function(r){if(t[r]!==null){var i=cc(t[r]),o=i.shift();if(o.multi)throw new ee.Schema("Primary key cannot be multi-valued");i.forEach(function(a){if(a.auto)throw new ee.Schema("Only primary key can be marked as autoIncrement (++)");if(!a.keyPath)throw new ee.Schema("Index must have a name and cannot be an empty string")}),n[r]=Ra(r,o,i)}})},e.prototype.stores=function(t){var n=this.db;this._cfg.storesSource=this._cfg.storesSource?Ee(this._cfg.storesSource,t):t;var r=n._versions,i={},o={};return r.forEach(function(a){Ee(i,a._cfg.storesSource),o=a._cfg.dbschema={},a._parseStoresSpec(i,o)}),n._dbSchema=o,ai(n,[n._allTables,n,n.Transaction.prototype]),qn(n,[n._allTables,n,n.Transaction.prototype,this._cfg.tables],de(o),o),n._storeNames=de(o),this},e.prototype.upgrade=function(t){return this._cfg.contentUpgrade=Ii(this._cfg.contentUpgrade||se,t),this},e}();function fc(e){return pn(lc.prototype,function(n){this.db=e,this._cfg={version:n,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})}function Ni(e,t){var n=e._dbNamesDB;return n||(n=e._dbNamesDB=new qi(Xn,{addons:[],indexedDB:e,IDBKeyRange:t}),n.version(1).stores({dbnames:"name"})),n.table("dbnames")}function Fi(e){return e&&typeof e.databases=="function"}function pc(e){var t=e.indexedDB,n=e.IDBKeyRange;return Fi(t)?Promise.resolve(t.databases()).then(function(r){return r.map(function(i){return i.name}).filter(function(i){return i!==Xn})}):Ni(t,n).toCollection().primaryKeys()}function hc(e,t){var n=e.indexedDB,r=e.IDBKeyRange;!Fi(n)&&t!==Xn&&Ni(n,r).put({name:t}).catch(se)}function dc(e,t){var n=e.indexedDB,r=e.IDBKeyRange;!Fi(n)&&t!==Xn&&Ni(n,r).delete(t).catch(se)}function ci(e){return nt(function(){return Z.letThrough=!0,e()})}function yc(){var e=!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent);if(!e||!indexedDB.databases)return Promise.resolve();var t;return new Promise(function(n){var r=function(){return indexedDB.databases().finally(n)};t=setInterval(r,100),r()}).finally(function(){return clearInterval(t)})}function vc(e){var t=e._state,n=e._deps.indexedDB;if(t.isBeingOpened||e.idbdb)return t.dbReadyPromise.then(function(){return t.dbOpenError?ve(t.dbOpenError):e});Me&&(t.openCanceller._stackHolder=bt()),t.isBeingOpened=!0,t.dbOpenError=null,t.openComplete=!1;var r=t.openCanceller;function i(){if(t.openCanceller!==r)throw new ee.DatabaseClosed("db.open() was cancelled")}var o=t.dbReadyResolve,a=null,u=!1;return L.race([r,(typeof navigator>"u"?L.resolve():yc()).then(function(){return new L(function(s,c){if(i(),!n)throw new ee.MissingAPI;var f=e.name,d=t.autoSchema?n.open(f):n.open(f,Math.round(e.verno*10));if(!d)throw new ee.MissingAPI;d.onerror=Fe(c),d.onblocked=le(e._fireOnBlocked),d.onupgradeneeded=le(function(y){if(a=d.transaction,t.autoSchema&&!e._options.allowEmptyDB){d.onerror=Qt,a.abort(),d.result.close();var g=n.deleteDatabase(f);g.onsuccess=g.onerror=le(function(){c(new ee.NoSuchDatabase("Database "+f+" doesnt exist"))})}else{a.onerror=Fe(c);var b=y.oldVersion>Math.pow(2,62)?0:y.oldVersion;u=b<1,e._novip.idbdb=d.result,rc(e,b/10,a,c)}},c),d.onsuccess=le(function(){a=null;var y=e._novip.idbdb=d.result,g=Hn(y.objectStoreNames);if(g.length>0)try{var b=y.transaction(Js(g),"readonly");t.autoSchema?uc(e,y,b):(si(e,e._dbSchema,b),sc(e,b)||console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Some queries may fail.")),Bi(e,b)}catch{}Wt.push(e),y.onversionchange=le(function(h){t.vcFired=!0,e.on("versionchange").fire(h)}),y.onclose=le(function(h){e.on("close").fire(h)}),u&&hc(e._deps,f),s()},c)})})]).then(function(){return i(),t.onReadyBeingFired=[],L.resolve(ci(function(){return e.on.ready.fire(e.vip)})).then(function s(){if(t.onReadyBeingFired.length>0){var c=t.onReadyBeingFired.reduce(Ii,se);return t.onReadyBeingFired=[],L.resolve(ci(function(){return c(e.vip)})).then(s)}})}).finally(function(){t.onReadyBeingFired=null,t.isBeingOpened=!1}).then(function(){return e}).catch(function(s){t.dbOpenError=s;try{a&&a.abort()}catch{}return r===t.openCanceller&&e._close(),ve(s)}).finally(function(){t.openComplete=!0,o()})}function li(e){var t=function(a){return e.next(a)},n=function(a){return e.throw(a)},r=o(t),i=o(n);function o(a){return function(u){var s=a(u),c=s.value;return s.done?c:!c||typeof c.then!="function"?we(c)?Promise.all(c).then(r,i):r(c):c.then(r,i)}}return o(t)()}function gc(e,t,n){var r=arguments.length;if(r<2)throw new ee.InvalidArgument("Too few arguments");for(var i=new Array(r-1);--r;)i[r-1]=arguments[r];n=i.pop();var o=ca(i);return[e,o,n]}function Da(e,t,n,r,i){return L.resolve().then(function(){var o=Z.transless||Z,a=e._createTransaction(t,n,e._dbSchema,r),u={trans:a,transless:o};if(r)a.idbtrans=r.idbtrans;else try{a.create(),e._state.PR1398_maxLoop=3}catch(d){return d.name===ji.InvalidState&&e.isOpen()&&--e._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),e._close(),e.open().then(function(){return Da(e,t,n,null,i)})):ve(d)}var s=Pi(i);s&&Mt();var c,f=L.follow(function(){if(c=i.call(a,a),c)if(s){var d=Je.bind(null,null);c.then(d,d)}else typeof c.next=="function"&&typeof c.throw=="function"&&(c=li(c))},u);return(c&&typeof c.then=="function"?L.resolve(c).then(function(d){return a.active?d:ve(new ee.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):f.then(function(){return c})).then(function(d){return r&&a._resolve(),a._completion.then(function(){return d})}).catch(function(d){return a._reject(d),ve(d)})})}function mn(e,t,n){for(var r=we(e)?e.slice():[e],i=0;i<n;++i)r.push(t);return r}function mc(e){return oe(oe({},e),{table:function(t){var n=e.table(t),r=n.schema,i={},o=[];function a(h,v,w){var S=Ht(h),E=i[S]=i[S]||[],P=h==null?0:typeof h=="string"?1:h.length,_=v>0,B=oe(oe({},w),{isVirtual:_,keyTail:v,keyLength:P,extractKey:oi(h),unique:!_&&w.unique});if(E.push(B),B.isPrimaryKey||o.push(B),P>1){var $=P===2?h[0]:h.slice(0,P-1);a($,v+1,w)}return E.sort(function(D,F){return D.keyTail-F.keyTail}),B}var u=a(r.primaryKey.keyPath,0,r.primaryKey);i[":id"]=[u];for(var s=0,c=r.indexes;s<c.length;s++){var f=c[s];a(f.keyPath,0,f)}function d(h){var v=i[Ht(h)];return v&&v[0]}function y(h,v){return{type:h.type===1?2:h.type,lower:mn(h.lower,h.lowerOpen?e.MAX_KEY:e.MIN_KEY,v),lowerOpen:!0,upper:mn(h.upper,h.upperOpen?e.MIN_KEY:e.MAX_KEY,v),upperOpen:!0}}function g(h){var v=h.query.index;return v.isVirtual?oe(oe({},h),{query:{index:v,range:y(h.query.range,v.keyTail)}}):h}var b=oe(oe({},n),{schema:oe(oe({},r),{primaryKey:u,indexes:o,getIndexByKeyPath:d}),count:function(h){return n.count(g(h))},query:function(h){return n.query(g(h))},openCursor:function(h){var v=h.query.index,w=v.keyTail,S=v.isVirtual,E=v.keyLength;if(!S)return n.openCursor(h);function P(_){function B(D){D!=null?_.continue(mn(D,h.reverse?e.MAX_KEY:e.MIN_KEY,w)):h.unique?_.continue(_.key.slice(0,E).concat(h.reverse?e.MIN_KEY:e.MAX_KEY,w)):_.continue()}var $=Object.create(_,{continue:{value:B},continuePrimaryKey:{value:function(D,F){_.continuePrimaryKey(mn(D,e.MAX_KEY,w),F)}},primaryKey:{get:function(){return _.primaryKey}},key:{get:function(){var D=_.key;return E===1?D[0]:D.slice(0,E)}},value:{get:function(){return _.value}}});return $}return n.openCursor(g(h)).then(function(_){return _&&P(_)})}});return b}})}var bc={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:mc};function Mi(e,t,n,r){return n=n||{},r=r||"",de(e).forEach(function(i){if(!Ce(t,i))n[r+i]=void 0;else{var o=e[i],a=t[i];if(typeof o=="object"&&typeof a=="object"&&o&&a){var u=Gr(o),s=Gr(a);u!==s?n[r+i]=t[i]:u==="Object"?Mi(o,a,n,r+i+"."):o!==a&&(n[r+i]=t[i])}else o!==a&&(n[r+i]=t[i])}}),de(t).forEach(function(i){Ce(e,i)||(n[r+i]=t[i])}),n}function wc(e,t){return t.type==="delete"?t.keys:t.keys||t.values.map(e.extractKey)}var _c={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(e){return oe(oe({},e),{table:function(t){var n=e.table(t),r=n.schema.primaryKey,i=oe(oe({},n),{mutate:function(o){var a=Z.trans,u=a.table(t).hook,s=u.deleting,c=u.creating,f=u.updating;switch(o.type){case"add":if(c.fire===se)break;return a._promise("readwrite",function(){return d(o)},!0);case"put":if(c.fire===se&&f.fire===se)break;return a._promise("readwrite",function(){return d(o)},!0);case"delete":if(s.fire===se)break;return a._promise("readwrite",function(){return d(o)},!0);case"deleteRange":if(s.fire===se)break;return a._promise("readwrite",function(){return y(o)},!0)}return n.mutate(o);function d(b){var h=Z.trans,v=b.keys||wc(r,b);if(!v)throw new Error("Keys missing");return b=b.type==="add"||b.type==="put"?oe(oe({},b),{keys:v}):oe({},b),b.type!=="delete"&&(b.values=Ur([],b.values,!0)),b.keys&&(b.keys=Ur([],b.keys,!0)),Sc(n,b,v).then(function(w){var S=v.map(function(E,P){var _=w[P],B={onerror:null,onsuccess:null};if(b.type==="delete")s.fire.call(B,E,_,h);else if(b.type==="add"||_===void 0){var $=c.fire.call(B,E,b.values[P],h);E==null&&$!=null&&(E=$,b.keys[P]=E,r.outbound||$e(b.values[P],r.keyPath,E))}else{var D=Mi(_,b.values[P]),F=f.fire.call(B,D,E,_,h);if(F){var G=b.values[P];Object.keys(F).forEach(function(z){Ce(G,z)?G[z]=F[z]:$e(G,z,F[z])})}}return B});return n.mutate(b).then(function(E){for(var P=E.failures,_=E.results,B=E.numFailures,$=E.lastResult,D=0;D<v.length;++D){var F=_?_[D]:v[D],G=S[D];F==null?G.onerror&&G.onerror(P[D]):G.onsuccess&&G.onsuccess(b.type==="put"&&w[D]?b.values[D]:F)}return{failures:P,results:_,numFailures:B,lastResult:$}}).catch(function(E){return S.forEach(function(P){return P.onerror&&P.onerror(E)}),Promise.reject(E)})})}function y(b){return g(b.trans,b.range,1e4)}function g(b,h,v){return n.query({trans:b,values:!1,query:{index:r,range:h},limit:v}).then(function(w){var S=w.result;return d({type:"delete",keys:S,trans:b}).then(function(E){return E.numFailures>0?Promise.reject(E.failures[0]):S.length<v?{failures:[],numFailures:0,lastResult:void 0}:g(b,oe(oe({},h),{lower:S[S.length-1],lowerOpen:!0}),v)})})}}});return i}})}};function Sc(e,t,n){return t.type==="add"?Promise.resolve([]):e.getMany({trans:t.trans,keys:n,cache:"immutable"})}function Ca(e,t,n){try{if(!t||t.keys.length<e.length)return null;for(var r=[],i=0,o=0;i<t.keys.length&&o<e.length;++i)Ae(t.keys[i],e[o])===0&&(r.push(n?un(t.values[i]):t.values[i]),++o);return r.length===e.length?r:null}catch{return null}}var Ac={stack:"dbcore",level:-1,create:function(e){return{table:function(t){var n=e.table(t);return oe(oe({},n),{getMany:function(r){if(!r.cache)return n.getMany(r);var i=Ca(r.keys,r.trans._cache,r.cache==="clone");return i?L.resolve(i):n.getMany(r).then(function(o){return r.trans._cache={keys:r.keys,values:r.cache==="clone"?un(o):o},o})},mutate:function(r){return r.type!=="add"&&(r.trans._cache=null),n.mutate(r)}})}}}},lr;function Ki(e){return!("from"in e)}var Ue=function(e,t){if(this)Ee(this,arguments.length?{d:1,from:e,to:arguments.length>1?t:e}:{d:0});else{var n=new Ue;return e&&"d"in e&&Ee(n,e),n}};Dt(Ue.prototype,(lr={add:function(e){return Ln(this,e),this},addKey:function(e){return tn(this,e,e),this},addKeys:function(e){var t=this;return e.forEach(function(n){return tn(t,n,n)}),this}},lr[zr]=function(){return fi(this)},lr));function tn(e,t,n){var r=Ae(t,n);if(!isNaN(r)){if(r>0)throw RangeError();if(Ki(e))return Ee(e,{from:t,to:n,d:1});var i=e.l,o=e.r;if(Ae(n,e.from)<0)return i?tn(i,t,n):e.l={from:t,to:n,d:1,l:null,r:null},po(e);if(Ae(t,e.to)>0)return o?tn(o,t,n):e.r={from:t,to:n,d:1,l:null,r:null},po(e);Ae(t,e.from)<0&&(e.from=t,e.l=null,e.d=o?o.d+1:1),Ae(n,e.to)>0&&(e.to=n,e.r=null,e.d=e.l?e.l.d+1:1);var a=!e.r;i&&!e.l&&Ln(e,i),o&&a&&Ln(e,o)}}function Ln(e,t){function n(r,i){var o=i.from,a=i.to,u=i.l,s=i.r;tn(r,o,a),u&&n(r,u),s&&n(r,s)}Ki(t)||n(e,t)}function Ec(e,t){var n=fi(t),r=n.next();if(r.done)return!1;for(var i=r.value,o=fi(e),a=o.next(i.from),u=a.value;!r.done&&!a.done;){if(Ae(u.from,i.to)<=0&&Ae(u.to,i.from)>=0)return!0;Ae(i.from,u.from)<0?i=(r=n.next(u.from)).value:u=(a=o.next(i.from)).value}return!1}function fi(e){var t=Ki(e)?null:{s:0,n:e};return{next:function(n){for(var r=arguments.length>0;t;)switch(t.s){case 0:if(t.s=1,r)for(;t.n.l&&Ae(n,t.n.from)<0;)t={up:t,n:t.n.l,s:1};else for(;t.n.l;)t={up:t,n:t.n.l,s:1};case 1:if(t.s=2,!r||Ae(n,t.n.to)<=0)return{value:t.n,done:!1};case 2:if(t.n.r){t.s=3,t={up:t,n:t.n.r,s:0};continue}case 3:t=t.up}return{done:!0}}}}function po(e){var t,n,r=(((t=e.r)===null||t===void 0?void 0:t.d)||0)-(((n=e.l)===null||n===void 0?void 0:n.d)||0),i=r>1?"r":r<-1?"l":"";if(i){var o=i==="r"?"l":"r",a=oe({},e),u=e[i];e.from=u.from,e.to=u.to,e[i]=u[i],a[i]=u[o],e[o]=a,a.d=ho(a)}e.d=ho(e)}function ho(e){var t=e.r,n=e.l;return(t?n?Math.max(t.d,n.d):t.d:n?n.d:0)+1}var Oc={stack:"dbcore",level:0,create:function(e){var t=e.schema.name,n=new Ue(e.MIN_KEY,e.MAX_KEY);return oe(oe({},e),{table:function(r){var i=e.table(r),o=i.schema,a=o.primaryKey,u=a.extractKey,s=a.outbound,c=oe(oe({},i),{mutate:function(y){var g=y.trans,b=g.mutatedParts||(g.mutatedParts={}),h=function($){var D="idb://"+t+"/"+r+"/"+$;return b[D]||(b[D]=new Ue)},v=h(""),w=h(":dels"),S=y.type,E=y.type==="deleteRange"?[y.range]:y.type==="delete"?[y.keys]:y.values.length<50?[[],y.values]:[],P=E[0],_=E[1],B=y.trans._cache;return i.mutate(y).then(function($){if(we(P)){S!=="delete"&&(P=$.results),v.addKeys(P);var D=Ca(P,B);!D&&S!=="add"&&w.addKeys(P),(D||_)&&Pc(h,o,D,_)}else if(P){var F={from:P.lower,to:P.upper};w.add(F),v.add(F)}else v.add(n),w.add(n),o.indexes.forEach(function(G){return h(G.name).add(n)});return $})}}),f=function(y){var g,b,h=y.query,v=h.index,w=h.range;return[v,new Ue((g=w.lower)!==null&&g!==void 0?g:e.MIN_KEY,(b=w.upper)!==null&&b!==void 0?b:e.MAX_KEY)]},d={get:function(y){return[a,new Ue(y.key)]},getMany:function(y){return[a,new Ue().addKeys(y.keys)]},count:f,query:f,openCursor:f};return de(d).forEach(function(y){c[y]=function(g){var b=Z.subscr;if(b){var h=function(B){var $="idb://"+t+"/"+r+"/"+B;return b[$]||(b[$]=new Ue)},v=h(""),w=h(":dels"),S=d[y](g),E=S[0],P=S[1];if(h(E.name||"").add(P),!E.isPrimaryKey)if(y==="count")w.add(n);else{var _=y==="query"&&s&&g.values&&i.query(oe(oe({},g),{values:!1}));return i[y].apply(this,arguments).then(function(B){if(y==="query"){if(s&&g.values)return _.then(function(G){var z=G.result;return v.addKeys(z),B});var $=g.values?B.result.map(u):B.result;g.values?v.addKeys($):w.addKeys($)}else if(y==="openCursor"){var D=B,F=g.values;return D&&Object.create(D,{key:{get:function(){return w.addKey(D.primaryKey),D.key}},primaryKey:{get:function(){var G=D.primaryKey;return w.addKey(G),G}},value:{get:function(){return F&&v.addKey(D.primaryKey),D.value}}})}return B})}}return i[y].apply(this,arguments)}}),c}})}};function Pc(e,t,n,r){function i(o){var a=e(o.name||"");function u(c){return c!=null?o.extractKey(c):null}var s=function(c){return o.multiEntry&&we(c)?c.forEach(function(f){return a.addKey(f)}):a.addKey(c)};(n||r).forEach(function(c,f){var d=n&&u(n[f]),y=r&&u(r[f]);Ae(d,y)!==0&&(d!=null&&s(d),y!=null&&s(y))})}t.indexes.forEach(i)}var qi=function(){function e(t,n){var r=this;this._middlewares={},this.verno=0;var i=e.dependencies;this._options=n=oe({addons:e.addons,autoOpen:!0,indexedDB:i.indexedDB,IDBKeyRange:i.IDBKeyRange},n),this._deps={indexedDB:n.indexedDB,IDBKeyRange:n.IDBKeyRange};var o=n.addons;this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var a={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:se,dbReadyPromise:null,cancelOpen:se,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3};a.dbReadyPromise=new L(function(u){a.dbReadyResolve=u}),a.openCanceller=new L(function(u,s){a.cancelOpen=s}),this._state=a,this.name=t,this.on=fn(this,"populate","blocked","versionchange","close",{ready:[Ii,se]}),this.on.ready.subscribe=oa(this.on.ready.subscribe,function(u){return function(s,c){e.vip(function(){var f=r._state;if(f.openComplete)f.dbOpenError||L.resolve().then(s),c&&u(s);else if(f.onReadyBeingFired)f.onReadyBeingFired.push(s),c&&u(s);else{u(s);var d=r;c||u(function y(){d.on.ready.unsubscribe(s),d.on.ready.unsubscribe(y)})}})}}),this.Collection=qs(this),this.Table=$s(this),this.Transaction=Ys(this),this.Version=fc(this),this.WhereClause=Ws(this),this.on("versionchange",function(u){u.newVersion>0?console.warn("Another connection wants to upgrade database '"+r.name+"'. Closing db now to resume the upgrade."):console.warn("Another connection wants to delete database '"+r.name+"'. Closing db now to resume the delete request."),r.close()}),this.on("blocked",function(u){!u.newVersion||u.newVersion<u.oldVersion?console.warn("Dexie.delete('"+r.name+"') was blocked"):console.warn("Upgrade '"+r.name+"' blocked by other connection holding version "+u.oldVersion/10)}),this._maxKey=en(n.IDBKeyRange),this._createTransaction=function(u,s,c,f){return new r.Transaction(u,s,c,r._options.chromeTransactionDurability,f)},this._fireOnBlocked=function(u){r.on("blocked").fire(u),Wt.filter(function(s){return s.name===r.name&&s!==r&&!s._state.vcFired}).map(function(s){return s.on("versionchange").fire(u)})},this.use(bc),this.use(_c),this.use(Oc),this.use(Ac),this.vip=Object.create(this,{_vip:{value:!0}}),o.forEach(function(u){return u(r)})}return e.prototype.version=function(t){if(isNaN(t)||t<.1)throw new ee.Type("Given version is not a positive number");if(t=Math.round(t*10)/10,this.idbdb||this._state.isBeingOpened)throw new ee.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,t);var n=this._versions,r=n.filter(function(i){return i._cfg.version===t})[0];return r||(r=new this.Version(t),n.push(r),n.sort(nc),r.stores({}),this._state.autoSchema=!1,r)},e.prototype._whenReady=function(t){var n=this;return this.idbdb&&(this._state.openComplete||Z.letThrough||this._vip)?t():new L(function(r,i){if(n._state.openComplete)return i(new ee.DatabaseClosed(n._state.dbOpenError));if(!n._state.isBeingOpened){if(!n._options.autoOpen){i(new ee.DatabaseClosed);return}n.open().catch(se)}n._state.dbReadyPromise.then(r,i)}).then(t)},e.prototype.use=function(t){var n=t.stack,r=t.create,i=t.level,o=t.name;o&&this.unuse({stack:n,name:o});var a=this._middlewares[n]||(this._middlewares[n]=[]);return a.push({stack:n,create:r,level:i??10,name:o}),a.sort(function(u,s){return u.level-s.level}),this},e.prototype.unuse=function(t){var n=t.stack,r=t.name,i=t.create;return n&&this._middlewares[n]&&(this._middlewares[n]=this._middlewares[n].filter(function(o){return i?o.create!==i:r?o.name!==r:!1})),this},e.prototype.open=function(){return vc(this)},e.prototype._close=function(){var t=this._state,n=Wt.indexOf(this);if(n>=0&&Wt.splice(n,1),this.idbdb){try{this.idbdb.close()}catch{}this._novip.idbdb=null}t.dbReadyPromise=new L(function(r){t.dbReadyResolve=r}),t.openCanceller=new L(function(r,i){t.cancelOpen=i})},e.prototype.close=function(){this._close();var t=this._state;this._options.autoOpen=!1,t.dbOpenError=new ee.DatabaseClosed,t.isBeingOpened&&t.cancelOpen(t.dbOpenError)},e.prototype.delete=function(){var t=this,n=arguments.length>0,r=this._state;return new L(function(i,o){var a=function(){t.close();var u=t._deps.indexedDB.deleteDatabase(t.name);u.onsuccess=le(function(){dc(t._deps,t.name),i()}),u.onerror=Fe(o),u.onblocked=t._fireOnBlocked};if(n)throw new ee.InvalidArgument("Arguments not allowed in db.delete()");r.isBeingOpened?r.dbReadyPromise.then(a):a()})},e.prototype.backendDB=function(){return this.idbdb},e.prototype.isOpen=function(){return this.idbdb!==null},e.prototype.hasBeenClosed=function(){var t=this._state.dbOpenError;return t&&t.name==="DatabaseClosed"},e.prototype.hasFailed=function(){return this._state.dbOpenError!==null},e.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(e.prototype,"tables",{get:function(){var t=this;return de(this._allTables).map(function(n){return t._allTables[n]})},enumerable:!1,configurable:!0}),e.prototype.transaction=function(){var t=gc.apply(this,arguments);return this._transaction.apply(this,t)},e.prototype._transaction=function(t,n,r){var i=this,o=Z.trans;(!o||o.db!==this||t.indexOf("!")!==-1)&&(o=null);var a=t.indexOf("?")!==-1;t=t.replace("!","").replace("?","");var u,s;try{if(s=n.map(function(f){var d=f instanceof i.Table?f.name:f;if(typeof d!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return d}),t=="r"||t===or)u=or;else if(t=="rw"||t==ar)u=ar;else throw new ee.InvalidArgument("Invalid transaction mode: "+t);if(o){if(o.mode===or&&u===ar)if(a)o=null;else throw new ee.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");o&&s.forEach(function(f){if(o&&o.storeNames.indexOf(f)===-1)if(a)o=null;else throw new ee.SubTransaction("Table "+f+" not included in parent transaction.")}),a&&o&&!o.active&&(o=null)}}catch(f){return o?o._promise(null,function(d,y){y(f)}):ve(f)}var c=Da.bind(null,this,u,s,o,r);return o?o._promise(u,c,"lock"):Z.trans?Kt(Z.transless,function(){return i._whenReady(c)}):this._whenReady(c)},e.prototype.table=function(t){if(!Ce(this._allTables,t))throw new ee.InvalidTable("Table "+t+" does not exist");return this._allTables[t]},e}(),Tc=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",jc=function(){function e(t){this._subscribe=t}return e.prototype.subscribe=function(t,n,r){return this._subscribe(!t||typeof t=="function"?{next:t,error:n,complete:r}:t)},e.prototype[Tc]=function(){return this},e}();function Ba(e,t){return de(t).forEach(function(n){var r=e[n]||(e[n]=new Ue);Ln(r,t[n])}),e}function ka(e){return new jc(function(t){var n=Pi(e);function r(g){n&&Mt();var b=function(){return nt(e,{subscr:g,trans:null})},h=Z.trans?Kt(Z.transless,b):b();return n&&h.then(Je,Je),h}var i=!1,o={},a={},u={get closed(){return i},unsubscribe:function(){i=!0,it.storagemutated.unsubscribe(d)}};t.start&&t.start(u);var s=!1,c=!1;function f(){return de(a).some(function(g){return o[g]&&Ec(o[g],a[g])})}var d=function(g){Ba(o,g),f()&&y()},y=function(){if(!(s||i)){o={};var g={},b=r(g);c||(it(Zt,d),c=!0),s=!0,Promise.resolve(b).then(function(h){s=!1,!i&&(f()?y():(o={},a=g,t.next&&t.next(h)))},function(h){s=!1,t.error&&t.error(h),u.unsubscribe()})}};return y(),u})}var pi;try{pi={indexedDB:ce.indexedDB||ce.mozIndexedDB||ce.webkitIndexedDB||ce.msIndexedDB,IDBKeyRange:ce.IDBKeyRange||ce.webkitIDBKeyRange}}catch{pi={indexedDB:null,IDBKeyRange:null}}var ft=qi;Dt(ft,oe(oe({},Yn),{delete:function(e){var t=new ft(e,{addons:[]});return t.delete()},exists:function(e){return new ft(e,{addons:[]}).open().then(function(t){return t.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(e){try{return pc(ft.dependencies).then(e)}catch{return ve(new ee.MissingAPI)}},defineClass:function(){function e(t){Ee(this,t)}return e},ignoreTransaction:function(e){return Z.trans?Kt(Z.transless,e):e()},vip:ci,async:function(e){return function(){try{var t=li(e.apply(this,arguments));return!t||typeof t.then!="function"?L.resolve(t):t}catch(n){return ve(n)}}},spawn:function(e,t,n){try{var r=li(e.apply(n,t||[]));return!r||typeof r.then!="function"?L.resolve(r):r}catch(i){return ve(i)}},currentTransaction:{get:function(){return Z.trans||null}},waitFor:function(e,t){var n=L.resolve(typeof e=="function"?ft.ignoreTransaction(e):e).timeout(t||6e4);return Z.trans?Z.trans.waitFor(n):n},Promise:L,debug:{get:function(){return Me},set:function(e){fa(e,e==="dexie"?function(){return!0}:Oa)}},derive:Nt,extend:Ee,props:Dt,override:oa,Events:fn,on:it,liveQuery:ka,extendObservabilitySet:Ba,getByKeyPath:He,setByKeyPath:$e,delByKeyPath:us,shallowClone:sa,deepClone:un,getObjectDiff:Mi,cmp:Ae,asap:aa,minKey:ri,addons:[],connections:Wt,errnames:ji,dependencies:pi,semVer:ao,version:ao.split(".").map(function(e){return parseInt(e)}).reduce(function(e,t,n){return e+t/Math.pow(10,n*2)})}));ft.maxKey=en(ft.dependencies.IDBKeyRange);typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(it(Zt,function(e){if(!ze){var t;Jn?(t=document.createEvent("CustomEvent"),t.initCustomEvent(et,!0,!0,e)):t=new CustomEvent(et,{detail:e}),ze=!0,dispatchEvent(t),ze=!1}}),addEventListener(et,function(e){var t=e.detail;ze||Un(t)}));function Un(e){var t=ze;try{ze=!0,it.storagemutated.fire(e)}finally{ze=t}}var ze=!1;if(typeof BroadcastChannel<"u"){var yo=new BroadcastChannel(et);it(Zt,function(e){ze||yo.postMessage(e)}),yo.onmessage=function(e){e.data&&Un(e.data)}}else if(typeof self<"u"&&typeof navigator<"u"){it(Zt,function(e){try{ze||(typeof localStorage<"u"&&localStorage.setItem(et,JSON.stringify({trig:Math.random(),changedParts:e})),typeof self.clients=="object"&&Ur([],self.clients.matchAll({includeUncontrolled:!0}),!0).forEach(function(t){return t.postMessage({type:et,changedParts:e})}))}catch{}}),typeof addEventListener<"u"&&addEventListener("storage",function(e){if(e.key===et){var t=JSON.parse(e.newValue);t&&Un(t.changedParts)}});var vo=self.document&&navigator.serviceWorker;vo&&vo.addEventListener("message",Ic)}function Ic(e){var t=e.data;t&&t.type===et&&Un(t.changedParts)}L.rejectionMapper=vs;fa(Me,Oa);class Rc extends qi{constructor(){super("SoundBoardDB");ue(this,"sample");this.version(1).stores({sample:"filename"})}}const Hi=class{constructor(){ue(this,"_database");this._database=new Rc}static get instance(){if(!this._instance)throw new Error("AppStore not Initialized");return this._instance}static init(){this._instance=new Hi}async getSampleBlob(t){return await this._database.sample.get({filename:t}).then(n=>n==null?void 0:n.data)??void 0}async getAllSampleFileNames(){return await this._database.sample.toCollection().keys()}async addSampleFromFile(t){return await this._database.sample.put({filename:t.name,data:t})}async addSample(t){return await this._database.sample.put(t)}async deleteSampleByName(t){return await this._database.sample.where({filename:t}).delete()}};let ke=Hi;ue(ke,"_instance");var Li=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function xc(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Vn={},Dc={get exports(){return Vn},set exports(e){Vn=e}},fr={},Ct={},$a={},Na=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var t={},n=Symbol("test"),r=Object(n);if(typeof n=="string"||Object.prototype.toString.call(n)!=="[object Symbol]"||Object.prototype.toString.call(r)!=="[object Symbol]")return!1;var i=42;t[n]=i;for(n in t)return!1;if(typeof Object.keys=="function"&&Object.keys(t).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(t).length!==0)return!1;var o=Object.getOwnPropertySymbols(t);if(o.length!==1||o[0]!==n||!Object.prototype.propertyIsEnumerable.call(t,n))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var a=Object.getOwnPropertyDescriptor(t,n);if(a.value!==i||a.enumerable!==!0)return!1}return!0},Cc=Na,Qn=function(){return Cc()&&!!Symbol.toStringTag},pr,go;function Bc(){if(go)return pr;go=1;var e=typeof Symbol<"u"&&Symbol,t=Na;return pr=function(){return typeof e!="function"||typeof Symbol!="function"||typeof e("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:t()},pr}var hr,mo;function kc(){if(mo)return hr;mo=1;var e="Function.prototype.bind called on incompatible ",t=Array.prototype.slice,n=Object.prototype.toString,r="[object Function]";return hr=function(o){var a=this;if(typeof a!="function"||n.call(a)!==r)throw new TypeError(e+a);for(var u=t.call(arguments,1),s,c=function(){if(this instanceof s){var b=a.apply(this,u.concat(t.call(arguments)));return Object(b)===b?b:this}else return a.apply(o,u.concat(t.call(arguments)))},f=Math.max(0,a.length-u.length),d=[],y=0;y<f;y++)d.push("$"+y);if(s=Function("binder","return function ("+d.join(",")+"){ return binder.apply(this,arguments); }")(c),a.prototype){var g=function(){};g.prototype=a.prototype,s.prototype=new g,g.prototype=null}return s},hr}var dr,bo;function Ui(){if(bo)return dr;bo=1;var e=kc();return dr=Function.prototype.bind||e,dr}var yr,wo;function $c(){if(wo)return yr;wo=1;var e=Ui();return yr=e.call(Function.call,Object.prototype.hasOwnProperty),yr}var vr,_o;function Zn(){if(_o)return vr;_o=1;var e,t=SyntaxError,n=Function,r=TypeError,i=function(z){try{return n('"use strict"; return ('+z+").constructor;")()}catch{}},o=Object.getOwnPropertyDescriptor;if(o)try{o({},"")}catch{o=null}var a=function(){throw new r},u=o?function(){try{return arguments.callee,a}catch{try{return o(arguments,"callee").get}catch{return a}}}():a,s=Bc()(),c=Object.getPrototypeOf||function(z){return z.__proto__},f={},d=typeof Uint8Array>"u"?e:c(Uint8Array),y={"%AggregateError%":typeof AggregateError>"u"?e:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?e:ArrayBuffer,"%ArrayIteratorPrototype%":s?c([][Symbol.iterator]()):e,"%AsyncFromSyncIteratorPrototype%":e,"%AsyncFunction%":f,"%AsyncGenerator%":f,"%AsyncGeneratorFunction%":f,"%AsyncIteratorPrototype%":f,"%Atomics%":typeof Atomics>"u"?e:Atomics,"%BigInt%":typeof BigInt>"u"?e:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?e:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?e:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?e:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?e:Float32Array,"%Float64Array%":typeof Float64Array>"u"?e:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?e:FinalizationRegistry,"%Function%":n,"%GeneratorFunction%":f,"%Int8Array%":typeof Int8Array>"u"?e:Int8Array,"%Int16Array%":typeof Int16Array>"u"?e:Int16Array,"%Int32Array%":typeof Int32Array>"u"?e:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":s?c(c([][Symbol.iterator]())):e,"%JSON%":typeof JSON=="object"?JSON:e,"%Map%":typeof Map>"u"?e:Map,"%MapIteratorPrototype%":typeof Map>"u"||!s?e:c(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?e:Promise,"%Proxy%":typeof Proxy>"u"?e:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?e:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?e:Set,"%SetIteratorPrototype%":typeof Set>"u"||!s?e:c(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?e:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":s?c(""[Symbol.iterator]()):e,"%Symbol%":s?Symbol:e,"%SyntaxError%":t,"%ThrowTypeError%":u,"%TypedArray%":d,"%TypeError%":r,"%Uint8Array%":typeof Uint8Array>"u"?e:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?e:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?e:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?e:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?e:WeakMap,"%WeakRef%":typeof WeakRef>"u"?e:WeakRef,"%WeakSet%":typeof WeakSet>"u"?e:WeakSet};try{null.error}catch(z){var g=c(c(z));y["%Error.prototype%"]=g}var b=function z(M){var W;if(M==="%AsyncFunction%")W=i("async function () {}");else if(M==="%GeneratorFunction%")W=i("function* () {}");else if(M==="%AsyncGeneratorFunction%")W=i("async function* () {}");else if(M==="%AsyncGenerator%"){var X=z("%AsyncGeneratorFunction%");X&&(W=X.prototype)}else if(M==="%AsyncIteratorPrototype%"){var O=z("%AsyncGenerator%");O&&(W=c(O.prototype))}return y[M]=W,W},h={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},v=Ui(),w=$c(),S=v.call(Function.call,Array.prototype.concat),E=v.call(Function.apply,Array.prototype.splice),P=v.call(Function.call,String.prototype.replace),_=v.call(Function.call,String.prototype.slice),B=v.call(Function.call,RegExp.prototype.exec),$=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,D=/\\(\\)?/g,F=function(M){var W=_(M,0,1),X=_(M,-1);if(W==="%"&&X!=="%")throw new t("invalid intrinsic syntax, expected closing `%`");if(X==="%"&&W!=="%")throw new t("invalid intrinsic syntax, expected opening `%`");var O=[];return P(M,$,function(C,N,k,q){O[O.length]=k?P(q,D,"$1"):N||C}),O},G=function(M,W){var X=M,O;if(w(h,X)&&(O=h[X],X="%"+O[0]+"%"),w(y,X)){var C=y[X];if(C===f&&(C=b(X)),typeof C>"u"&&!W)throw new r("intrinsic "+M+" exists, but is not available. Please file an issue!");return{alias:O,name:X,value:C}}throw new t("intrinsic "+M+" does not exist!")};return vr=function(M,W){if(typeof M!="string"||M.length===0)throw new r("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof W!="boolean")throw new r('"allowMissing" argument must be a boolean');if(B(/^%?[^%]*%?$/,M)===null)throw new t("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var X=F(M),O=X.length>0?X[0]:"",C=G("%"+O+"%",W),N=C.name,k=C.value,q=!1,Q=C.alias;Q&&(O=Q[0],E(X,S([0,1],Q)));for(var T=1,l=!0;T<X.length;T+=1){var p=X[T],m=_(p,0,1),R=_(p,-1);if((m==='"'||m==="'"||m==="`"||R==='"'||R==="'"||R==="`")&&m!==R)throw new t("property names with quotes must have matching quotes");if((p==="constructor"||!l)&&(q=!0),O+="."+p,N="%"+O+"%",w(y,N))k=y[N];else if(k!=null){if(!(p in k)){if(!W)throw new r("base intrinsic for "+M+" exists, but the property is not available.");return}if(o&&T+1>=X.length){var I=o(k,p);l=!!I,l&&"get"in I&&!("originalValue"in I.get)?k=I.get:k=k[p]}else l=w(k,p),k=k[p];l&&!q&&(y[N]=k)}}return k},vr}var Gn={},Nc={get exports(){return Gn},set exports(e){Gn=e}},So;function Vi(){return So||(So=1,function(e){var t=Ui(),n=Zn(),r=n("%Function.prototype.apply%"),i=n("%Function.prototype.call%"),o=n("%Reflect.apply%",!0)||t.call(i,r),a=n("%Object.getOwnPropertyDescriptor%",!0),u=n("%Object.defineProperty%",!0),s=n("%Math.max%");if(u)try{u({},"a",{value:1})}catch{u=null}e.exports=function(d){var y=o(t,i,arguments);if(a&&u){var g=a(y,"length");g.configurable&&u(y,"length",{value:1+s(0,d.length-(arguments.length-1))})}return y};var c=function(){return o(t,r,arguments)};u?u(e.exports,"apply",{value:c}):e.exports.apply=c}(Nc)),Gn}var Fa=Zn(),Ma=Vi(),Fc=Ma(Fa("String.prototype.indexOf")),Gi=function(t,n){var r=Fa(t,!!n);return typeof r=="function"&&Fc(t,".prototype.")>-1?Ma(r):r},Mc=Qn(),Kc=Gi,hi=Kc("Object.prototype.toString"),er=function(t){return Mc&&t&&typeof t=="object"&&Symbol.toStringTag in t?!1:hi(t)==="[object Arguments]"},Ka=function(t){return er(t)?!0:t!==null&&typeof t=="object"&&typeof t.length=="number"&&t.length>=0&&hi(t)!=="[object Array]"&&hi(t.callee)==="[object Function]"},qc=function(){return er(arguments)}();er.isLegacyArguments=Ka;var Lc=qc?er:Ka,Uc=Object.prototype.toString,Vc=Function.prototype.toString,Gc=/^\s*(?:function)?\*/,qa=Qn(),gr=Object.getPrototypeOf,zc=function(){if(!qa)return!1;try{return Function("return function*() {}")()}catch{}},mr,Wc=function(t){if(typeof t!="function")return!1;if(Gc.test(Vc.call(t)))return!0;if(!qa){var n=Uc.call(t);return n==="[object GeneratorFunction]"}if(!gr)return!1;if(typeof mr>"u"){var r=zc();mr=r?gr(r):!1}return gr(t)===mr},La=Function.prototype.toString,Tt=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,di,Pn;if(typeof Tt=="function"&&typeof Object.defineProperty=="function")try{di=Object.defineProperty({},"length",{get:function(){throw Pn}}),Pn={},Tt(function(){throw 42},null,di)}catch(e){e!==Pn&&(Tt=null)}else Tt=null;var Hc=/^\s*class\b/,yi=function(t){try{var n=La.call(t);return Hc.test(n)}catch{return!1}},br=function(t){try{return yi(t)?!1:(La.call(t),!0)}catch{return!1}},Tn=Object.prototype.toString,Yc="[object Object]",Jc="[object Function]",Xc="[object GeneratorFunction]",Qc="[object HTMLAllCollection]",Zc="[object HTML document.all class]",el="[object HTMLCollection]",tl=typeof Symbol=="function"&&!!Symbol.toStringTag,nl=!(0 in[,]),vi=function(){return!1};if(typeof document=="object"){var rl=document.all;Tn.call(rl)===Tn.call(document.all)&&(vi=function(t){if((nl||!t)&&(typeof t>"u"||typeof t=="object"))try{var n=Tn.call(t);return(n===Qc||n===Zc||n===el||n===Yc)&&t("")==null}catch{}return!1})}var il=Tt?function(t){if(vi(t))return!0;if(!t||typeof t!="function"&&typeof t!="object")return!1;try{Tt(t,null,di)}catch(n){if(n!==Pn)return!1}return!yi(t)&&br(t)}:function(t){if(vi(t))return!0;if(!t||typeof t!="function"&&typeof t!="object")return!1;if(tl)return br(t);if(yi(t))return!1;var n=Tn.call(t);return n!==Jc&&n!==Xc&&!/^\[object HTML/.test(n)?!1:br(t)},ol=il,al=Object.prototype.toString,Ua=Object.prototype.hasOwnProperty,ul=function(t,n,r){for(var i=0,o=t.length;i<o;i++)Ua.call(t,i)&&(r==null?n(t[i],i,t):n.call(r,t[i],i,t))},sl=function(t,n,r){for(var i=0,o=t.length;i<o;i++)r==null?n(t.charAt(i),i,t):n.call(r,t.charAt(i),i,t)},cl=function(t,n,r){for(var i in t)Ua.call(t,i)&&(r==null?n(t[i],i,t):n.call(r,t[i],i,t))},ll=function(t,n,r){if(!ol(n))throw new TypeError("iterator must be a function");var i;arguments.length>=3&&(i=r),al.call(t)==="[object Array]"?ul(t,n,i):typeof t=="string"?sl(t,n,i):cl(t,n,i)},Va=ll,wr=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],fl=typeof globalThis>"u"?Li:globalThis,Ga=function(){for(var t=[],n=0;n<wr.length;n++)typeof fl[wr[n]]=="function"&&(t[t.length]=wr[n]);return t},pl=Zn(),jn=pl("%Object.getOwnPropertyDescriptor%",!0);if(jn)try{jn([],"length")}catch{jn=null}var za=jn,Wa=Va,hl=Ga,zi=Gi,dl=zi("Object.prototype.toString"),Ha=Qn(),In=za,yl=typeof globalThis>"u"?Li:globalThis,Ya=hl(),vl=zi("Array.prototype.indexOf",!0)||function(t,n){for(var r=0;r<t.length;r+=1)if(t[r]===n)return r;return-1},gl=zi("String.prototype.slice"),Ja={},_r=Object.getPrototypeOf;Ha&&In&&_r&&Wa(Ya,function(e){var t=new yl[e];if(Symbol.toStringTag in t){var n=_r(t),r=In(n,Symbol.toStringTag);if(!r){var i=_r(n);r=In(i,Symbol.toStringTag)}Ja[e]=r.get}});var ml=function(t){var n=!1;return Wa(Ja,function(r,i){if(!n)try{n=r.call(t)===i}catch{}}),n},Xa=function(t){if(!t||typeof t!="object")return!1;if(!Ha||!(Symbol.toStringTag in t)){var n=gl(dl(t),8,-1);return vl(Ya,n)>-1}return In?ml(t):!1},Qa=Va,bl=Ga,Za=Gi,Sr=za,wl=Za("Object.prototype.toString"),eu=Qn(),Ao=typeof globalThis>"u"?Li:globalThis,_l=bl(),Sl=Za("String.prototype.slice"),tu={},Ar=Object.getPrototypeOf;eu&&Sr&&Ar&&Qa(_l,function(e){if(typeof Ao[e]=="function"){var t=new Ao[e];if(Symbol.toStringTag in t){var n=Ar(t),r=Sr(n,Symbol.toStringTag);if(!r){var i=Ar(n);r=Sr(i,Symbol.toStringTag)}tu[e]=r.get}}});var Al=function(t){var n=!1;return Qa(tu,function(r,i){if(!n)try{var o=r.call(t);o===i&&(n=o)}catch{}}),n},El=Xa,Ol=function(t){return El(t)?!eu||!(Symbol.toStringTag in t)?Sl(wl(t),8,-1):Al(t):!1};(function(e){var t=Lc,n=Wc,r=Ol,i=Xa;function o(x){return x.call.bind(x)}var a=typeof BigInt<"u",u=typeof Symbol<"u",s=o(Object.prototype.toString),c=o(Number.prototype.valueOf),f=o(String.prototype.valueOf),d=o(Boolean.prototype.valueOf);if(a)var y=o(BigInt.prototype.valueOf);if(u)var g=o(Symbol.prototype.valueOf);function b(x,ct){if(typeof x!="object")return!1;try{return ct(x),!0}catch{return!1}}e.isArgumentsObject=t,e.isGeneratorFunction=n,e.isTypedArray=i;function h(x){return typeof Promise<"u"&&x instanceof Promise||x!==null&&typeof x=="object"&&typeof x.then=="function"&&typeof x.catch=="function"}e.isPromise=h;function v(x){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(x):i(x)||p(x)}e.isArrayBufferView=v;function w(x){return r(x)==="Uint8Array"}e.isUint8Array=w;function S(x){return r(x)==="Uint8ClampedArray"}e.isUint8ClampedArray=S;function E(x){return r(x)==="Uint16Array"}e.isUint16Array=E;function P(x){return r(x)==="Uint32Array"}e.isUint32Array=P;function _(x){return r(x)==="Int8Array"}e.isInt8Array=_;function B(x){return r(x)==="Int16Array"}e.isInt16Array=B;function $(x){return r(x)==="Int32Array"}e.isInt32Array=$;function D(x){return r(x)==="Float32Array"}e.isFloat32Array=D;function F(x){return r(x)==="Float64Array"}e.isFloat64Array=F;function G(x){return r(x)==="BigInt64Array"}e.isBigInt64Array=G;function z(x){return r(x)==="BigUint64Array"}e.isBigUint64Array=z;function M(x){return s(x)==="[object Map]"}M.working=typeof Map<"u"&&M(new Map);function W(x){return typeof Map>"u"?!1:M.working?M(x):x instanceof Map}e.isMap=W;function X(x){return s(x)==="[object Set]"}X.working=typeof Set<"u"&&X(new Set);function O(x){return typeof Set>"u"?!1:X.working?X(x):x instanceof Set}e.isSet=O;function C(x){return s(x)==="[object WeakMap]"}C.working=typeof WeakMap<"u"&&C(new WeakMap);function N(x){return typeof WeakMap>"u"?!1:C.working?C(x):x instanceof WeakMap}e.isWeakMap=N;function k(x){return s(x)==="[object WeakSet]"}k.working=typeof WeakSet<"u"&&k(new WeakSet);function q(x){return k(x)}e.isWeakSet=q;function Q(x){return s(x)==="[object ArrayBuffer]"}Q.working=typeof ArrayBuffer<"u"&&Q(new ArrayBuffer);function T(x){return typeof ArrayBuffer>"u"?!1:Q.working?Q(x):x instanceof ArrayBuffer}e.isArrayBuffer=T;function l(x){return s(x)==="[object DataView]"}l.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&l(new DataView(new ArrayBuffer(1),0,1));function p(x){return typeof DataView>"u"?!1:l.working?l(x):x instanceof DataView}e.isDataView=p;var m=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function R(x){return s(x)==="[object SharedArrayBuffer]"}function I(x){return typeof m>"u"?!1:(typeof R.working>"u"&&(R.working=R(new m)),R.working?R(x):x instanceof m)}e.isSharedArrayBuffer=I;function U(x){return s(x)==="[object AsyncFunction]"}e.isAsyncFunction=U;function H(x){return s(x)==="[object Map Iterator]"}e.isMapIterator=H;function V(x){return s(x)==="[object Set Iterator]"}e.isSetIterator=V;function ne(x){return s(x)==="[object Generator]"}e.isGeneratorObject=ne;function fe(x){return s(x)==="[object WebAssembly.Module]"}e.isWebAssemblyCompiledModule=fe;function Oe(x){return b(x,c)}e.isNumberObject=Oe;function je(x){return b(x,f)}e.isStringObject=je;function pe(x){return b(x,d)}e.isBooleanObject=pe;function Ke(x){return a&&b(x,y)}e.isBigIntObject=Ke;function st(x){return u&&b(x,g)}e.isSymbolObject=st;function Se(x){return Oe(x)||je(x)||pe(x)||Ke(x)||st(x)}e.isBoxedPrimitive=Se;function qe(x){return typeof Uint8Array<"u"&&(T(x)||I(x))}e.isAnyArrayBuffer=qe,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(x){Object.defineProperty(e,x,{enumerable:!1,value:function(){throw new Error(x+" is not supported in userland")}})})})($a);var Pl=function(t){return t&&typeof t=="object"&&typeof t.copy=="function"&&typeof t.fill=="function"&&typeof t.readUInt8=="function"},gi={},Eo={get exports(){return gi},set exports(e){gi=e}};typeof Object.create=="function"?Eo.exports=function(t,n){n&&(t.super_=n,t.prototype=Object.create(n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:Eo.exports=function(t,n){if(n){t.super_=n;var r=function(){};r.prototype=n.prototype,t.prototype=new r,t.prototype.constructor=t}};(function(e){var t=Object.getOwnPropertyDescriptors||function(p){for(var m=Object.keys(p),R={},I=0;I<m.length;I++)R[m[I]]=Object.getOwnPropertyDescriptor(p,m[I]);return R},n=/%[sdj%]/g;e.format=function(l){if(!_(l)){for(var p=[],m=0;m<arguments.length;m++)p.push(a(arguments[m]));return p.join(" ")}for(var m=1,R=arguments,I=R.length,U=String(l).replace(n,function(V){if(V==="%%")return"%";if(m>=I)return V;switch(V){case"%s":return String(R[m++]);case"%d":return Number(R[m++]);case"%j":try{return JSON.stringify(R[m++])}catch{return"[Circular]"}default:return V}}),H=R[m];m<I;H=R[++m])S(H)||!F(H)?U+=" "+H:U+=" "+a(H);return U},e.deprecate=function(l,p){if(typeof process<"u"&&process.noDeprecation===!0)return l;if(typeof process>"u")return function(){return e.deprecate(l,p).apply(this,arguments)};var m=!1;function R(){if(!m){if(process.throwDeprecation)throw new Error(p);process.traceDeprecation?console.trace(p):console.error(p),m=!0}return l.apply(this,arguments)}return R};var r={},i=/^$/;if({}.NODE_DEBUG){var o={}.NODE_DEBUG;o=o.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),i=new RegExp("^"+o+"$","i")}e.debuglog=function(l){if(l=l.toUpperCase(),!r[l])if(i.test(l)){var p=process.pid;r[l]=function(){var m=e.format.apply(e,arguments);console.error("%s %d: %s",l,p,m)}}else r[l]=function(){};return r[l]};function a(l,p){var m={seen:[],stylize:s};return arguments.length>=3&&(m.depth=arguments[2]),arguments.length>=4&&(m.colors=arguments[3]),w(p)?m.showHidden=p:p&&e._extend(m,p),$(m.showHidden)&&(m.showHidden=!1),$(m.depth)&&(m.depth=2),$(m.colors)&&(m.colors=!1),$(m.customInspect)&&(m.customInspect=!0),m.colors&&(m.stylize=u),f(m,l,m.depth)}e.inspect=a,a.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},a.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function u(l,p){var m=a.styles[p];return m?"\x1B["+a.colors[m][0]+"m"+l+"\x1B["+a.colors[m][1]+"m":l}function s(l,p){return l}function c(l){var p={};return l.forEach(function(m,R){p[m]=!0}),p}function f(l,p,m){if(l.customInspect&&p&&M(p.inspect)&&p.inspect!==e.inspect&&!(p.constructor&&p.constructor.prototype===p)){var R=p.inspect(m,l);return _(R)||(R=f(l,R,m)),R}var I=d(l,p);if(I)return I;var U=Object.keys(p),H=c(U);if(l.showHidden&&(U=Object.getOwnPropertyNames(p)),z(p)&&(U.indexOf("message")>=0||U.indexOf("description")>=0))return y(p);if(U.length===0){if(M(p)){var V=p.name?": "+p.name:"";return l.stylize("[Function"+V+"]","special")}if(D(p))return l.stylize(RegExp.prototype.toString.call(p),"regexp");if(G(p))return l.stylize(Date.prototype.toString.call(p),"date");if(z(p))return y(p)}var ne="",fe=!1,Oe=["{","}"];if(v(p)&&(fe=!0,Oe=["[","]"]),M(p)){var je=p.name?": "+p.name:"";ne=" [Function"+je+"]"}if(D(p)&&(ne=" "+RegExp.prototype.toString.call(p)),G(p)&&(ne=" "+Date.prototype.toUTCString.call(p)),z(p)&&(ne=" "+y(p)),U.length===0&&(!fe||p.length==0))return Oe[0]+ne+Oe[1];if(m<0)return D(p)?l.stylize(RegExp.prototype.toString.call(p),"regexp"):l.stylize("[Object]","special");l.seen.push(p);var pe;return fe?pe=g(l,p,m,H,U):pe=U.map(function(Ke){return b(l,p,m,H,Ke,fe)}),l.seen.pop(),h(pe,ne,Oe)}function d(l,p){if($(p))return l.stylize("undefined","undefined");if(_(p)){var m="'"+JSON.stringify(p).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return l.stylize(m,"string")}if(P(p))return l.stylize(""+p,"number");if(w(p))return l.stylize(""+p,"boolean");if(S(p))return l.stylize("null","null")}function y(l){return"["+Error.prototype.toString.call(l)+"]"}function g(l,p,m,R,I){for(var U=[],H=0,V=p.length;H<V;++H)k(p,String(H))?U.push(b(l,p,m,R,String(H),!0)):U.push("");return I.forEach(function(ne){ne.match(/^\d+$/)||U.push(b(l,p,m,R,ne,!0))}),U}function b(l,p,m,R,I,U){var H,V,ne;if(ne=Object.getOwnPropertyDescriptor(p,I)||{value:p[I]},ne.get?ne.set?V=l.stylize("[Getter/Setter]","special"):V=l.stylize("[Getter]","special"):ne.set&&(V=l.stylize("[Setter]","special")),k(R,I)||(H="["+I+"]"),V||(l.seen.indexOf(ne.value)<0?(S(m)?V=f(l,ne.value,null):V=f(l,ne.value,m-1),V.indexOf(`
`)>-1&&(U?V=V.split(`
`).map(function(fe){return"  "+fe}).join(`
`).slice(2):V=`
`+V.split(`
`).map(function(fe){return"   "+fe}).join(`
`))):V=l.stylize("[Circular]","special")),$(H)){if(U&&I.match(/^\d+$/))return V;H=JSON.stringify(""+I),H.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(H=H.slice(1,-1),H=l.stylize(H,"name")):(H=H.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),H=l.stylize(H,"string"))}return H+": "+V}function h(l,p,m){var R=l.reduce(function(I,U){return U.indexOf(`
`)>=0,I+U.replace(/\u001b\[\d\d?m/g,"").length+1},0);return R>60?m[0]+(p===""?"":p+`
 `)+" "+l.join(`,
  `)+" "+m[1]:m[0]+p+" "+l.join(", ")+" "+m[1]}e.types=$a;function v(l){return Array.isArray(l)}e.isArray=v;function w(l){return typeof l=="boolean"}e.isBoolean=w;function S(l){return l===null}e.isNull=S;function E(l){return l==null}e.isNullOrUndefined=E;function P(l){return typeof l=="number"}e.isNumber=P;function _(l){return typeof l=="string"}e.isString=_;function B(l){return typeof l=="symbol"}e.isSymbol=B;function $(l){return l===void 0}e.isUndefined=$;function D(l){return F(l)&&X(l)==="[object RegExp]"}e.isRegExp=D,e.types.isRegExp=D;function F(l){return typeof l=="object"&&l!==null}e.isObject=F;function G(l){return F(l)&&X(l)==="[object Date]"}e.isDate=G,e.types.isDate=G;function z(l){return F(l)&&(X(l)==="[object Error]"||l instanceof Error)}e.isError=z,e.types.isNativeError=z;function M(l){return typeof l=="function"}e.isFunction=M;function W(l){return l===null||typeof l=="boolean"||typeof l=="number"||typeof l=="string"||typeof l=="symbol"||typeof l>"u"}e.isPrimitive=W,e.isBuffer=Pl;function X(l){return Object.prototype.toString.call(l)}function O(l){return l<10?"0"+l.toString(10):l.toString(10)}var C=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function N(){var l=new Date,p=[O(l.getHours()),O(l.getMinutes()),O(l.getSeconds())].join(":");return[l.getDate(),C[l.getMonth()],p].join(" ")}e.log=function(){console.log("%s - %s",N(),e.format.apply(e,arguments))},e.inherits=gi,e._extend=function(l,p){if(!p||!F(p))return l;for(var m=Object.keys(p),R=m.length;R--;)l[m[R]]=p[m[R]];return l};function k(l,p){return Object.prototype.hasOwnProperty.call(l,p)}var q=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;e.promisify=function(p){if(typeof p!="function")throw new TypeError('The "original" argument must be of type Function');if(q&&p[q]){var m=p[q];if(typeof m!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(m,q,{value:m,enumerable:!1,writable:!1,configurable:!0}),m}function m(){for(var R,I,U=new Promise(function(ne,fe){R=ne,I=fe}),H=[],V=0;V<arguments.length;V++)H.push(arguments[V]);H.push(function(ne,fe){ne?I(ne):R(fe)});try{p.apply(this,H)}catch(ne){I(ne)}return U}return Object.setPrototypeOf(m,Object.getPrototypeOf(p)),q&&Object.defineProperty(m,q,{value:m,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(m,t(p))},e.promisify.custom=q;function Q(l,p){if(!l){var m=new Error("Promise was rejected with a falsy value");m.reason=l,l=m}return p(l)}function T(l){if(typeof l!="function")throw new TypeError('The "original" argument must be of type Function');function p(){for(var m=[],R=0;R<arguments.length;R++)m.push(arguments[R]);var I=m.pop();if(typeof I!="function")throw new TypeError("The last argument must be of type Function");var U=this,H=function(){return I.apply(U,arguments)};l.apply(this,m).then(function(V){process.nextTick(H.bind(null,null,V))},function(V){process.nextTick(Q.bind(null,V,H))})}return Object.setPrototypeOf(p,Object.getPrototypeOf(l)),Object.defineProperties(p,t(l)),p}e.callbackify=T})(Ct);var Oo;function nu(){if(Oo)return fr;Oo=1;function e(h){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?e=function(w){return typeof w}:e=function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w},e(h)}function t(h,v){if(!(h instanceof v))throw new TypeError("Cannot call a class as a function")}function n(h,v){return v&&(e(v)==="object"||typeof v=="function")?v:r(h)}function r(h){if(h===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h}function i(h){return i=Object.setPrototypeOf?Object.getPrototypeOf:function(w){return w.__proto__||Object.getPrototypeOf(w)},i(h)}function o(h,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function");h.prototype=Object.create(v&&v.prototype,{constructor:{value:h,writable:!0,configurable:!0}}),v&&a(h,v)}function a(h,v){return a=Object.setPrototypeOf||function(S,E){return S.__proto__=E,S},a(h,v)}var u={},s,c;function f(h,v,w){w||(w=Error);function S(P,_,B){return typeof v=="string"?v:v(P,_,B)}var E=function(P){o(_,P);function _(B,$,D){var F;return t(this,_),F=n(this,i(_).call(this,S(B,$,D))),F.code=h,F}return _}(w);u[h]=E}function d(h,v){if(Array.isArray(h)){var w=h.length;return h=h.map(function(S){return String(S)}),w>2?"one of ".concat(v," ").concat(h.slice(0,w-1).join(", "),", or ")+h[w-1]:w===2?"one of ".concat(v," ").concat(h[0]," or ").concat(h[1]):"of ".concat(v," ").concat(h[0])}else return"of ".concat(v," ").concat(String(h))}function y(h,v,w){return h.substr(!w||w<0?0:+w,v.length)===v}function g(h,v,w){return(w===void 0||w>h.length)&&(w=h.length),h.substring(w-v.length,w)===v}function b(h,v,w){return typeof w!="number"&&(w=0),w+v.length>h.length?!1:h.indexOf(v,w)!==-1}return f("ERR_AMBIGUOUS_ARGUMENT",'The "%s" argument is ambiguous. %s',TypeError),f("ERR_INVALID_ARG_TYPE",function(h,v,w){s===void 0&&(s=mi()),s(typeof h=="string","'name' must be a string");var S;typeof v=="string"&&y(v,"not ")?(S="must not be",v=v.replace(/^not /,"")):S="must be";var E;if(g(h," argument"))E="The ".concat(h," ").concat(S," ").concat(d(v,"type"));else{var P=b(h,".")?"property":"argument";E='The "'.concat(h,'" ').concat(P," ").concat(S," ").concat(d(v,"type"))}return E+=". Received type ".concat(e(w)),E},TypeError),f("ERR_INVALID_ARG_VALUE",function(h,v){var w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"is invalid";c===void 0&&(c=Ct);var S=c.inspect(v);return S.length>128&&(S="".concat(S.slice(0,128),"...")),"The argument '".concat(h,"' ").concat(w,". Received ").concat(S)},TypeError),f("ERR_INVALID_RETURN_VALUE",function(h,v,w){var S;return w&&w.constructor&&w.constructor.name?S="instance of ".concat(w.constructor.name):S="type ".concat(e(w)),"Expected ".concat(h,' to be returned from the "').concat(v,'"')+" function but got ".concat(S,".")},TypeError),f("ERR_MISSING_ARGS",function(){for(var h=arguments.length,v=new Array(h),w=0;w<h;w++)v[w]=arguments[w];s===void 0&&(s=mi()),s(v.length>0,"At least one arg needs to be specified");var S="The ",E=v.length;switch(v=v.map(function(P){return'"'.concat(P,'"')}),E){case 1:S+="".concat(v[0]," argument");break;case 2:S+="".concat(v[0]," and ").concat(v[1]," arguments");break;default:S+=v.slice(0,E-1).join(", "),S+=", and ".concat(v[E-1]," arguments");break}return"".concat(S," must be specified")},TypeError),fr.codes=u,fr}var Er,Po;function Tl(){if(Po)return Er;Po=1;function e(O){for(var C=1;C<arguments.length;C++){var N=arguments[C]!=null?arguments[C]:{},k=Object.keys(N);typeof Object.getOwnPropertySymbols=="function"&&(k=k.concat(Object.getOwnPropertySymbols(N).filter(function(q){return Object.getOwnPropertyDescriptor(N,q).enumerable}))),k.forEach(function(q){t(O,q,N[q])})}return O}function t(O,C,N){return C in O?Object.defineProperty(O,C,{value:N,enumerable:!0,configurable:!0,writable:!0}):O[C]=N,O}function n(O,C){if(!(O instanceof C))throw new TypeError("Cannot call a class as a function")}function r(O,C){for(var N=0;N<C.length;N++){var k=C[N];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(O,k.key,k)}}function i(O,C,N){return C&&r(O.prototype,C),N&&r(O,N),O}function o(O,C){return C&&(b(C)==="object"||typeof C=="function")?C:a(O)}function a(O){if(O===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O}function u(O,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function");O.prototype=Object.create(C&&C.prototype,{constructor:{value:O,writable:!0,configurable:!0}}),C&&y(O,C)}function s(O){var C=typeof Map=="function"?new Map:void 0;return s=function(k){if(k===null||!d(k))return k;if(typeof k!="function")throw new TypeError("Super expression must either be null or a function");if(typeof C<"u"){if(C.has(k))return C.get(k);C.set(k,q)}function q(){return f(k,arguments,g(this).constructor)}return q.prototype=Object.create(k.prototype,{constructor:{value:q,enumerable:!1,writable:!0,configurable:!0}}),y(q,k)},s(O)}function c(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function f(O,C,N){return c()?f=Reflect.construct:f=function(q,Q,T){var l=[null];l.push.apply(l,Q);var p=Function.bind.apply(q,l),m=new p;return T&&y(m,T.prototype),m},f.apply(null,arguments)}function d(O){return Function.toString.call(O).indexOf("[native code]")!==-1}function y(O,C){return y=Object.setPrototypeOf||function(k,q){return k.__proto__=q,k},y(O,C)}function g(O){return g=Object.setPrototypeOf?Object.getPrototypeOf:function(N){return N.__proto__||Object.getPrototypeOf(N)},g(O)}function b(O){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?b=function(N){return typeof N}:b=function(N){return N&&typeof Symbol=="function"&&N.constructor===Symbol&&N!==Symbol.prototype?"symbol":typeof N},b(O)}var h=Ct,v=h.inspect,w=nu(),S=w.codes.ERR_INVALID_ARG_TYPE;function E(O,C,N){return(N===void 0||N>O.length)&&(N=O.length),O.substring(N-C.length,N)===C}function P(O,C){if(C=Math.floor(C),O.length==0||C==0)return"";var N=O.length*C;for(C=Math.floor(Math.log(C)/Math.log(2));C;)O+=O,C--;return O+=O.substring(0,N-O.length),O}var _="",B="",$="",D="",F={deepStrictEqual:"Expected values to be strictly deep-equal:",strictEqual:"Expected values to be strictly equal:",strictEqualObject:'Expected "actual" to be reference-equal to "expected":',deepEqual:"Expected values to be loosely deep-equal:",equal:"Expected values to be loosely equal:",notDeepStrictEqual:'Expected "actual" not to be strictly deep-equal to:',notStrictEqual:'Expected "actual" to be strictly unequal to:',notStrictEqualObject:'Expected "actual" not to be reference-equal to "expected":',notDeepEqual:'Expected "actual" not to be loosely deep-equal to:',notEqual:'Expected "actual" to be loosely unequal to:',notIdentical:"Values identical but not reference-equal:"},G=10;function z(O){var C=Object.keys(O),N=Object.create(Object.getPrototypeOf(O));return C.forEach(function(k){N[k]=O[k]}),Object.defineProperty(N,"message",{value:O.message}),N}function M(O){return v(O,{compact:!1,customInspect:!1,depth:1e3,maxArrayLength:1/0,showHidden:!1,breakLength:1/0,showProxy:!1,sorted:!0,getters:!0})}function W(O,C,N){var k="",q="",Q=0,T="",l=!1,p=M(O),m=p.split(`
`),R=M(C).split(`
`),I=0,U="";if(N==="strictEqual"&&b(O)==="object"&&b(C)==="object"&&O!==null&&C!==null&&(N="strictEqualObject"),m.length===1&&R.length===1&&m[0]!==R[0]){var H=m[0].length+R[0].length;if(H<=G){if((b(O)!=="object"||O===null)&&(b(C)!=="object"||C===null)&&(O!==0||C!==0))return"".concat(F[N],`

`)+"".concat(m[0]," !== ").concat(R[0],`
`)}else if(N!=="strictEqualObject"){var V=process.stderr&&process.stderr.isTTY?process.stderr.columns:80;if(H<V){for(;m[0][I]===R[0][I];)I++;I>2&&(U=`
  `.concat(P(" ",I),"^"),I=0)}}}for(var ne=m[m.length-1],fe=R[R.length-1];ne===fe&&(I++<2?T=`
  `.concat(ne).concat(T):k=ne,m.pop(),R.pop(),!(m.length===0||R.length===0));)ne=m[m.length-1],fe=R[R.length-1];var Oe=Math.max(m.length,R.length);if(Oe===0){var je=p.split(`
`);if(je.length>30)for(je[26]="".concat(_,"...").concat(D);je.length>27;)je.pop();return"".concat(F.notIdentical,`

`).concat(je.join(`
`),`
`)}I>3&&(T=`
`.concat(_,"...").concat(D).concat(T),l=!0),k!==""&&(T=`
  `.concat(k).concat(T),k="");var pe=0,Ke=F[N]+`
`.concat(B,"+ actual").concat(D," ").concat($,"- expected").concat(D),st=" ".concat(_,"...").concat(D," Lines skipped");for(I=0;I<Oe;I++){var Se=I-Q;if(m.length<I+1)Se>1&&I>2&&(Se>4?(q+=`
`.concat(_,"...").concat(D),l=!0):Se>3&&(q+=`
  `.concat(R[I-2]),pe++),q+=`
  `.concat(R[I-1]),pe++),Q=I,k+=`
`.concat($,"-").concat(D," ").concat(R[I]),pe++;else if(R.length<I+1)Se>1&&I>2&&(Se>4?(q+=`
`.concat(_,"...").concat(D),l=!0):Se>3&&(q+=`
  `.concat(m[I-2]),pe++),q+=`
  `.concat(m[I-1]),pe++),Q=I,q+=`
`.concat(B,"+").concat(D," ").concat(m[I]),pe++;else{var qe=R[I],x=m[I],ct=x!==qe&&(!E(x,",")||x.slice(0,-1)!==qe);ct&&E(qe,",")&&qe.slice(0,-1)===x&&(ct=!1,x+=","),ct?(Se>1&&I>2&&(Se>4?(q+=`
`.concat(_,"...").concat(D),l=!0):Se>3&&(q+=`
  `.concat(m[I-2]),pe++),q+=`
  `.concat(m[I-1]),pe++),Q=I,q+=`
`.concat(B,"+").concat(D," ").concat(x),k+=`
`.concat($,"-").concat(D," ").concat(qe),pe+=2):(q+=k,k="",(Se===1||I===0)&&(q+=`
  `.concat(x),pe++))}if(pe>20&&I<Oe-2)return"".concat(Ke).concat(st,`
`).concat(q,`
`).concat(_,"...").concat(D).concat(k,`
`)+"".concat(_,"...").concat(D)}return"".concat(Ke).concat(l?st:"",`
`).concat(q).concat(k).concat(T).concat(U)}var X=function(O){u(C,O);function C(N){var k;if(n(this,C),b(N)!=="object"||N===null)throw new S("options","Object",N);var q=N.message,Q=N.operator,T=N.stackStartFn,l=N.actual,p=N.expected,m=Error.stackTraceLimit;if(Error.stackTraceLimit=0,q!=null)k=o(this,g(C).call(this,String(q)));else if(process.stderr&&process.stderr.isTTY&&(process.stderr&&process.stderr.getColorDepth&&process.stderr.getColorDepth()!==1?(_="\x1B[34m",B="\x1B[32m",D="\x1B[39m",$="\x1B[31m"):(_="",B="",D="",$="")),b(l)==="object"&&l!==null&&b(p)==="object"&&p!==null&&"stack"in l&&l instanceof Error&&"stack"in p&&p instanceof Error&&(l=z(l),p=z(p)),Q==="deepStrictEqual"||Q==="strictEqual")k=o(this,g(C).call(this,W(l,p,Q)));else if(Q==="notDeepStrictEqual"||Q==="notStrictEqual"){var R=F[Q],I=M(l).split(`
`);if(Q==="notStrictEqual"&&b(l)==="object"&&l!==null&&(R=F.notStrictEqualObject),I.length>30)for(I[26]="".concat(_,"...").concat(D);I.length>27;)I.pop();I.length===1?k=o(this,g(C).call(this,"".concat(R," ").concat(I[0]))):k=o(this,g(C).call(this,"".concat(R,`

`).concat(I.join(`
`),`
`)))}else{var U=M(l),H="",V=F[Q];Q==="notDeepEqual"||Q==="notEqual"?(U="".concat(F[Q],`

`).concat(U),U.length>1024&&(U="".concat(U.slice(0,1021),"..."))):(H="".concat(M(p)),U.length>512&&(U="".concat(U.slice(0,509),"...")),H.length>512&&(H="".concat(H.slice(0,509),"...")),Q==="deepEqual"||Q==="equal"?U="".concat(V,`

`).concat(U,`

should equal

`):H=" ".concat(Q," ").concat(H)),k=o(this,g(C).call(this,"".concat(U).concat(H)))}return Error.stackTraceLimit=m,k.generatedMessage=!q,Object.defineProperty(a(k),"name",{value:"AssertionError [ERR_ASSERTION]",enumerable:!1,writable:!0,configurable:!0}),k.code="ERR_ASSERTION",k.actual=l,k.expected=p,k.operator=Q,Error.captureStackTrace&&Error.captureStackTrace(a(k),T),k.stack,k.name="AssertionError",o(k)}return i(C,[{key:"toString",value:function(){return"".concat(this.name," [").concat(this.code,"]: ").concat(this.message)}},{key:v.custom,value:function(k,q){return v(this,e({},q,{customInspect:!1,depth:0}))}}]),C}(s(Error));return Er=X,Er}var Or,To;function jl(){if(To)return Or;To=1;function e(n,r){if(n==null)throw new TypeError("Cannot convert first argument to object");for(var i=Object(n),o=1;o<arguments.length;o++){var a=arguments[o];if(a!=null)for(var u=Object.keys(Object(a)),s=0,c=u.length;s<c;s++){var f=u[s],d=Object.getOwnPropertyDescriptor(a,f);d!==void 0&&d.enumerable&&(i[f]=a[f])}}return i}function t(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:e})}return Or={assign:e,polyfill:t},Or}var Pr,jo;function ru(){if(jo)return Pr;jo=1;var e=Object.prototype.toString;return Pr=function(n){var r=e.call(n),i=r==="[object Arguments]";return i||(i=r!=="[object Array]"&&n!==null&&typeof n=="object"&&typeof n.length=="number"&&n.length>=0&&e.call(n.callee)==="[object Function]"),i},Pr}var Tr,Io;function Il(){if(Io)return Tr;Io=1;var e;if(!Object.keys){var t=Object.prototype.hasOwnProperty,n=Object.prototype.toString,r=ru(),i=Object.prototype.propertyIsEnumerable,o=!i.call({toString:null},"toString"),a=i.call(function(){},"prototype"),u=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],s=function(y){var g=y.constructor;return g&&g.prototype===y},c={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},f=function(){if(typeof window>"u")return!1;for(var y in window)try{if(!c["$"+y]&&t.call(window,y)&&window[y]!==null&&typeof window[y]=="object")try{s(window[y])}catch{return!0}}catch{return!0}return!1}(),d=function(y){if(typeof window>"u"||!f)return s(y);try{return s(y)}catch{return!1}};e=function(g){var b=g!==null&&typeof g=="object",h=n.call(g)==="[object Function]",v=r(g),w=b&&n.call(g)==="[object String]",S=[];if(!b&&!h&&!v)throw new TypeError("Object.keys called on a non-object");var E=a&&h;if(w&&g.length>0&&!t.call(g,0))for(var P=0;P<g.length;++P)S.push(String(P));if(v&&g.length>0)for(var _=0;_<g.length;++_)S.push(String(_));else for(var B in g)!(E&&B==="prototype")&&t.call(g,B)&&S.push(String(B));if(o)for(var $=d(g),D=0;D<u.length;++D)!($&&u[D]==="constructor")&&t.call(g,u[D])&&S.push(u[D]);return S}}return Tr=e,Tr}var jr,Ro;function Rl(){if(Ro)return jr;Ro=1;var e=Array.prototype.slice,t=ru(),n=Object.keys,r=n?function(a){return n(a)}:Il(),i=Object.keys;return r.shim=function(){if(Object.keys){var a=function(){var u=Object.keys(arguments);return u&&u.length===arguments.length}(1,2);a||(Object.keys=function(s){return t(s)?i(e.call(s)):i(s)})}else Object.keys=r;return Object.keys||r},jr=r,jr}var Ir,xo;function xl(){if(xo)return Ir;xo=1;var e=Zn(),t=e("%Object.defineProperty%",!0),n=function(){if(t)try{return t({},"a",{value:1}),!0}catch{return!1}return!1};return n.hasArrayLengthDefineBug=function(){if(!n())return null;try{return t([],"length",{value:1}).length!==1}catch{return!0}},Ir=n,Ir}var Rr,Do;function tr(){if(Do)return Rr;Do=1;var e=Rl(),t=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",n=Object.prototype.toString,r=Array.prototype.concat,i=Object.defineProperty,o=function(f){return typeof f=="function"&&n.call(f)==="[object Function]"},a=xl()(),u=i&&a,s=function(f,d,y,g){d in f&&(!o(g)||!g())||(u?i(f,d,{configurable:!0,enumerable:!1,value:y,writable:!0}):f[d]=y)},c=function(f,d){var y=arguments.length>2?arguments[2]:{},g=e(d);t&&(g=r.call(g,Object.getOwnPropertySymbols(d)));for(var b=0;b<g.length;b+=1)s(f,g[b],d[g[b]],y[g[b]])};return c.supportsDescriptors=!!u,Rr=c,Rr}var xr,Co;function iu(){if(Co)return xr;Co=1;var e=function(t){return t!==t};return xr=function(n,r){return n===0&&r===0?1/n===1/r:!!(n===r||e(n)&&e(r))},xr}var Dr,Bo;function ou(){if(Bo)return Dr;Bo=1;var e=iu();return Dr=function(){return typeof Object.is=="function"?Object.is:e},Dr}var Cr,ko;function Dl(){if(ko)return Cr;ko=1;var e=ou(),t=tr();return Cr=function(){var r=e();return t(Object,{is:r},{is:function(){return Object.is!==r}}),r},Cr}var Br,$o;function au(){if($o)return Br;$o=1;var e=tr(),t=Vi(),n=iu(),r=ou(),i=Dl(),o=t(r(),Object);return e(o,{getPolyfill:r,implementation:n,shim:i}),Br=o,Br}var kr,No;function uu(){return No||(No=1,kr=function(t){return t!==t}),kr}var $r,Fo;function su(){if(Fo)return $r;Fo=1;var e=uu();return $r=function(){return Number.isNaN&&Number.isNaN(NaN)&&!Number.isNaN("a")?Number.isNaN:e},$r}var Nr,Mo;function Cl(){if(Mo)return Nr;Mo=1;var e=tr(),t=su();return Nr=function(){var r=t();return e(Number,{isNaN:r},{isNaN:function(){return Number.isNaN!==r}}),r},Nr}var Fr,Ko;function Bl(){if(Ko)return Fr;Ko=1;var e=Vi(),t=tr(),n=uu(),r=su(),i=Cl(),o=e(r(),Number);return t(o,{getPolyfill:r,implementation:n,shim:i}),Fr=o,Fr}var Mr,qo;function kl(){if(qo)return Mr;qo=1;function e(A,j){return r(A)||n(A,j)||t()}function t(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function n(A,j){var K=[],Y=!0,J=!1,re=void 0;try{for(var te=A[Symbol.iterator](),ae;!(Y=(ae=te.next()).done)&&(K.push(ae.value),!(j&&K.length===j));Y=!0);}catch(ie){J=!0,re=ie}finally{try{!Y&&te.return!=null&&te.return()}finally{if(J)throw re}}return K}function r(A){if(Array.isArray(A))return A}function i(A){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?i=function(K){return typeof K}:i=function(K){return K&&typeof Symbol=="function"&&K.constructor===Symbol&&K!==Symbol.prototype?"symbol":typeof K},i(A)}var o=/a/g.flags!==void 0,a=function(j){var K=[];return j.forEach(function(Y){return K.push(Y)}),K},u=function(j){var K=[];return j.forEach(function(Y,J){return K.push([J,Y])}),K},s=Object.is?Object.is:au(),c=Object.getOwnPropertySymbols?Object.getOwnPropertySymbols:function(){return[]},f=Number.isNaN?Number.isNaN:Bl();function d(A){return A.call.bind(A)}var y=d(Object.prototype.hasOwnProperty),g=d(Object.prototype.propertyIsEnumerable),b=d(Object.prototype.toString),h=Ct.types,v=h.isAnyArrayBuffer,w=h.isArrayBufferView,S=h.isDate,E=h.isMap,P=h.isRegExp,_=h.isSet,B=h.isNativeError,$=h.isBoxedPrimitive,D=h.isNumberObject,F=h.isStringObject,G=h.isBooleanObject,z=h.isBigIntObject,M=h.isSymbolObject,W=h.isFloat32Array,X=h.isFloat64Array;function O(A){if(A.length===0||A.length>10)return!0;for(var j=0;j<A.length;j++){var K=A.charCodeAt(j);if(K<48||K>57)return!0}return A.length===10&&A>=Math.pow(2,32)}function C(A){return Object.keys(A).filter(O).concat(c(A).filter(Object.prototype.propertyIsEnumerable.bind(A)))}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */function N(A,j){if(A===j)return 0;for(var K=A.length,Y=j.length,J=0,re=Math.min(K,Y);J<re;++J)if(A[J]!==j[J]){K=A[J],Y=j[J];break}return K<Y?-1:Y<K?1:0}var k=!0,q=!1,Q=0,T=1,l=2,p=3;function m(A,j){return o?A.source===j.source&&A.flags===j.flags:RegExp.prototype.toString.call(A)===RegExp.prototype.toString.call(j)}function R(A,j){if(A.byteLength!==j.byteLength)return!1;for(var K=0;K<A.byteLength;K++)if(A[K]!==j[K])return!1;return!0}function I(A,j){return A.byteLength!==j.byteLength?!1:N(new Uint8Array(A.buffer,A.byteOffset,A.byteLength),new Uint8Array(j.buffer,j.byteOffset,j.byteLength))===0}function U(A,j){return A.byteLength===j.byteLength&&N(new Uint8Array(A),new Uint8Array(j))===0}function H(A,j){return D(A)?D(j)&&s(Number.prototype.valueOf.call(A),Number.prototype.valueOf.call(j)):F(A)?F(j)&&String.prototype.valueOf.call(A)===String.prototype.valueOf.call(j):G(A)?G(j)&&Boolean.prototype.valueOf.call(A)===Boolean.prototype.valueOf.call(j):z(A)?z(j)&&BigInt.prototype.valueOf.call(A)===BigInt.prototype.valueOf.call(j):M(j)&&Symbol.prototype.valueOf.call(A)===Symbol.prototype.valueOf.call(j)}function V(A,j,K,Y){if(A===j)return A!==0?!0:K?s(A,j):!0;if(K){if(i(A)!=="object")return typeof A=="number"&&f(A)&&f(j);if(i(j)!=="object"||A===null||j===null||Object.getPrototypeOf(A)!==Object.getPrototypeOf(j))return!1}else{if(A===null||i(A)!=="object")return j===null||i(j)!=="object"?A==j:!1;if(j===null||i(j)!=="object")return!1}var J=b(A),re=b(j);if(J!==re)return!1;if(Array.isArray(A)){if(A.length!==j.length)return!1;var te=C(A),ae=C(j);return te.length!==ae.length?!1:fe(A,j,K,Y,T,te)}if(J==="[object Object]"&&(!E(A)&&E(j)||!_(A)&&_(j)))return!1;if(S(A)){if(!S(j)||Date.prototype.getTime.call(A)!==Date.prototype.getTime.call(j))return!1}else if(P(A)){if(!P(j)||!m(A,j))return!1}else if(B(A)||A instanceof Error){if(A.message!==j.message||A.name!==j.name)return!1}else if(w(A)){if(!K&&(W(A)||X(A))){if(!R(A,j))return!1}else if(!I(A,j))return!1;var ie=C(A),Pe=C(j);return ie.length!==Pe.length?!1:fe(A,j,K,Y,Q,ie)}else{if(_(A))return!_(j)||A.size!==j.size?!1:fe(A,j,K,Y,l);if(E(A))return!E(j)||A.size!==j.size?!1:fe(A,j,K,Y,p);if(v(A)){if(!U(A,j))return!1}else if($(A)&&!H(A,j))return!1}return fe(A,j,K,Y,Q)}function ne(A,j){return j.filter(function(K){return g(A,K)})}function fe(A,j,K,Y,J,re){if(arguments.length===5){re=Object.keys(A);var te=Object.keys(j);if(re.length!==te.length)return!1}for(var ae=0;ae<re.length;ae++)if(!y(j,re[ae]))return!1;if(K&&arguments.length===5){var ie=c(A);if(ie.length!==0){var Pe=0;for(ae=0;ae<ie.length;ae++){var Ie=ie[ae];if(g(A,Ie)){if(!g(j,Ie))return!1;re.push(Ie),Pe++}else if(g(j,Ie))return!1}var qt=c(j);if(ie.length!==qt.length&&ne(j,qt).length!==Pe)return!1}else{var wt=c(j);if(wt.length!==0&&ne(j,wt).length!==0)return!1}}if(re.length===0&&(J===Q||J===T&&A.length===0||A.size===0))return!0;if(Y===void 0)Y={val1:new Map,val2:new Map,position:0};else{var Lt=Y.val1.get(A);if(Lt!==void 0){var _t=Y.val2.get(j);if(_t!==void 0)return Lt===_t}Y.position++}Y.val1.set(A,Y.position),Y.val2.set(j,Y.position);var bu=x(A,j,K,re,Y,J);return Y.val1.delete(A),Y.val2.delete(j),bu}function Oe(A,j,K,Y){for(var J=a(A),re=0;re<J.length;re++){var te=J[re];if(V(j,te,K,Y))return A.delete(te),!0}return!1}function je(A){switch(i(A)){case"undefined":return null;case"object":return;case"symbol":return!1;case"string":A=+A;case"number":if(f(A))return!1}return!0}function pe(A,j,K){var Y=je(K);return Y??(j.has(Y)&&!A.has(Y))}function Ke(A,j,K,Y,J){var re=je(K);if(re!=null)return re;var te=j.get(re);return te===void 0&&!j.has(re)||!V(Y,te,!1,J)?!1:!A.has(re)&&V(Y,te,!1,J)}function st(A,j,K,Y){for(var J=null,re=a(A),te=0;te<re.length;te++){var ae=re[te];if(i(ae)==="object"&&ae!==null)J===null&&(J=new Set),J.add(ae);else if(!j.has(ae)){if(K||!pe(A,j,ae))return!1;J===null&&(J=new Set),J.add(ae)}}if(J!==null){for(var ie=a(j),Pe=0;Pe<ie.length;Pe++){var Ie=ie[Pe];if(i(Ie)==="object"&&Ie!==null){if(!Oe(J,Ie,K,Y))return!1}else if(!K&&!A.has(Ie)&&!Oe(J,Ie,K,Y))return!1}return J.size===0}return!0}function Se(A,j,K,Y,J,re){for(var te=a(A),ae=0;ae<te.length;ae++){var ie=te[ae];if(V(K,ie,J,re)&&V(Y,j.get(ie),J,re))return A.delete(ie),!0}return!1}function qe(A,j,K,Y){for(var J=null,re=u(A),te=0;te<re.length;te++){var ae=e(re[te],2),ie=ae[0],Pe=ae[1];if(i(ie)==="object"&&ie!==null)J===null&&(J=new Set),J.add(ie);else{var Ie=j.get(ie);if(Ie===void 0&&!j.has(ie)||!V(Pe,Ie,K,Y)){if(K||!Ke(A,j,ie,Pe,Y))return!1;J===null&&(J=new Set),J.add(ie)}}}if(J!==null){for(var qt=u(j),wt=0;wt<qt.length;wt++){var Lt=e(qt[wt],2),ie=Lt[0],_t=Lt[1];if(i(ie)==="object"&&ie!==null){if(!Se(J,A,ie,_t,K,Y))return!1}else if(!K&&(!A.has(ie)||!V(A.get(ie),_t,!1,Y))&&!Se(J,A,ie,_t,!1,Y))return!1}return J.size===0}return!0}function x(A,j,K,Y,J,re){var te=0;if(re===l){if(!st(A,j,K,J))return!1}else if(re===p){if(!qe(A,j,K,J))return!1}else if(re===T)for(;te<A.length;te++)if(y(A,te)){if(!y(j,te)||!V(A[te],j[te],K,J))return!1}else{if(y(j,te))return!1;for(var ae=Object.keys(A);te<ae.length;te++){var ie=ae[te];if(!y(j,ie)||!V(A[ie],j[ie],K,J))return!1}return ae.length===Object.keys(j).length}for(te=0;te<Y.length;te++){var Pe=Y[te];if(!V(A[Pe],j[Pe],K,J))return!1}return!0}function ct(A,j){return V(A,j,q)}function Yi(A,j){return V(A,j,k)}return Mr={isDeepEqual:ct,isDeepStrictEqual:Yi},Mr}var Lo;function mi(){if(Lo)return Vn;Lo=1;function e(T){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?e=function(p){return typeof p}:e=function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p},e(T)}function t(T,l){if(!(T instanceof l))throw new TypeError("Cannot call a class as a function")}var n=nu(),r=n.codes,i=r.ERR_AMBIGUOUS_ARGUMENT,o=r.ERR_INVALID_ARG_TYPE,a=r.ERR_INVALID_ARG_VALUE,u=r.ERR_INVALID_RETURN_VALUE,s=r.ERR_MISSING_ARGS,c=Tl(),f=Ct,d=f.inspect,y=Ct.types,g=y.isPromise,b=y.isRegExp,h=Object.assign?Object.assign:jl().assign,v=Object.is?Object.is:au(),w,S;function E(){var T=kl();w=T.isDeepEqual,S=T.isDeepStrictEqual}var P=!1,_=Dc.exports=G,B={};function $(T){throw T.message instanceof Error?T.message:new c(T)}function D(T,l,p,m,R){var I=arguments.length,U;if(I===0)U="Failed";else if(I===1)p=T,T=void 0;else{if(P===!1){P=!0;var H=process.emitWarning?process.emitWarning:console.warn.bind(console);H("assert.fail() with more than one argument is deprecated. Please use assert.strictEqual() instead or only pass a message.","DeprecationWarning","DEP0094")}I===2&&(m="!=")}if(p instanceof Error)throw p;var V={actual:T,expected:l,operator:m===void 0?"fail":m,stackStartFn:R||D};p!==void 0&&(V.message=p);var ne=new c(V);throw U&&(ne.message=U,ne.generatedMessage=!0),ne}_.fail=D,_.AssertionError=c;function F(T,l,p,m){if(!p){var R=!1;if(l===0)R=!0,m="No value argument passed to `assert.ok()`";else if(m instanceof Error)throw m;var I=new c({actual:p,expected:!0,message:m,operator:"==",stackStartFn:T});throw I.generatedMessage=R,I}}function G(){for(var T=arguments.length,l=new Array(T),p=0;p<T;p++)l[p]=arguments[p];F.apply(void 0,[G,l.length].concat(l))}_.ok=G,_.equal=function T(l,p,m){if(arguments.length<2)throw new s("actual","expected");l!=p&&$({actual:l,expected:p,message:m,operator:"==",stackStartFn:T})},_.notEqual=function T(l,p,m){if(arguments.length<2)throw new s("actual","expected");l==p&&$({actual:l,expected:p,message:m,operator:"!=",stackStartFn:T})},_.deepEqual=function T(l,p,m){if(arguments.length<2)throw new s("actual","expected");w===void 0&&E(),w(l,p)||$({actual:l,expected:p,message:m,operator:"deepEqual",stackStartFn:T})},_.notDeepEqual=function T(l,p,m){if(arguments.length<2)throw new s("actual","expected");w===void 0&&E(),w(l,p)&&$({actual:l,expected:p,message:m,operator:"notDeepEqual",stackStartFn:T})},_.deepStrictEqual=function T(l,p,m){if(arguments.length<2)throw new s("actual","expected");w===void 0&&E(),S(l,p)||$({actual:l,expected:p,message:m,operator:"deepStrictEqual",stackStartFn:T})},_.notDeepStrictEqual=z;function z(T,l,p){if(arguments.length<2)throw new s("actual","expected");w===void 0&&E(),S(T,l)&&$({actual:T,expected:l,message:p,operator:"notDeepStrictEqual",stackStartFn:z})}_.strictEqual=function T(l,p,m){if(arguments.length<2)throw new s("actual","expected");v(l,p)||$({actual:l,expected:p,message:m,operator:"strictEqual",stackStartFn:T})},_.notStrictEqual=function T(l,p,m){if(arguments.length<2)throw new s("actual","expected");v(l,p)&&$({actual:l,expected:p,message:m,operator:"notStrictEqual",stackStartFn:T})};var M=function T(l,p,m){var R=this;t(this,T),p.forEach(function(I){I in l&&(m!==void 0&&typeof m[I]=="string"&&b(l[I])&&l[I].test(m[I])?R[I]=m[I]:R[I]=l[I])})};function W(T,l,p,m,R,I){if(!(p in T)||!S(T[p],l[p])){if(!m){var U=new M(T,R),H=new M(l,R,T),V=new c({actual:U,expected:H,operator:"deepStrictEqual",stackStartFn:I});throw V.actual=T,V.expected=l,V.operator=I.name,V}$({actual:T,expected:l,message:m,operator:I.name,stackStartFn:I})}}function X(T,l,p,m){if(typeof l!="function"){if(b(l))return l.test(T);if(arguments.length===2)throw new o("expected",["Function","RegExp"],l);if(e(T)!=="object"||T===null){var R=new c({actual:T,expected:l,message:p,operator:"deepStrictEqual",stackStartFn:m});throw R.operator=m.name,R}var I=Object.keys(l);if(l instanceof Error)I.push("name","message");else if(I.length===0)throw new a("error",l,"may not be an empty object");return w===void 0&&E(),I.forEach(function(U){typeof T[U]=="string"&&b(l[U])&&l[U].test(T[U])||W(T,l,U,p,I,m)}),!0}return l.prototype!==void 0&&T instanceof l?!0:Error.isPrototypeOf(l)?!1:l.call({},T)===!0}function O(T){if(typeof T!="function")throw new o("fn","Function",T);try{T()}catch(l){return l}return B}function C(T){return g(T)||T!==null&&e(T)==="object"&&typeof T.then=="function"&&typeof T.catch=="function"}function N(T){return Promise.resolve().then(function(){var l;if(typeof T=="function"){if(l=T(),!C(l))throw new u("instance of Promise","promiseFn",l)}else if(C(T))l=T;else throw new o("promiseFn",["Function","Promise"],T);return Promise.resolve().then(function(){return l}).then(function(){return B}).catch(function(p){return p})})}function k(T,l,p,m){if(typeof p=="string"){if(arguments.length===4)throw new o("error",["Object","Error","Function","RegExp"],p);if(e(l)==="object"&&l!==null){if(l.message===p)throw new i("error/message",'The error message "'.concat(l.message,'" is identical to the message.'))}else if(l===p)throw new i("error/message",'The error "'.concat(l,'" is identical to the message.'));m=p,p=void 0}else if(p!=null&&e(p)!=="object"&&typeof p!="function")throw new o("error",["Object","Error","Function","RegExp"],p);if(l===B){var R="";p&&p.name&&(R+=" (".concat(p.name,")")),R+=m?": ".concat(m):".";var I=T.name==="rejects"?"rejection":"exception";$({actual:void 0,expected:p,operator:T.name,message:"Missing expected ".concat(I).concat(R),stackStartFn:T})}if(p&&!X(l,p,m,T))throw l}function q(T,l,p,m){if(l!==B){if(typeof p=="string"&&(m=p,p=void 0),!p||X(l,p)){var R=m?": ".concat(m):".",I=T.name==="doesNotReject"?"rejection":"exception";$({actual:l,expected:p,operator:T.name,message:"Got unwanted ".concat(I).concat(R,`
`)+'Actual message: "'.concat(l&&l.message,'"'),stackStartFn:T})}throw l}}_.throws=function T(l){for(var p=arguments.length,m=new Array(p>1?p-1:0),R=1;R<p;R++)m[R-1]=arguments[R];k.apply(void 0,[T,O(l)].concat(m))},_.rejects=function T(l){for(var p=arguments.length,m=new Array(p>1?p-1:0),R=1;R<p;R++)m[R-1]=arguments[R];return N(l).then(function(I){return k.apply(void 0,[T,I].concat(m))})},_.doesNotThrow=function T(l){for(var p=arguments.length,m=new Array(p>1?p-1:0),R=1;R<p;R++)m[R-1]=arguments[R];q.apply(void 0,[T,O(l)].concat(m))},_.doesNotReject=function T(l){for(var p=arguments.length,m=new Array(p>1?p-1:0),R=1;R<p;R++)m[R-1]=arguments[R];return N(l).then(function(I){return q.apply(void 0,[T,I].concat(m))})},_.ifError=function T(l){if(l!=null){var p="ifError got unwanted exception: ";e(l)==="object"&&typeof l.message=="string"?l.message.length===0&&l.constructor?p+=l.constructor.name:p+=l.message:p+=d(l);var m=new c({actual:l,expected:null,operator:"ifError",message:p,stackStartFn:T}),R=l.stack;if(typeof R=="string"){var I=R.split(`
`);I.shift();for(var U=m.stack.split(`
`),H=0;H<I.length;H++){var V=U.indexOf(I[H]);if(V!==-1){U=U.slice(0,V);break}}m.stack="".concat(U.join(`
`),`
`).concat(I.join(`
`))}throw m}};function Q(){for(var T=arguments.length,l=new Array(T),p=0;p<T;p++)l[p]=arguments[p];F.apply(void 0,[Q,l.length].concat(l))}return _.strict=h(Q,_,{equal:_.strictEqual,deepEqual:_.deepStrictEqual,notEqual:_.notStrictEqual,notDeepEqual:_.notDeepStrictEqual}),_.strict.strict=_.strict,Vn}var $l=mi();const Nl=xc($l),cu=12,Fl=200;class lu{static decodeArrayBuffer(t){var n=t.length/4*3,r=new ArrayBuffer(n);return this.decode(t,r),r}static removePaddingChars(t){return this._keyStr.indexOf(t.charAt(t.length-1))==64?t.substring(0,t.length-1):t}static decode(t,n){t=this.removePaddingChars(t),t=this.removePaddingChars(t);var r=Math.floor(t.length/4*3),i,o,a,u,s,c,f,d,y=0,g=0;for(i=n?new Uint8Array(n):new Uint8Array(r),t=t.replace(/[^A-Za-z0-9\+\/\=]/g,""),y=0;y<r;y+=3)s=this._keyStr.indexOf(t.charAt(g++)),c=this._keyStr.indexOf(t.charAt(g++)),f=this._keyStr.indexOf(t.charAt(g++)),d=this._keyStr.indexOf(t.charAt(g++)),o=s<<2|c>>4,a=(c&15)<<4|f>>2,u=(f&3)<<6|d,i[y]=o,f!=64&&(i[y+1]=a),d!=64&&(i[y+2]=u);return i}}ue(lu,"_keyStr","ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=");async function Ml(e,t,n){const r=await fetch(`https://api.github.com/repos/${e}/${t}/contents/${n}`,{headers:{"Content-Type":"application/vnd.github.raw"}});if(!r.ok)throw new Error(`Error fetching file:'${n}'
${await r.text()}`);return(await r.json()).content}class fu{get filename(){const t=this.location.split("/").at(-1);if(!t)throw new Error(`Unexpected sample location '${this.location}'`);return t}}class Re extends fu{constructor(n,r){super();ue(this,"label");ue(this,"location");this.location=n,this.label=r}async downloadDirtSample(){const i=await Ml("tidalcycles","Dirt-Samples",this.location),o=lu.decodeArrayBuffer(i);return new Blob([o],{type:"audio/wav"})}async ensureCached(){let n;n=await ke.instance.getSampleBlob(this.filename),n||(n=await this.downloadDirtSample(),ke.instance.addSample({filename:this.filename,data:n}))}}class Kl extends fu{constructor(n,r){super();ue(this,"label");ue(this,"location");this.location=n,this.label=r}async ensureCached(){let n;if(n=await ke.instance.getSampleBlob(this.filename),!n){const r=await fetch(this.location);if(!r.ok)throw new Error(`Error fetching file: '${this.filename}'
${await r.text()}`);n=await r.blob(),ke.instance.addSample({filename:this.filename,data:n})}}}class nr{}ue(nr,"samples",[new Kl("https://dobrian.github.io/cmp/topics/sample-recording-and-playback-with-web-audio-api/freejazz.wav","Freejazz"),new Re("moog/000_Mighty Moog C2.wav","Moog C2"),new Re("juno/03_juno_chorus_low.wav","Juno"),new Re("jazz/007_SN.wav","Snare"),new Re("bleep/pc_beep.wav","Beep"),new Re("bleep/checkpoint-hit.wav","Bleep"),new Re("808/CH.WAV","808CH"),new Re("808oh/OH00.WAV","808OH"),new Re("808bd/BD0010.WAV","808BD"),new Re("808bd/BD0025.WAV","808BD2"),new Re("808/CP.WAV","808CP"),new Re("808/RS.WAV","808RS"),new Re("juno/04_juno_chorus_mid.wav","Juno Mid"),new Re("birds/001_10.wav","Birdies")]);Nl(nr.samples.length>cu,"Not enough default samples");async function ql(){ke.init(),await Promise.all(nr.samples.map(async e=>{try{await e.ensureCached()}catch(t){console.error(t)}})),console.log("App Data Loaded")}class lt extends ns{constructor(n,r=Object.is){super();ue(this,"_value");ue(this,"_eq");this._value=n,this._eq=r}get value(){return this._value}set value(n){if(!this._eq(this._value,n)){const r=this._value;this._value=n,this.fire(n,r)}}}class Bt{static get instance(){if(!this._instance)throw new Error("AudioContext not initialized");return this._instance}static init(t){this._instance=new AudioContext,this.initialized.value=!0}}ue(Bt,"_instance"),ue(Bt,"initialized",new lt(!1));class Ll{constructor(t,n){ue(this,"audio");ue(this,"_splitter");ue(this,"_audioOut");ue(this,"_sampleHolder");ue(this,"_analyser");ue(this,"_playing",!1);this.audio=new AudioBufferSourceNode(t,n),this._splitter=new ChannelSplitterNode(t),this._analyser=new AnalyserNode(t),this._audioOut=new ChannelMergerNode(t),this._sampleHolder=new Float32Array(1),this.audio.addEventListener("ended",()=>{this._playing=!1})}get playbackPosition(){return this._analyser.getFloatTimeDomainData(this._sampleHolder),this._sampleHolder[0]}get playing(){return this._playing}loadBuffer(t){const n=Math.max(t.numberOfChannels,3),r=n-1;if(this.audio.buffer=new AudioBuffer({length:t.length,sampleRate:t.sampleRate,numberOfChannels:n}),t.numberOfChannels==1)this.audio.buffer.copyToChannel(t.getChannelData(0),0),this.audio.buffer.copyToChannel(t.getChannelData(0),1);else for(let o=0;o<t.numberOfChannels;o++)this.audio.buffer.copyToChannel(t.getChannelData(o),o);const i=this.audio.buffer.getChannelData(r);for(let o=0;o<t.length;o++)i[o]=o/t.length;this.audio.connect(this._splitter);for(let o=0;o<r;o++)this._splitter.connect(this._audioOut,o,o);this._splitter.connect(this._analyser,r)}get playbackRate(){return this.audio.playbackRate}start(...t){this._playing=!0,this.audio.start(...t)}stop(t){this.audio.stop(t)}connect(t,n){return this._audioOut.connect(t,n)}}function Rt(e){const[t,n]=vt(e.value),r=o=>{n(()=>o)};return Pu(()=>{e.attach(r)}),zn(()=>{e.detach(r)}),[t,o=>{e.value=o}]}function pu(){const[e]=Rt(Bt.initialized);return()=>e()?Bt.instance:null}class Ul{constructor(t="",n=""){ue(this,"src");ue(this,"label");ue(this,"audioContext",new lt(null));ue(this,"_buffer",new lt(new ArrayBuffer(0)));ue(this,"_audioBuffer");ue(this,"_playbackRate",new lt(1));ue(this,"_preservePitch",new lt(!1));ue(this,"onSrcUpdate",async t=>{if(!t)return;const n=await ke.instance.getSampleBlob(this.src.value);if(!n)throw new Error(`Sample '${this.src.value}' not found`);this._buffer.value=await n.arrayBuffer()});ue(this,"onBufferUpdate",async()=>{var t;try{this._audioBuffer=await((t=this.audioContext.value)==null?void 0:t.decodeAudioData(this._buffer.value))}catch(n){console.error(n)}});this.src=new lt(t),this.label=new lt(n),this.src.attach(this.onSrcUpdate),this._buffer.attach(this.onBufferUpdate)}get audioBuffer(){if(!this._audioBuffer)throw new Error("No Audio Buffer loaded");return this._audioBuffer}get loaded(){return!!this._audioBuffer}get playbackRate(){return this._playbackRate}get preservePitch(){return this._preservePitch}dispose(){this.src.detach(this.onSrcUpdate)}loadBuffer(){this.src.fire(this.src.value)}}const Vl=Te('<div class="grid"><div class="col"><h1>Help</h1><ul class="text-left"><li>Play sounds by hitting the pads</li><li>Edit sounds in the control panel</li><li>Load new sounds from the sample explorer</li><li>Upload your own sounds</li><li>Rename pads via the control panel</li></ul></div></div>'),Gl=Te('<div class="App"><h1>SoundBored</h1><div class="parameterPanel grid grid-nogutter"></div><div class="buttonGrid"></div></div>');function zl(){const e=ql(),t=pu();rn(()=>{const s=t();s&&n.forEach(async c=>{c.audioContext.value=s,await e,c.loadBuffer()})});const n=nr.samples.slice(0,cu).map(({filename:s,label:c})=>new Ul(s,c)),r=n.map(s=>()=>Ve(lf,{model:s})),[i,o]=vt(0),[a,u]=vt(!0);return[Ve(af,{get show(){return a()},onClose:()=>{Bt.initialized.value||Bt.init(),u(!1)},buttonText:"Ok",get children(){return Vl.cloneNode(!0)}}),(()=>{const s=Gl.cloneNode(!0),c=s.firstChild,f=c.nextSibling,d=f.nextSibling;return ye(f,Ve(Tf,{get selectedSampler(){return n[i()]}}),null),ye(f,Ve(ts,{get component(){return r[i()]}}),null),ye(d,()=>n.map((y,g)=>Ve(tf,{model:y,onClick:()=>{o(g)}}))),s})()]}var Uo=e=>typeof e=="function"&&!e.length?e():e,Vo=e=>Array.isArray(e)?e:[e],Wl=Object.entries,Hl=e=>Tu()?zn(e):e;function Yl(e,t,n,r){return e.addEventListener(t,n,r),Hl(e.removeEventListener.bind(e,t,n,r))}function Jl(e,t,n,r){const i=()=>{Vo(Uo(e)).forEach(o=>{o&&Vo(Uo(t)).forEach(a=>Yl(o,a,n,r))})};typeof e=="function"?rn(i):De(i)}var Xl=e=>Object.assign({},e);function Go(e,...t){const n=typeof t[0]=="string"?[t]:t,r=Xl(e);let i=[];for(let o=0;o<n.length;o++){const a=n[o];i.push({});for(const u of a)i[o][u]=r[u],delete r[u]}return[...i,r]}var Ql=e=>e.substring(2).toLowerCase(),Zl=e=>{const t={};return Object.entries(e).forEach(([n,r])=>t[Ql(n)]=r),t};function bi(e){const[{target:t=document.body,pointerTypes:n,passive:r=!0},i]=Go(e,"target","pointerTypes","passive"),[{gotcapture:o,lostcapture:a},u]=Go(Zl(i),"gotcapture","lostcapture"),s=f=>d=>(!n||n.includes(d.pointerType))&&f(d),c=(f,d)=>Jl(t,f,s(d),{passive:r});Wl(u).forEach(([f,d])=>d&&c(`pointer${f}`,d)),o&&c("gotpointercapture",o),a&&c("lostpointercapture",a)}const ef=Te('<div class="buttonPad"><canvas></canvas><button><div class="label"></div><div>&#9658;</div></button><button>&#9632;</button></div>'),tf=({model:e,onClick:t})=>{let n,r,i,o,a;const u=pu();e.audioContext.value=u();const[s]=Rt(e.playbackRate),[c]=Rt(e.label);rn(()=>{const g=s();i&&(i.audio.playbackRate.value=g)});function f(){const g=r.getContext("2d"),b=i.playbackPosition;g&&(g.clearRect(0,0,r.width,r.height),g.fillStyle="white",g.fillRect(0,0,r.width*b,r.height),i!=null&&i.playing?requestAnimationFrame(f):g.clearRect(0,0,r.width,r.height))}const d=()=>{!u()||!e.loaded||(i==null||i.stop(),i=new Ll(u(),{playbackRate:s()}),i.loadBuffer(e.audioBuffer),i.connect(u().destination),i.start(),f())},y=()=>{i&&e.loaded&&i.stop()};return bi({target:()=>o,pointerTypes:["touch","pen","mouse"],onDown:d}),bi({target:()=>a,pointerTypes:["touch","pen","mouse"],onDown:y}),(()=>{const g=ef.cloneNode(!0),b=g.firstChild,h=b.nextSibling,v=h.firstChild,w=h.nextSibling;Bn(g,"click",t,!0);const S=n;typeof S=="function"?Ze(S,g):n=g;const E=r;typeof E=="function"?Ze(E,b):r=b;const P=o;typeof P=="function"?Ze(P,h):o=h,ye(v,c);const _=a;return typeof _=="function"?Ze(_,w):a=w,g})()};an(["click"]);const nf=Te('<section class="modal"><div class="topbar flex flex-row-reverse"><button></button></div><div class="modal-content p-2"></div></section>'),rf=Te('<div class="modal-overlay"></div>'),of=Te("<button></button>"),af=e=>{let t,n;return[(()=>{const r=nf.cloneNode(!0),i=r.firstChild,o=i.firstChild,a=i.nextSibling,u=t;return typeof u=="function"?Ze(u,r):t=r,Bn(o,"click",e.onClose,!0),ye(a,()=>e.children),ye(r,(()=>{const s=tt(()=>!!e.buttonText);return()=>s()&&(()=>{const c=of.cloneNode(!0);return Bn(c,"click",e.onClose,!0),ye(c,()=>e.buttonText),c})()})(),null),De(()=>r.classList.toggle("hidden",!e.show)),r})(),(()=>{const r=rf.cloneNode(!0),i=n;return typeof i=="function"?Ze(i,r):n=r,De(()=>r.classList.toggle("hidden",!e.show)),r})()]};an(["click"]);function hu(e,t){let n=-1/0;bi({target:e,onUp:r=>{const i=performance.now();i-n<Fl?(t(r),n=-1/0):n=i}})}const uf=Te('<div class="col grid grid-nogutter"><div class="col-3"><label for="playbackRateControl">Playback speed</label><input id="playbackRateControl" type="range" min="0.01" step="0.01" max="2"></div><div class="col p-4"><div class="sampleDropZone"><div></div></div></div></div>'),sf=Te('<input type="text" maxlength="12" class="label">'),cf=Te('<div class="label"></div>'),lf=e=>{let t;const[n,r]=Rt(e.model.label),[i,o]=Rt(e.model.playbackRate),[a,u]=Rt(e.model.src),[s,c]=vt(!1);return hu(()=>t,()=>{o(1)}),(()=>{const f=uf.cloneNode(!0),d=f.firstChild,y=d.firstChild,g=y.nextSibling,b=d.nextSibling,h=b.firstChild,v=h.firstChild;ye(d,(()=>{const S=tt(()=>!!s());return()=>S()?(()=>{const E=sf.cloneNode(!0);return E.addEventListener("mouseleave",()=>c(!1)),E.$$input=P=>r(P.currentTarget.value),De(()=>E.value=n()),E})():(()=>{const E=cf.cloneNode(!0);return E.$$click=()=>c(!0),ye(E,n),E})()})(),y),g.$$input=S=>o(S.currentTarget.valueAsNumber);const w=t;return typeof w=="function"?Ze(w,g):t=g,g.style.setProperty("width","85%"),h.addEventListener("drop",S=>{if(S.preventDefault(),S.dataTransfer){const E=S.dataTransfer.getData("text/plain");u(E)}}),h.addEventListener("dragover",S=>{S.preventDefault(),S.dataTransfer&&(S.dataTransfer.dropEffect="link")}),v.style.setProperty("position","absolute"),v.style.setProperty("left","0.5em"),ye(v,a),De(()=>g.value=i()),f})()};an(["input","click"]);const wi=Symbol("store-raw"),nn=Symbol("store-node"),ff=Symbol("store-name");function du(e,t){let n=e[Ne];if(!n&&(Object.defineProperty(e,Ne,{value:n=new Proxy(e,df)}),!Array.isArray(e))){const r=Object.keys(e),i=Object.getOwnPropertyDescriptors(e);for(let o=0,a=r.length;o<a;o++){const u=r[o];i[u].get&&Object.defineProperty(e,u,{enumerable:i[u].enumerable,get:i[u].get.bind(n)})}}return n}function ot(e){let t;return e!=null&&typeof e=="object"&&(e[Ne]||!(t=Object.getPrototypeOf(e))||t===Object.prototype||Array.isArray(e))}function kt(e,t=new Set){let n,r,i,o;if(n=e!=null&&e[wi])return n;if(!ot(e)||t.has(e))return e;if(Array.isArray(e)){Object.isFrozen(e)?e=e.slice(0):t.add(e);for(let a=0,u=e.length;a<u;a++)i=e[a],(r=kt(i,t))!==i&&(e[a]=r)}else{Object.isFrozen(e)?e=Object.assign({},e):t.add(e);const a=Object.keys(e),u=Object.getOwnPropertyDescriptors(e);for(let s=0,c=a.length;s<c;s++)o=a[s],!u[o].get&&(i=e[o],(r=kt(i,t))!==i&&(e[o]=r))}return e}function Wi(e){let t=e[nn];return t||Object.defineProperty(e,nn,{value:t={}}),t}function _i(e,t,n){return e[t]||(e[t]=vu(n))}function pf(e,t){const n=Reflect.getOwnPropertyDescriptor(e,t);return!n||n.get||!n.configurable||t===Ne||t===nn||t===ff||(delete n.value,delete n.writable,n.get=()=>e[Ne][t]),n}function yu(e){if(Ho()){const t=Wi(e);(t._||(t._=vu()))()}}function hf(e){return yu(e),Reflect.ownKeys(e)}function vu(e){const[t,n]=vt(e,{equals:!1,internal:!0});return t.$=n,t}const df={get(e,t,n){if(t===wi)return e;if(t===Ne)return n;if(t===Kr)return yu(e),n;const r=Wi(e),i=r.hasOwnProperty(t);let o=i?r[t]():e[t];if(t===nn||t==="__proto__")return o;if(!i){const a=Object.getOwnPropertyDescriptor(e,t);Ho()&&(typeof o!="function"||e.hasOwnProperty(t))&&!(a&&a.get)&&(o=_i(r,t,o)())}return ot(o)?du(o):o},has(e,t){return t===wi||t===Ne||t===Kr||t===nn||t==="__proto__"?!0:(this.get(e,t,e),t in e)},set(){return!0},deleteProperty(){return!0},ownKeys:hf,getOwnPropertyDescriptor:pf};function Be(e,t,n,r=!1){if(!r&&e[t]===n)return;const i=e[t],o=e.length;n===void 0?delete e[t]:e[t]=n;let a=Wi(e),u;(u=_i(a,t,i))&&u.$(()=>n),Array.isArray(e)&&e.length!==o&&(u=_i(a,"length",o))&&u.$(e.length),(u=a._)&&u.$()}function gu(e,t){const n=Object.keys(t);for(let r=0;r<n.length;r+=1){const i=n[r];Be(e,i,t[i])}}function yf(e,t){if(typeof t=="function"&&(t=t(e)),t=kt(t),Array.isArray(t)){if(e===t)return;let n=0,r=t.length;for(;n<r;n++){const i=t[n];e[n]!==i&&Be(e,n,i)}Be(e,"length",r)}else gu(e,t)}function Gt(e,t,n=[]){let r,i=e;if(t.length>1){r=t.shift();const a=typeof r,u=Array.isArray(e);if(Array.isArray(r)){for(let s=0;s<r.length;s++)Gt(e,[r[s]].concat(t),n);return}else if(u&&a==="function"){for(let s=0;s<e.length;s++)r(e[s],s)&&Gt(e,[s].concat(t),n);return}else if(u&&a==="object"){const{from:s=0,to:c=e.length-1,by:f=1}=r;for(let d=s;d<=c;d+=f)Gt(e,[d].concat(t),n);return}else if(t.length>1){Gt(e[r],t,[r].concat(n));return}i=e[r],n=[r].concat(n)}let o=t[0];typeof o=="function"&&(o=o(i,n),o===i)||r===void 0&&o==null||(o=kt(o),r===void 0||ot(i)&&ot(o)&&!Array.isArray(o)?gu(i,o):Be(e,r,o))}function vf(...[e,t]){const n=kt(e||{}),r=Array.isArray(n),i=du(n);function o(...a){Eu(()=>{r&&a.length===1?yf(n,a[0]):Gt(n,a)})}return[i,o]}const Si=Symbol("store-root");function Pt(e,t,n,r,i){const o=t[n];if(e===o)return;if(!ot(e)||!ot(o)||i&&e[i]!==o[i]){if(e!==o){if(n===Si)return e;Be(t,n,e)}return}if(Array.isArray(e)){if(e.length&&o.length&&(!r||i&&e[0]&&e[0][i]!=null)){let s,c,f,d,y,g,b,h;for(f=0,d=Math.min(o.length,e.length);f<d&&(o[f]===e[f]||i&&o[f]&&e[f]&&o[f][i]===e[f][i]);f++)Pt(e[f],o,f,r,i);const v=new Array(e.length),w=new Map;for(d=o.length-1,y=e.length-1;d>=f&&y>=f&&(o[d]===e[y]||i&&o[f]&&e[f]&&o[d][i]===e[y][i]);d--,y--)v[y]=o[d];if(f>y||f>d){for(c=f;c<=y;c++)Be(o,c,e[c]);for(;c<e.length;c++)Be(o,c,v[c]),Pt(e[c],o,c,r,i);o.length>e.length&&Be(o,"length",e.length);return}for(b=new Array(y+1),c=y;c>=f;c--)g=e[c],h=i&&g?g[i]:g,s=w.get(h),b[c]=s===void 0?-1:s,w.set(h,c);for(s=f;s<=d;s++)g=o[s],h=i&&g?g[i]:g,c=w.get(h),c!==void 0&&c!==-1&&(v[c]=o[s],c=b[c],w.set(h,c));for(c=f;c<e.length;c++)c in v?(Be(o,c,v[c]),Pt(e[c],o,c,r,i)):Be(o,c,e[c])}else for(let s=0,c=e.length;s<c;s++)Pt(e[s],o,s,r,i);o.length>e.length&&Be(o,"length",e.length);return}const a=Object.keys(e);for(let s=0,c=a.length;s<c;s++)Pt(e[a[s]],o,a[s],r,i);const u=Object.keys(o);for(let s=0,c=u.length;s<c;s++)e[u[s]]===void 0&&Be(o,u[s],void 0)}function gf(e,t={}){const{merge:n,key:r="id"}=t,i=kt(e);return o=>{if(!ot(o)||!ot(i))return i;const a=Pt(i,{[Si]:o},Si,n,r);return a===void 0?o:a}}function mf(e){const[t,n]=vf([]);return rn(Ou(e,()=>{bf(ka(e),t,n)})),t}function bf(e,t,n,r={key:"id"}){const i=e.subscribe(o=>n(gf(o,r)));return zn(()=>"unsubscribe"in i?i.unsubscribe():i()),t}const wf=Te('<svg fill="currentColor" stroke-width="0" xmlns="http://www.w3.org/2000/svg"></svg>'),_f=Te("<title></title>");function mu(e,t){const n=Bu(e.a,t);return(()=>{const r=wf.cloneNode(!0);return ra(r,n,!0,!0),ye(r,()=>Qu,null),ye(r,(()=>{const i=tt(()=>!!t.title,!0);return()=>i()&&(()=>{const o=_f.cloneNode(!0);return ye(o,()=>t.title),o})()})(),null),De(i=>{const o=e.a.stroke,a={...t.style,overflow:"visible",color:t.color||"currentColor"},u=t.size||"1em",s=t.size||"1em",c=e.c;return o!==i._v$&&jt(r,"stroke",i._v$=o),i._v$2=na(r,a,i._v$2),u!==i._v$3&&jt(r,"height",i._v$3=u),s!==i._v$4&&jt(r,"width",i._v$4=s),c!==i._v$5&&(r.innerHTML=i._v$5=c),i},{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0,_v$5:void 0}),r})()}function Sf(e){return mu({a:{viewBox:"0 0 24 24"},c:'<path d="M20 5h-9.586L8.707 3.293A.997.997 0 008 3H4c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h16c1.103 0 2-.897 2-2V7c0-1.103-.897-2-2-2zm-4 9h-3v3h-2v-3H8v-2h3V9h2v3h3v2z"/>'},e)}function Af(e){return mu({a:{viewBox:"0 0 24 24"},c:'<path d="M6 7H5v13a2 2 0 002 2h10a2 2 0 002-2V7H6zm4 12H8v-9h2v9zm6 0h-2v-9h2v9zm.618-15L15 2H9L7.382 4H3v2h18V4z"/>'},e)}const Ef=Te('<div class="sampleExplorer col-3"><input id="fileExplorer" type="file" accept=".wav,.mp3,.aac,.ogg" hidden multiple><div class="sampleExplorer-header grid grid-nogutter"><div class="col-9">Samples</div><div class="col-3 flex align-items-center justify-content-center"></div></div><div class="sampleExplorer-list"></div></div>'),Of=Te("<div><div></div></div>"),Pf=Te('<div class="col-3 flex align-items-center justify-content-center"></div>'),Tf=e=>{const t=mf(()=>ke.instance.getAllSampleFileNames()),[n,r]=vt(null);return(()=>{const i=Ef.cloneNode(!0),o=i.firstChild,a=o.nextSibling,u=a.firstChild,s=u.nextSibling,c=a.nextSibling;return i.addEventListener("mouseleave",()=>r(null)),o.addEventListener("change",f=>{if(f.currentTarget.files)for(const d of f.currentTarget.files)ke.instance.addSampleFromFile(d)}),ye(s,Ve(Sf,{class:"icon",onClick:()=>{var f;return(f=document.getElementById("fileExplorer"))==null?void 0:f.click()}})),ye(c,Ve($u,{each:t,children:(f,d)=>{let y;return hu(()=>y,()=>{e.selectedSampler.src.value=f}),(()=>{const g=Of.cloneNode(!0),b=g.firstChild;g.$$mouseover=()=>r(d),g.addEventListener("dragstart",v=>{var w;return(w=v.dataTransfer)==null?void 0:w.setData("text/plain",v.target.textContent??"")});const h=y;return typeof h=="function"?Ze(h,g):y=g,jt(g,"draggable",!0),ye(b,f),ye(g,(()=>{const v=tt(()=>d()===n());return()=>v()&&(()=>{const w=Pf.cloneNode(!0);return ye(w,Ve(Af,{class:"icon",onClick:async()=>confirm(`Delete '${f}' from sample bank?`)&&ke.instance.deleteSampleByName(f)})),w})()})(),null),De(v=>{const w={"sampleExplorer-item grid grid-nogutter":!0,selected:d()===n()},S=d()===n()?"col-9":"col";return v._v$=ta(g,w,v._v$),S!==v._v$2&&ea(b,v._v$2=S),v},{_v$:void 0,_v$2:void 0}),g})()}})),i})()};an(["mouseover"]);Gu(()=>Ve(zl,{}),document.getElementById("root"));
