var _u=Object.defineProperty;var Su=(e,t,n)=>t in e?_u(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var ue=(e,t,n)=>(Su(e,typeof t!="symbol"?t+"":t,n),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerpolicy&&(o.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?o.credentials="include":i.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();const be={};function Au(e){be.context=e}const Eu=(e,t)=>e===t,Fe=Symbol("solid-proxy"),qr=Symbol("solid-track"),Rn={equals:Eu};let Yo=ea;const at=1,Cn=2,Jo={owned:null,cleanups:null,context:null,owner:null};var me=null;let ht=null,de=null,Ae=null,He=null,Ei=0;function wn(e,t){const n=de,r=me,i=e.length===0,o=i?Jo:{owned:null,cleanups:null,context:null,owner:t||r},a=i?e:()=>e(()=>ut(()=>Hn(o)));me=o,de=null;try{return Nt(a,!0)}finally{de=n,me=r}}function bt(e,t){t=t?Object.assign({},Rn,t):Rn;const n={value:e,observers:null,observerSlots:null,comparator:t.equals||void 0},r=i=>(typeof i=="function"&&(i=i(n.value)),Zo(n,i));return[Qo.bind(n),r]}function Be(e,t,n){const r=Oi(e,t,!1,at);un(r)}function kt(e,t,n){Yo=Ru;const r=Oi(e,t,!1,at);r.user=!0,He?He.push(r):un(r)}function tt(e,t,n){n=n?Object.assign({},Rn,n):Rn;const r=Oi(e,t,!0,0);return r.observers=null,r.observerSlots=null,r.comparator=n.equals||void 0,un(r),Qo.bind(r)}function Ou(e){return Nt(e,!1)}function ut(e){const t=de;de=null;try{return e()}finally{de=t}}function Pu(e,t,n){const r=Array.isArray(e);let i,o=n&&n.defer;return a=>{let u;if(r){u=Array(e.length);for(let c=0;c<e.length;c++)u[c]=e[c]()}else u=e();if(o){o=!1;return}const s=ut(()=>t(u,i,a));return i=u,s}}function Tu(e){kt(()=>ut(e))}function Wn(e){return me===null||(me.cleanups===null?me.cleanups=[e]:me.cleanups.push(e)),e}function Xo(){return de}function ju(){return me}function Qo(){const e=ht;if(this.sources&&(this.state||e))if(this.state===at||e)un(this);else{const t=Ae;Ae=null,Nt(()=>Bn(this),!1),Ae=t}if(de){const t=this.observers?this.observers.length:0;de.sources?(de.sources.push(this),de.sourceSlots.push(t)):(de.sources=[this],de.sourceSlots=[t]),this.observers?(this.observers.push(de),this.observerSlots.push(de.sources.length-1)):(this.observers=[de],this.observerSlots=[de.sources.length-1])}return this.value}function Zo(e,t,n){let r=e.value;return(!e.comparator||!e.comparator(r,t))&&(e.value=t,e.observers&&e.observers.length&&Nt(()=>{for(let i=0;i<e.observers.length;i+=1){const o=e.observers[i],a=ht&&ht.running;a&&ht.disposed.has(o),(a&&!o.tState||!a&&!o.state)&&(o.pure?Ae.push(o):He.push(o),o.observers&&ta(o)),a||(o.state=at)}if(Ae.length>1e6)throw Ae=[],new Error},!1)),t}function un(e){if(!e.fn)return;Hn(e);const t=me,n=de,r=Ei;de=me=e,xu(e,e.value,r),de=n,me=t}function xu(e,t,n){let r;try{r=e.fn(t)}catch(i){e.pure&&(e.state=at,e.owned&&e.owned.forEach(Hn),e.owned=null),na(i)}(!e.updatedAt||e.updatedAt<=n)&&(e.updatedAt!=null&&"observers"in e?Zo(e,r):e.value=r,e.updatedAt=n)}function Oi(e,t,n,r=at,i){const o={fn:e,state:r,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:t,owner:me,context:null,pure:n};return me===null||me!==Jo&&(me.owned?me.owned.push(o):me.owned=[o]),o}function Dn(e){const t=ht;if(e.state===0||t)return;if(e.state===Cn||t)return Bn(e);if(e.suspense&&ut(e.suspense.inFallback))return e.suspense.effects.push(e);const n=[e];for(;(e=e.owner)&&(!e.updatedAt||e.updatedAt<Ei);)(e.state||t)&&n.push(e);for(let r=n.length-1;r>=0;r--)if(e=n[r],e.state===at||t)un(e);else if(e.state===Cn||t){const i=Ae;Ae=null,Nt(()=>Bn(e,n[0]),!1),Ae=i}}function Nt(e,t){if(Ae)return e();let n=!1;t||(Ae=[]),He?n=!0:He=[],Ei++;try{const r=e();return Iu(n),r}catch(r){Ae||(He=null),na(r)}}function Iu(e){if(Ae&&(ea(Ae),Ae=null),e)return;const t=He;He=null,t.length&&Nt(()=>Yo(t),!1)}function ea(e){for(let t=0;t<e.length;t++)Dn(e[t])}function Ru(e){let t,n=0;for(t=0;t<e.length;t++){const r=e[t];r.user?e[n++]=r:Dn(r)}for(be.context&&Au(),t=0;t<n;t++)Dn(e[t])}function Bn(e,t){const n=ht;e.state=0;for(let r=0;r<e.sources.length;r+=1){const i=e.sources[r];i.sources&&(i.state===at||n?i!==t&&Dn(i):(i.state===Cn||n)&&Bn(i,t))}}function ta(e){const t=ht;for(let n=0;n<e.observers.length;n+=1){const r=e.observers[n];(!r.state||t)&&(r.state=Cn,r.pure?Ae.push(r):He.push(r),r.observers&&ta(r))}}function Hn(e){let t;if(e.sources)for(;e.sources.length;){const n=e.sources.pop(),r=e.sourceSlots.pop(),i=n.observers;if(i&&i.length){const o=i.pop(),a=n.observerSlots.pop();r<i.length&&(o.sourceSlots[a]=r,i[r]=o,n.observerSlots[r]=a)}}if(e.owned){for(t=0;t<e.owned.length;t++)Hn(e.owned[t]);e.owned=null}if(e.cleanups){for(t=0;t<e.cleanups.length;t++)e.cleanups[t]();e.cleanups=null}e.state=0,e.context=null}function Cu(e){return e instanceof Error||typeof e=="string"?e:new Error("Unknown error")}function na(e){throw e=Cu(e),e}const Du=Symbol("fallback");function Qi(e){for(let t=0;t<e.length;t++)e[t]()}function Bu(e,t,n={}){let r=[],i=[],o=[],a=0,u=t.length>1?[]:null;return Wn(()=>Qi(o)),()=>{let s=e()||[],c,f;return s[qr],ut(()=>{let y=s.length,w,m,h,v,g,S,E,j,_;if(y===0)a!==0&&(Qi(o),o=[],r=[],i=[],a=0,u&&(u=[])),n.fallback&&(r=[Du],i[0]=wn(B=>(o[0]=B,n.fallback())),a=1);else if(a===0){for(i=new Array(y),f=0;f<y;f++)r[f]=s[f],i[f]=wn(d);a=y}else{for(h=new Array(y),v=new Array(y),u&&(g=new Array(y)),S=0,E=Math.min(a,y);S<E&&r[S]===s[S];S++);for(E=a-1,j=y-1;E>=S&&j>=S&&r[E]===s[j];E--,j--)h[j]=i[E],v[j]=o[E],u&&(g[j]=u[E]);for(w=new Map,m=new Array(j+1),f=j;f>=S;f--)_=s[f],c=w.get(_),m[f]=c===void 0?-1:c,w.set(_,f);for(c=S;c<=E;c++)_=r[c],f=w.get(_),f!==void 0&&f!==-1?(h[f]=i[c],v[f]=o[c],u&&(g[f]=u[c]),f=m[f],w.set(_,f)):o[c]();for(f=S;f<y;f++)f in h?(i[f]=h[f],o[f]=v[f],u&&(u[f]=g[f],u[f](f))):i[f]=wn(d);i=i.slice(0,a=y),r=s.slice(0)}return i});function d(y){if(o[f]=y,u){const[w,m]=bt(f);return u[f]=m,t(s[f],w)}return t(s[f])}}}function we(e,t){return ut(()=>e(t||{}))}function dn(){return!0}const Lr={get(e,t,n){return t===Fe?n:e.get(t)},has(e,t){return t===Fe?!0:e.has(t)},set:dn,deleteProperty:dn,getOwnPropertyDescriptor(e,t){return{configurable:!0,enumerable:!0,get(){return e.get(t)},set:dn,deleteProperty:dn}},ownKeys(e){return e.keys()}};function ir(e){return(e=typeof e=="function"?e():e)?e:{}}function $u(...e){let t=!1;for(let r=0;r<e.length;r++){const i=e[r];t=t||!!i&&Fe in i,e[r]=typeof i=="function"?(t=!0,tt(i)):i}if(t)return new Proxy({get(r){for(let i=e.length-1;i>=0;i--){const o=ir(e[i])[r];if(o!==void 0)return o}},has(r){for(let i=e.length-1;i>=0;i--)if(r in ir(e[i]))return!0;return!1},keys(){const r=[];for(let i=0;i<e.length;i++)r.push(...Object.keys(ir(e[i])));return[...new Set(r)]}},Lr);const n={};for(let r=e.length-1;r>=0;r--)if(e[r]){const i=Object.getOwnPropertyDescriptors(e[r]);for(const o in i)o in n||Object.defineProperty(n,o,{enumerable:!0,get(){for(let a=e.length-1;a>=0;a--){const u=(e[a]||{})[o];if(u!==void 0)return u}}})}return n}function ku(e,...t){const n=new Set(t.flat());if(Fe in e){const i=t.map(o=>new Proxy({get(a){return o.includes(a)?e[a]:void 0},has(a){return o.includes(a)&&a in e},keys(){return o.filter(a=>a in e)}},Lr));return i.push(new Proxy({get(o){return n.has(o)?void 0:e[o]},has(o){return n.has(o)?!1:o in e},keys(){return Object.keys(e).filter(o=>!n.has(o))}},Lr)),i}const r=Object.getOwnPropertyDescriptors(e);return t.push(Object.keys(r).filter(i=>!n.has(i))),t.map(i=>{const o={};for(let a=0;a<i.length;a++){const u=i[a];u in e&&Object.defineProperty(o,u,r[u]?r[u]:{get(){return e[u]},set(){return!0},enumerable:!0})}return o})}function Nu(e){const t="fallback"in e&&{fallback:()=>e.fallback};return tt(Bu(()=>e.each,e.children,t||void 0))}const Fu=["allowfullscreen","async","autofocus","autoplay","checked","controls","default","disabled","formnovalidate","hidden","indeterminate","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","seamless","selected"],Mu=new Set(["className","value","readOnly","formNoValidate","isMap","noModule","playsInline",...Fu]),Ku=new Set(["innerHTML","textContent","innerText","children"]),qu=Object.assign(Object.create(null),{className:"class",htmlFor:"for"}),Zi=Object.assign(Object.create(null),{class:"className",formnovalidate:"formNoValidate",ismap:"isMap",nomodule:"noModule",playsinline:"playsInline",readonly:"readOnly"}),Lu=new Set(["beforeinput","click","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"]),Uu=new Set(["altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignObject","g","glyph","glyphRef","hkern","image","line","linearGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","set","stop","svg","switch","symbol","text","textPath","tref","tspan","use","view","vkern"]),Vu={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"};function zu(e,t,n){let r=n.length,i=t.length,o=r,a=0,u=0,s=t[i-1].nextSibling,c=null;for(;a<i||u<o;){if(t[a]===n[u]){a++,u++;continue}for(;t[i-1]===n[o-1];)i--,o--;if(i===a){const f=o<r?u?n[u-1].nextSibling:n[o-u]:s;for(;u<o;)e.insertBefore(n[u++],f)}else if(o===u)for(;a<i;)(!c||!c.has(t[a]))&&t[a].remove(),a++;else if(t[a]===n[o-1]&&n[u]===t[i-1]){const f=t[--i].nextSibling;e.insertBefore(n[u++],t[a++].nextSibling),e.insertBefore(n[--o],f),t[i]=n[o]}else{if(!c){c=new Map;let d=u;for(;d<o;)c.set(n[d],d++)}const f=c.get(t[a]);if(f!=null)if(u<f&&f<o){let d=a,y=1,w;for(;++d<i&&d<o&&!((w=c.get(t[d]))==null||w!==f+y);)y++;if(y>f-u){const m=t[a];for(;u<f;)e.insertBefore(n[u++],m)}else e.replaceChild(n[u++],t[a++])}else a++;else t[a++].remove()}}}const eo="_$DX_DELEGATE";function Gu(e,t,n,r={}){let i;return wn(o=>{i=o,t===document?e():ce(t,e(),t.firstChild?null:void 0,n)},r.owner),()=>{i(),t.textContent=""}}function ge(e,t,n){const r=document.createElement("template");r.innerHTML=e;let i=r.content.firstChild;return n&&(i=i.firstChild),i}function Ft(e,t=window.document){const n=t[eo]||(t[eo]=new Set);for(let r=0,i=e.length;r<i;r++){const o=e[r];n.has(o)||(n.add(o),t.addEventListener(o,Xu))}}function xt(e,t,n){n==null?e.removeAttribute(t):e.setAttribute(t,n)}function Wu(e,t,n,r){r==null?e.removeAttributeNS(t,n):e.setAttributeNS(t,n,r)}function ra(e,t){t==null?e.removeAttribute("class"):e.className=t}function $n(e,t,n,r){if(r)Array.isArray(n)?(e[`$$${t}`]=n[0],e[`$$${t}Data`]=n[1]):e[`$$${t}`]=n;else if(Array.isArray(n)){const i=n[0];e.addEventListener(t,n[0]=o=>i.call(e,n[1],o))}else e.addEventListener(t,n)}function ia(e,t,n={}){const r=Object.keys(t||{}),i=Object.keys(n);let o,a;for(o=0,a=i.length;o<a;o++){const u=i[o];!u||u==="undefined"||t[u]||(to(e,u,!1),delete n[u])}for(o=0,a=r.length;o<a;o++){const u=r[o],s=!!t[u];!u||u==="undefined"||n[u]===s||!s||(to(e,u,!0),n[u]=s)}return n}function oa(e,t,n){if(!t)return n?xt(e,"style"):t;const r=e.style;if(typeof t=="string")return r.cssText=t;typeof n=="string"&&(r.cssText=n=void 0),n||(n={}),t||(t={});let i,o;for(o in n)t[o]==null&&r.removeProperty(o),delete n[o];for(o in t)i=t[o],i!==n[o]&&(r.setProperty(o,i),n[o]=i);return n}function aa(e,t={},n,r){const i={};return r||Be(()=>i.children=Rt(e,t.children,i.children)),Be(()=>t.ref&&t.ref(e)),Be(()=>Hu(e,t,n,!0,i,!0)),i}function Ge(e,t,n){return ut(()=>e(t,n))}function ce(e,t,n,r){if(n!==void 0&&!r&&(r=[]),typeof t!="function")return Rt(e,t,r,n);Be(i=>Rt(e,t(),i,n),r)}function Hu(e,t,n,r,i={},o=!1){t||(t={});for(const a in i)if(!(a in t)){if(a==="children")continue;i[a]=no(e,a,null,i[a],n,o)}for(const a in t){if(a==="children"){r||Rt(e,t.children);continue}const u=t[a];i[a]=no(e,a,u,i[a],n,o)}}function Yu(e){let t,n;return!be.context||!(t=be.registry.get(n=Qu()))?e.cloneNode(!0):(be.completed&&be.completed.add(t),be.registry.delete(n),t)}function Ju(e){return e.toLowerCase().replace(/-([a-z])/g,(t,n)=>n.toUpperCase())}function to(e,t,n){const r=t.trim().split(/\s+/);for(let i=0,o=r.length;i<o;i++)e.classList.toggle(r[i],n)}function no(e,t,n,r,i,o){let a,u,s;if(t==="style")return oa(e,n,r);if(t==="classList")return ia(e,n,r);if(n===r)return r;if(t==="ref")o||n(e);else if(t.slice(0,3)==="on:"){const c=t.slice(3);r&&e.removeEventListener(c,r),n&&e.addEventListener(c,n)}else if(t.slice(0,10)==="oncapture:"){const c=t.slice(10);r&&e.removeEventListener(c,r,!0),n&&e.addEventListener(c,n,!0)}else if(t.slice(0,2)==="on"){const c=t.slice(2).toLowerCase(),f=Lu.has(c);if(!f&&r){const d=Array.isArray(r)?r[0]:r;e.removeEventListener(c,d)}(f||n)&&($n(e,c,n,f),f&&Ft([c]))}else if((s=Ku.has(t))||!i&&(Zi[t]||(u=Mu.has(t)))||(a=e.nodeName.includes("-")))t==="class"||t==="className"?ra(e,n):a&&!u&&!s?e[Ju(t)]=n:e[Zi[t]||t]=n;else{const c=i&&t.indexOf(":")>-1&&Vu[t.split(":")[0]];c?Wu(e,c,t,n):xt(e,qu[t]||t,n)}return n}function Xu(e){const t=`$$${e.type}`;let n=e.composedPath&&e.composedPath()[0]||e.target;for(e.target!==n&&Object.defineProperty(e,"target",{configurable:!0,value:n}),Object.defineProperty(e,"currentTarget",{configurable:!0,get(){return n||document}}),be.registry&&!be.done&&(be.done=!0,document.querySelectorAll("[id^=pl-]").forEach(r=>{for(;r&&r.nodeType!==8&&r.nodeValue!=="pl-"+e;){let i=r.nextSibling;r.remove(),r=i}r&&r.remove()}));n;){const r=n[t];if(r&&!n.disabled){const i=n[`${t}Data`];if(i!==void 0?r.call(n,i,e):r.call(n,e),e.cancelBubble)return}n=n._$host||n.parentNode||n.host}}function Rt(e,t,n,r,i){for(be.context&&!n&&(n=[...e.childNodes]);typeof n=="function";)n=n();if(t===n)return n;const o=typeof t,a=r!==void 0;if(e=a&&n[0]&&n[0].parentNode||e,o==="string"||o==="number"){if(be.context)return n;if(o==="number"&&(t=t.toString()),a){let u=n[0];u&&u.nodeType===3?u.data=t:u=document.createTextNode(t),n=At(e,n,r,u)}else n!==""&&typeof n=="string"?n=e.firstChild.data=t:n=e.textContent=t}else if(t==null||o==="boolean"){if(be.context)return n;n=At(e,n,r)}else{if(o==="function")return Be(()=>{let u=t();for(;typeof u=="function";)u=u();n=Rt(e,u,n,r)}),()=>n;if(Array.isArray(t)){const u=[],s=n&&Array.isArray(n);if(Ur(u,t,n,i))return Be(()=>n=Rt(e,u,n,r,!0)),()=>n;if(be.context){if(!u.length)return n;for(let c=0;c<u.length;c++)if(u[c].parentNode)return n=u}if(u.length===0){if(n=At(e,n,r),a)return n}else s?n.length===0?ro(e,u,r):zu(e,n,u):(n&&At(e),ro(e,u));n=u}else if(t instanceof Node){if(be.context&&t.parentNode)return n=a?[t]:t;if(Array.isArray(n)){if(a)return n=At(e,n,r,t);At(e,n,null,t)}else n==null||n===""||!e.firstChild?e.appendChild(t):e.replaceChild(t,e.firstChild);n=t}}return n}function Ur(e,t,n,r){let i=!1;for(let o=0,a=t.length;o<a;o++){let u=t[o],s=n&&n[o];if(u instanceof Node)e.push(u);else if(!(u==null||u===!0||u===!1))if(Array.isArray(u))i=Ur(e,u,s)||i;else if(typeof u=="function")if(r){for(;typeof u=="function";)u=u();i=Ur(e,Array.isArray(u)?u:[u],Array.isArray(s)?s:[s])||i}else e.push(u),i=!0;else{const c=String(u);s&&s.nodeType===3&&s.data===c?e.push(s):e.push(document.createTextNode(c))}}return i}function ro(e,t,n=null){for(let r=0,i=t.length;r<i;r++)e.insertBefore(t[r],n)}function At(e,t,n,r){if(n===void 0)return e.textContent="";const i=r||document.createTextNode("");if(t.length){let o=!1;for(let a=t.length-1;a>=0;a--){const u=t[a];if(i!==u){const s=u.parentNode===e;!o&&!a?s?e.replaceChild(i,u):e.insertBefore(i,n):s&&u.remove()}else o=!0}}else e.insertBefore(i,n);return[i]}function Qu(){const e=be.context;return`${e.id}${e.count++}`}const Zu=!1,es="http://www.w3.org/2000/svg";function ts(e,t=!1){return t?document.createElementNS(es,e):document.createElement(e)}function ns(e){const[t,n]=ku(e,["component"]),r=tt(()=>t.component);return tt(()=>{const i=r();switch(typeof i){case"function":return ut(()=>i(n));case"string":const o=Uu.has(i),a=be.context?Yu():ts(i,o);return aa(a,n,o),a}})}const rs=ge('<svg fill="currentColor" stroke-width="0" xmlns="http://www.w3.org/2000/svg"></svg>'),is=ge("<title></title>");function Mt(e,t){const n=$u(e.a,t);return(()=>{const r=rs.cloneNode(!0);return aa(r,n,!0,!0),ce(r,()=>Zu,null),ce(r,(()=>{const i=tt(()=>!!t.title,!0);return()=>i()&&(()=>{const o=is.cloneNode(!0);return ce(o,()=>t.title),o})()})(),null),Be(i=>{const o=e.a.stroke,a={...t.style,overflow:"visible",color:t.color||"currentColor"},u=t.size||"1em",s=t.size||"1em",c=e.c;return o!==i._v$&&xt(r,"stroke",i._v$=o),i._v$2=oa(r,a,i._v$2),u!==i._v$3&&xt(r,"height",i._v$3=u),s!==i._v$4&&xt(r,"width",i._v$4=s),c!==i._v$5&&(r.innerHTML=i._v$5=c),i},{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0,_v$5:void 0}),r})()}function os(e){return Mt({a:{viewBox:"0 0 24 24"},c:'<path fill-rule="evenodd" d="M12.026 2c-5.509 0-9.974 4.465-9.974 9.974 0 4.406 2.857 8.145 6.821 9.465.499.09.679-.217.679-.481 0-.237-.008-.865-.011-1.696-2.775.602-3.361-1.338-3.361-1.338-.452-1.152-1.107-1.459-1.107-1.459-.905-.619.069-.605.069-.605 1.002.07 1.527 1.028 1.527 1.028.89 1.524 2.336 1.084 2.902.829.091-.645.351-1.085.635-1.334-2.214-.251-4.542-1.107-4.542-4.93 0-1.087.389-1.979 1.024-2.675-.101-.253-.446-1.268.099-2.64 0 0 .837-.269 2.742 1.021a9.582 9.582 0 012.496-.336 9.554 9.554 0 012.496.336c1.906-1.291 2.742-1.021 2.742-1.021.545 1.372.203 2.387.099 2.64.64.696 1.024 1.587 1.024 2.675 0 3.833-2.33 4.675-4.552 4.922.355.308.675.916.675 1.846 0 1.334-.012 2.41-.012 2.737 0 .267.178.577.687.479C19.146 20.115 22 16.379 22 11.974 22 6.465 17.535 2 12.026 2z" clip-rule="evenodd"/>'},e)}function as(e){return Mt({a:{viewBox:"0 0 24 24"},c:'<path d="M13 19v-4h3l-4-5-4 5h3v4z"/><path d="M7 19h2v-2H7c-1.654 0-3-1.346-3-3 0-1.404 1.199-2.756 2.673-3.015l.581-.102.192-.558C8.149 8.274 9.895 7 12 7c2.757 0 5 2.243 5 5v1h1c1.103 0 2 .897 2 2s-.897 2-2 2h-3v2h3c2.206 0 4-1.794 4-4a4.01 4.01 0 00-3.056-3.888C18.507 7.67 15.56 5 12 5 9.244 5 6.85 6.611 5.757 9.15 3.609 9.792 2 11.82 2 14c0 2.757 2.243 5 5 5z"/>'},e)}function us(e){return Mt({a:{viewBox:"0 0 24 24"},c:'<path d="M12 6a3.939 3.939 0 00-3.934 3.934h2C10.066 8.867 10.934 8 12 8s1.934.867 1.934 1.934c0 .598-.481 1.032-1.216 1.626a9.208 9.208 0 00-.691.599c-.998.997-1.027 2.056-1.027 2.174V15h2l-.001-.633c.001-.016.033-.386.441-.793.15-.15.339-.3.535-.458.779-.631 1.958-1.584 1.958-3.182A3.937 3.937 0 0012 6zm-1 10h2v2h-2z"/><path d="M12 2C6.486 2 2 6.486 2 12s4.486 10 10 10 10-4.486 10-10S17.514 2 12 2zm0 18c-4.411 0-8-3.589-8-8s3.589-8 8-8 8 3.589 8 8-3.589 8-8 8z"/>'},e)}function ss(e){return Mt({a:{viewBox:"0 0 24 24"},c:'<path d="M7 6v12l10-6z"/>'},e)}function cs(e){return Mt({a:{viewBox:"0 0 24 24"},c:'<path d="M7 7h10v10H7z"/>'},e)}function ls(e){return Mt({a:{viewBox:"0 0 24 24"},c:'<path d="M6 7H5v13a2 2 0 002 2h10a2 2 0 002-2V7H6zm4 12H8v-9h2v9zm6 0h-2v-9h2v9zm.618-15L15 2H9L7.382 4H3v2h18V4z"/>'},e)}class fs{constructor(){ue(this,"_bindings",[])}attach(...t){this._bindings.push(...t)}detach(...t){this._bindings=this._bindings.filter(n=>!t.includes(n))}fire(t,n){this._bindings.forEach(r=>{r(t,n)})}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.
Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.
THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var oe=function(){return oe=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},oe.apply(this,arguments)};function Vr(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}var le=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,ye=Object.keys,Se=Array.isArray;typeof Promise<"u"&&!le.Promise&&(le.Promise=Promise);function Te(e,t){return typeof t!="object"||ye(t).forEach(function(n){e[n]=t[n]}),e}var Qt=Object.getPrototypeOf,ps={}.hasOwnProperty;function $e(e,t){return ps.call(e,t)}function Ct(e,t){typeof t=="function"&&(t=t(Qt(e))),(typeof Reflect>"u"?ye:Reflect.ownKeys)(t).forEach(function(n){Je(e,n,t[n])})}var ua=Object.defineProperty;function Je(e,t,n,r){ua(e,t,Te(n&&$e(n,"get")&&typeof n.get=="function"?{get:n.get,set:n.set,configurable:!0}:{value:n,configurable:!0,writable:!0},r))}function Kt(e){return{from:function(t){return e.prototype=Object.create(t.prototype),Je(e.prototype,"constructor",e),{extend:Ct.bind(null,e.prototype)}}}}var hs=Object.getOwnPropertyDescriptor;function Pi(e,t){var n=hs(e,t),r;return n||(r=Qt(e))&&Pi(r,t)}var ds=[].slice;function Yn(e,t,n){return ds.call(e,t,n)}function sa(e,t){return t(e)}function Gt(e){if(!e)throw new Error("Assertion Failed")}function ca(e){le.setImmediate?setImmediate(e):setTimeout(e,0)}function la(e,t){return e.reduce(function(n,r,i){var o=t(r,i);return o&&(n[o[0]]=o[1]),n},{})}function ys(e,t,n){try{e.apply(null,n)}catch(r){t&&t(r)}}function Ye(e,t){if($e(e,t))return e[t];if(!t)return e;if(typeof t!="string"){for(var n=[],r=0,i=t.length;r<i;++r){var o=Ye(e,t[r]);n.push(o)}return n}var a=t.indexOf(".");if(a!==-1){var u=e[t.substr(0,a)];return u===void 0?void 0:Ye(u,t.substr(a+1))}}function Ne(e,t,n){if(!(!e||t===void 0)&&!("isFrozen"in Object&&Object.isFrozen(e)))if(typeof t!="string"&&"length"in t){Gt(typeof n!="string"&&"length"in n);for(var r=0,i=t.length;r<i;++r)Ne(e,t[r],n[r])}else{var o=t.indexOf(".");if(o!==-1){var a=t.substr(0,o),u=t.substr(o+1);if(u==="")n===void 0?Se(e)&&!isNaN(parseInt(a))?e.splice(a,1):delete e[a]:e[a]=n;else{var s=e[a];(!s||!$e(e,a))&&(s=e[a]={}),Ne(s,u,n)}}else n===void 0?Se(e)&&!isNaN(parseInt(t))?e.splice(t,1):delete e[t]:e[t]=n}}function vs(e,t){typeof t=="string"?Ne(e,t,void 0):"length"in t&&[].map.call(t,function(n){Ne(e,n,void 0)})}function fa(e){var t={};for(var n in e)$e(e,n)&&(t[n]=e[n]);return t}var gs=[].concat;function pa(e){return gs.apply([],e)}var ha="Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(pa([8,16,32,64].map(function(e){return["Int","Uint","Float"].map(function(t){return t+e+"Array"})}))).filter(function(e){return le[e]}),ms=ha.map(function(e){return le[e]});la(ha,function(e){return[e,!0]});var Ze=null;function sn(e){Ze=typeof WeakMap<"u"&&new WeakMap;var t=zr(e);return Ze=null,t}function zr(e){if(!e||typeof e!="object")return e;var t=Ze&&Ze.get(e);if(t)return t;if(Se(e)){t=[],Ze&&Ze.set(e,t);for(var n=0,r=e.length;n<r;++n)t.push(zr(e[n]))}else if(ms.indexOf(e.constructor)>=0)t=e;else{var i=Qt(e);t=i===Object.prototype?{}:Object.create(i),Ze&&Ze.set(e,t);for(var o in e)$e(e,o)&&(t[o]=zr(e[o]))}return t}var bs={}.toString;function Gr(e){return bs.call(e).slice(8,-1)}var Wr=typeof Symbol<"u"?Symbol.iterator:"@@iterator",ws=typeof Wr=="symbol"?function(e){var t;return e!=null&&(t=e[Wr])&&t.apply(e)}:function(){return null},Pt={};function ze(e){var t,n,r,i;if(arguments.length===1){if(Se(e))return e.slice();if(this===Pt&&typeof e=="string")return[e];if(i=ws(e)){for(n=[];r=i.next(),!r.done;)n.push(r.value);return n}if(e==null)return[e];if(t=e.length,typeof t=="number"){for(n=new Array(t);t--;)n[t]=e[t];return n}return[e]}for(t=arguments.length,n=new Array(t);t--;)n[t]=arguments[t];return n}var Ti=typeof Symbol<"u"?function(e){return e[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},Ke=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function da(e,t){Ke=e,ya=t}var ya=function(){return!0},_s=!new Error("").stack;function wt(){if(_s)try{throw wt.arguments,new Error}catch(e){return e}return new Error}function Hr(e,t){var n=e.stack;return n?(t=t||0,n.indexOf(e.name)===0&&(t+=(e.name+e.message).split(`
`).length),n.split(`
`).slice(t).filter(ya).map(function(r){return`
`+r}).join("")):""}var Ss=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"],va=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],ji=Ss.concat(va),As={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function qt(e,t){this._e=wt(),this.name=e,this.message=t}Kt(qt).from(Error).extend({stack:{get:function(){return this._stack||(this._stack=this.name+": "+this.message+Hr(this._e,2))}},toString:function(){return this.name+": "+this.message}});function ga(e,t){return e+". Errors: "+Object.keys(t).map(function(n){return t[n].toString()}).filter(function(n,r,i){return i.indexOf(n)===r}).join(`
`)}function kn(e,t,n,r){this._e=wt(),this.failures=t,this.failedKeys=r,this.successCount=n,this.message=ga(e,t)}Kt(kn).from(qt);function Yt(e,t){this._e=wt(),this.name="BulkError",this.failures=Object.keys(t).map(function(n){return t[n]}),this.failuresByPos=t,this.message=ga(e,t)}Kt(Yt).from(qt);var xi=ji.reduce(function(e,t){return e[t]=t+"Error",e},{}),Es=qt,ee=ji.reduce(function(e,t){var n=t+"Error";function r(i,o){this._e=wt(),this.name=n,i?typeof i=="string"?(this.message=""+i+(o?`
 `+o:""),this.inner=o||null):typeof i=="object"&&(this.message=i.name+" "+i.message,this.inner=i):(this.message=As[t]||n,this.inner=null)}return Kt(r).from(Es),e[t]=r,e},{});ee.Syntax=SyntaxError;ee.Type=TypeError;ee.Range=RangeError;var io=va.reduce(function(e,t){return e[t+"Error"]=ee[t],e},{});function Os(e,t){if(!e||e instanceof qt||e instanceof TypeError||e instanceof SyntaxError||!e.name||!io[e.name])return e;var n=new io[e.name](t||e.message,e);return"stack"in e&&Je(n,"stack",{get:function(){return this.inner.stack}}),n}var Jn=ji.reduce(function(e,t){return["Syntax","Type","Range"].indexOf(t)===-1&&(e[t+"Error"]=ee[t]),e},{});Jn.ModifyError=kn;Jn.DexieError=qt;Jn.BulkError=Yt;function se(){}function cn(e){return e}function Ps(e,t){return e==null||e===cn?t:function(n){return t(e(n))}}function gt(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function Ts(e,t){return e===se?t:function(){var n=e.apply(this,arguments);n!==void 0&&(arguments[0]=n);var r=this.onsuccess,i=this.onerror;this.onsuccess=null,this.onerror=null;var o=t.apply(this,arguments);return r&&(this.onsuccess=this.onsuccess?gt(r,this.onsuccess):r),i&&(this.onerror=this.onerror?gt(i,this.onerror):i),o!==void 0?o:n}}function js(e,t){return e===se?t:function(){e.apply(this,arguments);var n=this.onsuccess,r=this.onerror;this.onsuccess=this.onerror=null,t.apply(this,arguments),n&&(this.onsuccess=this.onsuccess?gt(n,this.onsuccess):n),r&&(this.onerror=this.onerror?gt(r,this.onerror):r)}}function xs(e,t){return e===se?t:function(n){var r=e.apply(this,arguments);Te(n,r);var i=this.onsuccess,o=this.onerror;this.onsuccess=null,this.onerror=null;var a=t.apply(this,arguments);return i&&(this.onsuccess=this.onsuccess?gt(i,this.onsuccess):i),o&&(this.onerror=this.onerror?gt(o,this.onerror):o),r===void 0?a===void 0?void 0:a:Te(r,a)}}function Is(e,t){return e===se?t:function(){return t.apply(this,arguments)===!1?!1:e.apply(this,arguments)}}function Ii(e,t){return e===se?t:function(){var n=e.apply(this,arguments);if(n&&typeof n.then=="function"){for(var r=this,i=arguments.length,o=new Array(i);i--;)o[i]=arguments[i];return n.then(function(){return t.apply(r,o)})}return t.apply(this,arguments)}}var Zt={},Rs=100,Cs=20,ma=100,Ri=typeof Promise>"u"?[]:function(){var e=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[e,Qt(e),e];var t=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[t,Qt(t),e]}(),Yr=Ri[0],Nn=Ri[1],Jr=Ri[2],ba=Nn&&Nn.then,_n=Yr&&Yr.constructor,Ci=!!Jr,Xr=!1,Ds=Jr?function(){Jr.then(yn)}:le.setImmediate?setImmediate.bind(null,yn):le.MutationObserver?function(){var e=document.createElement("div");new MutationObserver(function(){yn(),e=null}).observe(e,{attributes:!0}),e.setAttribute("i","1")}:function(){setTimeout(yn,0)},en=function(e,t){Wt.push([e,t]),Fn&&(Ds(),Fn=!1)},Qr=!0,Fn=!0,dt=[],Sn=[],Zr=null,ei=cn,It={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:uo,pgp:!1,env:{},finalize:function(){this.unhandleds.forEach(function(e){try{uo(e[0],e[1])}catch{}})}},Z=It,Wt=[],yt=0,An=[];function L(e){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this.onuncatched=se,this._lib=!1;var t=this._PSD=Z;if(Ke&&(this._stackHolder=wt(),this._prev=null,this._numPrev=0),typeof e!="function"){if(e!==Zt)throw new TypeError("Not a function");this._state=arguments[1],this._value=arguments[2],this._state===!1&&ni(this,this._value);return}this._state=null,this._value=null,++t.ref,_a(this,e)}var ti={get:function(){var e=Z,t=Mn;function n(r,i){var o=this,a=!e.global&&(e!==Z||t!==Mn),u=a&&!Xe(),s=new L(function(c,f){Di(o,new wa(qn(r,e,a,u),qn(i,e,a,u),c,f,e))});return Ke&&Ea(s,this),s}return n.prototype=Zt,n},set:function(e){Je(this,"then",e&&e.prototype===Zt?ti:{get:function(){return e},set:ti.set})}};Ct(L.prototype,{then:ti,_then:function(e,t){Di(this,new wa(null,null,e,t,Z))},catch:function(e){if(arguments.length===1)return this.then(null,e);var t=arguments[0],n=arguments[1];return typeof t=="function"?this.then(null,function(r){return r instanceof t?n(r):En(r)}):this.then(null,function(r){return r&&r.name===t?n(r):En(r)})},finally:function(e){return this.then(function(t){return e(),t},function(t){return e(),En(t)})},stack:{get:function(){if(this._stack)return this._stack;try{Xr=!0;var e=Aa(this,[],Cs),t=e.join(`
From previous: `);return this._state!==null&&(this._stack=t),t}finally{Xr=!1}}},timeout:function(e,t){var n=this;return e<1/0?new L(function(r,i){var o=setTimeout(function(){return i(new ee.Timeout(t))},e);n.then(r,i).finally(clearTimeout.bind(null,o))}):this}});typeof Symbol<"u"&&Symbol.toStringTag&&Je(L.prototype,Symbol.toStringTag,"Dexie.Promise");It.env=Oa();function wa(e,t,n,r,i){this.onFulfilled=typeof e=="function"?e:null,this.onRejected=typeof t=="function"?t:null,this.resolve=n,this.reject=r,this.psd=i}Ct(L,{all:function(){var e=ze.apply(null,arguments).map(Kn);return new L(function(t,n){e.length===0&&t([]);var r=e.length;e.forEach(function(i,o){return L.resolve(i).then(function(a){e[o]=a,--r||t(e)},n)})})},resolve:function(e){if(e instanceof L)return e;if(e&&typeof e.then=="function")return new L(function(n,r){e.then(n,r)});var t=new L(Zt,!0,e);return Ea(t,Zr),t},reject:En,race:function(){var e=ze.apply(null,arguments).map(Kn);return new L(function(t,n){e.map(function(r){return L.resolve(r).then(t,n)})})},PSD:{get:function(){return Z},set:function(e){return Z=e}},totalEchoes:{get:function(){return Mn}},newPSD:nt,usePSD:Ut,scheduler:{get:function(){return en},set:function(e){en=e}},rejectionMapper:{get:function(){return ei},set:function(e){ei=e}},follow:function(e,t){return new L(function(n,r){return nt(function(i,o){var a=Z;a.unhandleds=[],a.onunhandled=o,a.finalize=gt(function(){var u=this;$s(function(){u.unhandleds.length===0?i():o(u.unhandleds[0])})},a.finalize),e()},t,n,r)})}});_n&&(_n.allSettled&&Je(L,"allSettled",function(){var e=ze.apply(null,arguments).map(Kn);return new L(function(t){e.length===0&&t([]);var n=e.length,r=new Array(n);e.forEach(function(i,o){return L.resolve(i).then(function(a){return r[o]={status:"fulfilled",value:a}},function(a){return r[o]={status:"rejected",reason:a}}).then(function(){return--n||t(r)})})})}),_n.any&&typeof AggregateError<"u"&&Je(L,"any",function(){var e=ze.apply(null,arguments).map(Kn);return new L(function(t,n){e.length===0&&n(new AggregateError([]));var r=e.length,i=new Array(r);e.forEach(function(o,a){return L.resolve(o).then(function(u){return t(u)},function(u){i[a]=u,--r||n(new AggregateError(i))})})})}));function _a(e,t){try{t(function(n){if(e._state===null){if(n===e)throw new TypeError("A promise cannot be resolved with itself.");var r=e._lib&&ln();n&&typeof n.then=="function"?_a(e,function(i,o){n instanceof L?n._then(i,o):n.then(i,o)}):(e._state=!0,e._value=n,Sa(e)),r&&fn()}},ni.bind(null,e))}catch(n){ni(e,n)}}function ni(e,t){if(Sn.push(t),e._state===null){var n=e._lib&&ln();t=ei(t),e._state=!1,e._value=t,Ke&&t!==null&&typeof t=="object"&&!t._promise&&ys(function(){var r=Pi(t,"stack");t._promise=e,Je(t,"stack",{get:function(){return Xr?r&&(r.get?r.get.apply(t):r.value):e.stack}})}),ks(e),Sa(e),n&&fn()}}function Sa(e){var t=e._listeners;e._listeners=[];for(var n=0,r=t.length;n<r;++n)Di(e,t[n]);var i=e._PSD;--i.ref||i.finalize(),yt===0&&(++yt,en(function(){--yt===0&&Bi()},[]))}function Di(e,t){if(e._state===null){e._listeners.push(t);return}var n=e._state?t.onFulfilled:t.onRejected;if(n===null)return(e._state?t.resolve:t.reject)(e._value);++t.psd.ref,++yt,en(Bs,[n,e,t])}function Bs(e,t,n){try{Zr=t;var r,i=t._value;t._state?r=e(i):(Sn.length&&(Sn=[]),r=e(i),Sn.indexOf(i)===-1&&Ns(t)),n.resolve(r)}catch(o){n.reject(o)}finally{Zr=null,--yt===0&&Bi(),--n.psd.ref||n.psd.finalize()}}function Aa(e,t,n){if(t.length===n)return t;var r="";if(e._state===!1){var i=e._value,o,a;i!=null?(o=i.name||"Error",a=i.message||i,r=Hr(i,0)):(o=i,a=""),t.push(o+(a?": "+a:"")+r)}return Ke&&(r=Hr(e._stackHolder,2),r&&t.indexOf(r)===-1&&t.push(r),e._prev&&Aa(e._prev,t,n)),t}function Ea(e,t){var n=t?t._numPrev+1:0;n<Rs&&(e._prev=t,e._numPrev=n)}function yn(){ln()&&fn()}function ln(){var e=Qr;return Qr=!1,Fn=!1,e}function fn(){var e,t,n;do for(;Wt.length>0;)for(e=Wt,Wt=[],n=e.length,t=0;t<n;++t){var r=e[t];r[0].apply(null,r[1])}while(Wt.length>0);Qr=!0,Fn=!0}function Bi(){var e=dt;dt=[],e.forEach(function(r){r._PSD.onunhandled.call(null,r._value,r)});for(var t=An.slice(0),n=t.length;n;)t[--n]()}function $s(e){function t(){e(),An.splice(An.indexOf(t),1)}An.push(t),++yt,en(function(){--yt===0&&Bi()},[])}function ks(e){dt.some(function(t){return t._value===e._value})||dt.push(e)}function Ns(e){for(var t=dt.length;t;)if(dt[--t]._value===e._value){dt.splice(t,1);return}}function En(e){return new L(Zt,!1,e)}function fe(e,t){var n=Z;return function(){var r=ln(),i=Z;try{return rt(n,!0),e.apply(this,arguments)}catch(o){t&&t(o)}finally{rt(i,!1),r&&fn()}}}var _e={awaits:0,echoes:0,id:0},Fs=0,On=[],or=0,Mn=0,Ms=0;function nt(e,t,n,r){var i=Z,o=Object.create(i);o.parent=i,o.ref=0,o.global=!1,o.id=++Ms;var a=It.env;o.env=Ci?{Promise:L,PromiseProp:{value:L,configurable:!0,writable:!0},all:L.all,race:L.race,allSettled:L.allSettled,any:L.any,resolve:L.resolve,reject:L.reject,nthen:oo(a.nthen,o),gthen:oo(a.gthen,o)}:{},t&&Te(o,t),++i.ref,o.finalize=function(){--this.parent.ref||this.parent.finalize()};var u=Ut(o,e,n,r);return o.ref===0&&o.finalize(),u}function Lt(){return _e.id||(_e.id=++Fs),++_e.awaits,_e.echoes+=ma,_e.id}function Xe(){return _e.awaits?(--_e.awaits===0&&(_e.id=0),_e.echoes=_e.awaits*ma,!0):!1}(""+ba).indexOf("[native code]")===-1&&(Lt=Xe=se);function Kn(e){return _e.echoes&&e&&e.constructor===_n?(Lt(),e.then(function(t){return Xe(),t},function(t){return Xe(),ve(t)})):e}function Ks(e){++Mn,(!_e.echoes||--_e.echoes===0)&&(_e.echoes=_e.id=0),On.push(Z),rt(e,!0)}function qs(){var e=On[On.length-1];On.pop(),rt(e,!1)}function rt(e,t){var n=Z;if((t?_e.echoes&&(!or++||e!==Z):or&&(!--or||e!==Z))&&Pa(t?Ks.bind(null,e):qs),e!==Z&&(Z=e,n===It&&(It.env=Oa()),Ci)){var r=It.env.Promise,i=e.env;Nn.then=i.nthen,r.prototype.then=i.gthen,(n.global||e.global)&&(Object.defineProperty(le,"Promise",i.PromiseProp),r.all=i.all,r.race=i.race,r.resolve=i.resolve,r.reject=i.reject,i.allSettled&&(r.allSettled=i.allSettled),i.any&&(r.any=i.any))}}function Oa(){var e=le.Promise;return Ci?{Promise:e,PromiseProp:Object.getOwnPropertyDescriptor(le,"Promise"),all:e.all,race:e.race,allSettled:e.allSettled,any:e.any,resolve:e.resolve,reject:e.reject,nthen:Nn.then,gthen:e.prototype.then}:{}}function Ut(e,t,n,r,i){var o=Z;try{return rt(e,!0),t(n,r,i)}finally{rt(o,!1)}}function Pa(e){ba.call(Yr,e)}function qn(e,t,n,r){return typeof e!="function"?e:function(){var i=Z;n&&Lt(),rt(t,!0);try{return e.apply(this,arguments)}finally{rt(i,!1),r&&Pa(Xe)}}}function oo(e,t){return function(n,r){return e.call(this,qn(n,t),qn(r,t))}}var ao="unhandledrejection";function uo(e,t){var n;try{n=t.onuncatched(e)}catch{}if(n!==!1)try{var r,i={promise:t,reason:e};if(le.document&&document.createEvent?(r=document.createEvent("Event"),r.initEvent(ao,!0,!0),Te(r,i)):le.CustomEvent&&(r=new CustomEvent(ao,{detail:i}),Te(r,i)),r&&le.dispatchEvent&&(dispatchEvent(r),!le.PromiseRejectionEvent&&le.onunhandledrejection))try{le.onunhandledrejection(r)}catch{}Ke&&r&&!r.defaultPrevented&&console.warn("Unhandled rejection: "+(e.stack||e))}catch{}}var ve=L.reject;function ri(e,t,n,r){if(!e.idbdb||!e._state.openComplete&&!Z.letThrough&&!e._vip){if(e._state.openComplete)return ve(new ee.DatabaseClosed(e._state.dbOpenError));if(!e._state.isBeingOpened){if(!e._options.autoOpen)return ve(new ee.DatabaseClosed);e.open().catch(se)}return e._state.dbReadyPromise.then(function(){return ri(e,t,n,r)})}else{var i=e._createTransaction(t,n,e._dbSchema);try{i.create(),e._state.PR1398_maxLoop=3}catch(o){return o.name===xi.InvalidState&&e.isOpen()&&--e._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),e._close(),e.open().then(function(){return ri(e,t,n,r)})):ve(o)}return i._promise(t,function(o,a){return nt(function(){return Z.trans=i,r(o,a,i)})}).then(function(o){return i._completion.then(function(){return o})})}}var so="3.2.2",pt=String.fromCharCode(65535),ii=-1/0,Ue="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",Ta="String expected.",Jt=[],Xn=typeof navigator<"u"&&/(MSIE|Trident|Edge)/.test(navigator.userAgent),Ls=Xn,Us=Xn,ja=function(e){return!/(dexie\.js|dexie\.min\.js)/.test(e)},Qn="__dbnames",ar="readonly",ur="readwrite";function mt(e,t){return e?t?function(){return e.apply(this,arguments)&&t.apply(this,arguments)}:e:t}var xa={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function vn(e){return typeof e=="string"&&!/\./.test(e)?function(t){return t[e]===void 0&&e in t&&(t=sn(t),delete t[e]),t}:function(t){return t}}var Vs=function(){function e(){}return e.prototype._trans=function(t,n,r){var i=this._tx||Z.trans,o=this.name;function a(s,c,f){if(!f.schema[o])throw new ee.NotFound("Table "+o+" not part of transaction");return n(f.idbtrans,f)}var u=ln();try{return i&&i.db===this.db?i===Z.trans?i._promise(t,a,r):nt(function(){return i._promise(t,a,r)},{trans:i,transless:Z.transless||Z}):ri(this.db,t,[this.name],a)}finally{u&&fn()}},e.prototype.get=function(t,n){var r=this;return t&&t.constructor===Object?this.where(t).first(n):this._trans("readonly",function(i){return r.core.get({trans:i,key:t}).then(function(o){return r.hook.reading.fire(o)})}).then(n)},e.prototype.where=function(t){if(typeof t=="string")return new this.db.WhereClause(this,t);if(Se(t))return new this.db.WhereClause(this,"["+t.join("+")+"]");var n=ye(t);if(n.length===1)return this.where(n[0]).equals(t[n[0]]);var r=this.schema.indexes.concat(this.schema.primKey).filter(function(f){return f.compound&&n.every(function(d){return f.keyPath.indexOf(d)>=0})&&f.keyPath.every(function(d){return n.indexOf(d)>=0})})[0];if(r&&this.db._maxKey!==pt)return this.where(r.name).equals(r.keyPath.map(function(f){return t[f]}));!r&&Ke&&console.warn("The query "+JSON.stringify(t)+" on "+this.name+" would benefit of a "+("compound index ["+n.join("+")+"]"));var i=this.schema.idxByName,o=this.db._deps.indexedDB;function a(f,d){try{return o.cmp(f,d)===0}catch{return!1}}var u=n.reduce(function(f,d){var y=f[0],w=f[1],m=i[d],h=t[d];return[y||m,y||!m?mt(w,m&&m.multi?function(v){var g=Ye(v,d);return Se(g)&&g.some(function(S){return a(h,S)})}:function(v){return a(h,Ye(v,d))}):w]},[null,null]),s=u[0],c=u[1];return s?this.where(s.name).equals(t[s.keyPath]).filter(c):r?this.filter(c):this.where(n).equals("")},e.prototype.filter=function(t){return this.toCollection().and(t)},e.prototype.count=function(t){return this.toCollection().count(t)},e.prototype.offset=function(t){return this.toCollection().offset(t)},e.prototype.limit=function(t){return this.toCollection().limit(t)},e.prototype.each=function(t){return this.toCollection().each(t)},e.prototype.toArray=function(t){return this.toCollection().toArray(t)},e.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},e.prototype.orderBy=function(t){return new this.db.Collection(new this.db.WhereClause(this,Se(t)?"["+t.join("+")+"]":t))},e.prototype.reverse=function(){return this.toCollection().reverse()},e.prototype.mapToClass=function(t){this.schema.mappedClass=t;var n=function(r){if(!r)return r;var i=Object.create(t.prototype);for(var o in r)if($e(r,o))try{i[o]=r[o]}catch{}return i};return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=n,this.hook("reading",n),t},e.prototype.defineClass=function(){function t(n){Te(this,n)}return this.mapToClass(t)},e.prototype.add=function(t,n){var r=this,i=this.schema.primKey,o=i.auto,a=i.keyPath,u=t;return a&&o&&(u=vn(a)(t)),this._trans("readwrite",function(s){return r.core.mutate({trans:s,type:"add",keys:n!=null?[n]:null,values:[u]})}).then(function(s){return s.numFailures?L.reject(s.failures[0]):s.lastResult}).then(function(s){if(a)try{Ne(t,a,s)}catch{}return s})},e.prototype.update=function(t,n){if(typeof t=="object"&&!Se(t)){var r=Ye(t,this.schema.primKey.keyPath);if(r===void 0)return ve(new ee.InvalidArgument("Given object does not contain its primary key"));try{typeof n!="function"?ye(n).forEach(function(i){Ne(t,i,n[i])}):n(t,{value:t,primKey:r})}catch{}return this.where(":id").equals(r).modify(n)}else return this.where(":id").equals(t).modify(n)},e.prototype.put=function(t,n){var r=this,i=this.schema.primKey,o=i.auto,a=i.keyPath,u=t;return a&&o&&(u=vn(a)(t)),this._trans("readwrite",function(s){return r.core.mutate({trans:s,type:"put",values:[u],keys:n!=null?[n]:null})}).then(function(s){return s.numFailures?L.reject(s.failures[0]):s.lastResult}).then(function(s){if(a)try{Ne(t,a,s)}catch{}return s})},e.prototype.delete=function(t){var n=this;return this._trans("readwrite",function(r){return n.core.mutate({trans:r,type:"delete",keys:[t]})}).then(function(r){return r.numFailures?L.reject(r.failures[0]):void 0})},e.prototype.clear=function(){var t=this;return this._trans("readwrite",function(n){return t.core.mutate({trans:n,type:"deleteRange",range:xa})}).then(function(n){return n.numFailures?L.reject(n.failures[0]):void 0})},e.prototype.bulkGet=function(t){var n=this;return this._trans("readonly",function(r){return n.core.getMany({keys:t,trans:r}).then(function(i){return i.map(function(o){return n.hook.reading.fire(o)})})})},e.prototype.bulkAdd=function(t,n,r){var i=this,o=Array.isArray(n)?n:void 0;r=r||(o?void 0:n);var a=r?r.allKeys:void 0;return this._trans("readwrite",function(u){var s=i.schema.primKey,c=s.auto,f=s.keyPath;if(f&&o)throw new ee.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(o&&o.length!==t.length)throw new ee.InvalidArgument("Arguments objects and keys must have the same length");var d=t.length,y=f&&c?t.map(vn(f)):t;return i.core.mutate({trans:u,type:"add",keys:o,values:y,wantResults:a}).then(function(w){var m=w.numFailures,h=w.results,v=w.lastResult,g=w.failures,S=a?h:v;if(m===0)return S;throw new Yt(i.name+".bulkAdd(): "+m+" of "+d+" operations failed",g)})})},e.prototype.bulkPut=function(t,n,r){var i=this,o=Array.isArray(n)?n:void 0;r=r||(o?void 0:n);var a=r?r.allKeys:void 0;return this._trans("readwrite",function(u){var s=i.schema.primKey,c=s.auto,f=s.keyPath;if(f&&o)throw new ee.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(o&&o.length!==t.length)throw new ee.InvalidArgument("Arguments objects and keys must have the same length");var d=t.length,y=f&&c?t.map(vn(f)):t;return i.core.mutate({trans:u,type:"put",keys:o,values:y,wantResults:a}).then(function(w){var m=w.numFailures,h=w.results,v=w.lastResult,g=w.failures,S=a?h:v;if(m===0)return S;throw new Yt(i.name+".bulkPut(): "+m+" of "+d+" operations failed",g)})})},e.prototype.bulkDelete=function(t){var n=this,r=t.length;return this._trans("readwrite",function(i){return n.core.mutate({trans:i,type:"delete",keys:t})}).then(function(i){var o=i.numFailures,a=i.lastResult,u=i.failures;if(o===0)return a;throw new Yt(n.name+".bulkDelete(): "+o+" of "+r+" operations failed",u)})},e}();function pn(e){var t={},n=function(u,s){if(s){for(var c=arguments.length,f=new Array(c-1);--c;)f[c-1]=arguments[c];return t[u].subscribe.apply(null,f),e}else if(typeof u=="string")return t[u]};n.addEventType=o;for(var r=1,i=arguments.length;r<i;++r)o(arguments[r]);return n;function o(u,s,c){if(typeof u=="object")return a(u);s||(s=Is),c||(c=se);var f={subscribers:[],fire:c,subscribe:function(d){f.subscribers.indexOf(d)===-1&&(f.subscribers.push(d),f.fire=s(f.fire,d))},unsubscribe:function(d){f.subscribers=f.subscribers.filter(function(y){return y!==d}),f.fire=f.subscribers.reduce(s,c)}};return t[u]=n[u]=f,f}function a(u){ye(u).forEach(function(s){var c=u[s];if(Se(c))o(s,u[s][0],u[s][1]);else if(c==="asap")var f=o(s,cn,function(){for(var y=arguments.length,w=new Array(y);y--;)w[y]=arguments[y];f.subscribers.forEach(function(m){ca(function(){m.apply(null,w)})})});else throw new ee.InvalidArgument("Invalid event config")})}}function hn(e,t){return Kt(t).from({prototype:e}),t}function zs(e){return hn(Vs.prototype,function(n,r,i){this.db=e,this._tx=i,this.name=n,this.schema=r,this.hook=e._allTables[n]?e._allTables[n].hook:pn(null,{creating:[Ts,se],reading:[Ps,cn],updating:[xs,se],deleting:[js,se]})})}function Et(e,t){return!(e.filter||e.algorithm||e.or)&&(t?e.justLimit:!e.replayFilter)}function sr(e,t){e.filter=mt(e.filter,t)}function cr(e,t,n){var r=e.replayFilter;e.replayFilter=r?function(){return mt(r(),t())}:t,e.justLimit=n&&!r}function Gs(e,t){e.isMatch=mt(e.isMatch,t)}function Pn(e,t){if(e.isPrimKey)return t.primaryKey;var n=t.getIndexByKeyPath(e.index);if(!n)throw new ee.Schema("KeyPath "+e.index+" on object store "+t.name+" is not indexed");return n}function co(e,t,n){var r=Pn(e,t.schema);return t.openCursor({trans:n,values:!e.keysOnly,reverse:e.dir==="prev",unique:!!e.unique,query:{index:r,range:e.range}})}function gn(e,t,n,r){var i=e.replayFilter?mt(e.filter,e.replayFilter()):e.filter;if(e.or){var o={},a=function(u,s,c){if(!i||i(s,c,function(y){return s.stop(y)},function(y){return s.fail(y)})){var f=s.primaryKey,d=""+f;d==="[object ArrayBuffer]"&&(d=""+new Uint8Array(f)),$e(o,d)||(o[d]=!0,t(u,s,c))}};return Promise.all([e.or._iterate(a,n),lo(co(e,r,n),e.algorithm,a,!e.keysOnly&&e.valueMapper)])}else return lo(co(e,r,n),mt(e.algorithm,i),t,!e.keysOnly&&e.valueMapper)}function lo(e,t,n,r){var i=r?function(a,u,s){return n(r(a),u,s)}:n,o=fe(i);return e.then(function(a){if(a)return a.start(function(){var u=function(){return a.continue()};(!t||t(a,function(s){return u=s},function(s){a.stop(s),u=se},function(s){a.fail(s),u=se}))&&o(a.value,a,function(s){return u=s}),u()})})}function Oe(e,t){try{var n=fo(e),r=fo(t);if(n!==r)return n==="Array"?1:r==="Array"?-1:n==="binary"?1:r==="binary"?-1:n==="string"?1:r==="string"?-1:n==="Date"?1:r!=="Date"?NaN:-1;switch(n){case"number":case"Date":case"string":return e>t?1:e<t?-1:0;case"binary":return Hs(po(e),po(t));case"Array":return Ws(e,t)}}catch{}return NaN}function Ws(e,t){for(var n=e.length,r=t.length,i=n<r?n:r,o=0;o<i;++o){var a=Oe(e[o],t[o]);if(a!==0)return a}return n===r?0:n<r?-1:1}function Hs(e,t){for(var n=e.length,r=t.length,i=n<r?n:r,o=0;o<i;++o)if(e[o]!==t[o])return e[o]<t[o]?-1:1;return n===r?0:n<r?-1:1}function fo(e){var t=typeof e;if(t!=="object")return t;if(ArrayBuffer.isView(e))return"binary";var n=Gr(e);return n==="ArrayBuffer"?"binary":n}function po(e){return e instanceof Uint8Array?e:ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):new Uint8Array(e)}var Ys=function(){function e(){}return e.prototype._read=function(t,n){var r=this._ctx;return r.error?r.table._trans(null,ve.bind(null,r.error)):r.table._trans("readonly",t).then(n)},e.prototype._write=function(t){var n=this._ctx;return n.error?n.table._trans(null,ve.bind(null,n.error)):n.table._trans("readwrite",t,"locked")},e.prototype._addAlgorithm=function(t){var n=this._ctx;n.algorithm=mt(n.algorithm,t)},e.prototype._iterate=function(t,n){return gn(this._ctx,t,n,this._ctx.table.core)},e.prototype.clone=function(t){var n=Object.create(this.constructor.prototype),r=Object.create(this._ctx);return t&&Te(r,t),n._ctx=r,n},e.prototype.raw=function(){return this._ctx.valueMapper=null,this},e.prototype.each=function(t){var n=this._ctx;return this._read(function(r){return gn(n,t,r,n.table.core)})},e.prototype.count=function(t){var n=this;return this._read(function(r){var i=n._ctx,o=i.table.core;if(Et(i,!0))return o.count({trans:r,query:{index:Pn(i,o.schema),range:i.range}}).then(function(u){return Math.min(u,i.limit)});var a=0;return gn(i,function(){return++a,!1},r,o).then(function(){return a})}).then(t)},e.prototype.sortBy=function(t,n){var r=t.split(".").reverse(),i=r[0],o=r.length-1;function a(c,f){return f?a(c[r[f]],f-1):c[i]}var u=this._ctx.dir==="next"?1:-1;function s(c,f){var d=a(c,o),y=a(f,o);return d<y?-u:d>y?u:0}return this.toArray(function(c){return c.sort(s)}).then(n)},e.prototype.toArray=function(t){var n=this;return this._read(function(r){var i=n._ctx;if(i.dir==="next"&&Et(i,!0)&&i.limit>0){var o=i.valueMapper,a=Pn(i,i.table.core.schema);return i.table.core.query({trans:r,limit:i.limit,values:!0,query:{index:a,range:i.range}}).then(function(s){var c=s.result;return o?c.map(o):c})}else{var u=[];return gn(i,function(s){return u.push(s)},r,i.table.core).then(function(){return u})}},t)},e.prototype.offset=function(t){var n=this._ctx;return t<=0?this:(n.offset+=t,Et(n)?cr(n,function(){var r=t;return function(i,o){return r===0?!0:r===1?(--r,!1):(o(function(){i.advance(r),r=0}),!1)}}):cr(n,function(){var r=t;return function(){return--r<0}}),this)},e.prototype.limit=function(t){return this._ctx.limit=Math.min(this._ctx.limit,t),cr(this._ctx,function(){var n=t;return function(r,i,o){return--n<=0&&i(o),n>=0}},!0),this},e.prototype.until=function(t,n){return sr(this._ctx,function(r,i,o){return t(r.value)?(i(o),n):!0}),this},e.prototype.first=function(t){return this.limit(1).toArray(function(n){return n[0]}).then(t)},e.prototype.last=function(t){return this.reverse().first(t)},e.prototype.filter=function(t){return sr(this._ctx,function(n){return t(n.value)}),Gs(this._ctx,t),this},e.prototype.and=function(t){return this.filter(t)},e.prototype.or=function(t){return new this.db.WhereClause(this._ctx.table,t,this)},e.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},e.prototype.desc=function(){return this.reverse()},e.prototype.eachKey=function(t){var n=this._ctx;return n.keysOnly=!n.isMatch,this.each(function(r,i){t(i.key,i)})},e.prototype.eachUniqueKey=function(t){return this._ctx.unique="unique",this.eachKey(t)},e.prototype.eachPrimaryKey=function(t){var n=this._ctx;return n.keysOnly=!n.isMatch,this.each(function(r,i){t(i.primaryKey,i)})},e.prototype.keys=function(t){var n=this._ctx;n.keysOnly=!n.isMatch;var r=[];return this.each(function(i,o){r.push(o.key)}).then(function(){return r}).then(t)},e.prototype.primaryKeys=function(t){var n=this._ctx;if(n.dir==="next"&&Et(n,!0)&&n.limit>0)return this._read(function(i){var o=Pn(n,n.table.core.schema);return n.table.core.query({trans:i,values:!1,limit:n.limit,query:{index:o,range:n.range}})}).then(function(i){var o=i.result;return o}).then(t);n.keysOnly=!n.isMatch;var r=[];return this.each(function(i,o){r.push(o.primaryKey)}).then(function(){return r}).then(t)},e.prototype.uniqueKeys=function(t){return this._ctx.unique="unique",this.keys(t)},e.prototype.firstKey=function(t){return this.limit(1).keys(function(n){return n[0]}).then(t)},e.prototype.lastKey=function(t){return this.reverse().firstKey(t)},e.prototype.distinct=function(){var t=this._ctx,n=t.index&&t.table.schema.idxByName[t.index];if(!n||!n.multi)return this;var r={};return sr(this._ctx,function(i){var o=i.primaryKey.toString(),a=$e(r,o);return r[o]=!0,!a}),this},e.prototype.modify=function(t){var n=this,r=this._ctx;return this._write(function(i){var o;if(typeof t=="function")o=t;else{var a=ye(t),u=a.length;o=function(g){for(var S=!1,E=0;E<u;++E){var j=a[E],_=t[j];Ye(g,j)!==_&&(Ne(g,j,_),S=!0)}return S}}var s=r.table.core,c=s.schema.primaryKey,f=c.outbound,d=c.extractKey,y=n.db._options.modifyChunkSize||200,w=[],m=0,h=[],v=function(g,S){var E=S.failures,j=S.numFailures;m+=g-j;for(var _=0,B=ye(E);_<B.length;_++){var k=B[_];w.push(E[k])}};return n.clone().primaryKeys().then(function(g){var S=function(E){var j=Math.min(y,g.length-E);return s.getMany({trans:i,keys:g.slice(E,E+j),cache:"immutable"}).then(function(_){for(var B=[],k=[],C=f?[]:null,F=[],z=0;z<j;++z){var G=_[z],M={value:sn(G),primKey:g[E+z]};o.call(M,M.value,M)!==!1&&(M.value==null?F.push(g[E+z]):!f&&Oe(d(G),d(M.value))!==0?(F.push(g[E+z]),B.push(M.value)):(k.push(M.value),f&&C.push(g[E+z])))}var W=Et(r)&&r.limit===1/0&&(typeof t!="function"||t===lr)&&{index:r.index,range:r.range};return Promise.resolve(B.length>0&&s.mutate({trans:i,type:"add",values:B}).then(function(X){for(var O in X.failures)F.splice(parseInt(O),1);v(B.length,X)})).then(function(){return(k.length>0||W&&typeof t=="object")&&s.mutate({trans:i,type:"put",keys:C,values:k,criteria:W,changeSpec:typeof t!="function"&&t}).then(function(X){return v(k.length,X)})}).then(function(){return(F.length>0||W&&t===lr)&&s.mutate({trans:i,type:"delete",keys:F,criteria:W}).then(function(X){return v(F.length,X)})}).then(function(){return g.length>E+j&&S(E+y)})})};return S(0).then(function(){if(w.length>0)throw new kn("Error modifying one or more objects",w,m,h);return g.length})})})},e.prototype.delete=function(){var t=this._ctx,n=t.range;return Et(t)&&(t.isPrimKey&&!Us||n.type===3)?this._write(function(r){var i=t.table.core.schema.primaryKey,o=n;return t.table.core.count({trans:r,query:{index:i,range:o}}).then(function(a){return t.table.core.mutate({trans:r,type:"deleteRange",range:o}).then(function(u){var s=u.failures;u.lastResult,u.results;var c=u.numFailures;if(c)throw new kn("Could not delete some values",Object.keys(s).map(function(f){return s[f]}),a-c);return a-c})})}):this.modify(lr)},e}(),lr=function(e,t){return t.value=null};function Js(e){return hn(Ys.prototype,function(n,r){this.db=e;var i=xa,o=null;if(r)try{i=r()}catch(c){o=c}var a=n._ctx,u=a.table,s=u.hook.reading.fire;this._ctx={table:u,index:a.index,isPrimKey:!a.index||u.schema.primKey.keyPath&&a.index===u.schema.primKey.name,range:i,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:o,or:a.or,valueMapper:s!==cn?s:null}})}function Xs(e,t){return e<t?-1:e===t?0:1}function Qs(e,t){return e>t?-1:e===t?0:1}function De(e,t,n){var r=e instanceof Ra?new e.Collection(e):e;return r._ctx.error=n?new n(t):new TypeError(t),r}function Ot(e){return new e.Collection(e,function(){return Ia("")}).limit(0)}function Zs(e){return e==="next"?function(t){return t.toUpperCase()}:function(t){return t.toLowerCase()}}function ec(e){return e==="next"?function(t){return t.toLowerCase()}:function(t){return t.toUpperCase()}}function tc(e,t,n,r,i,o){for(var a=Math.min(e.length,r.length),u=-1,s=0;s<a;++s){var c=t[s];if(c!==r[s])return i(e[s],n[s])<0?e.substr(0,s)+n[s]+n.substr(s+1):i(e[s],r[s])<0?e.substr(0,s)+r[s]+n.substr(s+1):u>=0?e.substr(0,u)+t[u]+n.substr(u+1):null;i(e[s],c)<0&&(u=s)}return a<r.length&&o==="next"?e+n.substr(e.length):a<e.length&&o==="prev"?e.substr(0,n.length):u<0?null:e.substr(0,u)+r[u]+n.substr(u+1)}function mn(e,t,n,r){var i,o,a,u,s,c,f,d=n.length;if(!n.every(function(h){return typeof h=="string"}))return De(e,Ta);function y(h){i=Zs(h),o=ec(h),a=h==="next"?Xs:Qs;var v=n.map(function(g){return{lower:o(g),upper:i(g)}}).sort(function(g,S){return a(g.lower,S.lower)});u=v.map(function(g){return g.upper}),s=v.map(function(g){return g.lower}),c=h,f=h==="next"?"":r}y("next");var w=new e.Collection(e,function(){return Qe(u[0],s[d-1]+r)});w._ondirectionchange=function(h){y(h)};var m=0;return w._addAlgorithm(function(h,v,g){var S=h.key;if(typeof S!="string")return!1;var E=o(S);if(t(E,s,m))return!0;for(var j=null,_=m;_<d;++_){var B=tc(S,E,u[_],s[_],a,c);B===null&&j===null?m=_+1:(j===null||a(j,B)>0)&&(j=B)}return v(j!==null?function(){h.continue(j+f)}:g),!1}),w}function Qe(e,t,n,r){return{type:2,lower:e,upper:t,lowerOpen:n,upperOpen:r}}function Ia(e){return{type:1,lower:e,upper:e}}var Ra=function(){function e(){}return Object.defineProperty(e.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),e.prototype.between=function(t,n,r,i){r=r!==!1,i=i===!0;try{return this._cmp(t,n)>0||this._cmp(t,n)===0&&(r||i)&&!(r&&i)?Ot(this):new this.Collection(this,function(){return Qe(t,n,!r,!i)})}catch{return De(this,Ue)}},e.prototype.equals=function(t){return t==null?De(this,Ue):new this.Collection(this,function(){return Ia(t)})},e.prototype.above=function(t){return t==null?De(this,Ue):new this.Collection(this,function(){return Qe(t,void 0,!0)})},e.prototype.aboveOrEqual=function(t){return t==null?De(this,Ue):new this.Collection(this,function(){return Qe(t,void 0,!1)})},e.prototype.below=function(t){return t==null?De(this,Ue):new this.Collection(this,function(){return Qe(void 0,t,!1,!0)})},e.prototype.belowOrEqual=function(t){return t==null?De(this,Ue):new this.Collection(this,function(){return Qe(void 0,t)})},e.prototype.startsWith=function(t){return typeof t!="string"?De(this,Ta):this.between(t,t+pt,!0,!0)},e.prototype.startsWithIgnoreCase=function(t){return t===""?this.startsWith(t):mn(this,function(n,r){return n.indexOf(r[0])===0},[t],pt)},e.prototype.equalsIgnoreCase=function(t){return mn(this,function(n,r){return n===r[0]},[t],"")},e.prototype.anyOfIgnoreCase=function(){var t=ze.apply(Pt,arguments);return t.length===0?Ot(this):mn(this,function(n,r){return r.indexOf(n)!==-1},t,"")},e.prototype.startsWithAnyOfIgnoreCase=function(){var t=ze.apply(Pt,arguments);return t.length===0?Ot(this):mn(this,function(n,r){return r.some(function(i){return n.indexOf(i)===0})},t,pt)},e.prototype.anyOf=function(){var t=this,n=ze.apply(Pt,arguments),r=this._cmp;try{n.sort(r)}catch{return De(this,Ue)}if(n.length===0)return Ot(this);var i=new this.Collection(this,function(){return Qe(n[0],n[n.length-1])});i._ondirectionchange=function(a){r=a==="next"?t._ascending:t._descending,n.sort(r)};var o=0;return i._addAlgorithm(function(a,u,s){for(var c=a.key;r(c,n[o])>0;)if(++o,o===n.length)return u(s),!1;return r(c,n[o])===0?!0:(u(function(){a.continue(n[o])}),!1)}),i},e.prototype.notEqual=function(t){return this.inAnyRange([[ii,t],[t,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},e.prototype.noneOf=function(){var t=ze.apply(Pt,arguments);if(t.length===0)return new this.Collection(this);try{t.sort(this._ascending)}catch{return De(this,Ue)}var n=t.reduce(function(r,i){return r?r.concat([[r[r.length-1][1],i]]):[[ii,i]]},null);return n.push([t[t.length-1],this.db._maxKey]),this.inAnyRange(n,{includeLowers:!1,includeUppers:!1})},e.prototype.inAnyRange=function(t,n){var r=this,i=this._cmp,o=this._ascending,a=this._descending,u=this._min,s=this._max;if(t.length===0)return Ot(this);if(!t.every(function(_){return _[0]!==void 0&&_[1]!==void 0&&o(_[0],_[1])<=0}))return De(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",ee.InvalidArgument);var c=!n||n.includeLowers!==!1,f=n&&n.includeUppers===!0;function d(_,B){for(var k=0,C=_.length;k<C;++k){var F=_[k];if(i(B[0],F[1])<0&&i(B[1],F[0])>0){F[0]=u(F[0],B[0]),F[1]=s(F[1],B[1]);break}}return k===C&&_.push(B),_}var y=o;function w(_,B){return y(_[0],B[0])}var m;try{m=t.reduce(d,[]),m.sort(w)}catch{return De(this,Ue)}var h=0,v=f?function(_){return o(_,m[h][1])>0}:function(_){return o(_,m[h][1])>=0},g=c?function(_){return a(_,m[h][0])>0}:function(_){return a(_,m[h][0])>=0};function S(_){return!v(_)&&!g(_)}var E=v,j=new this.Collection(this,function(){return Qe(m[0][0],m[m.length-1][1],!c,!f)});return j._ondirectionchange=function(_){_==="next"?(E=v,y=o):(E=g,y=a),m.sort(w)},j._addAlgorithm(function(_,B,k){for(var C=_.key;E(C);)if(++h,h===m.length)return B(k),!1;return S(C)?!0:(r._cmp(C,m[h][1])===0||r._cmp(C,m[h][0])===0||B(function(){y===o?_.continue(m[h][0]):_.continue(m[h][1])}),!1)}),j},e.prototype.startsWithAnyOf=function(){var t=ze.apply(Pt,arguments);return t.every(function(n){return typeof n=="string"})?t.length===0?Ot(this):this.inAnyRange(t.map(function(n){return[n,n+pt]})):De(this,"startsWithAnyOf() only works with strings")},e}();function nc(e){return hn(Ra.prototype,function(n,r,i){this.db=e,this._ctx={table:n,index:r===":id"?null:r,or:i};var o=e._deps.indexedDB;if(!o)throw new ee.MissingAPI;this._cmp=this._ascending=o.cmp.bind(o),this._descending=function(a,u){return o.cmp(u,a)},this._max=function(a,u){return o.cmp(a,u)>0?a:u},this._min=function(a,u){return o.cmp(a,u)<0?a:u},this._IDBKeyRange=e._deps.IDBKeyRange})}function Me(e){return fe(function(t){return tn(t),e(t.target.error),!1})}function tn(e){e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault()}var nn="storagemutated",et="x-storagemutated-1",it=pn(null,nn),rc=function(){function e(){}return e.prototype._lock=function(){return Gt(!Z.global),++this._reculock,this._reculock===1&&!Z.global&&(Z.lockOwnerFor=this),this},e.prototype._unlock=function(){if(Gt(!Z.global),--this._reculock===0)for(Z.global||(Z.lockOwnerFor=null);this._blockedFuncs.length>0&&!this._locked();){var t=this._blockedFuncs.shift();try{Ut(t[1],t[0])}catch{}}return this},e.prototype._locked=function(){return this._reculock&&Z.lockOwnerFor!==this},e.prototype.create=function(t){var n=this;if(!this.mode)return this;var r=this.db.idbdb,i=this.db._state.dbOpenError;if(Gt(!this.idbtrans),!t&&!r)switch(i&&i.name){case"DatabaseClosedError":throw new ee.DatabaseClosed(i);case"MissingAPIError":throw new ee.MissingAPI(i.message,i);default:throw new ee.OpenFailed(i)}if(!this.active)throw new ee.TransactionInactive;return Gt(this._completion._state===null),t=this.idbtrans=t||(this.db.core?this.db.core.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}):r.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})),t.onerror=fe(function(o){tn(o),n._reject(t.error)}),t.onabort=fe(function(o){tn(o),n.active&&n._reject(new ee.Abort(t.error)),n.active=!1,n.on("abort").fire(o)}),t.oncomplete=fe(function(){n.active=!1,n._resolve(),"mutatedParts"in t&&it.storagemutated.fire(t.mutatedParts)}),this},e.prototype._promise=function(t,n,r){var i=this;if(t==="readwrite"&&this.mode!=="readwrite")return ve(new ee.ReadOnly("Transaction is readonly"));if(!this.active)return ve(new ee.TransactionInactive);if(this._locked())return new L(function(a,u){i._blockedFuncs.push([function(){i._promise(t,n,r).then(a,u)},Z])});if(r)return nt(function(){var a=new L(function(u,s){i._lock();var c=n(u,s,i);c&&c.then&&c.then(u,s)});return a.finally(function(){return i._unlock()}),a._lib=!0,a});var o=new L(function(a,u){var s=n(a,u,i);s&&s.then&&s.then(a,u)});return o._lib=!0,o},e.prototype._root=function(){return this.parent?this.parent._root():this},e.prototype.waitFor=function(t){var n=this._root(),r=L.resolve(t);if(n._waitingFor)n._waitingFor=n._waitingFor.then(function(){return r});else{n._waitingFor=r,n._waitingQueue=[];var i=n.idbtrans.objectStore(n.storeNames[0]);(function a(){for(++n._spinCount;n._waitingQueue.length;)n._waitingQueue.shift()();n._waitingFor&&(i.get(-1/0).onsuccess=a)})()}var o=n._waitingFor;return new L(function(a,u){r.then(function(s){return n._waitingQueue.push(fe(a.bind(null,s)))},function(s){return n._waitingQueue.push(fe(u.bind(null,s)))}).finally(function(){n._waitingFor===o&&(n._waitingFor=null)})})},e.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new ee.Abort))},e.prototype.table=function(t){var n=this._memoizedTables||(this._memoizedTables={});if($e(n,t))return n[t];var r=this.schema[t];if(!r)throw new ee.NotFound("Table "+t+" not part of transaction");var i=new this.db.Table(t,r,this);return i.core=this.db.core.table(t),n[t]=i,i},e}();function ic(e){return hn(rc.prototype,function(n,r,i,o,a){var u=this;this.db=e,this.mode=n,this.storeNames=r,this.schema=i,this.chromeTransactionDurability=o,this.idbtrans=null,this.on=pn(this,"complete","error","abort"),this.parent=a||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new L(function(s,c){u._resolve=s,u._reject=c}),this._completion.then(function(){u.active=!1,u.on.complete.fire()},function(s){var c=u.active;return u.active=!1,u.on.error.fire(s),u.parent?u.parent._reject(s):c&&u.idbtrans&&u.idbtrans.abort(),ve(s)})})}function oi(e,t,n,r,i,o,a){return{name:e,keyPath:t,unique:n,multi:r,auto:i,compound:o,src:(n&&!a?"&":"")+(r?"*":"")+(i?"++":"")+Ca(t)}}function Ca(e){return typeof e=="string"?e:e?"["+[].join.call(e,"+")+"]":""}function Da(e,t,n){return{name:e,primKey:t,indexes:n,mappedClass:null,idxByName:la(n,function(r){return[r.name,r]})}}function oc(e){return e.length===1?e[0]:e}var rn=function(e){try{return e.only([[]]),rn=function(){return[[]]},[[]]}catch{return rn=function(){return pt},pt}};function ai(e){return e==null?function(){}:typeof e=="string"?ac(e):function(t){return Ye(t,e)}}function ac(e){var t=e.split(".");return t.length===1?function(n){return n[e]}:function(n){return Ye(n,e)}}function ho(e){return[].slice.call(e)}var uc=0;function Xt(e){return e==null?":id":typeof e=="string"?e:"["+e.join("+")+"]"}function sc(e,t,n){function r(d,y){var w=ho(d.objectStoreNames);return{schema:{name:d.name,tables:w.map(function(m){return y.objectStore(m)}).map(function(m){var h=m.keyPath,v=m.autoIncrement,g=Se(h),S=h==null,E={},j={name:m.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:S,compound:g,keyPath:h,autoIncrement:v,unique:!0,extractKey:ai(h)},indexes:ho(m.indexNames).map(function(_){return m.index(_)}).map(function(_){var B=_.name,k=_.unique,C=_.multiEntry,F=_.keyPath,z=Se(F),G={name:B,compound:z,keyPath:F,unique:k,multiEntry:C,extractKey:ai(F)};return E[Xt(F)]=G,G}),getIndexByKeyPath:function(_){return E[Xt(_)]}};return E[":id"]=j.primaryKey,h!=null&&(E[Xt(h)]=j.primaryKey),j})},hasGetAll:w.length>0&&"getAll"in y.objectStore(w[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}}function i(d){if(d.type===3)return null;if(d.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var y=d.lower,w=d.upper,m=d.lowerOpen,h=d.upperOpen,v=y===void 0?w===void 0?null:t.upperBound(w,!!h):w===void 0?t.lowerBound(y,!!m):t.bound(y,w,!!m,!!h);return v}function o(d){var y=d.name;function w(v){var g=v.trans,S=v.type,E=v.keys,j=v.values,_=v.range;return new Promise(function(B,k){B=fe(B);var C=g.objectStore(y),F=C.keyPath==null,z=S==="put"||S==="add";if(!z&&S!=="delete"&&S!=="deleteRange")throw new Error("Invalid operation type: "+S);var G=(E||j||{length:1}).length;if(E&&j&&E.length!==j.length)throw new Error("Given keys array must have same length as given values array.");if(G===0)return B({numFailures:0,failures:{},results:[],lastResult:void 0});var M,W=[],X=[],O=0,D=function(l){++O,tn(l)};if(S==="deleteRange"){if(_.type===4)return B({numFailures:O,failures:X,results:[],lastResult:void 0});_.type===3?W.push(M=C.clear()):W.push(M=C.delete(i(_)))}else{var N=z?F?[j,E]:[j,null]:[E,null],$=N[0],q=N[1];if(z)for(var Q=0;Q<G;++Q)W.push(M=q&&q[Q]!==void 0?C[S]($[Q],q[Q]):C[S]($[Q])),M.onerror=D;else for(var Q=0;Q<G;++Q)W.push(M=C[S]($[Q])),M.onerror=D}var P=function(l){var p=l.target.result;W.forEach(function(b,I){return b.error!=null&&(X[I]=b.error)}),B({numFailures:O,failures:X,results:S==="delete"?E:W.map(function(b){return b.result}),lastResult:p})};M.onerror=function(l){D(l),P(l)},M.onsuccess=P})}function m(v){var g=v.trans,S=v.values,E=v.query,j=v.reverse,_=v.unique;return new Promise(function(B,k){B=fe(B);var C=E.index,F=E.range,z=g.objectStore(y),G=C.isPrimaryKey?z:z.index(C.name),M=j?_?"prevunique":"prev":_?"nextunique":"next",W=S||!("openKeyCursor"in G)?G.openCursor(i(F),M):G.openKeyCursor(i(F),M);W.onerror=Me(k),W.onsuccess=fe(function(X){var O=W.result;if(!O){B(null);return}O.___id=++uc,O.done=!1;var D=O.continue.bind(O),N=O.continuePrimaryKey;N&&(N=N.bind(O));var $=O.advance.bind(O),q=function(){throw new Error("Cursor not started")},Q=function(){throw new Error("Cursor not stopped")};O.trans=g,O.stop=O.continue=O.continuePrimaryKey=O.advance=q,O.fail=fe(k),O.next=function(){var P=this,l=1;return this.start(function(){return l--?P.continue():P.stop()}).then(function(){return P})},O.start=function(P){var l=new Promise(function(b,I){b=fe(b),W.onerror=Me(I),O.fail=I,O.stop=function(x){O.stop=O.continue=O.continuePrimaryKey=O.advance=Q,b(x)}}),p=function(){if(W.result)try{P()}catch(b){O.fail(b)}else O.done=!0,O.start=function(){throw new Error("Cursor behind last entry")},O.stop()};return W.onsuccess=fe(function(b){W.onsuccess=p,p()}),O.continue=D,O.continuePrimaryKey=N,O.advance=$,p(),l},B(O)},k)})}function h(v){return function(g){return new Promise(function(S,E){S=fe(S);var j=g.trans,_=g.values,B=g.limit,k=g.query,C=B===1/0?void 0:B,F=k.index,z=k.range,G=j.objectStore(y),M=F.isPrimaryKey?G:G.index(F.name),W=i(z);if(B===0)return S({result:[]});if(v){var X=_?M.getAll(W,C):M.getAllKeys(W,C);X.onsuccess=function($){return S({result:$.target.result})},X.onerror=Me(E)}else{var O=0,D=_||!("openKeyCursor"in M)?M.openCursor(W):M.openKeyCursor(W),N=[];D.onsuccess=function($){var q=D.result;if(!q)return S({result:N});if(N.push(_?q.value:q.primaryKey),++O===B)return S({result:N});q.continue()},D.onerror=Me(E)}})}}return{name:y,schema:d,mutate:w,getMany:function(v){var g=v.trans,S=v.keys;return new Promise(function(E,j){E=fe(E);for(var _=g.objectStore(y),B=S.length,k=new Array(B),C=0,F=0,z,G=function(O){var D=O.target;(k[D._pos]=D.result)!=null,++F===C&&E(k)},M=Me(j),W=0;W<B;++W){var X=S[W];X!=null&&(z=_.get(S[W]),z._pos=W,z.onsuccess=G,z.onerror=M,++C)}C===0&&E(k)})},get:function(v){var g=v.trans,S=v.key;return new Promise(function(E,j){E=fe(E);var _=g.objectStore(y),B=_.get(S);B.onsuccess=function(k){return E(k.target.result)},B.onerror=Me(j)})},query:h(s),openCursor:m,count:function(v){var g=v.query,S=v.trans,E=g.index,j=g.range;return new Promise(function(_,B){var k=S.objectStore(y),C=E.isPrimaryKey?k:k.index(E.name),F=i(j),z=F?C.count(F):C.count();z.onsuccess=fe(function(G){return _(G.target.result)}),z.onerror=Me(B)})}}}var a=r(e,n),u=a.schema,s=a.hasGetAll,c=u.tables.map(function(d){return o(d)}),f={};return c.forEach(function(d){return f[d.name]=d}),{stack:"dbcore",transaction:e.transaction.bind(e),table:function(d){var y=f[d];if(!y)throw new Error("Table '"+d+"' not found");return f[d]},MIN_KEY:-1/0,MAX_KEY:rn(t),schema:u}}function cc(e,t){return t.reduce(function(n,r){var i=r.create;return oe(oe({},n),i(n))},e)}function lc(e,t,n,r){var i=n.IDBKeyRange;n.indexedDB;var o=cc(sc(t,i,r),e.dbcore);return{dbcore:o}}function $i(e,t){var n=e._novip,r=t.db,i=lc(n._middlewares,r,n._deps,t);n.core=i.dbcore,n.tables.forEach(function(o){var a=o.name;n.core.schema.tables.some(function(u){return u.name===a})&&(o.core=n.core.table(a),n[a]instanceof n.Table&&(n[a].core=o.core))})}function Ln(e,t,n,r){var i=e._novip;n.forEach(function(o){var a=r[o];t.forEach(function(u){var s=Pi(u,o);(!s||"value"in s&&s.value===void 0)&&(u===i.Transaction.prototype||u instanceof i.Transaction?Je(u,o,{get:function(){return this.table(o)},set:function(c){ua(this,o,{value:c,writable:!0,configurable:!0,enumerable:!0})}}):u[o]=new i.Table(o,a))})})}function ui(e,t){var n=e._novip;t.forEach(function(r){for(var i in r)r[i]instanceof n.Table&&delete r[i]})}function fc(e,t){return e._cfg.version-t._cfg.version}function pc(e,t,n,r){var i=e._dbSchema,o=e._createTransaction("readwrite",e._storeNames,i);o.create(n),o._completion.catch(r);var a=o._reject.bind(o),u=Z.transless||Z;nt(function(){Z.trans=o,Z.transless=u,t===0?(ye(i).forEach(function(s){ki(n,s,i[s].primKey,i[s].indexes)}),$i(e,n),L.follow(function(){return e.on.populate.fire(o)}).catch(a)):hc(e,t,o,n).catch(a)})}function hc(e,t,n,r){var i=e._novip,o=[],a=i._versions,u=i._dbSchema=Ni(i,i.idbdb,r),s=!1,c=a.filter(function(d){return d._cfg.version>=t});c.forEach(function(d){o.push(function(){var y=u,w=d._cfg.dbschema;ci(i,y,r),ci(i,w,r),u=i._dbSchema=w;var m=Ba(y,w);m.add.forEach(function(j){ki(r,j[0],j[1].primKey,j[1].indexes)}),m.change.forEach(function(j){if(j.recreate)throw new ee.Upgrade("Not yet support for changing primary key");var _=r.objectStore(j.name);j.add.forEach(function(B){return si(_,B)}),j.change.forEach(function(B){_.deleteIndex(B.name),si(_,B)}),j.del.forEach(function(B){return _.deleteIndex(B)})});var h=d._cfg.contentUpgrade;if(h&&d._cfg.version>t){$i(i,r),n._memoizedTables={},s=!0;var v=fa(w);m.del.forEach(function(j){v[j]=y[j]}),ui(i,[i.Transaction.prototype]),Ln(i,[i.Transaction.prototype],ye(v),v),n.schema=v;var g=Ti(h);g&&Lt();var S,E=L.follow(function(){if(S=h(n),S&&g){var j=Xe.bind(null,null);S.then(j,j)}});return S&&typeof S.then=="function"?L.resolve(S):E.then(function(){return S})}}),o.push(function(y){if(!s||!Ls){var w=d._cfg.dbschema;yc(w,y)}ui(i,[i.Transaction.prototype]),Ln(i,[i.Transaction.prototype],i._storeNames,i._dbSchema),n.schema=i._dbSchema})});function f(){return o.length?L.resolve(o.shift()(n.idbtrans)).then(f):L.resolve()}return f().then(function(){dc(u,r)})}function Ba(e,t){var n={del:[],add:[],change:[]},r;for(r in e)t[r]||n.del.push(r);for(r in t){var i=e[r],o=t[r];if(!i)n.add.push([r,o]);else{var a={name:r,def:o,recreate:!1,del:[],add:[],change:[]};if(""+(i.primKey.keyPath||"")!=""+(o.primKey.keyPath||"")||i.primKey.auto!==o.primKey.auto&&!Xn)a.recreate=!0,n.change.push(a);else{var u=i.idxByName,s=o.idxByName,c=void 0;for(c in u)s[c]||a.del.push(c);for(c in s){var f=u[c],d=s[c];f?f.src!==d.src&&a.change.push(d):a.add.push(d)}(a.del.length>0||a.add.length>0||a.change.length>0)&&n.change.push(a)}}}return n}function ki(e,t,n,r){var i=e.db.createObjectStore(t,n.keyPath?{keyPath:n.keyPath,autoIncrement:n.auto}:{autoIncrement:n.auto});return r.forEach(function(o){return si(i,o)}),i}function dc(e,t){ye(e).forEach(function(n){t.db.objectStoreNames.contains(n)||ki(t,n,e[n].primKey,e[n].indexes)})}function yc(e,t){[].slice.call(t.db.objectStoreNames).forEach(function(n){return e[n]==null&&t.db.deleteObjectStore(n)})}function si(e,t){e.createIndex(t.name,t.keyPath,{unique:t.unique,multiEntry:t.multi})}function Ni(e,t,n){var r={},i=Yn(t.objectStoreNames,0);return i.forEach(function(o){for(var a=n.objectStore(o),u=a.keyPath,s=oi(Ca(u),u||"",!1,!1,!!a.autoIncrement,u&&typeof u!="string",!0),c=[],f=0;f<a.indexNames.length;++f){var d=a.index(a.indexNames[f]);u=d.keyPath;var y=oi(d.name,u,!!d.unique,!!d.multiEntry,!1,u&&typeof u!="string",!1);c.push(y)}r[o]=Da(o,s,c)}),r}function vc(e,t,n){var r=e._novip;r.verno=t.version/10;var i=r._dbSchema=Ni(r,t,n);r._storeNames=Yn(t.objectStoreNames,0),Ln(r,[r._allTables],ye(i),i)}function gc(e,t){var n=Ni(e,e.idbdb,t),r=Ba(n,e._dbSchema);return!(r.add.length||r.change.some(function(i){return i.add.length||i.change.length}))}function ci(e,t,n){for(var r=e._novip,i=n.db.objectStoreNames,o=0;o<i.length;++o){var a=i[o],u=n.objectStore(a);r._hasGetAll="getAll"in u;for(var s=0;s<u.indexNames.length;++s){var c=u.indexNames[s],f=u.index(c).keyPath,d=typeof f=="string"?f:"["+Yn(f).join("+")+"]";if(t[a]){var y=t[a].idxByName[d];y&&(y.name=c,delete t[a].idxByName[d],t[a].idxByName[c]=y)}}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&le.WorkerGlobalScope&&le instanceof le.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(r._hasGetAll=!1)}function mc(e){return e.split(",").map(function(t,n){t=t.trim();var r=t.replace(/([&*]|\+\+)/g,""),i=/^\[/.test(r)?r.match(/^\[(.*)\]$/)[1].split("+"):r;return oi(r,i||null,/\&/.test(t),/\*/.test(t),/\+\+/.test(t),Se(i),n===0)})}var bc=function(){function e(){}return e.prototype._parseStoresSpec=function(t,n){ye(t).forEach(function(r){if(t[r]!==null){var i=mc(t[r]),o=i.shift();if(o.multi)throw new ee.Schema("Primary key cannot be multi-valued");i.forEach(function(a){if(a.auto)throw new ee.Schema("Only primary key can be marked as autoIncrement (++)");if(!a.keyPath)throw new ee.Schema("Index must have a name and cannot be an empty string")}),n[r]=Da(r,o,i)}})},e.prototype.stores=function(t){var n=this.db;this._cfg.storesSource=this._cfg.storesSource?Te(this._cfg.storesSource,t):t;var r=n._versions,i={},o={};return r.forEach(function(a){Te(i,a._cfg.storesSource),o=a._cfg.dbschema={},a._parseStoresSpec(i,o)}),n._dbSchema=o,ui(n,[n._allTables,n,n.Transaction.prototype]),Ln(n,[n._allTables,n,n.Transaction.prototype,this._cfg.tables],ye(o),o),n._storeNames=ye(o),this},e.prototype.upgrade=function(t){return this._cfg.contentUpgrade=Ii(this._cfg.contentUpgrade||se,t),this},e}();function wc(e){return hn(bc.prototype,function(n){this.db=e,this._cfg={version:n,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})}function Fi(e,t){var n=e._dbNamesDB;return n||(n=e._dbNamesDB=new Li(Qn,{addons:[],indexedDB:e,IDBKeyRange:t}),n.version(1).stores({dbnames:"name"})),n.table("dbnames")}function Mi(e){return e&&typeof e.databases=="function"}function _c(e){var t=e.indexedDB,n=e.IDBKeyRange;return Mi(t)?Promise.resolve(t.databases()).then(function(r){return r.map(function(i){return i.name}).filter(function(i){return i!==Qn})}):Fi(t,n).toCollection().primaryKeys()}function Sc(e,t){var n=e.indexedDB,r=e.IDBKeyRange;!Mi(n)&&t!==Qn&&Fi(n,r).put({name:t}).catch(se)}function Ac(e,t){var n=e.indexedDB,r=e.IDBKeyRange;!Mi(n)&&t!==Qn&&Fi(n,r).delete(t).catch(se)}function li(e){return nt(function(){return Z.letThrough=!0,e()})}function Ec(){var e=!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent);if(!e||!indexedDB.databases)return Promise.resolve();var t;return new Promise(function(n){var r=function(){return indexedDB.databases().finally(n)};t=setInterval(r,100),r()}).finally(function(){return clearInterval(t)})}function Oc(e){var t=e._state,n=e._deps.indexedDB;if(t.isBeingOpened||e.idbdb)return t.dbReadyPromise.then(function(){return t.dbOpenError?ve(t.dbOpenError):e});Ke&&(t.openCanceller._stackHolder=wt()),t.isBeingOpened=!0,t.dbOpenError=null,t.openComplete=!1;var r=t.openCanceller;function i(){if(t.openCanceller!==r)throw new ee.DatabaseClosed("db.open() was cancelled")}var o=t.dbReadyResolve,a=null,u=!1;return L.race([r,(typeof navigator>"u"?L.resolve():Ec()).then(function(){return new L(function(s,c){if(i(),!n)throw new ee.MissingAPI;var f=e.name,d=t.autoSchema?n.open(f):n.open(f,Math.round(e.verno*10));if(!d)throw new ee.MissingAPI;d.onerror=Me(c),d.onblocked=fe(e._fireOnBlocked),d.onupgradeneeded=fe(function(y){if(a=d.transaction,t.autoSchema&&!e._options.allowEmptyDB){d.onerror=tn,a.abort(),d.result.close();var w=n.deleteDatabase(f);w.onsuccess=w.onerror=fe(function(){c(new ee.NoSuchDatabase("Database "+f+" doesnt exist"))})}else{a.onerror=Me(c);var m=y.oldVersion>Math.pow(2,62)?0:y.oldVersion;u=m<1,e._novip.idbdb=d.result,pc(e,m/10,a,c)}},c),d.onsuccess=fe(function(){a=null;var y=e._novip.idbdb=d.result,w=Yn(y.objectStoreNames);if(w.length>0)try{var m=y.transaction(oc(w),"readonly");t.autoSchema?vc(e,y,m):(ci(e,e._dbSchema,m),gc(e,m)||console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Some queries may fail.")),$i(e,m)}catch{}Jt.push(e),y.onversionchange=fe(function(h){t.vcFired=!0,e.on("versionchange").fire(h)}),y.onclose=fe(function(h){e.on("close").fire(h)}),u&&Sc(e._deps,f),s()},c)})})]).then(function(){return i(),t.onReadyBeingFired=[],L.resolve(li(function(){return e.on.ready.fire(e.vip)})).then(function s(){if(t.onReadyBeingFired.length>0){var c=t.onReadyBeingFired.reduce(Ii,se);return t.onReadyBeingFired=[],L.resolve(li(function(){return c(e.vip)})).then(s)}})}).finally(function(){t.onReadyBeingFired=null,t.isBeingOpened=!1}).then(function(){return e}).catch(function(s){t.dbOpenError=s;try{a&&a.abort()}catch{}return r===t.openCanceller&&e._close(),ve(s)}).finally(function(){t.openComplete=!0,o()})}function fi(e){var t=function(a){return e.next(a)},n=function(a){return e.throw(a)},r=o(t),i=o(n);function o(a){return function(u){var s=a(u),c=s.value;return s.done?c:!c||typeof c.then!="function"?Se(c)?Promise.all(c).then(r,i):r(c):c.then(r,i)}}return o(t)()}function Pc(e,t,n){var r=arguments.length;if(r<2)throw new ee.InvalidArgument("Too few arguments");for(var i=new Array(r-1);--r;)i[r-1]=arguments[r];n=i.pop();var o=pa(i);return[e,o,n]}function $a(e,t,n,r,i){return L.resolve().then(function(){var o=Z.transless||Z,a=e._createTransaction(t,n,e._dbSchema,r),u={trans:a,transless:o};if(r)a.idbtrans=r.idbtrans;else try{a.create(),e._state.PR1398_maxLoop=3}catch(d){return d.name===xi.InvalidState&&e.isOpen()&&--e._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),e._close(),e.open().then(function(){return $a(e,t,n,null,i)})):ve(d)}var s=Ti(i);s&&Lt();var c,f=L.follow(function(){if(c=i.call(a,a),c)if(s){var d=Xe.bind(null,null);c.then(d,d)}else typeof c.next=="function"&&typeof c.throw=="function"&&(c=fi(c))},u);return(c&&typeof c.then=="function"?L.resolve(c).then(function(d){return a.active?d:ve(new ee.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):f.then(function(){return c})).then(function(d){return r&&a._resolve(),a._completion.then(function(){return d})}).catch(function(d){return a._reject(d),ve(d)})})}function bn(e,t,n){for(var r=Se(e)?e.slice():[e],i=0;i<n;++i)r.push(t);return r}function Tc(e){return oe(oe({},e),{table:function(t){var n=e.table(t),r=n.schema,i={},o=[];function a(h,v,g){var S=Xt(h),E=i[S]=i[S]||[],j=h==null?0:typeof h=="string"?1:h.length,_=v>0,B=oe(oe({},g),{isVirtual:_,keyTail:v,keyLength:j,extractKey:ai(h),unique:!_&&g.unique});if(E.push(B),B.isPrimaryKey||o.push(B),j>1){var k=j===2?h[0]:h.slice(0,j-1);a(k,v+1,g)}return E.sort(function(C,F){return C.keyTail-F.keyTail}),B}var u=a(r.primaryKey.keyPath,0,r.primaryKey);i[":id"]=[u];for(var s=0,c=r.indexes;s<c.length;s++){var f=c[s];a(f.keyPath,0,f)}function d(h){var v=i[Xt(h)];return v&&v[0]}function y(h,v){return{type:h.type===1?2:h.type,lower:bn(h.lower,h.lowerOpen?e.MAX_KEY:e.MIN_KEY,v),lowerOpen:!0,upper:bn(h.upper,h.upperOpen?e.MIN_KEY:e.MAX_KEY,v),upperOpen:!0}}function w(h){var v=h.query.index;return v.isVirtual?oe(oe({},h),{query:{index:v,range:y(h.query.range,v.keyTail)}}):h}var m=oe(oe({},n),{schema:oe(oe({},r),{primaryKey:u,indexes:o,getIndexByKeyPath:d}),count:function(h){return n.count(w(h))},query:function(h){return n.query(w(h))},openCursor:function(h){var v=h.query.index,g=v.keyTail,S=v.isVirtual,E=v.keyLength;if(!S)return n.openCursor(h);function j(_){function B(C){C!=null?_.continue(bn(C,h.reverse?e.MAX_KEY:e.MIN_KEY,g)):h.unique?_.continue(_.key.slice(0,E).concat(h.reverse?e.MIN_KEY:e.MAX_KEY,g)):_.continue()}var k=Object.create(_,{continue:{value:B},continuePrimaryKey:{value:function(C,F){_.continuePrimaryKey(bn(C,e.MAX_KEY,g),F)}},primaryKey:{get:function(){return _.primaryKey}},key:{get:function(){var C=_.key;return E===1?C[0]:C.slice(0,E)}},value:{get:function(){return _.value}}});return k}return n.openCursor(w(h)).then(function(_){return _&&j(_)})}});return m}})}var jc={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:Tc};function Ki(e,t,n,r){return n=n||{},r=r||"",ye(e).forEach(function(i){if(!$e(t,i))n[r+i]=void 0;else{var o=e[i],a=t[i];if(typeof o=="object"&&typeof a=="object"&&o&&a){var u=Gr(o),s=Gr(a);u!==s?n[r+i]=t[i]:u==="Object"?Ki(o,a,n,r+i+"."):o!==a&&(n[r+i]=t[i])}else o!==a&&(n[r+i]=t[i])}}),ye(t).forEach(function(i){$e(e,i)||(n[r+i]=t[i])}),n}function xc(e,t){return t.type==="delete"?t.keys:t.keys||t.values.map(e.extractKey)}var Ic={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(e){return oe(oe({},e),{table:function(t){var n=e.table(t),r=n.schema.primaryKey,i=oe(oe({},n),{mutate:function(o){var a=Z.trans,u=a.table(t).hook,s=u.deleting,c=u.creating,f=u.updating;switch(o.type){case"add":if(c.fire===se)break;return a._promise("readwrite",function(){return d(o)},!0);case"put":if(c.fire===se&&f.fire===se)break;return a._promise("readwrite",function(){return d(o)},!0);case"delete":if(s.fire===se)break;return a._promise("readwrite",function(){return d(o)},!0);case"deleteRange":if(s.fire===se)break;return a._promise("readwrite",function(){return y(o)},!0)}return n.mutate(o);function d(m){var h=Z.trans,v=m.keys||xc(r,m);if(!v)throw new Error("Keys missing");return m=m.type==="add"||m.type==="put"?oe(oe({},m),{keys:v}):oe({},m),m.type!=="delete"&&(m.values=Vr([],m.values,!0)),m.keys&&(m.keys=Vr([],m.keys,!0)),Rc(n,m,v).then(function(g){var S=v.map(function(E,j){var _=g[j],B={onerror:null,onsuccess:null};if(m.type==="delete")s.fire.call(B,E,_,h);else if(m.type==="add"||_===void 0){var k=c.fire.call(B,E,m.values[j],h);E==null&&k!=null&&(E=k,m.keys[j]=E,r.outbound||Ne(m.values[j],r.keyPath,E))}else{var C=Ki(_,m.values[j]),F=f.fire.call(B,C,E,_,h);if(F){var z=m.values[j];Object.keys(F).forEach(function(G){$e(z,G)?z[G]=F[G]:Ne(z,G,F[G])})}}return B});return n.mutate(m).then(function(E){for(var j=E.failures,_=E.results,B=E.numFailures,k=E.lastResult,C=0;C<v.length;++C){var F=_?_[C]:v[C],z=S[C];F==null?z.onerror&&z.onerror(j[C]):z.onsuccess&&z.onsuccess(m.type==="put"&&g[C]?m.values[C]:F)}return{failures:j,results:_,numFailures:B,lastResult:k}}).catch(function(E){return S.forEach(function(j){return j.onerror&&j.onerror(E)}),Promise.reject(E)})})}function y(m){return w(m.trans,m.range,1e4)}function w(m,h,v){return n.query({trans:m,values:!1,query:{index:r,range:h},limit:v}).then(function(g){var S=g.result;return d({type:"delete",keys:S,trans:m}).then(function(E){return E.numFailures>0?Promise.reject(E.failures[0]):S.length<v?{failures:[],numFailures:0,lastResult:void 0}:w(m,oe(oe({},h),{lower:S[S.length-1],lowerOpen:!0}),v)})})}}});return i}})}};function Rc(e,t,n){return t.type==="add"?Promise.resolve([]):e.getMany({trans:t.trans,keys:n,cache:"immutable"})}function ka(e,t,n){try{if(!t||t.keys.length<e.length)return null;for(var r=[],i=0,o=0;i<t.keys.length&&o<e.length;++i)Oe(t.keys[i],e[o])===0&&(r.push(n?sn(t.values[i]):t.values[i]),++o);return r.length===e.length?r:null}catch{return null}}var Cc={stack:"dbcore",level:-1,create:function(e){return{table:function(t){var n=e.table(t);return oe(oe({},n),{getMany:function(r){if(!r.cache)return n.getMany(r);var i=ka(r.keys,r.trans._cache,r.cache==="clone");return i?L.resolve(i):n.getMany(r).then(function(o){return r.trans._cache={keys:r.keys,values:r.cache==="clone"?sn(o):o},o})},mutate:function(r){return r.type!=="add"&&(r.trans._cache=null),n.mutate(r)}})}}}},fr;function qi(e){return!("from"in e)}var Ve=function(e,t){if(this)Te(this,arguments.length?{d:1,from:e,to:arguments.length>1?t:e}:{d:0});else{var n=new Ve;return e&&"d"in e&&Te(n,e),n}};Ct(Ve.prototype,(fr={add:function(e){return Un(this,e),this},addKey:function(e){return on(this,e,e),this},addKeys:function(e){var t=this;return e.forEach(function(n){return on(t,n,n)}),this}},fr[Wr]=function(){return pi(this)},fr));function on(e,t,n){var r=Oe(t,n);if(!isNaN(r)){if(r>0)throw RangeError();if(qi(e))return Te(e,{from:t,to:n,d:1});var i=e.l,o=e.r;if(Oe(n,e.from)<0)return i?on(i,t,n):e.l={from:t,to:n,d:1,l:null,r:null},yo(e);if(Oe(t,e.to)>0)return o?on(o,t,n):e.r={from:t,to:n,d:1,l:null,r:null},yo(e);Oe(t,e.from)<0&&(e.from=t,e.l=null,e.d=o?o.d+1:1),Oe(n,e.to)>0&&(e.to=n,e.r=null,e.d=e.l?e.l.d+1:1);var a=!e.r;i&&!e.l&&Un(e,i),o&&a&&Un(e,o)}}function Un(e,t){function n(r,i){var o=i.from,a=i.to,u=i.l,s=i.r;on(r,o,a),u&&n(r,u),s&&n(r,s)}qi(t)||n(e,t)}function Dc(e,t){var n=pi(t),r=n.next();if(r.done)return!1;for(var i=r.value,o=pi(e),a=o.next(i.from),u=a.value;!r.done&&!a.done;){if(Oe(u.from,i.to)<=0&&Oe(u.to,i.from)>=0)return!0;Oe(i.from,u.from)<0?i=(r=n.next(u.from)).value:u=(a=o.next(i.from)).value}return!1}function pi(e){var t=qi(e)?null:{s:0,n:e};return{next:function(n){for(var r=arguments.length>0;t;)switch(t.s){case 0:if(t.s=1,r)for(;t.n.l&&Oe(n,t.n.from)<0;)t={up:t,n:t.n.l,s:1};else for(;t.n.l;)t={up:t,n:t.n.l,s:1};case 1:if(t.s=2,!r||Oe(n,t.n.to)<=0)return{value:t.n,done:!1};case 2:if(t.n.r){t.s=3,t={up:t,n:t.n.r,s:0};continue}case 3:t=t.up}return{done:!0}}}}function yo(e){var t,n,r=(((t=e.r)===null||t===void 0?void 0:t.d)||0)-(((n=e.l)===null||n===void 0?void 0:n.d)||0),i=r>1?"r":r<-1?"l":"";if(i){var o=i==="r"?"l":"r",a=oe({},e),u=e[i];e.from=u.from,e.to=u.to,e[i]=u[i],a[i]=u[o],e[o]=a,a.d=vo(a)}e.d=vo(e)}function vo(e){var t=e.r,n=e.l;return(t?n?Math.max(t.d,n.d):t.d:n?n.d:0)+1}var Bc={stack:"dbcore",level:0,create:function(e){var t=e.schema.name,n=new Ve(e.MIN_KEY,e.MAX_KEY);return oe(oe({},e),{table:function(r){var i=e.table(r),o=i.schema,a=o.primaryKey,u=a.extractKey,s=a.outbound,c=oe(oe({},i),{mutate:function(y){var w=y.trans,m=w.mutatedParts||(w.mutatedParts={}),h=function(k){var C="idb://"+t+"/"+r+"/"+k;return m[C]||(m[C]=new Ve)},v=h(""),g=h(":dels"),S=y.type,E=y.type==="deleteRange"?[y.range]:y.type==="delete"?[y.keys]:y.values.length<50?[[],y.values]:[],j=E[0],_=E[1],B=y.trans._cache;return i.mutate(y).then(function(k){if(Se(j)){S!=="delete"&&(j=k.results),v.addKeys(j);var C=ka(j,B);!C&&S!=="add"&&g.addKeys(j),(C||_)&&$c(h,o,C,_)}else if(j){var F={from:j.lower,to:j.upper};g.add(F),v.add(F)}else v.add(n),g.add(n),o.indexes.forEach(function(z){return h(z.name).add(n)});return k})}}),f=function(y){var w,m,h=y.query,v=h.index,g=h.range;return[v,new Ve((w=g.lower)!==null&&w!==void 0?w:e.MIN_KEY,(m=g.upper)!==null&&m!==void 0?m:e.MAX_KEY)]},d={get:function(y){return[a,new Ve(y.key)]},getMany:function(y){return[a,new Ve().addKeys(y.keys)]},count:f,query:f,openCursor:f};return ye(d).forEach(function(y){c[y]=function(w){var m=Z.subscr;if(m){var h=function(B){var k="idb://"+t+"/"+r+"/"+B;return m[k]||(m[k]=new Ve)},v=h(""),g=h(":dels"),S=d[y](w),E=S[0],j=S[1];if(h(E.name||"").add(j),!E.isPrimaryKey)if(y==="count")g.add(n);else{var _=y==="query"&&s&&w.values&&i.query(oe(oe({},w),{values:!1}));return i[y].apply(this,arguments).then(function(B){if(y==="query"){if(s&&w.values)return _.then(function(z){var G=z.result;return v.addKeys(G),B});var k=w.values?B.result.map(u):B.result;w.values?v.addKeys(k):g.addKeys(k)}else if(y==="openCursor"){var C=B,F=w.values;return C&&Object.create(C,{key:{get:function(){return g.addKey(C.primaryKey),C.key}},primaryKey:{get:function(){var z=C.primaryKey;return g.addKey(z),z}},value:{get:function(){return F&&v.addKey(C.primaryKey),C.value}}})}return B})}}return i[y].apply(this,arguments)}}),c}})}};function $c(e,t,n,r){function i(o){var a=e(o.name||"");function u(c){return c!=null?o.extractKey(c):null}var s=function(c){return o.multiEntry&&Se(c)?c.forEach(function(f){return a.addKey(f)}):a.addKey(c)};(n||r).forEach(function(c,f){var d=n&&u(n[f]),y=r&&u(r[f]);Oe(d,y)!==0&&(d!=null&&s(d),y!=null&&s(y))})}t.indexes.forEach(i)}var Li=function(){function e(t,n){var r=this;this._middlewares={},this.verno=0;var i=e.dependencies;this._options=n=oe({addons:e.addons,autoOpen:!0,indexedDB:i.indexedDB,IDBKeyRange:i.IDBKeyRange},n),this._deps={indexedDB:n.indexedDB,IDBKeyRange:n.IDBKeyRange};var o=n.addons;this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var a={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:se,dbReadyPromise:null,cancelOpen:se,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3};a.dbReadyPromise=new L(function(u){a.dbReadyResolve=u}),a.openCanceller=new L(function(u,s){a.cancelOpen=s}),this._state=a,this.name=t,this.on=pn(this,"populate","blocked","versionchange","close",{ready:[Ii,se]}),this.on.ready.subscribe=sa(this.on.ready.subscribe,function(u){return function(s,c){e.vip(function(){var f=r._state;if(f.openComplete)f.dbOpenError||L.resolve().then(s),c&&u(s);else if(f.onReadyBeingFired)f.onReadyBeingFired.push(s),c&&u(s);else{u(s);var d=r;c||u(function y(){d.on.ready.unsubscribe(s),d.on.ready.unsubscribe(y)})}})}}),this.Collection=Js(this),this.Table=zs(this),this.Transaction=ic(this),this.Version=wc(this),this.WhereClause=nc(this),this.on("versionchange",function(u){u.newVersion>0?console.warn("Another connection wants to upgrade database '"+r.name+"'. Closing db now to resume the upgrade."):console.warn("Another connection wants to delete database '"+r.name+"'. Closing db now to resume the delete request."),r.close()}),this.on("blocked",function(u){!u.newVersion||u.newVersion<u.oldVersion?console.warn("Dexie.delete('"+r.name+"') was blocked"):console.warn("Upgrade '"+r.name+"' blocked by other connection holding version "+u.oldVersion/10)}),this._maxKey=rn(n.IDBKeyRange),this._createTransaction=function(u,s,c,f){return new r.Transaction(u,s,c,r._options.chromeTransactionDurability,f)},this._fireOnBlocked=function(u){r.on("blocked").fire(u),Jt.filter(function(s){return s.name===r.name&&s!==r&&!s._state.vcFired}).map(function(s){return s.on("versionchange").fire(u)})},this.use(jc),this.use(Ic),this.use(Bc),this.use(Cc),this.vip=Object.create(this,{_vip:{value:!0}}),o.forEach(function(u){return u(r)})}return e.prototype.version=function(t){if(isNaN(t)||t<.1)throw new ee.Type("Given version is not a positive number");if(t=Math.round(t*10)/10,this.idbdb||this._state.isBeingOpened)throw new ee.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,t);var n=this._versions,r=n.filter(function(i){return i._cfg.version===t})[0];return r||(r=new this.Version(t),n.push(r),n.sort(fc),r.stores({}),this._state.autoSchema=!1,r)},e.prototype._whenReady=function(t){var n=this;return this.idbdb&&(this._state.openComplete||Z.letThrough||this._vip)?t():new L(function(r,i){if(n._state.openComplete)return i(new ee.DatabaseClosed(n._state.dbOpenError));if(!n._state.isBeingOpened){if(!n._options.autoOpen){i(new ee.DatabaseClosed);return}n.open().catch(se)}n._state.dbReadyPromise.then(r,i)}).then(t)},e.prototype.use=function(t){var n=t.stack,r=t.create,i=t.level,o=t.name;o&&this.unuse({stack:n,name:o});var a=this._middlewares[n]||(this._middlewares[n]=[]);return a.push({stack:n,create:r,level:i??10,name:o}),a.sort(function(u,s){return u.level-s.level}),this},e.prototype.unuse=function(t){var n=t.stack,r=t.name,i=t.create;return n&&this._middlewares[n]&&(this._middlewares[n]=this._middlewares[n].filter(function(o){return i?o.create!==i:r?o.name!==r:!1})),this},e.prototype.open=function(){return Oc(this)},e.prototype._close=function(){var t=this._state,n=Jt.indexOf(this);if(n>=0&&Jt.splice(n,1),this.idbdb){try{this.idbdb.close()}catch{}this._novip.idbdb=null}t.dbReadyPromise=new L(function(r){t.dbReadyResolve=r}),t.openCanceller=new L(function(r,i){t.cancelOpen=i})},e.prototype.close=function(){this._close();var t=this._state;this._options.autoOpen=!1,t.dbOpenError=new ee.DatabaseClosed,t.isBeingOpened&&t.cancelOpen(t.dbOpenError)},e.prototype.delete=function(){var t=this,n=arguments.length>0,r=this._state;return new L(function(i,o){var a=function(){t.close();var u=t._deps.indexedDB.deleteDatabase(t.name);u.onsuccess=fe(function(){Ac(t._deps,t.name),i()}),u.onerror=Me(o),u.onblocked=t._fireOnBlocked};if(n)throw new ee.InvalidArgument("Arguments not allowed in db.delete()");r.isBeingOpened?r.dbReadyPromise.then(a):a()})},e.prototype.backendDB=function(){return this.idbdb},e.prototype.isOpen=function(){return this.idbdb!==null},e.prototype.hasBeenClosed=function(){var t=this._state.dbOpenError;return t&&t.name==="DatabaseClosed"},e.prototype.hasFailed=function(){return this._state.dbOpenError!==null},e.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(e.prototype,"tables",{get:function(){var t=this;return ye(this._allTables).map(function(n){return t._allTables[n]})},enumerable:!1,configurable:!0}),e.prototype.transaction=function(){var t=Pc.apply(this,arguments);return this._transaction.apply(this,t)},e.prototype._transaction=function(t,n,r){var i=this,o=Z.trans;(!o||o.db!==this||t.indexOf("!")!==-1)&&(o=null);var a=t.indexOf("?")!==-1;t=t.replace("!","").replace("?","");var u,s;try{if(s=n.map(function(f){var d=f instanceof i.Table?f.name:f;if(typeof d!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return d}),t=="r"||t===ar)u=ar;else if(t=="rw"||t==ur)u=ur;else throw new ee.InvalidArgument("Invalid transaction mode: "+t);if(o){if(o.mode===ar&&u===ur)if(a)o=null;else throw new ee.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");o&&s.forEach(function(f){if(o&&o.storeNames.indexOf(f)===-1)if(a)o=null;else throw new ee.SubTransaction("Table "+f+" not included in parent transaction.")}),a&&o&&!o.active&&(o=null)}}catch(f){return o?o._promise(null,function(d,y){y(f)}):ve(f)}var c=$a.bind(null,this,u,s,o,r);return o?o._promise(u,c,"lock"):Z.trans?Ut(Z.transless,function(){return i._whenReady(c)}):this._whenReady(c)},e.prototype.table=function(t){if(!$e(this._allTables,t))throw new ee.InvalidTable("Table "+t+" does not exist");return this._allTables[t]},e}(),kc=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",Nc=function(){function e(t){this._subscribe=t}return e.prototype.subscribe=function(t,n,r){return this._subscribe(!t||typeof t=="function"?{next:t,error:n,complete:r}:t)},e.prototype[kc]=function(){return this},e}();function Na(e,t){return ye(t).forEach(function(n){var r=e[n]||(e[n]=new Ve);Un(r,t[n])}),e}function Fa(e){return new Nc(function(t){var n=Ti(e);function r(w){n&&Lt();var m=function(){return nt(e,{subscr:w,trans:null})},h=Z.trans?Ut(Z.transless,m):m();return n&&h.then(Xe,Xe),h}var i=!1,o={},a={},u={get closed(){return i},unsubscribe:function(){i=!0,it.storagemutated.unsubscribe(d)}};t.start&&t.start(u);var s=!1,c=!1;function f(){return ye(a).some(function(w){return o[w]&&Dc(o[w],a[w])})}var d=function(w){Na(o,w),f()&&y()},y=function(){if(!(s||i)){o={};var w={},m=r(w);c||(it(nn,d),c=!0),s=!0,Promise.resolve(m).then(function(h){s=!1,!i&&(f()?y():(o={},a=w,t.next&&t.next(h)))},function(h){s=!1,t.error&&t.error(h),u.unsubscribe()})}};return y(),u})}var hi;try{hi={indexedDB:le.indexedDB||le.mozIndexedDB||le.webkitIndexedDB||le.msIndexedDB,IDBKeyRange:le.IDBKeyRange||le.webkitIDBKeyRange}}catch{hi={indexedDB:null,IDBKeyRange:null}}var ft=Li;Ct(ft,oe(oe({},Jn),{delete:function(e){var t=new ft(e,{addons:[]});return t.delete()},exists:function(e){return new ft(e,{addons:[]}).open().then(function(t){return t.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(e){try{return _c(ft.dependencies).then(e)}catch{return ve(new ee.MissingAPI)}},defineClass:function(){function e(t){Te(this,t)}return e},ignoreTransaction:function(e){return Z.trans?Ut(Z.transless,e):e()},vip:li,async:function(e){return function(){try{var t=fi(e.apply(this,arguments));return!t||typeof t.then!="function"?L.resolve(t):t}catch(n){return ve(n)}}},spawn:function(e,t,n){try{var r=fi(e.apply(n,t||[]));return!r||typeof r.then!="function"?L.resolve(r):r}catch(i){return ve(i)}},currentTransaction:{get:function(){return Z.trans||null}},waitFor:function(e,t){var n=L.resolve(typeof e=="function"?ft.ignoreTransaction(e):e).timeout(t||6e4);return Z.trans?Z.trans.waitFor(n):n},Promise:L,debug:{get:function(){return Ke},set:function(e){da(e,e==="dexie"?function(){return!0}:ja)}},derive:Kt,extend:Te,props:Ct,override:sa,Events:pn,on:it,liveQuery:Fa,extendObservabilitySet:Na,getByKeyPath:Ye,setByKeyPath:Ne,delByKeyPath:vs,shallowClone:fa,deepClone:sn,getObjectDiff:Ki,cmp:Oe,asap:ca,minKey:ii,addons:[],connections:Jt,errnames:xi,dependencies:hi,semVer:so,version:so.split(".").map(function(e){return parseInt(e)}).reduce(function(e,t,n){return e+t/Math.pow(10,n*2)})}));ft.maxKey=rn(ft.dependencies.IDBKeyRange);typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(it(nn,function(e){if(!We){var t;Xn?(t=document.createEvent("CustomEvent"),t.initCustomEvent(et,!0,!0,e)):t=new CustomEvent(et,{detail:e}),We=!0,dispatchEvent(t),We=!1}}),addEventListener(et,function(e){var t=e.detail;We||Vn(t)}));function Vn(e){var t=We;try{We=!0,it.storagemutated.fire(e)}finally{We=t}}var We=!1;if(typeof BroadcastChannel<"u"){var go=new BroadcastChannel(et);it(nn,function(e){We||go.postMessage(e)}),go.onmessage=function(e){e.data&&Vn(e.data)}}else if(typeof self<"u"&&typeof navigator<"u"){it(nn,function(e){try{We||(typeof localStorage<"u"&&localStorage.setItem(et,JSON.stringify({trig:Math.random(),changedParts:e})),typeof self.clients=="object"&&Vr([],self.clients.matchAll({includeUncontrolled:!0}),!0).forEach(function(t){return t.postMessage({type:et,changedParts:e})}))}catch{}}),typeof addEventListener<"u"&&addEventListener("storage",function(e){if(e.key===et){var t=JSON.parse(e.newValue);t&&Vn(t.changedParts)}});var mo=self.document&&navigator.serviceWorker;mo&&mo.addEventListener("message",Fc)}function Fc(e){var t=e.data;t&&t.type===et&&Vn(t.changedParts)}L.rejectionMapper=Os;da(Ke,ja);class Mc extends Li{constructor(){super("SoundBoardDB");ue(this,"sample");this.version(1).stores({sample:"filename"})}}const Ji=class{constructor(){ue(this,"_database");this._database=new Mc}static get instance(){if(!this._instance)throw new Error("AppStore not Initialized");return this._instance}static init(){this._instance=new Ji}async getSampleBlob(t){return await this._database.sample.get({filename:t}).then(n=>n==null?void 0:n.data)}async getSampleWaveform(t){return await this._database.sample.get({filename:t}).then(n=>n==null?void 0:n.waveform)}async getAllSampleFileNames(){return await this._database.sample.toCollection().keys()}async addSampleFromFile(t){return await this._database.sample.put({filename:t.name,data:t})}async addSample(t){return await this._database.sample.put(t)}async deleteSampleByName(t){return await this._database.sample.where({filename:t}).delete()}};let Pe=Ji;ue(Pe,"_instance");var Ui=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Kc(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var zn={},qc={get exports(){return zn},set exports(e){zn=e}},pr={},Dt={},Ma={},Ka=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var t={},n=Symbol("test"),r=Object(n);if(typeof n=="string"||Object.prototype.toString.call(n)!=="[object Symbol]"||Object.prototype.toString.call(r)!=="[object Symbol]")return!1;var i=42;t[n]=i;for(n in t)return!1;if(typeof Object.keys=="function"&&Object.keys(t).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(t).length!==0)return!1;var o=Object.getOwnPropertySymbols(t);if(o.length!==1||o[0]!==n||!Object.prototype.propertyIsEnumerable.call(t,n))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var a=Object.getOwnPropertyDescriptor(t,n);if(a.value!==i||a.enumerable!==!0)return!1}return!0},Lc=Ka,Zn=function(){return Lc()&&!!Symbol.toStringTag},hr,bo;function Uc(){if(bo)return hr;bo=1;var e=typeof Symbol<"u"&&Symbol,t=Ka;return hr=function(){return typeof e!="function"||typeof Symbol!="function"||typeof e("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:t()},hr}var dr,wo;function Vc(){if(wo)return dr;wo=1;var e="Function.prototype.bind called on incompatible ",t=Array.prototype.slice,n=Object.prototype.toString,r="[object Function]";return dr=function(o){var a=this;if(typeof a!="function"||n.call(a)!==r)throw new TypeError(e+a);for(var u=t.call(arguments,1),s,c=function(){if(this instanceof s){var m=a.apply(this,u.concat(t.call(arguments)));return Object(m)===m?m:this}else return a.apply(o,u.concat(t.call(arguments)))},f=Math.max(0,a.length-u.length),d=[],y=0;y<f;y++)d.push("$"+y);if(s=Function("binder","return function ("+d.join(",")+"){ return binder.apply(this,arguments); }")(c),a.prototype){var w=function(){};w.prototype=a.prototype,s.prototype=new w,w.prototype=null}return s},dr}var yr,_o;function Vi(){if(_o)return yr;_o=1;var e=Vc();return yr=Function.prototype.bind||e,yr}var vr,So;function zc(){if(So)return vr;So=1;var e=Vi();return vr=e.call(Function.call,Object.prototype.hasOwnProperty),vr}var gr,Ao;function er(){if(Ao)return gr;Ao=1;var e,t=SyntaxError,n=Function,r=TypeError,i=function(G){try{return n('"use strict"; return ('+G+").constructor;")()}catch{}},o=Object.getOwnPropertyDescriptor;if(o)try{o({},"")}catch{o=null}var a=function(){throw new r},u=o?function(){try{return arguments.callee,a}catch{try{return o(arguments,"callee").get}catch{return a}}}():a,s=Uc()(),c=Object.getPrototypeOf||function(G){return G.__proto__},f={},d=typeof Uint8Array>"u"?e:c(Uint8Array),y={"%AggregateError%":typeof AggregateError>"u"?e:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?e:ArrayBuffer,"%ArrayIteratorPrototype%":s?c([][Symbol.iterator]()):e,"%AsyncFromSyncIteratorPrototype%":e,"%AsyncFunction%":f,"%AsyncGenerator%":f,"%AsyncGeneratorFunction%":f,"%AsyncIteratorPrototype%":f,"%Atomics%":typeof Atomics>"u"?e:Atomics,"%BigInt%":typeof BigInt>"u"?e:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?e:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?e:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?e:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?e:Float32Array,"%Float64Array%":typeof Float64Array>"u"?e:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?e:FinalizationRegistry,"%Function%":n,"%GeneratorFunction%":f,"%Int8Array%":typeof Int8Array>"u"?e:Int8Array,"%Int16Array%":typeof Int16Array>"u"?e:Int16Array,"%Int32Array%":typeof Int32Array>"u"?e:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":s?c(c([][Symbol.iterator]())):e,"%JSON%":typeof JSON=="object"?JSON:e,"%Map%":typeof Map>"u"?e:Map,"%MapIteratorPrototype%":typeof Map>"u"||!s?e:c(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?e:Promise,"%Proxy%":typeof Proxy>"u"?e:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?e:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?e:Set,"%SetIteratorPrototype%":typeof Set>"u"||!s?e:c(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?e:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":s?c(""[Symbol.iterator]()):e,"%Symbol%":s?Symbol:e,"%SyntaxError%":t,"%ThrowTypeError%":u,"%TypedArray%":d,"%TypeError%":r,"%Uint8Array%":typeof Uint8Array>"u"?e:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?e:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?e:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?e:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?e:WeakMap,"%WeakRef%":typeof WeakRef>"u"?e:WeakRef,"%WeakSet%":typeof WeakSet>"u"?e:WeakSet};try{null.error}catch(G){var w=c(c(G));y["%Error.prototype%"]=w}var m=function G(M){var W;if(M==="%AsyncFunction%")W=i("async function () {}");else if(M==="%GeneratorFunction%")W=i("function* () {}");else if(M==="%AsyncGeneratorFunction%")W=i("async function* () {}");else if(M==="%AsyncGenerator%"){var X=G("%AsyncGeneratorFunction%");X&&(W=X.prototype)}else if(M==="%AsyncIteratorPrototype%"){var O=G("%AsyncGenerator%");O&&(W=c(O.prototype))}return y[M]=W,W},h={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},v=Vi(),g=zc(),S=v.call(Function.call,Array.prototype.concat),E=v.call(Function.apply,Array.prototype.splice),j=v.call(Function.call,String.prototype.replace),_=v.call(Function.call,String.prototype.slice),B=v.call(Function.call,RegExp.prototype.exec),k=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,C=/\\(\\)?/g,F=function(M){var W=_(M,0,1),X=_(M,-1);if(W==="%"&&X!=="%")throw new t("invalid intrinsic syntax, expected closing `%`");if(X==="%"&&W!=="%")throw new t("invalid intrinsic syntax, expected opening `%`");var O=[];return j(M,k,function(D,N,$,q){O[O.length]=$?j(q,C,"$1"):N||D}),O},z=function(M,W){var X=M,O;if(g(h,X)&&(O=h[X],X="%"+O[0]+"%"),g(y,X)){var D=y[X];if(D===f&&(D=m(X)),typeof D>"u"&&!W)throw new r("intrinsic "+M+" exists, but is not available. Please file an issue!");return{alias:O,name:X,value:D}}throw new t("intrinsic "+M+" does not exist!")};return gr=function(M,W){if(typeof M!="string"||M.length===0)throw new r("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof W!="boolean")throw new r('"allowMissing" argument must be a boolean');if(B(/^%?[^%]*%?$/,M)===null)throw new t("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var X=F(M),O=X.length>0?X[0]:"",D=z("%"+O+"%",W),N=D.name,$=D.value,q=!1,Q=D.alias;Q&&(O=Q[0],E(X,S([0,1],Q)));for(var P=1,l=!0;P<X.length;P+=1){var p=X[P],b=_(p,0,1),I=_(p,-1);if((b==='"'||b==="'"||b==="`"||I==='"'||I==="'"||I==="`")&&b!==I)throw new t("property names with quotes must have matching quotes");if((p==="constructor"||!l)&&(q=!0),O+="."+p,N="%"+O+"%",g(y,N))$=y[N];else if($!=null){if(!(p in $)){if(!W)throw new r("base intrinsic for "+M+" exists, but the property is not available.");return}if(o&&P+1>=X.length){var x=o($,p);l=!!x,l&&"get"in x&&!("originalValue"in x.get)?$=x.get:$=$[p]}else l=g($,p),$=$[p];l&&!q&&(y[N]=$)}}return $},gr}var Gn={},Gc={get exports(){return Gn},set exports(e){Gn=e}},Eo;function zi(){return Eo||(Eo=1,function(e){var t=Vi(),n=er(),r=n("%Function.prototype.apply%"),i=n("%Function.prototype.call%"),o=n("%Reflect.apply%",!0)||t.call(i,r),a=n("%Object.getOwnPropertyDescriptor%",!0),u=n("%Object.defineProperty%",!0),s=n("%Math.max%");if(u)try{u({},"a",{value:1})}catch{u=null}e.exports=function(d){var y=o(t,i,arguments);if(a&&u){var w=a(y,"length");w.configurable&&u(y,"length",{value:1+s(0,d.length-(arguments.length-1))})}return y};var c=function(){return o(t,r,arguments)};u?u(e.exports,"apply",{value:c}):e.exports.apply=c}(Gc)),Gn}var qa=er(),La=zi(),Wc=La(qa("String.prototype.indexOf")),Gi=function(t,n){var r=qa(t,!!n);return typeof r=="function"&&Wc(t,".prototype.")>-1?La(r):r},Hc=Zn(),Yc=Gi,di=Yc("Object.prototype.toString"),tr=function(t){return Hc&&t&&typeof t=="object"&&Symbol.toStringTag in t?!1:di(t)==="[object Arguments]"},Ua=function(t){return tr(t)?!0:t!==null&&typeof t=="object"&&typeof t.length=="number"&&t.length>=0&&di(t)!=="[object Array]"&&di(t.callee)==="[object Function]"},Jc=function(){return tr(arguments)}();tr.isLegacyArguments=Ua;var Xc=Jc?tr:Ua,Qc=Object.prototype.toString,Zc=Function.prototype.toString,el=/^\s*(?:function)?\*/,Va=Zn(),mr=Object.getPrototypeOf,tl=function(){if(!Va)return!1;try{return Function("return function*() {}")()}catch{}},br,nl=function(t){if(typeof t!="function")return!1;if(el.test(Zc.call(t)))return!0;if(!Va){var n=Qc.call(t);return n==="[object GeneratorFunction]"}if(!mr)return!1;if(typeof br>"u"){var r=tl();br=r?mr(r):!1}return mr(t)===br},za=Function.prototype.toString,jt=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,yi,Tn;if(typeof jt=="function"&&typeof Object.defineProperty=="function")try{yi=Object.defineProperty({},"length",{get:function(){throw Tn}}),Tn={},jt(function(){throw 42},null,yi)}catch(e){e!==Tn&&(jt=null)}else jt=null;var rl=/^\s*class\b/,vi=function(t){try{var n=za.call(t);return rl.test(n)}catch{return!1}},wr=function(t){try{return vi(t)?!1:(za.call(t),!0)}catch{return!1}},jn=Object.prototype.toString,il="[object Object]",ol="[object Function]",al="[object GeneratorFunction]",ul="[object HTMLAllCollection]",sl="[object HTML document.all class]",cl="[object HTMLCollection]",ll=typeof Symbol=="function"&&!!Symbol.toStringTag,fl=!(0 in[,]),gi=function(){return!1};if(typeof document=="object"){var pl=document.all;jn.call(pl)===jn.call(document.all)&&(gi=function(t){if((fl||!t)&&(typeof t>"u"||typeof t=="object"))try{var n=jn.call(t);return(n===ul||n===sl||n===cl||n===il)&&t("")==null}catch{}return!1})}var hl=jt?function(t){if(gi(t))return!0;if(!t||typeof t!="function"&&typeof t!="object")return!1;try{jt(t,null,yi)}catch(n){if(n!==Tn)return!1}return!vi(t)&&wr(t)}:function(t){if(gi(t))return!0;if(!t||typeof t!="function"&&typeof t!="object")return!1;if(ll)return wr(t);if(vi(t))return!1;var n=jn.call(t);return n!==ol&&n!==al&&!/^\[object HTML/.test(n)?!1:wr(t)},dl=hl,yl=Object.prototype.toString,Ga=Object.prototype.hasOwnProperty,vl=function(t,n,r){for(var i=0,o=t.length;i<o;i++)Ga.call(t,i)&&(r==null?n(t[i],i,t):n.call(r,t[i],i,t))},gl=function(t,n,r){for(var i=0,o=t.length;i<o;i++)r==null?n(t.charAt(i),i,t):n.call(r,t.charAt(i),i,t)},ml=function(t,n,r){for(var i in t)Ga.call(t,i)&&(r==null?n(t[i],i,t):n.call(r,t[i],i,t))},bl=function(t,n,r){if(!dl(n))throw new TypeError("iterator must be a function");var i;arguments.length>=3&&(i=r),yl.call(t)==="[object Array]"?vl(t,n,i):typeof t=="string"?gl(t,n,i):ml(t,n,i)},Wa=bl,_r=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],wl=typeof globalThis>"u"?Ui:globalThis,Ha=function(){for(var t=[],n=0;n<_r.length;n++)typeof wl[_r[n]]=="function"&&(t[t.length]=_r[n]);return t},_l=er(),xn=_l("%Object.getOwnPropertyDescriptor%",!0);if(xn)try{xn([],"length")}catch{xn=null}var Ya=xn,Ja=Wa,Sl=Ha,Wi=Gi,Al=Wi("Object.prototype.toString"),Xa=Zn(),In=Ya,El=typeof globalThis>"u"?Ui:globalThis,Qa=Sl(),Ol=Wi("Array.prototype.indexOf",!0)||function(t,n){for(var r=0;r<t.length;r+=1)if(t[r]===n)return r;return-1},Pl=Wi("String.prototype.slice"),Za={},Sr=Object.getPrototypeOf;Xa&&In&&Sr&&Ja(Qa,function(e){var t=new El[e];if(Symbol.toStringTag in t){var n=Sr(t),r=In(n,Symbol.toStringTag);if(!r){var i=Sr(n);r=In(i,Symbol.toStringTag)}Za[e]=r.get}});var Tl=function(t){var n=!1;return Ja(Za,function(r,i){if(!n)try{n=r.call(t)===i}catch{}}),n},eu=function(t){if(!t||typeof t!="object")return!1;if(!Xa||!(Symbol.toStringTag in t)){var n=Pl(Al(t),8,-1);return Ol(Qa,n)>-1}return In?Tl(t):!1},tu=Wa,jl=Ha,nu=Gi,Ar=Ya,xl=nu("Object.prototype.toString"),ru=Zn(),Oo=typeof globalThis>"u"?Ui:globalThis,Il=jl(),Rl=nu("String.prototype.slice"),iu={},Er=Object.getPrototypeOf;ru&&Ar&&Er&&tu(Il,function(e){if(typeof Oo[e]=="function"){var t=new Oo[e];if(Symbol.toStringTag in t){var n=Er(t),r=Ar(n,Symbol.toStringTag);if(!r){var i=Er(n);r=Ar(i,Symbol.toStringTag)}iu[e]=r.get}}});var Cl=function(t){var n=!1;return tu(iu,function(r,i){if(!n)try{var o=r.call(t);o===i&&(n=o)}catch{}}),n},Dl=eu,Bl=function(t){return Dl(t)?!ru||!(Symbol.toStringTag in t)?Rl(xl(t),8,-1):Cl(t):!1};(function(e){var t=Xc,n=nl,r=Bl,i=eu;function o(R){return R.call.bind(R)}var a=typeof BigInt<"u",u=typeof Symbol<"u",s=o(Object.prototype.toString),c=o(Number.prototype.valueOf),f=o(String.prototype.valueOf),d=o(Boolean.prototype.valueOf);if(a)var y=o(BigInt.prototype.valueOf);if(u)var w=o(Symbol.prototype.valueOf);function m(R,ct){if(typeof R!="object")return!1;try{return ct(R),!0}catch{return!1}}e.isArgumentsObject=t,e.isGeneratorFunction=n,e.isTypedArray=i;function h(R){return typeof Promise<"u"&&R instanceof Promise||R!==null&&typeof R=="object"&&typeof R.then=="function"&&typeof R.catch=="function"}e.isPromise=h;function v(R){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(R):i(R)||p(R)}e.isArrayBufferView=v;function g(R){return r(R)==="Uint8Array"}e.isUint8Array=g;function S(R){return r(R)==="Uint8ClampedArray"}e.isUint8ClampedArray=S;function E(R){return r(R)==="Uint16Array"}e.isUint16Array=E;function j(R){return r(R)==="Uint32Array"}e.isUint32Array=j;function _(R){return r(R)==="Int8Array"}e.isInt8Array=_;function B(R){return r(R)==="Int16Array"}e.isInt16Array=B;function k(R){return r(R)==="Int32Array"}e.isInt32Array=k;function C(R){return r(R)==="Float32Array"}e.isFloat32Array=C;function F(R){return r(R)==="Float64Array"}e.isFloat64Array=F;function z(R){return r(R)==="BigInt64Array"}e.isBigInt64Array=z;function G(R){return r(R)==="BigUint64Array"}e.isBigUint64Array=G;function M(R){return s(R)==="[object Map]"}M.working=typeof Map<"u"&&M(new Map);function W(R){return typeof Map>"u"?!1:M.working?M(R):R instanceof Map}e.isMap=W;function X(R){return s(R)==="[object Set]"}X.working=typeof Set<"u"&&X(new Set);function O(R){return typeof Set>"u"?!1:X.working?X(R):R instanceof Set}e.isSet=O;function D(R){return s(R)==="[object WeakMap]"}D.working=typeof WeakMap<"u"&&D(new WeakMap);function N(R){return typeof WeakMap>"u"?!1:D.working?D(R):R instanceof WeakMap}e.isWeakMap=N;function $(R){return s(R)==="[object WeakSet]"}$.working=typeof WeakSet<"u"&&$(new WeakSet);function q(R){return $(R)}e.isWeakSet=q;function Q(R){return s(R)==="[object ArrayBuffer]"}Q.working=typeof ArrayBuffer<"u"&&Q(new ArrayBuffer);function P(R){return typeof ArrayBuffer>"u"?!1:Q.working?Q(R):R instanceof ArrayBuffer}e.isArrayBuffer=P;function l(R){return s(R)==="[object DataView]"}l.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&l(new DataView(new ArrayBuffer(1),0,1));function p(R){return typeof DataView>"u"?!1:l.working?l(R):R instanceof DataView}e.isDataView=p;var b=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function I(R){return s(R)==="[object SharedArrayBuffer]"}function x(R){return typeof b>"u"?!1:(typeof I.working>"u"&&(I.working=I(new b)),I.working?I(R):R instanceof b)}e.isSharedArrayBuffer=x;function U(R){return s(R)==="[object AsyncFunction]"}e.isAsyncFunction=U;function H(R){return s(R)==="[object Map Iterator]"}e.isMapIterator=H;function V(R){return s(R)==="[object Set Iterator]"}e.isSetIterator=V;function ne(R){return s(R)==="[object Generator]"}e.isGeneratorObject=ne;function pe(R){return s(R)==="[object WebAssembly.Module]"}e.isWebAssemblyCompiledModule=pe;function je(R){return m(R,c)}e.isNumberObject=je;function Ie(R){return m(R,f)}e.isStringObject=Ie;function he(R){return m(R,d)}e.isBooleanObject=he;function qe(R){return a&&m(R,y)}e.isBigIntObject=qe;function st(R){return u&&m(R,w)}e.isSymbolObject=st;function Ee(R){return je(R)||Ie(R)||he(R)||qe(R)||st(R)}e.isBoxedPrimitive=Ee;function Le(R){return typeof Uint8Array<"u"&&(P(R)||x(R))}e.isAnyArrayBuffer=Le,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(R){Object.defineProperty(e,R,{enumerable:!1,value:function(){throw new Error(R+" is not supported in userland")}})})})(Ma);var $l=function(t){return t&&typeof t=="object"&&typeof t.copy=="function"&&typeof t.fill=="function"&&typeof t.readUInt8=="function"},mi={},Po={get exports(){return mi},set exports(e){mi=e}};typeof Object.create=="function"?Po.exports=function(t,n){n&&(t.super_=n,t.prototype=Object.create(n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:Po.exports=function(t,n){if(n){t.super_=n;var r=function(){};r.prototype=n.prototype,t.prototype=new r,t.prototype.constructor=t}};(function(e){var t=Object.getOwnPropertyDescriptors||function(p){for(var b=Object.keys(p),I={},x=0;x<b.length;x++)I[b[x]]=Object.getOwnPropertyDescriptor(p,b[x]);return I},n=/%[sdj%]/g;e.format=function(l){if(!_(l)){for(var p=[],b=0;b<arguments.length;b++)p.push(a(arguments[b]));return p.join(" ")}for(var b=1,I=arguments,x=I.length,U=String(l).replace(n,function(V){if(V==="%%")return"%";if(b>=x)return V;switch(V){case"%s":return String(I[b++]);case"%d":return Number(I[b++]);case"%j":try{return JSON.stringify(I[b++])}catch{return"[Circular]"}default:return V}}),H=I[b];b<x;H=I[++b])S(H)||!F(H)?U+=" "+H:U+=" "+a(H);return U},e.deprecate=function(l,p){if(typeof process<"u"&&process.noDeprecation===!0)return l;if(typeof process>"u")return function(){return e.deprecate(l,p).apply(this,arguments)};var b=!1;function I(){if(!b){if(process.throwDeprecation)throw new Error(p);process.traceDeprecation?console.trace(p):console.error(p),b=!0}return l.apply(this,arguments)}return I};var r={},i=/^$/;if({}.NODE_DEBUG){var o={}.NODE_DEBUG;o=o.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),i=new RegExp("^"+o+"$","i")}e.debuglog=function(l){if(l=l.toUpperCase(),!r[l])if(i.test(l)){var p=process.pid;r[l]=function(){var b=e.format.apply(e,arguments);console.error("%s %d: %s",l,p,b)}}else r[l]=function(){};return r[l]};function a(l,p){var b={seen:[],stylize:s};return arguments.length>=3&&(b.depth=arguments[2]),arguments.length>=4&&(b.colors=arguments[3]),g(p)?b.showHidden=p:p&&e._extend(b,p),k(b.showHidden)&&(b.showHidden=!1),k(b.depth)&&(b.depth=2),k(b.colors)&&(b.colors=!1),k(b.customInspect)&&(b.customInspect=!0),b.colors&&(b.stylize=u),f(b,l,b.depth)}e.inspect=a,a.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},a.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function u(l,p){var b=a.styles[p];return b?"\x1B["+a.colors[b][0]+"m"+l+"\x1B["+a.colors[b][1]+"m":l}function s(l,p){return l}function c(l){var p={};return l.forEach(function(b,I){p[b]=!0}),p}function f(l,p,b){if(l.customInspect&&p&&M(p.inspect)&&p.inspect!==e.inspect&&!(p.constructor&&p.constructor.prototype===p)){var I=p.inspect(b,l);return _(I)||(I=f(l,I,b)),I}var x=d(l,p);if(x)return x;var U=Object.keys(p),H=c(U);if(l.showHidden&&(U=Object.getOwnPropertyNames(p)),G(p)&&(U.indexOf("message")>=0||U.indexOf("description")>=0))return y(p);if(U.length===0){if(M(p)){var V=p.name?": "+p.name:"";return l.stylize("[Function"+V+"]","special")}if(C(p))return l.stylize(RegExp.prototype.toString.call(p),"regexp");if(z(p))return l.stylize(Date.prototype.toString.call(p),"date");if(G(p))return y(p)}var ne="",pe=!1,je=["{","}"];if(v(p)&&(pe=!0,je=["[","]"]),M(p)){var Ie=p.name?": "+p.name:"";ne=" [Function"+Ie+"]"}if(C(p)&&(ne=" "+RegExp.prototype.toString.call(p)),z(p)&&(ne=" "+Date.prototype.toUTCString.call(p)),G(p)&&(ne=" "+y(p)),U.length===0&&(!pe||p.length==0))return je[0]+ne+je[1];if(b<0)return C(p)?l.stylize(RegExp.prototype.toString.call(p),"regexp"):l.stylize("[Object]","special");l.seen.push(p);var he;return pe?he=w(l,p,b,H,U):he=U.map(function(qe){return m(l,p,b,H,qe,pe)}),l.seen.pop(),h(he,ne,je)}function d(l,p){if(k(p))return l.stylize("undefined","undefined");if(_(p)){var b="'"+JSON.stringify(p).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return l.stylize(b,"string")}if(j(p))return l.stylize(""+p,"number");if(g(p))return l.stylize(""+p,"boolean");if(S(p))return l.stylize("null","null")}function y(l){return"["+Error.prototype.toString.call(l)+"]"}function w(l,p,b,I,x){for(var U=[],H=0,V=p.length;H<V;++H)$(p,String(H))?U.push(m(l,p,b,I,String(H),!0)):U.push("");return x.forEach(function(ne){ne.match(/^\d+$/)||U.push(m(l,p,b,I,ne,!0))}),U}function m(l,p,b,I,x,U){var H,V,ne;if(ne=Object.getOwnPropertyDescriptor(p,x)||{value:p[x]},ne.get?ne.set?V=l.stylize("[Getter/Setter]","special"):V=l.stylize("[Getter]","special"):ne.set&&(V=l.stylize("[Setter]","special")),$(I,x)||(H="["+x+"]"),V||(l.seen.indexOf(ne.value)<0?(S(b)?V=f(l,ne.value,null):V=f(l,ne.value,b-1),V.indexOf(`
`)>-1&&(U?V=V.split(`
`).map(function(pe){return"  "+pe}).join(`
`).slice(2):V=`
`+V.split(`
`).map(function(pe){return"   "+pe}).join(`
`))):V=l.stylize("[Circular]","special")),k(H)){if(U&&x.match(/^\d+$/))return V;H=JSON.stringify(""+x),H.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(H=H.slice(1,-1),H=l.stylize(H,"name")):(H=H.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),H=l.stylize(H,"string"))}return H+": "+V}function h(l,p,b){var I=l.reduce(function(x,U){return U.indexOf(`
`)>=0,x+U.replace(/\u001b\[\d\d?m/g,"").length+1},0);return I>60?b[0]+(p===""?"":p+`
 `)+" "+l.join(`,
  `)+" "+b[1]:b[0]+p+" "+l.join(", ")+" "+b[1]}e.types=Ma;function v(l){return Array.isArray(l)}e.isArray=v;function g(l){return typeof l=="boolean"}e.isBoolean=g;function S(l){return l===null}e.isNull=S;function E(l){return l==null}e.isNullOrUndefined=E;function j(l){return typeof l=="number"}e.isNumber=j;function _(l){return typeof l=="string"}e.isString=_;function B(l){return typeof l=="symbol"}e.isSymbol=B;function k(l){return l===void 0}e.isUndefined=k;function C(l){return F(l)&&X(l)==="[object RegExp]"}e.isRegExp=C,e.types.isRegExp=C;function F(l){return typeof l=="object"&&l!==null}e.isObject=F;function z(l){return F(l)&&X(l)==="[object Date]"}e.isDate=z,e.types.isDate=z;function G(l){return F(l)&&(X(l)==="[object Error]"||l instanceof Error)}e.isError=G,e.types.isNativeError=G;function M(l){return typeof l=="function"}e.isFunction=M;function W(l){return l===null||typeof l=="boolean"||typeof l=="number"||typeof l=="string"||typeof l=="symbol"||typeof l>"u"}e.isPrimitive=W,e.isBuffer=$l;function X(l){return Object.prototype.toString.call(l)}function O(l){return l<10?"0"+l.toString(10):l.toString(10)}var D=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function N(){var l=new Date,p=[O(l.getHours()),O(l.getMinutes()),O(l.getSeconds())].join(":");return[l.getDate(),D[l.getMonth()],p].join(" ")}e.log=function(){console.log("%s - %s",N(),e.format.apply(e,arguments))},e.inherits=mi,e._extend=function(l,p){if(!p||!F(p))return l;for(var b=Object.keys(p),I=b.length;I--;)l[b[I]]=p[b[I]];return l};function $(l,p){return Object.prototype.hasOwnProperty.call(l,p)}var q=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;e.promisify=function(p){if(typeof p!="function")throw new TypeError('The "original" argument must be of type Function');if(q&&p[q]){var b=p[q];if(typeof b!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(b,q,{value:b,enumerable:!1,writable:!1,configurable:!0}),b}function b(){for(var I,x,U=new Promise(function(ne,pe){I=ne,x=pe}),H=[],V=0;V<arguments.length;V++)H.push(arguments[V]);H.push(function(ne,pe){ne?x(ne):I(pe)});try{p.apply(this,H)}catch(ne){x(ne)}return U}return Object.setPrototypeOf(b,Object.getPrototypeOf(p)),q&&Object.defineProperty(b,q,{value:b,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(b,t(p))},e.promisify.custom=q;function Q(l,p){if(!l){var b=new Error("Promise was rejected with a falsy value");b.reason=l,l=b}return p(l)}function P(l){if(typeof l!="function")throw new TypeError('The "original" argument must be of type Function');function p(){for(var b=[],I=0;I<arguments.length;I++)b.push(arguments[I]);var x=b.pop();if(typeof x!="function")throw new TypeError("The last argument must be of type Function");var U=this,H=function(){return x.apply(U,arguments)};l.apply(this,b).then(function(V){process.nextTick(H.bind(null,null,V))},function(V){process.nextTick(Q.bind(null,V,H))})}return Object.setPrototypeOf(p,Object.getPrototypeOf(l)),Object.defineProperties(p,t(l)),p}e.callbackify=P})(Dt);var To;function ou(){if(To)return pr;To=1;function e(h){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?e=function(g){return typeof g}:e=function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g},e(h)}function t(h,v){if(!(h instanceof v))throw new TypeError("Cannot call a class as a function")}function n(h,v){return v&&(e(v)==="object"||typeof v=="function")?v:r(h)}function r(h){if(h===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h}function i(h){return i=Object.setPrototypeOf?Object.getPrototypeOf:function(g){return g.__proto__||Object.getPrototypeOf(g)},i(h)}function o(h,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function");h.prototype=Object.create(v&&v.prototype,{constructor:{value:h,writable:!0,configurable:!0}}),v&&a(h,v)}function a(h,v){return a=Object.setPrototypeOf||function(S,E){return S.__proto__=E,S},a(h,v)}var u={},s,c;function f(h,v,g){g||(g=Error);function S(j,_,B){return typeof v=="string"?v:v(j,_,B)}var E=function(j){o(_,j);function _(B,k,C){var F;return t(this,_),F=n(this,i(_).call(this,S(B,k,C))),F.code=h,F}return _}(g);u[h]=E}function d(h,v){if(Array.isArray(h)){var g=h.length;return h=h.map(function(S){return String(S)}),g>2?"one of ".concat(v," ").concat(h.slice(0,g-1).join(", "),", or ")+h[g-1]:g===2?"one of ".concat(v," ").concat(h[0]," or ").concat(h[1]):"of ".concat(v," ").concat(h[0])}else return"of ".concat(v," ").concat(String(h))}function y(h,v,g){return h.substr(!g||g<0?0:+g,v.length)===v}function w(h,v,g){return(g===void 0||g>h.length)&&(g=h.length),h.substring(g-v.length,g)===v}function m(h,v,g){return typeof g!="number"&&(g=0),g+v.length>h.length?!1:h.indexOf(v,g)!==-1}return f("ERR_AMBIGUOUS_ARGUMENT",'The "%s" argument is ambiguous. %s',TypeError),f("ERR_INVALID_ARG_TYPE",function(h,v,g){s===void 0&&(s=bi()),s(typeof h=="string","'name' must be a string");var S;typeof v=="string"&&y(v,"not ")?(S="must not be",v=v.replace(/^not /,"")):S="must be";var E;if(w(h," argument"))E="The ".concat(h," ").concat(S," ").concat(d(v,"type"));else{var j=m(h,".")?"property":"argument";E='The "'.concat(h,'" ').concat(j," ").concat(S," ").concat(d(v,"type"))}return E+=". Received type ".concat(e(g)),E},TypeError),f("ERR_INVALID_ARG_VALUE",function(h,v){var g=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"is invalid";c===void 0&&(c=Dt);var S=c.inspect(v);return S.length>128&&(S="".concat(S.slice(0,128),"...")),"The argument '".concat(h,"' ").concat(g,". Received ").concat(S)},TypeError),f("ERR_INVALID_RETURN_VALUE",function(h,v,g){var S;return g&&g.constructor&&g.constructor.name?S="instance of ".concat(g.constructor.name):S="type ".concat(e(g)),"Expected ".concat(h,' to be returned from the "').concat(v,'"')+" function but got ".concat(S,".")},TypeError),f("ERR_MISSING_ARGS",function(){for(var h=arguments.length,v=new Array(h),g=0;g<h;g++)v[g]=arguments[g];s===void 0&&(s=bi()),s(v.length>0,"At least one arg needs to be specified");var S="The ",E=v.length;switch(v=v.map(function(j){return'"'.concat(j,'"')}),E){case 1:S+="".concat(v[0]," argument");break;case 2:S+="".concat(v[0]," and ").concat(v[1]," arguments");break;default:S+=v.slice(0,E-1).join(", "),S+=", and ".concat(v[E-1]," arguments");break}return"".concat(S," must be specified")},TypeError),pr.codes=u,pr}var Or,jo;function kl(){if(jo)return Or;jo=1;function e(O){for(var D=1;D<arguments.length;D++){var N=arguments[D]!=null?arguments[D]:{},$=Object.keys(N);typeof Object.getOwnPropertySymbols=="function"&&($=$.concat(Object.getOwnPropertySymbols(N).filter(function(q){return Object.getOwnPropertyDescriptor(N,q).enumerable}))),$.forEach(function(q){t(O,q,N[q])})}return O}function t(O,D,N){return D in O?Object.defineProperty(O,D,{value:N,enumerable:!0,configurable:!0,writable:!0}):O[D]=N,O}function n(O,D){if(!(O instanceof D))throw new TypeError("Cannot call a class as a function")}function r(O,D){for(var N=0;N<D.length;N++){var $=D[N];$.enumerable=$.enumerable||!1,$.configurable=!0,"value"in $&&($.writable=!0),Object.defineProperty(O,$.key,$)}}function i(O,D,N){return D&&r(O.prototype,D),N&&r(O,N),O}function o(O,D){return D&&(m(D)==="object"||typeof D=="function")?D:a(O)}function a(O){if(O===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O}function u(O,D){if(typeof D!="function"&&D!==null)throw new TypeError("Super expression must either be null or a function");O.prototype=Object.create(D&&D.prototype,{constructor:{value:O,writable:!0,configurable:!0}}),D&&y(O,D)}function s(O){var D=typeof Map=="function"?new Map:void 0;return s=function($){if($===null||!d($))return $;if(typeof $!="function")throw new TypeError("Super expression must either be null or a function");if(typeof D<"u"){if(D.has($))return D.get($);D.set($,q)}function q(){return f($,arguments,w(this).constructor)}return q.prototype=Object.create($.prototype,{constructor:{value:q,enumerable:!1,writable:!0,configurable:!0}}),y(q,$)},s(O)}function c(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function f(O,D,N){return c()?f=Reflect.construct:f=function(q,Q,P){var l=[null];l.push.apply(l,Q);var p=Function.bind.apply(q,l),b=new p;return P&&y(b,P.prototype),b},f.apply(null,arguments)}function d(O){return Function.toString.call(O).indexOf("[native code]")!==-1}function y(O,D){return y=Object.setPrototypeOf||function($,q){return $.__proto__=q,$},y(O,D)}function w(O){return w=Object.setPrototypeOf?Object.getPrototypeOf:function(N){return N.__proto__||Object.getPrototypeOf(N)},w(O)}function m(O){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?m=function(N){return typeof N}:m=function(N){return N&&typeof Symbol=="function"&&N.constructor===Symbol&&N!==Symbol.prototype?"symbol":typeof N},m(O)}var h=Dt,v=h.inspect,g=ou(),S=g.codes.ERR_INVALID_ARG_TYPE;function E(O,D,N){return(N===void 0||N>O.length)&&(N=O.length),O.substring(N-D.length,N)===D}function j(O,D){if(D=Math.floor(D),O.length==0||D==0)return"";var N=O.length*D;for(D=Math.floor(Math.log(D)/Math.log(2));D;)O+=O,D--;return O+=O.substring(0,N-O.length),O}var _="",B="",k="",C="",F={deepStrictEqual:"Expected values to be strictly deep-equal:",strictEqual:"Expected values to be strictly equal:",strictEqualObject:'Expected "actual" to be reference-equal to "expected":',deepEqual:"Expected values to be loosely deep-equal:",equal:"Expected values to be loosely equal:",notDeepStrictEqual:'Expected "actual" not to be strictly deep-equal to:',notStrictEqual:'Expected "actual" to be strictly unequal to:',notStrictEqualObject:'Expected "actual" not to be reference-equal to "expected":',notDeepEqual:'Expected "actual" not to be loosely deep-equal to:',notEqual:'Expected "actual" to be loosely unequal to:',notIdentical:"Values identical but not reference-equal:"},z=10;function G(O){var D=Object.keys(O),N=Object.create(Object.getPrototypeOf(O));return D.forEach(function($){N[$]=O[$]}),Object.defineProperty(N,"message",{value:O.message}),N}function M(O){return v(O,{compact:!1,customInspect:!1,depth:1e3,maxArrayLength:1/0,showHidden:!1,breakLength:1/0,showProxy:!1,sorted:!0,getters:!0})}function W(O,D,N){var $="",q="",Q=0,P="",l=!1,p=M(O),b=p.split(`
`),I=M(D).split(`
`),x=0,U="";if(N==="strictEqual"&&m(O)==="object"&&m(D)==="object"&&O!==null&&D!==null&&(N="strictEqualObject"),b.length===1&&I.length===1&&b[0]!==I[0]){var H=b[0].length+I[0].length;if(H<=z){if((m(O)!=="object"||O===null)&&(m(D)!=="object"||D===null)&&(O!==0||D!==0))return"".concat(F[N],`

`)+"".concat(b[0]," !== ").concat(I[0],`
`)}else if(N!=="strictEqualObject"){var V=process.stderr&&process.stderr.isTTY?process.stderr.columns:80;if(H<V){for(;b[0][x]===I[0][x];)x++;x>2&&(U=`
  `.concat(j(" ",x),"^"),x=0)}}}for(var ne=b[b.length-1],pe=I[I.length-1];ne===pe&&(x++<2?P=`
  `.concat(ne).concat(P):$=ne,b.pop(),I.pop(),!(b.length===0||I.length===0));)ne=b[b.length-1],pe=I[I.length-1];var je=Math.max(b.length,I.length);if(je===0){var Ie=p.split(`
`);if(Ie.length>30)for(Ie[26]="".concat(_,"...").concat(C);Ie.length>27;)Ie.pop();return"".concat(F.notIdentical,`

`).concat(Ie.join(`
`),`
`)}x>3&&(P=`
`.concat(_,"...").concat(C).concat(P),l=!0),$!==""&&(P=`
  `.concat($).concat(P),$="");var he=0,qe=F[N]+`
`.concat(B,"+ actual").concat(C," ").concat(k,"- expected").concat(C),st=" ".concat(_,"...").concat(C," Lines skipped");for(x=0;x<je;x++){var Ee=x-Q;if(b.length<x+1)Ee>1&&x>2&&(Ee>4?(q+=`
`.concat(_,"...").concat(C),l=!0):Ee>3&&(q+=`
  `.concat(I[x-2]),he++),q+=`
  `.concat(I[x-1]),he++),Q=x,$+=`
`.concat(k,"-").concat(C," ").concat(I[x]),he++;else if(I.length<x+1)Ee>1&&x>2&&(Ee>4?(q+=`
`.concat(_,"...").concat(C),l=!0):Ee>3&&(q+=`
  `.concat(b[x-2]),he++),q+=`
  `.concat(b[x-1]),he++),Q=x,q+=`
`.concat(B,"+").concat(C," ").concat(b[x]),he++;else{var Le=I[x],R=b[x],ct=R!==Le&&(!E(R,",")||R.slice(0,-1)!==Le);ct&&E(Le,",")&&Le.slice(0,-1)===R&&(ct=!1,R+=","),ct?(Ee>1&&x>2&&(Ee>4?(q+=`
`.concat(_,"...").concat(C),l=!0):Ee>3&&(q+=`
  `.concat(b[x-2]),he++),q+=`
  `.concat(b[x-1]),he++),Q=x,q+=`
`.concat(B,"+").concat(C," ").concat(R),$+=`
`.concat(k,"-").concat(C," ").concat(Le),he+=2):(q+=$,$="",(Ee===1||x===0)&&(q+=`
  `.concat(R),he++))}if(he>20&&x<je-2)return"".concat(qe).concat(st,`
`).concat(q,`
`).concat(_,"...").concat(C).concat($,`
`)+"".concat(_,"...").concat(C)}return"".concat(qe).concat(l?st:"",`
`).concat(q).concat($).concat(P).concat(U)}var X=function(O){u(D,O);function D(N){var $;if(n(this,D),m(N)!=="object"||N===null)throw new S("options","Object",N);var q=N.message,Q=N.operator,P=N.stackStartFn,l=N.actual,p=N.expected,b=Error.stackTraceLimit;if(Error.stackTraceLimit=0,q!=null)$=o(this,w(D).call(this,String(q)));else if(process.stderr&&process.stderr.isTTY&&(process.stderr&&process.stderr.getColorDepth&&process.stderr.getColorDepth()!==1?(_="\x1B[34m",B="\x1B[32m",C="\x1B[39m",k="\x1B[31m"):(_="",B="",C="",k="")),m(l)==="object"&&l!==null&&m(p)==="object"&&p!==null&&"stack"in l&&l instanceof Error&&"stack"in p&&p instanceof Error&&(l=G(l),p=G(p)),Q==="deepStrictEqual"||Q==="strictEqual")$=o(this,w(D).call(this,W(l,p,Q)));else if(Q==="notDeepStrictEqual"||Q==="notStrictEqual"){var I=F[Q],x=M(l).split(`
`);if(Q==="notStrictEqual"&&m(l)==="object"&&l!==null&&(I=F.notStrictEqualObject),x.length>30)for(x[26]="".concat(_,"...").concat(C);x.length>27;)x.pop();x.length===1?$=o(this,w(D).call(this,"".concat(I," ").concat(x[0]))):$=o(this,w(D).call(this,"".concat(I,`

`).concat(x.join(`
`),`
`)))}else{var U=M(l),H="",V=F[Q];Q==="notDeepEqual"||Q==="notEqual"?(U="".concat(F[Q],`

`).concat(U),U.length>1024&&(U="".concat(U.slice(0,1021),"..."))):(H="".concat(M(p)),U.length>512&&(U="".concat(U.slice(0,509),"...")),H.length>512&&(H="".concat(H.slice(0,509),"...")),Q==="deepEqual"||Q==="equal"?U="".concat(V,`

`).concat(U,`

should equal

`):H=" ".concat(Q," ").concat(H)),$=o(this,w(D).call(this,"".concat(U).concat(H)))}return Error.stackTraceLimit=b,$.generatedMessage=!q,Object.defineProperty(a($),"name",{value:"AssertionError [ERR_ASSERTION]",enumerable:!1,writable:!0,configurable:!0}),$.code="ERR_ASSERTION",$.actual=l,$.expected=p,$.operator=Q,Error.captureStackTrace&&Error.captureStackTrace(a($),P),$.stack,$.name="AssertionError",o($)}return i(D,[{key:"toString",value:function(){return"".concat(this.name," [").concat(this.code,"]: ").concat(this.message)}},{key:v.custom,value:function($,q){return v(this,e({},q,{customInspect:!1,depth:0}))}}]),D}(s(Error));return Or=X,Or}var Pr,xo;function Nl(){if(xo)return Pr;xo=1;function e(n,r){if(n==null)throw new TypeError("Cannot convert first argument to object");for(var i=Object(n),o=1;o<arguments.length;o++){var a=arguments[o];if(a!=null)for(var u=Object.keys(Object(a)),s=0,c=u.length;s<c;s++){var f=u[s],d=Object.getOwnPropertyDescriptor(a,f);d!==void 0&&d.enumerable&&(i[f]=a[f])}}return i}function t(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:e})}return Pr={assign:e,polyfill:t},Pr}var Tr,Io;function au(){if(Io)return Tr;Io=1;var e=Object.prototype.toString;return Tr=function(n){var r=e.call(n),i=r==="[object Arguments]";return i||(i=r!=="[object Array]"&&n!==null&&typeof n=="object"&&typeof n.length=="number"&&n.length>=0&&e.call(n.callee)==="[object Function]"),i},Tr}var jr,Ro;function Fl(){if(Ro)return jr;Ro=1;var e;if(!Object.keys){var t=Object.prototype.hasOwnProperty,n=Object.prototype.toString,r=au(),i=Object.prototype.propertyIsEnumerable,o=!i.call({toString:null},"toString"),a=i.call(function(){},"prototype"),u=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],s=function(y){var w=y.constructor;return w&&w.prototype===y},c={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},f=function(){if(typeof window>"u")return!1;for(var y in window)try{if(!c["$"+y]&&t.call(window,y)&&window[y]!==null&&typeof window[y]=="object")try{s(window[y])}catch{return!0}}catch{return!0}return!1}(),d=function(y){if(typeof window>"u"||!f)return s(y);try{return s(y)}catch{return!1}};e=function(w){var m=w!==null&&typeof w=="object",h=n.call(w)==="[object Function]",v=r(w),g=m&&n.call(w)==="[object String]",S=[];if(!m&&!h&&!v)throw new TypeError("Object.keys called on a non-object");var E=a&&h;if(g&&w.length>0&&!t.call(w,0))for(var j=0;j<w.length;++j)S.push(String(j));if(v&&w.length>0)for(var _=0;_<w.length;++_)S.push(String(_));else for(var B in w)!(E&&B==="prototype")&&t.call(w,B)&&S.push(String(B));if(o)for(var k=d(w),C=0;C<u.length;++C)!(k&&u[C]==="constructor")&&t.call(w,u[C])&&S.push(u[C]);return S}}return jr=e,jr}var xr,Co;function Ml(){if(Co)return xr;Co=1;var e=Array.prototype.slice,t=au(),n=Object.keys,r=n?function(a){return n(a)}:Fl(),i=Object.keys;return r.shim=function(){if(Object.keys){var a=function(){var u=Object.keys(arguments);return u&&u.length===arguments.length}(1,2);a||(Object.keys=function(s){return t(s)?i(e.call(s)):i(s)})}else Object.keys=r;return Object.keys||r},xr=r,xr}var Ir,Do;function Kl(){if(Do)return Ir;Do=1;var e=er(),t=e("%Object.defineProperty%",!0),n=function(){if(t)try{return t({},"a",{value:1}),!0}catch{return!1}return!1};return n.hasArrayLengthDefineBug=function(){if(!n())return null;try{return t([],"length",{value:1}).length!==1}catch{return!0}},Ir=n,Ir}var Rr,Bo;function nr(){if(Bo)return Rr;Bo=1;var e=Ml(),t=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",n=Object.prototype.toString,r=Array.prototype.concat,i=Object.defineProperty,o=function(f){return typeof f=="function"&&n.call(f)==="[object Function]"},a=Kl()(),u=i&&a,s=function(f,d,y,w){d in f&&(!o(w)||!w())||(u?i(f,d,{configurable:!0,enumerable:!1,value:y,writable:!0}):f[d]=y)},c=function(f,d){var y=arguments.length>2?arguments[2]:{},w=e(d);t&&(w=r.call(w,Object.getOwnPropertySymbols(d)));for(var m=0;m<w.length;m+=1)s(f,w[m],d[w[m]],y[w[m]])};return c.supportsDescriptors=!!u,Rr=c,Rr}var Cr,$o;function uu(){if($o)return Cr;$o=1;var e=function(t){return t!==t};return Cr=function(n,r){return n===0&&r===0?1/n===1/r:!!(n===r||e(n)&&e(r))},Cr}var Dr,ko;function su(){if(ko)return Dr;ko=1;var e=uu();return Dr=function(){return typeof Object.is=="function"?Object.is:e},Dr}var Br,No;function ql(){if(No)return Br;No=1;var e=su(),t=nr();return Br=function(){var r=e();return t(Object,{is:r},{is:function(){return Object.is!==r}}),r},Br}var $r,Fo;function cu(){if(Fo)return $r;Fo=1;var e=nr(),t=zi(),n=uu(),r=su(),i=ql(),o=t(r(),Object);return e(o,{getPolyfill:r,implementation:n,shim:i}),$r=o,$r}var kr,Mo;function lu(){return Mo||(Mo=1,kr=function(t){return t!==t}),kr}var Nr,Ko;function fu(){if(Ko)return Nr;Ko=1;var e=lu();return Nr=function(){return Number.isNaN&&Number.isNaN(NaN)&&!Number.isNaN("a")?Number.isNaN:e},Nr}var Fr,qo;function Ll(){if(qo)return Fr;qo=1;var e=nr(),t=fu();return Fr=function(){var r=t();return e(Number,{isNaN:r},{isNaN:function(){return Number.isNaN!==r}}),r},Fr}var Mr,Lo;function Ul(){if(Lo)return Mr;Lo=1;var e=zi(),t=nr(),n=lu(),r=fu(),i=Ll(),o=e(r(),Number);return t(o,{getPolyfill:r,implementation:n,shim:i}),Mr=o,Mr}var Kr,Uo;function Vl(){if(Uo)return Kr;Uo=1;function e(A,T){return r(A)||n(A,T)||t()}function t(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function n(A,T){var K=[],Y=!0,J=!1,re=void 0;try{for(var te=A[Symbol.iterator](),ae;!(Y=(ae=te.next()).done)&&(K.push(ae.value),!(T&&K.length===T));Y=!0);}catch(ie){J=!0,re=ie}finally{try{!Y&&te.return!=null&&te.return()}finally{if(J)throw re}}return K}function r(A){if(Array.isArray(A))return A}function i(A){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?i=function(K){return typeof K}:i=function(K){return K&&typeof Symbol=="function"&&K.constructor===Symbol&&K!==Symbol.prototype?"symbol":typeof K},i(A)}var o=/a/g.flags!==void 0,a=function(T){var K=[];return T.forEach(function(Y){return K.push(Y)}),K},u=function(T){var K=[];return T.forEach(function(Y,J){return K.push([J,Y])}),K},s=Object.is?Object.is:cu(),c=Object.getOwnPropertySymbols?Object.getOwnPropertySymbols:function(){return[]},f=Number.isNaN?Number.isNaN:Ul();function d(A){return A.call.bind(A)}var y=d(Object.prototype.hasOwnProperty),w=d(Object.prototype.propertyIsEnumerable),m=d(Object.prototype.toString),h=Dt.types,v=h.isAnyArrayBuffer,g=h.isArrayBufferView,S=h.isDate,E=h.isMap,j=h.isRegExp,_=h.isSet,B=h.isNativeError,k=h.isBoxedPrimitive,C=h.isNumberObject,F=h.isStringObject,z=h.isBooleanObject,G=h.isBigIntObject,M=h.isSymbolObject,W=h.isFloat32Array,X=h.isFloat64Array;function O(A){if(A.length===0||A.length>10)return!0;for(var T=0;T<A.length;T++){var K=A.charCodeAt(T);if(K<48||K>57)return!0}return A.length===10&&A>=Math.pow(2,32)}function D(A){return Object.keys(A).filter(O).concat(c(A).filter(Object.prototype.propertyIsEnumerable.bind(A)))}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */function N(A,T){if(A===T)return 0;for(var K=A.length,Y=T.length,J=0,re=Math.min(K,Y);J<re;++J)if(A[J]!==T[J]){K=A[J],Y=T[J];break}return K<Y?-1:Y<K?1:0}var $=!0,q=!1,Q=0,P=1,l=2,p=3;function b(A,T){return o?A.source===T.source&&A.flags===T.flags:RegExp.prototype.toString.call(A)===RegExp.prototype.toString.call(T)}function I(A,T){if(A.byteLength!==T.byteLength)return!1;for(var K=0;K<A.byteLength;K++)if(A[K]!==T[K])return!1;return!0}function x(A,T){return A.byteLength!==T.byteLength?!1:N(new Uint8Array(A.buffer,A.byteOffset,A.byteLength),new Uint8Array(T.buffer,T.byteOffset,T.byteLength))===0}function U(A,T){return A.byteLength===T.byteLength&&N(new Uint8Array(A),new Uint8Array(T))===0}function H(A,T){return C(A)?C(T)&&s(Number.prototype.valueOf.call(A),Number.prototype.valueOf.call(T)):F(A)?F(T)&&String.prototype.valueOf.call(A)===String.prototype.valueOf.call(T):z(A)?z(T)&&Boolean.prototype.valueOf.call(A)===Boolean.prototype.valueOf.call(T):G(A)?G(T)&&BigInt.prototype.valueOf.call(A)===BigInt.prototype.valueOf.call(T):M(T)&&Symbol.prototype.valueOf.call(A)===Symbol.prototype.valueOf.call(T)}function V(A,T,K,Y){if(A===T)return A!==0?!0:K?s(A,T):!0;if(K){if(i(A)!=="object")return typeof A=="number"&&f(A)&&f(T);if(i(T)!=="object"||A===null||T===null||Object.getPrototypeOf(A)!==Object.getPrototypeOf(T))return!1}else{if(A===null||i(A)!=="object")return T===null||i(T)!=="object"?A==T:!1;if(T===null||i(T)!=="object")return!1}var J=m(A),re=m(T);if(J!==re)return!1;if(Array.isArray(A)){if(A.length!==T.length)return!1;var te=D(A),ae=D(T);return te.length!==ae.length?!1:pe(A,T,K,Y,P,te)}if(J==="[object Object]"&&(!E(A)&&E(T)||!_(A)&&_(T)))return!1;if(S(A)){if(!S(T)||Date.prototype.getTime.call(A)!==Date.prototype.getTime.call(T))return!1}else if(j(A)){if(!j(T)||!b(A,T))return!1}else if(B(A)||A instanceof Error){if(A.message!==T.message||A.name!==T.name)return!1}else if(g(A)){if(!K&&(W(A)||X(A))){if(!I(A,T))return!1}else if(!x(A,T))return!1;var ie=D(A),xe=D(T);return ie.length!==xe.length?!1:pe(A,T,K,Y,Q,ie)}else{if(_(A))return!_(T)||A.size!==T.size?!1:pe(A,T,K,Y,l);if(E(A))return!E(T)||A.size!==T.size?!1:pe(A,T,K,Y,p);if(v(A)){if(!U(A,T))return!1}else if(k(A)&&!H(A,T))return!1}return pe(A,T,K,Y,Q)}function ne(A,T){return T.filter(function(K){return w(A,K)})}function pe(A,T,K,Y,J,re){if(arguments.length===5){re=Object.keys(A);var te=Object.keys(T);if(re.length!==te.length)return!1}for(var ae=0;ae<re.length;ae++)if(!y(T,re[ae]))return!1;if(K&&arguments.length===5){var ie=c(A);if(ie.length!==0){var xe=0;for(ae=0;ae<ie.length;ae++){var Re=ie[ae];if(w(A,Re)){if(!w(T,Re))return!1;re.push(Re),xe++}else if(w(T,Re))return!1}var Vt=c(T);if(ie.length!==Vt.length&&ne(T,Vt).length!==xe)return!1}else{var _t=c(T);if(_t.length!==0&&ne(T,_t).length!==0)return!1}}if(re.length===0&&(J===Q||J===P&&A.length===0||A.size===0))return!0;if(Y===void 0)Y={val1:new Map,val2:new Map,position:0};else{var zt=Y.val1.get(A);if(zt!==void 0){var St=Y.val2.get(T);if(St!==void 0)return zt===St}Y.position++}Y.val1.set(A,Y.position),Y.val2.set(T,Y.position);var wu=R(A,T,K,re,Y,J);return Y.val1.delete(A),Y.val2.delete(T),wu}function je(A,T,K,Y){for(var J=a(A),re=0;re<J.length;re++){var te=J[re];if(V(T,te,K,Y))return A.delete(te),!0}return!1}function Ie(A){switch(i(A)){case"undefined":return null;case"object":return;case"symbol":return!1;case"string":A=+A;case"number":if(f(A))return!1}return!0}function he(A,T,K){var Y=Ie(K);return Y??(T.has(Y)&&!A.has(Y))}function qe(A,T,K,Y,J){var re=Ie(K);if(re!=null)return re;var te=T.get(re);return te===void 0&&!T.has(re)||!V(Y,te,!1,J)?!1:!A.has(re)&&V(Y,te,!1,J)}function st(A,T,K,Y){for(var J=null,re=a(A),te=0;te<re.length;te++){var ae=re[te];if(i(ae)==="object"&&ae!==null)J===null&&(J=new Set),J.add(ae);else if(!T.has(ae)){if(K||!he(A,T,ae))return!1;J===null&&(J=new Set),J.add(ae)}}if(J!==null){for(var ie=a(T),xe=0;xe<ie.length;xe++){var Re=ie[xe];if(i(Re)==="object"&&Re!==null){if(!je(J,Re,K,Y))return!1}else if(!K&&!A.has(Re)&&!je(J,Re,K,Y))return!1}return J.size===0}return!0}function Ee(A,T,K,Y,J,re){for(var te=a(A),ae=0;ae<te.length;ae++){var ie=te[ae];if(V(K,ie,J,re)&&V(Y,T.get(ie),J,re))return A.delete(ie),!0}return!1}function Le(A,T,K,Y){for(var J=null,re=u(A),te=0;te<re.length;te++){var ae=e(re[te],2),ie=ae[0],xe=ae[1];if(i(ie)==="object"&&ie!==null)J===null&&(J=new Set),J.add(ie);else{var Re=T.get(ie);if(Re===void 0&&!T.has(ie)||!V(xe,Re,K,Y)){if(K||!qe(A,T,ie,xe,Y))return!1;J===null&&(J=new Set),J.add(ie)}}}if(J!==null){for(var Vt=u(T),_t=0;_t<Vt.length;_t++){var zt=e(Vt[_t],2),ie=zt[0],St=zt[1];if(i(ie)==="object"&&ie!==null){if(!Ee(J,A,ie,St,K,Y))return!1}else if(!K&&(!A.has(ie)||!V(A.get(ie),St,!1,Y))&&!Ee(J,A,ie,St,!1,Y))return!1}return J.size===0}return!0}function R(A,T,K,Y,J,re){var te=0;if(re===l){if(!st(A,T,K,J))return!1}else if(re===p){if(!Le(A,T,K,J))return!1}else if(re===P)for(;te<A.length;te++)if(y(A,te)){if(!y(T,te)||!V(A[te],T[te],K,J))return!1}else{if(y(T,te))return!1;for(var ae=Object.keys(A);te<ae.length;te++){var ie=ae[te];if(!y(T,ie)||!V(A[ie],T[ie],K,J))return!1}return ae.length===Object.keys(T).length}for(te=0;te<Y.length;te++){var xe=Y[te];if(!V(A[xe],T[xe],K,J))return!1}return!0}function ct(A,T){return V(A,T,q)}function Xi(A,T){return V(A,T,$)}return Kr={isDeepEqual:ct,isDeepStrictEqual:Xi},Kr}var Vo;function bi(){if(Vo)return zn;Vo=1;function e(P){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?e=function(p){return typeof p}:e=function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p},e(P)}function t(P,l){if(!(P instanceof l))throw new TypeError("Cannot call a class as a function")}var n=ou(),r=n.codes,i=r.ERR_AMBIGUOUS_ARGUMENT,o=r.ERR_INVALID_ARG_TYPE,a=r.ERR_INVALID_ARG_VALUE,u=r.ERR_INVALID_RETURN_VALUE,s=r.ERR_MISSING_ARGS,c=kl(),f=Dt,d=f.inspect,y=Dt.types,w=y.isPromise,m=y.isRegExp,h=Object.assign?Object.assign:Nl().assign,v=Object.is?Object.is:cu(),g,S;function E(){var P=Vl();g=P.isDeepEqual,S=P.isDeepStrictEqual}var j=!1,_=qc.exports=z,B={};function k(P){throw P.message instanceof Error?P.message:new c(P)}function C(P,l,p,b,I){var x=arguments.length,U;if(x===0)U="Failed";else if(x===1)p=P,P=void 0;else{if(j===!1){j=!0;var H=process.emitWarning?process.emitWarning:console.warn.bind(console);H("assert.fail() with more than one argument is deprecated. Please use assert.strictEqual() instead or only pass a message.","DeprecationWarning","DEP0094")}x===2&&(b="!=")}if(p instanceof Error)throw p;var V={actual:P,expected:l,operator:b===void 0?"fail":b,stackStartFn:I||C};p!==void 0&&(V.message=p);var ne=new c(V);throw U&&(ne.message=U,ne.generatedMessage=!0),ne}_.fail=C,_.AssertionError=c;function F(P,l,p,b){if(!p){var I=!1;if(l===0)I=!0,b="No value argument passed to `assert.ok()`";else if(b instanceof Error)throw b;var x=new c({actual:p,expected:!0,message:b,operator:"==",stackStartFn:P});throw x.generatedMessage=I,x}}function z(){for(var P=arguments.length,l=new Array(P),p=0;p<P;p++)l[p]=arguments[p];F.apply(void 0,[z,l.length].concat(l))}_.ok=z,_.equal=function P(l,p,b){if(arguments.length<2)throw new s("actual","expected");l!=p&&k({actual:l,expected:p,message:b,operator:"==",stackStartFn:P})},_.notEqual=function P(l,p,b){if(arguments.length<2)throw new s("actual","expected");l==p&&k({actual:l,expected:p,message:b,operator:"!=",stackStartFn:P})},_.deepEqual=function P(l,p,b){if(arguments.length<2)throw new s("actual","expected");g===void 0&&E(),g(l,p)||k({actual:l,expected:p,message:b,operator:"deepEqual",stackStartFn:P})},_.notDeepEqual=function P(l,p,b){if(arguments.length<2)throw new s("actual","expected");g===void 0&&E(),g(l,p)&&k({actual:l,expected:p,message:b,operator:"notDeepEqual",stackStartFn:P})},_.deepStrictEqual=function P(l,p,b){if(arguments.length<2)throw new s("actual","expected");g===void 0&&E(),S(l,p)||k({actual:l,expected:p,message:b,operator:"deepStrictEqual",stackStartFn:P})},_.notDeepStrictEqual=G;function G(P,l,p){if(arguments.length<2)throw new s("actual","expected");g===void 0&&E(),S(P,l)&&k({actual:P,expected:l,message:p,operator:"notDeepStrictEqual",stackStartFn:G})}_.strictEqual=function P(l,p,b){if(arguments.length<2)throw new s("actual","expected");v(l,p)||k({actual:l,expected:p,message:b,operator:"strictEqual",stackStartFn:P})},_.notStrictEqual=function P(l,p,b){if(arguments.length<2)throw new s("actual","expected");v(l,p)&&k({actual:l,expected:p,message:b,operator:"notStrictEqual",stackStartFn:P})};var M=function P(l,p,b){var I=this;t(this,P),p.forEach(function(x){x in l&&(b!==void 0&&typeof b[x]=="string"&&m(l[x])&&l[x].test(b[x])?I[x]=b[x]:I[x]=l[x])})};function W(P,l,p,b,I,x){if(!(p in P)||!S(P[p],l[p])){if(!b){var U=new M(P,I),H=new M(l,I,P),V=new c({actual:U,expected:H,operator:"deepStrictEqual",stackStartFn:x});throw V.actual=P,V.expected=l,V.operator=x.name,V}k({actual:P,expected:l,message:b,operator:x.name,stackStartFn:x})}}function X(P,l,p,b){if(typeof l!="function"){if(m(l))return l.test(P);if(arguments.length===2)throw new o("expected",["Function","RegExp"],l);if(e(P)!=="object"||P===null){var I=new c({actual:P,expected:l,message:p,operator:"deepStrictEqual",stackStartFn:b});throw I.operator=b.name,I}var x=Object.keys(l);if(l instanceof Error)x.push("name","message");else if(x.length===0)throw new a("error",l,"may not be an empty object");return g===void 0&&E(),x.forEach(function(U){typeof P[U]=="string"&&m(l[U])&&l[U].test(P[U])||W(P,l,U,p,x,b)}),!0}return l.prototype!==void 0&&P instanceof l?!0:Error.isPrototypeOf(l)?!1:l.call({},P)===!0}function O(P){if(typeof P!="function")throw new o("fn","Function",P);try{P()}catch(l){return l}return B}function D(P){return w(P)||P!==null&&e(P)==="object"&&typeof P.then=="function"&&typeof P.catch=="function"}function N(P){return Promise.resolve().then(function(){var l;if(typeof P=="function"){if(l=P(),!D(l))throw new u("instance of Promise","promiseFn",l)}else if(D(P))l=P;else throw new o("promiseFn",["Function","Promise"],P);return Promise.resolve().then(function(){return l}).then(function(){return B}).catch(function(p){return p})})}function $(P,l,p,b){if(typeof p=="string"){if(arguments.length===4)throw new o("error",["Object","Error","Function","RegExp"],p);if(e(l)==="object"&&l!==null){if(l.message===p)throw new i("error/message",'The error message "'.concat(l.message,'" is identical to the message.'))}else if(l===p)throw new i("error/message",'The error "'.concat(l,'" is identical to the message.'));b=p,p=void 0}else if(p!=null&&e(p)!=="object"&&typeof p!="function")throw new o("error",["Object","Error","Function","RegExp"],p);if(l===B){var I="";p&&p.name&&(I+=" (".concat(p.name,")")),I+=b?": ".concat(b):".";var x=P.name==="rejects"?"rejection":"exception";k({actual:void 0,expected:p,operator:P.name,message:"Missing expected ".concat(x).concat(I),stackStartFn:P})}if(p&&!X(l,p,b,P))throw l}function q(P,l,p,b){if(l!==B){if(typeof p=="string"&&(b=p,p=void 0),!p||X(l,p)){var I=b?": ".concat(b):".",x=P.name==="doesNotReject"?"rejection":"exception";k({actual:l,expected:p,operator:P.name,message:"Got unwanted ".concat(x).concat(I,`
`)+'Actual message: "'.concat(l&&l.message,'"'),stackStartFn:P})}throw l}}_.throws=function P(l){for(var p=arguments.length,b=new Array(p>1?p-1:0),I=1;I<p;I++)b[I-1]=arguments[I];$.apply(void 0,[P,O(l)].concat(b))},_.rejects=function P(l){for(var p=arguments.length,b=new Array(p>1?p-1:0),I=1;I<p;I++)b[I-1]=arguments[I];return N(l).then(function(x){return $.apply(void 0,[P,x].concat(b))})},_.doesNotThrow=function P(l){for(var p=arguments.length,b=new Array(p>1?p-1:0),I=1;I<p;I++)b[I-1]=arguments[I];q.apply(void 0,[P,O(l)].concat(b))},_.doesNotReject=function P(l){for(var p=arguments.length,b=new Array(p>1?p-1:0),I=1;I<p;I++)b[I-1]=arguments[I];return N(l).then(function(x){return q.apply(void 0,[P,x].concat(b))})},_.ifError=function P(l){if(l!=null){var p="ifError got unwanted exception: ";e(l)==="object"&&typeof l.message=="string"?l.message.length===0&&l.constructor?p+=l.constructor.name:p+=l.message:p+=d(l);var b=new c({actual:l,expected:null,operator:"ifError",message:p,stackStartFn:P}),I=l.stack;if(typeof I=="string"){var x=I.split(`
`);x.shift();for(var U=b.stack.split(`
`),H=0;H<x.length;H++){var V=U.indexOf(x[H]);if(V!==-1){U=U.slice(0,V);break}}b.stack="".concat(U.join(`
`),`
`).concat(x.join(`
`))}throw b}};function Q(){for(var P=arguments.length,l=new Array(P),p=0;p<P;p++)l[p]=arguments[p];F.apply(void 0,[Q,l.length].concat(l))}return _.strict=h(Q,_,{equal:_.strictEqual,deepEqual:_.deepStrictEqual,notEqual:_.notStrictEqual,notDeepEqual:_.notDeepStrictEqual}),_.strict.strict=_.strict,zn}var zl=bi();const Gl=Kc(zl),pu=12,Wl=200,Hl=760;class hu{static decodeArrayBuffer(t){var n=t.length/4*3,r=new ArrayBuffer(n);return this.decode(t,r),r}static removePaddingChars(t){return this._keyStr.indexOf(t.charAt(t.length-1))==64?t.substring(0,t.length-1):t}static decode(t,n){t=this.removePaddingChars(t),t=this.removePaddingChars(t);var r=Math.floor(t.length/4*3),i,o,a,u,s,c,f,d,y=0,w=0;for(i=n?new Uint8Array(n):new Uint8Array(r),t=t.replace(/[^A-Za-z0-9\+\/\=]/g,""),y=0;y<r;y+=3)s=this._keyStr.indexOf(t.charAt(w++)),c=this._keyStr.indexOf(t.charAt(w++)),f=this._keyStr.indexOf(t.charAt(w++)),d=this._keyStr.indexOf(t.charAt(w++)),o=s<<2|c>>4,a=(c&15)<<4|f>>2,u=(f&3)<<6|d,i[y]=o,f!=64&&(i[y+1]=a),d!=64&&(i[y+2]=u);return i}}ue(hu,"_keyStr","ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=");async function Yl(e,t,n){const r=await fetch(`https://api.github.com/repos/${e}/${t}/contents/${n}`,{headers:{"Content-Type":"application/vnd.github.raw"}});if(!r.ok)throw new Error(`Error fetching file:'${n}'
${await r.text()}`);return(await r.json()).content}class du{get filename(){const t=this.location.split("/").at(-1);if(!t)throw new Error(`Unexpected sample location '${this.location}'`);return t}}class Ce extends du{constructor(n,r){super();ue(this,"label");ue(this,"location");this.location=n,this.label=r}async downloadDirtSample(){const i=await Yl("tidalcycles","Dirt-Samples",this.location),o=hu.decodeArrayBuffer(i);return new Blob([o],{type:"audio/wav"})}async ensureCached(){let n;n=await Pe.instance.getSampleBlob(this.filename),n||(n=await this.downloadDirtSample(),Pe.instance.addSample({filename:this.filename,data:n}))}}class Jl extends du{constructor(n,r){super();ue(this,"label");ue(this,"location");this.location=n,this.label=r}async ensureCached(){let n;if(n=await Pe.instance.getSampleBlob(this.filename),!n){const r=await fetch(this.location);if(!r.ok)throw new Error(`Error fetching file: '${this.filename}'
${await r.text()}`);n=await r.blob(),Pe.instance.addSample({filename:this.filename,data:n})}}}class rr{}ue(rr,"samples",[new Jl("https://dobrian.github.io/cmp/topics/sample-recording-and-playback-with-web-audio-api/freejazz.wav","Freejazz"),new Ce("moog/000_Mighty Moog C2.wav","Moog C2"),new Ce("juno/03_juno_chorus_low.wav","Juno"),new Ce("jazz/007_SN.wav","Snare"),new Ce("bleep/pc_beep.wav","Beep"),new Ce("bleep/checkpoint-hit.wav","Bleep"),new Ce("808/CH.WAV","808CH"),new Ce("808oh/OH00.WAV","808OH"),new Ce("808bd/BD0010.WAV","808BD"),new Ce("808bd/BD0025.WAV","808BD2"),new Ce("808/CP.WAV","808CP"),new Ce("808/RS.WAV","808RS"),new Ce("juno/04_juno_chorus_mid.wav","Juno Mid"),new Ce("birds/001_10.wav","Birdies")]);Gl(rr.samples.length>pu,"Not enough default samples");async function Xl(){Pe.init(),await Promise.all(rr.samples.map(async e=>{try{await e.ensureCached()}catch(t){console.error(t)}})),console.log("App Data Loaded")}class lt extends fs{constructor(n,r=Object.is){super();ue(this,"_value");ue(this,"_eq");this._value=n,this._eq=r}get value(){return this._value}set value(n){if(!this._eq(this._value,n)){const r=this._value;this._value=n,this.fire(n,r)}}}const Ql=ge('<header class="navbar"><h1 class="header-title">SoundBored</h1><ul><li class="icon"><a href="https://github.com/grddavies/soundbored"></a></li><li class="icon"><a></a></li></ul></header>'),Zl=ge('<main role="main" class="content"></main>'),ef=ge("<footer></footer>");function tf(){const e=Xl(),[t,n]=bt(!0);return[we(mf,{get show(){return t()},setShow:n}),(()=>{const r=Ql.cloneNode(!0),i=r.firstChild,o=i.nextSibling,a=o.firstChild,u=a.firstChild,s=a.nextSibling,c=s.firstChild;return ce(u,we(os,{size:36})),c.$$click=()=>n(!0),ce(c,we(us,{size:36})),r})(),(()=>{const r=Zl.cloneNode(!0);return ce(r,we(Wf,{appInitialized:e})),r})(),ef.cloneNode(!0)]}Ft(["click"]);var zo=e=>typeof e=="function"&&!e.length?e():e,Go=e=>Array.isArray(e)?e:[e],nf=Object.entries,rf=e=>ju()?Wn(e):e;function of(e,t,n,r){return e.addEventListener(t,n,r),rf(e.removeEventListener.bind(e,t,n,r))}function af(e,t,n,r){const i=()=>{Go(zo(e)).forEach(o=>{o&&Go(zo(t)).forEach(a=>of(o,a,n,r))})};typeof e=="function"?kt(i):Be(i)}var uf=e=>Object.assign({},e);function Wo(e,...t){const n=typeof t[0]=="string"?[t]:t,r=uf(e);let i=[];for(let o=0;o<n.length;o++){const a=n[o];i.push({});for(const u of a)i[o][u]=r[u],delete r[u]}return[...i,r]}var sf=e=>e.substring(2).toLowerCase(),cf=e=>{const t={};return Object.entries(e).forEach(([n,r])=>t[sf(n)]=r),t};function wi(e){const[{target:t=document.body,pointerTypes:n,passive:r=!0},i]=Wo(e,"target","pointerTypes","passive"),[{gotcapture:o,lostcapture:a},u]=Wo(cf(i),"gotcapture","lostcapture"),s=f=>d=>(!n||n.includes(d.pointerType))&&f(d),c=(f,d)=>af(t,f,s(d),{passive:r});nf(u).forEach(([f,d])=>d&&c(`pointer${f}`,d)),o&&c("gotpointercapture",o),a&&c("lostpointercapture",a)}class lf{constructor(t,n){ue(this,"audio");ue(this,"_splitter");ue(this,"_audioOut");ue(this,"_sampleHolder");ue(this,"_analyser");ue(this,"_playing",!1);this.audio=new AudioBufferSourceNode(t,n),this._splitter=new ChannelSplitterNode(t),this._analyser=new AnalyserNode(t),this._audioOut=new ChannelMergerNode(t),this._sampleHolder=new Float32Array(1),this.audio.addEventListener("ended",()=>{this._playing=!1})}get playbackPosition(){return this._analyser.getFloatTimeDomainData(this._sampleHolder),this._sampleHolder[0]}get playing(){return this._playing}loadBuffer(t){const n=Math.max(t.numberOfChannels,3),r=n-1;if(this.audio.buffer=new AudioBuffer({length:t.length,sampleRate:t.sampleRate,numberOfChannels:n}),t.numberOfChannels==1)this.audio.buffer.copyToChannel(t.getChannelData(0),0),this.audio.buffer.copyToChannel(t.getChannelData(0),1);else for(let o=0;o<t.numberOfChannels;o++)this.audio.buffer.copyToChannel(t.getChannelData(o),o);const i=this.audio.buffer.getChannelData(r);for(let o=0;o<t.length;o++)i[o]=o/t.length;this.audio.connect(this._splitter);for(let o=0;o<r;o++)this._splitter.connect(this._audioOut,o,o);this._splitter.connect(this._analyser,r)}get playbackRate(){return this.audio.playbackRate}start(...t){this._playing=!0,this.audio.start(...t)}stop(t){this.audio.stop(t)}connect(t,n){return this._audioOut.connect(t,n)}}function vt(e){const[t,n]=bt(e.value),r=o=>{n(()=>o)};return Tu(()=>{e.attach(r)}),Wn(()=>{e.detach(r)}),[t,o=>{e.value=o}]}class Bt{static get instance(){if(!this._instance)throw new Error("AudioContext not initialized");return this._instance}static init(t){this._instance=new AudioContext,this.initialized.value=!0}}ue(Bt,"_instance"),ue(Bt,"initialized",new lt(!1));function Hi(){const[e]=vt(Bt.initialized);return()=>e()?Bt.instance:null}const ff=ge('<div class="buttonPad"><canvas></canvas><button><div class="label"></div></button><button></button></div>'),pf=({model:e,onClick:t})=>{let n,r,i,o,a;const u=Hi();e.audioContext.value=u();const[s]=vt(e.playbackRate),[c]=vt(e.label);kt(()=>{const w=s();i&&(i.audio.playbackRate.value=w)});function f(){const w=r.getContext("2d"),m=i.playbackPosition;w&&(w.clearRect(0,0,r.width,r.height),w.fillStyle="white",w.fillRect(0,0,r.width*m,r.height),i!=null&&i.playing?requestAnimationFrame(f):w.clearRect(0,0,r.width,r.height))}const d=()=>{!u()||!e.loaded||(i==null||i.stop(),i=new lf(u(),{playbackRate:s()}),i.loadBuffer(e.audioBuffer),i.connect(u().destination),i.start(),f())},y=()=>{i&&e.loaded&&i.stop()};return wi({target:()=>o,pointerTypes:["touch","pen","mouse"],onDown:d}),wi({target:()=>a,pointerTypes:["touch","pen","mouse"],onDown:y}),(()=>{const w=ff.cloneNode(!0),m=w.firstChild,h=m.nextSibling,v=h.firstChild,g=h.nextSibling;$n(w,"click",t,!0);const S=n;typeof S=="function"?Ge(S,w):n=w;const E=r;typeof E=="function"?Ge(E,m):r=m;const j=o;typeof j=="function"?Ge(j,h):o=h,ce(v,c),ce(h,we(ss,{size:24}),null);const _=a;return typeof _=="function"?Ge(_,g):a=g,ce(g,we(cs,{size:24})),w})()};Ft(["click"]);const hf=ge('<div class="modal"><div class="topbar flex flex-row-reverse"><button>⨉</button></div><div class="modal-content p-2"></div></div>'),df=ge('<div class="modal-overlay"></div>'),yf=ge("<button></button>"),vf=e=>{let t,n;return[(()=>{const r=hf.cloneNode(!0),i=r.firstChild,o=i.firstChild,a=i.nextSibling,u=t;return typeof u=="function"?Ge(u,r):t=r,$n(o,"click",e.onClose,!0),ce(a,()=>e.children),ce(r,(()=>{const s=tt(()=>!!e.buttonText);return()=>s()&&(()=>{const c=yf.cloneNode(!0);return $n(c,"click",e.onClose,!0),ce(c,()=>e.buttonText),c})()})(),null),Be(()=>r.classList.toggle("hidden",!e.show)),r})(),(()=>{const r=df.cloneNode(!0),i=n;return typeof i=="function"?Ge(i,r):n=r,Be(()=>r.classList.toggle("hidden",!e.show)),r})()]};Ft(["click"]);const gf=ge('<div class="grid"><div class="col"><h2 class="pb-2">SoundBored</h2><div class="text-left"><div class="py-2">Trigger samples by hitting the pads</div><div class="py-2">Load new sounds from the sample explorer</div><div class="py-2">Record and upload your own samples</div></div></div></div>'),mf=e=>we(vf,{get show(){return e.show},onClose:()=>{Bt.initialized.value||Bt.init(),e.setShow(!1)},buttonText:"Ok",get children(){return gf.cloneNode(!0)}});function yu(e,t){let n=-1/0;wi({target:e,onUp:r=>{const i=performance.now();i-n<Wl?(t(r),n=-1/0):n=i}})}const bf=ge('<div class="sampleView"><canvas width="1600" height="300"></canvas></div>');async function wf(e,t){const n=await Pe.instance.getSampleBlob(e);if(!n)throw new Error(`Could not find '${e}'`);const i=(await t.decodeAudioData(await n.arrayBuffer())).getChannelData(0),o=_f(i,Hl),a=Sf(o);return await Pe.instance.addSample({filename:e,data:n,waveform:a}),a}function _f(e,t){const n=Math.floor(e.length/t);console.log(n);const r=new Float32Array(t);for(let i=0;i<t;i++){const o=e.subarray(i*n,(i+1)*n);r[i]=o.reduce((a,u)=>a+u)/n}return r}function Sf(e){const t=Math.pow(Math.max(...e.map(Math.abs)),-1);return e.map(n=>n*t)}function Af(e,t){const n=t.width-2*Ho,r=t.getContext("2d");if(!r)return;r.clearRect(0,0,t.width,t.height),r.strokeStyle="#da571a",r.lineWidth=5;const i=t.height/2;let o=Ho,a=i;r.beginPath(),r.moveTo(o,a);for(const u of e)o+=n/e.length,a=i+u*((t.height-Ef)/2),r.lineTo(o,a);r.stroke()}const Ho=10,Ef=10,Of=e=>{let t;const n=Hi(),[r,i]=vt(e.model.src);return kt(async()=>{const o=n();if(!o)return;const a=await Pe.instance.getSampleWaveform(r())??await wf(r(),o);Af(a,t)}),(()=>{const o=bf.cloneNode(!0),a=o.firstChild;o.addEventListener("drop",s=>{s.preventDefault(),s.dataTransfer&&i(s.dataTransfer.getData("text/plain"))}),o.addEventListener("dragover",s=>{s.preventDefault(),s.dataTransfer&&(s.dataTransfer.dropEffect="link")});const u=t;return typeof u=="function"?Ge(u,a):t=a,o})()};const Pf=ge('<div class="sampleControls col px-2"><div class="flex"><div class="sampleLabel"></div><div>/</div></div><label for="playbackRateControl">Playback speed</label><input id="playbackRateControl" type="range" min="0.01" step="0.01" max="2"></div>'),Tf=ge('<input type="text" maxlength="12" class="sampleLabel">'),jf=ge("<div></div>"),xf=e=>{let t;const[n,r]=vt(e.model.label),[i]=vt(e.model.src),[o,a]=vt(e.model.playbackRate),[u,s]=bt(!1);return yu(()=>t,()=>{a(1)}),(()=>{const c=Pf.cloneNode(!0),f=c.firstChild,d=f.firstChild,y=d.nextSibling;y.firstChild;const w=f.nextSibling,m=w.nextSibling;ce(d,(()=>{const v=tt(()=>!!u());return()=>v()?(()=>{const g=Tf.cloneNode(!0);return g.addEventListener("mouseleave",()=>s(!1)),g.$$keyup=S=>{S.key==="Enter"&&s(!1)},g.$$input=S=>r(S.currentTarget.value),Be(()=>g.value=n()),g})():(()=>{const g=jf.cloneNode(!0);return g.$$click=()=>s(!0),ce(g,n),g})()})()),ce(y,i,null),ce(c,we(Of,{get model(){return e.model}}),w),m.$$input=v=>a(v.currentTarget.valueAsNumber);const h=t;return typeof h=="function"?Ge(h,m):t=m,Be(()=>m.value=o()),c})()};Ft(["input","keyup","click"]);const _i=Symbol("store-raw"),an=Symbol("store-node"),If=Symbol("store-name");function vu(e,t){let n=e[Fe];if(!n&&(Object.defineProperty(e,Fe,{value:n=new Proxy(e,Df)}),!Array.isArray(e))){const r=Object.keys(e),i=Object.getOwnPropertyDescriptors(e);for(let o=0,a=r.length;o<a;o++){const u=r[o];i[u].get&&Object.defineProperty(e,u,{enumerable:i[u].enumerable,get:i[u].get.bind(n)})}}return n}function ot(e){let t;return e!=null&&typeof e=="object"&&(e[Fe]||!(t=Object.getPrototypeOf(e))||t===Object.prototype||Array.isArray(e))}function $t(e,t=new Set){let n,r,i,o;if(n=e!=null&&e[_i])return n;if(!ot(e)||t.has(e))return e;if(Array.isArray(e)){Object.isFrozen(e)?e=e.slice(0):t.add(e);for(let a=0,u=e.length;a<u;a++)i=e[a],(r=$t(i,t))!==i&&(e[a]=r)}else{Object.isFrozen(e)?e=Object.assign({},e):t.add(e);const a=Object.keys(e),u=Object.getOwnPropertyDescriptors(e);for(let s=0,c=a.length;s<c;s++)o=a[s],!u[o].get&&(i=e[o],(r=$t(i,t))!==i&&(e[o]=r))}return e}function Yi(e){let t=e[an];return t||Object.defineProperty(e,an,{value:t={}}),t}function Si(e,t,n){return e[t]||(e[t]=mu(n))}function Rf(e,t){const n=Reflect.getOwnPropertyDescriptor(e,t);return!n||n.get||!n.configurable||t===Fe||t===an||t===If||(delete n.value,delete n.writable,n.get=()=>e[Fe][t]),n}function gu(e){if(Xo()){const t=Yi(e);(t._||(t._=mu()))()}}function Cf(e){return gu(e),Reflect.ownKeys(e)}function mu(e){const[t,n]=bt(e,{equals:!1,internal:!0});return t.$=n,t}const Df={get(e,t,n){if(t===_i)return e;if(t===Fe)return n;if(t===qr)return gu(e),n;const r=Yi(e),i=r.hasOwnProperty(t);let o=i?r[t]():e[t];if(t===an||t==="__proto__")return o;if(!i){const a=Object.getOwnPropertyDescriptor(e,t);Xo()&&(typeof o!="function"||e.hasOwnProperty(t))&&!(a&&a.get)&&(o=Si(r,t,o)())}return ot(o)?vu(o):o},has(e,t){return t===_i||t===Fe||t===qr||t===an||t==="__proto__"?!0:(this.get(e,t,e),t in e)},set(){return!0},deleteProperty(){return!0},ownKeys:Cf,getOwnPropertyDescriptor:Rf};function ke(e,t,n,r=!1){if(!r&&e[t]===n)return;const i=e[t],o=e.length;n===void 0?delete e[t]:e[t]=n;let a=Yi(e),u;(u=Si(a,t,i))&&u.$(()=>n),Array.isArray(e)&&e.length!==o&&(u=Si(a,"length",o))&&u.$(e.length),(u=a._)&&u.$()}function bu(e,t){const n=Object.keys(t);for(let r=0;r<n.length;r+=1){const i=n[r];ke(e,i,t[i])}}function Bf(e,t){if(typeof t=="function"&&(t=t(e)),t=$t(t),Array.isArray(t)){if(e===t)return;let n=0,r=t.length;for(;n<r;n++){const i=t[n];e[n]!==i&&ke(e,n,i)}ke(e,"length",r)}else bu(e,t)}function Ht(e,t,n=[]){let r,i=e;if(t.length>1){r=t.shift();const a=typeof r,u=Array.isArray(e);if(Array.isArray(r)){for(let s=0;s<r.length;s++)Ht(e,[r[s]].concat(t),n);return}else if(u&&a==="function"){for(let s=0;s<e.length;s++)r(e[s],s)&&Ht(e,[s].concat(t),n);return}else if(u&&a==="object"){const{from:s=0,to:c=e.length-1,by:f=1}=r;for(let d=s;d<=c;d+=f)Ht(e,[d].concat(t),n);return}else if(t.length>1){Ht(e[r],t,[r].concat(n));return}i=e[r],n=[r].concat(n)}let o=t[0];typeof o=="function"&&(o=o(i,n),o===i)||r===void 0&&o==null||(o=$t(o),r===void 0||ot(i)&&ot(o)&&!Array.isArray(o)?bu(i,o):ke(e,r,o))}function $f(...[e,t]){const n=$t(e||{}),r=Array.isArray(n),i=vu(n);function o(...a){Ou(()=>{r&&a.length===1?Bf(n,a[0]):Ht(n,a)})}return[i,o]}const Ai=Symbol("store-root");function Tt(e,t,n,r,i){const o=t[n];if(e===o)return;if(!ot(e)||!ot(o)||i&&e[i]!==o[i]){if(e!==o){if(n===Ai)return e;ke(t,n,e)}return}if(Array.isArray(e)){if(e.length&&o.length&&(!r||i&&e[0]&&e[0][i]!=null)){let s,c,f,d,y,w,m,h;for(f=0,d=Math.min(o.length,e.length);f<d&&(o[f]===e[f]||i&&o[f]&&e[f]&&o[f][i]===e[f][i]);f++)Tt(e[f],o,f,r,i);const v=new Array(e.length),g=new Map;for(d=o.length-1,y=e.length-1;d>=f&&y>=f&&(o[d]===e[y]||i&&o[f]&&e[f]&&o[d][i]===e[y][i]);d--,y--)v[y]=o[d];if(f>y||f>d){for(c=f;c<=y;c++)ke(o,c,e[c]);for(;c<e.length;c++)ke(o,c,v[c]),Tt(e[c],o,c,r,i);o.length>e.length&&ke(o,"length",e.length);return}for(m=new Array(y+1),c=y;c>=f;c--)w=e[c],h=i&&w?w[i]:w,s=g.get(h),m[c]=s===void 0?-1:s,g.set(h,c);for(s=f;s<=d;s++)w=o[s],h=i&&w?w[i]:w,c=g.get(h),c!==void 0&&c!==-1&&(v[c]=o[s],c=m[c],g.set(h,c));for(c=f;c<e.length;c++)c in v?(ke(o,c,v[c]),Tt(e[c],o,c,r,i)):ke(o,c,e[c])}else for(let s=0,c=e.length;s<c;s++)Tt(e[s],o,s,r,i);o.length>e.length&&ke(o,"length",e.length);return}const a=Object.keys(e);for(let s=0,c=a.length;s<c;s++)Tt(e[a[s]],o,a[s],r,i);const u=Object.keys(o);for(let s=0,c=u.length;s<c;s++)e[u[s]]===void 0&&ke(o,u[s],void 0)}function kf(e,t={}){const{merge:n,key:r="id"}=t,i=$t(e);return o=>{if(!ot(o)||!ot(i))return i;const a=Tt(i,{[Ai]:o},Ai,n,r);return a===void 0?o:a}}function Nf(e){const[t,n]=$f([]);return kt(Pu(e,()=>{Ff(Fa(e),t,n)})),t}function Ff(e,t,n,r={key:"id"}){const i=e.subscribe(o=>n(kf(o,r)));return Wn(()=>"unsubscribe"in i?i.unsubscribe():i()),t}const Mf=ge('<div class="sampleExplorer col-3"><input id="fileExplorer" type="file" accept="audio/*" hidden multiple><div class="sampleExplorer-header grid grid-nogutter"><div class="col-9">Samples</div><div class="col-3"><button class="upload"></button></div></div><div class="sampleExplorer-list"></div></div>'),Kf=ge("<div><div></div></div>"),qf=ge('<div class="col-3"><button></button></div>'),Lf=e=>{const t=Nf(()=>Pe.instance.getAllSampleFileNames()),[n,r]=bt(null);return(()=>{const i=Mf.cloneNode(!0),o=i.firstChild,a=o.nextSibling,u=a.firstChild,s=u.nextSibling,c=s.firstChild,f=a.nextSibling;return i.addEventListener("mouseleave",()=>r(null)),o.addEventListener("change",d=>{if(d.currentTarget.files)for(const y of d.currentTarget.files)Pe.instance.addSampleFromFile(y)}),c.$$click=()=>{var d;return(d=document.getElementById("fileExplorer"))==null?void 0:d.click()},ce(c,we(as,{size:18})),ce(f,we(Nu,{each:t,children:(d,y)=>{let w;return yu(()=>w,()=>{e.selectedSampler.src.value=d}),(()=>{const m=Kf.cloneNode(!0),h=m.firstChild;m.$$mouseover=()=>r(y),m.addEventListener("dragstart",g=>{var S;return(S=g.dataTransfer)==null?void 0:S.setData("text/plain",g.target.textContent??"")});const v=w;return typeof v=="function"?Ge(v,m):w=m,xt(m,"draggable",!0),ce(h,d),ce(m,(()=>{const g=tt(()=>y()===n());return()=>g()&&(()=>{const S=qf.cloneNode(!0),E=S.firstChild;return ce(E,we(ls,{class:"icon",onClick:async()=>confirm(`Delete '${d}' from sample bank?`)&&Pe.instance.deleteSampleByName(d)})),S})()})(),null),Be(g=>{const S={"sampleExplorer-item grid grid-nogutter":!0,selected:y()===n()},E=y()===n()?"col-9":"col";return g._v$=ia(m,S,g._v$),E!==g._v$2&&ra(h,g._v$2=E),g},{_v$:void 0,_v$2:void 0}),m})()}})),i})()};Ft(["click","mouseover"]);const Uf=ge('<div class="sampleEditor grid grid-nogutter"></div>'),Vf=e=>{const t=e.samplers.map(n=>()=>we(xf,{model:n}));return(()=>{const n=Uf.cloneNode(!0);return ce(n,we(Lf,{get selectedSampler(){return e.samplers[e.selectedSamplerIdx]}}),null),ce(n,we(ns,{get component(){return t[e.selectedSamplerIdx]}}),null),n})()};class zf{constructor(t="",n=""){ue(this,"src");ue(this,"label");ue(this,"audioContext",new lt(null));ue(this,"_buffer",new lt(new ArrayBuffer(0)));ue(this,"_audioBuffer");ue(this,"_playbackRate",new lt(1));ue(this,"_preservePitch",new lt(!1));ue(this,"onSrcUpdate",async t=>{if(!t)return;const n=await Pe.instance.getSampleBlob(this.src.value);if(!n)throw new Error(`Sample '${this.src.value}' not found`);this._buffer.value=await n.arrayBuffer()});ue(this,"onBufferUpdate",async()=>{var t;try{this._audioBuffer=await((t=this.audioContext.value)==null?void 0:t.decodeAudioData(this._buffer.value))}catch(n){console.error(n)}});this.src=new lt(t),this.label=new lt(n),this.src.attach(this.onSrcUpdate),this._buffer.attach(this.onBufferUpdate)}get audioBuffer(){if(!this._audioBuffer)throw new Error("No Audio Buffer loaded");return this._audioBuffer}get loaded(){return!!this._audioBuffer}get playbackRate(){return this._playbackRate}get preservePitch(){return this._preservePitch}dispose(){this.src.detach(this.onSrcUpdate)}loadBuffer(){this.src.fire(this.src.value)}}const Gf=ge('<div class="Sampler"><div class="buttonGrid"></div></div>'),Wf=e=>{const t=Hi();kt(()=>{const o=t();o&&n.forEach(async a=>{a.audioContext.value=o,await e.appInitialized,a.loadBuffer()})});const n=rr.samples.slice(0,pu).map(({filename:o,label:a})=>new zf(o,a)),[r,i]=bt(0);return(()=>{const o=Gf.cloneNode(!0),a=o.firstChild;return ce(o,we(Vf,{samplers:n,get selectedSamplerIdx(){return r()}}),a),ce(a,()=>n.map((u,s)=>we(pf,{model:u,onClick:()=>{i(s)}}))),o})()};Gu(()=>we(tf,{}),document.getElementById("root"));
