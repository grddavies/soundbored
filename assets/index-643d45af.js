var Su=Object.defineProperty;var Au=(e,t,n)=>t in e?Su(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var se=(e,t,n)=>(Au(e,typeof t!="symbol"?t+"":t,n),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerpolicy&&(o.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?o.credentials="include":i.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();const we={};function Eu(e){we.context=e}const Ou=(e,t)=>e===t,Ke=Symbol("solid-proxy"),qr=Symbol("solid-track"),Rn={equals:Ou};let Yo=ea;const st=1,$n=2,Jo={owned:null,cleanups:null,context:null,owner:null};var be=null;let yt=null,ye=null,Ae=null,Je=null,Ei=0;function wn(e,t){const n=ye,r=be,i=e.length===0,o=i?Jo:{owned:null,cleanups:null,context:null,owner:t||r},a=i?e:()=>e(()=>ct(()=>Yn(o)));be=o,ye=null;try{return Nt(a,!0)}finally{ye=n,be=r}}function Me(e,t){t=t?Object.assign({},Rn,t):Rn;const n={value:e,observers:null,observerSlots:null,comparator:t.equals||void 0},r=i=>(typeof i=="function"&&(i=i(n.value)),Zo(n,i));return[Qo.bind(n),r]}function je(e,t,n){const r=Oi(e,t,!1,st);un(r)}function kt(e,t,n){Yo=$u;const r=Oi(e,t,!1,st);r.user=!0,Je?Je.push(r):un(r)}function Qe(e,t,n){n=n?Object.assign({},Rn,n):Rn;const r=Oi(e,t,!0,0);return r.observers=null,r.observerSlots=null,r.comparator=n.equals||void 0,un(r),Qo.bind(r)}function Pu(e){return Nt(e,!1)}function ct(e){const t=ye;ye=null;try{return e()}finally{ye=t}}function xu(e,t,n){const r=Array.isArray(e);let i,o=n&&n.defer;return a=>{let u;if(r){u=Array(e.length);for(let c=0;c<e.length;c++)u[c]=e[c]()}else u=e();if(o){o=!1;return}const s=ct(()=>t(u,i,a));return i=u,s}}function Tu(e){kt(()=>ct(e))}function Hn(e){return be===null||(be.cleanups===null?be.cleanups=[e]:be.cleanups.push(e)),e}function Xo(){return ye}function Iu(){return be}function Qo(){const e=yt;if(this.sources&&(this.state||e))if(this.state===st||e)un(this);else{const t=Ae;Ae=null,Nt(()=>Dn(this),!1),Ae=t}if(ye){const t=this.observers?this.observers.length:0;ye.sources?(ye.sources.push(this),ye.sourceSlots.push(t)):(ye.sources=[this],ye.sourceSlots=[t]),this.observers?(this.observers.push(ye),this.observerSlots.push(ye.sources.length-1)):(this.observers=[ye],this.observerSlots=[ye.sources.length-1])}return this.value}function Zo(e,t,n){let r=e.value;return(!e.comparator||!e.comparator(r,t))&&(e.value=t,e.observers&&e.observers.length&&Nt(()=>{for(let i=0;i<e.observers.length;i+=1){const o=e.observers[i],a=yt&&yt.running;a&&yt.disposed.has(o),(a&&!o.tState||!a&&!o.state)&&(o.pure?Ae.push(o):Je.push(o),o.observers&&ta(o)),a||(o.state=st)}if(Ae.length>1e6)throw Ae=[],new Error},!1)),t}function un(e){if(!e.fn)return;Yn(e);const t=be,n=ye,r=Ei;ye=be=e,ju(e,e.value,r),ye=n,be=t}function ju(e,t,n){let r;try{r=e.fn(t)}catch(i){e.pure&&(e.state=st,e.owned&&e.owned.forEach(Yn),e.owned=null),na(i)}(!e.updatedAt||e.updatedAt<=n)&&(e.updatedAt!=null&&"observers"in e?Zo(e,r):e.value=r,e.updatedAt=n)}function Oi(e,t,n,r=st,i){const o={fn:e,state:r,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:t,owner:be,context:null,pure:n};return be===null||be!==Jo&&(be.owned?be.owned.push(o):be.owned=[o]),o}function Cn(e){const t=yt;if(e.state===0||t)return;if(e.state===$n||t)return Dn(e);if(e.suspense&&ct(e.suspense.inFallback))return e.suspense.effects.push(e);const n=[e];for(;(e=e.owner)&&(!e.updatedAt||e.updatedAt<Ei);)(e.state||t)&&n.push(e);for(let r=n.length-1;r>=0;r--)if(e=n[r],e.state===st||t)un(e);else if(e.state===$n||t){const i=Ae;Ae=null,Nt(()=>Dn(e,n[0]),!1),Ae=i}}function Nt(e,t){if(Ae)return e();let n=!1;t||(Ae=[]),Je?n=!0:Je=[],Ei++;try{const r=e();return Ru(n),r}catch(r){Ae||(Je=null),na(r)}}function Ru(e){if(Ae&&(ea(Ae),Ae=null),e)return;const t=Je;Je=null,t.length&&Nt(()=>Yo(t),!1)}function ea(e){for(let t=0;t<e.length;t++)Cn(e[t])}function $u(e){let t,n=0;for(t=0;t<e.length;t++){const r=e[t];r.user?e[n++]=r:Cn(r)}for(we.context&&Eu(),t=0;t<n;t++)Cn(e[t])}function Dn(e,t){const n=yt;e.state=0;for(let r=0;r<e.sources.length;r+=1){const i=e.sources[r];i.sources&&(i.state===st||n?i!==t&&Cn(i):(i.state===$n||n)&&Dn(i,t))}}function ta(e){const t=yt;for(let n=0;n<e.observers.length;n+=1){const r=e.observers[n];(!r.state||t)&&(r.state=$n,r.pure?Ae.push(r):Je.push(r),r.observers&&ta(r))}}function Yn(e){let t;if(e.sources)for(;e.sources.length;){const n=e.sources.pop(),r=e.sourceSlots.pop(),i=n.observers;if(i&&i.length){const o=i.pop(),a=n.observerSlots.pop();r<i.length&&(o.sourceSlots[a]=r,i[r]=o,n.observerSlots[r]=a)}}if(e.owned){for(t=0;t<e.owned.length;t++)Yn(e.owned[t]);e.owned=null}if(e.cleanups){for(t=0;t<e.cleanups.length;t++)e.cleanups[t]();e.cleanups=null}e.state=0,e.context=null}function Cu(e){return e instanceof Error||typeof e=="string"?e:new Error("Unknown error")}function na(e){throw e=Cu(e),e}const Du=Symbol("fallback");function Qi(e){for(let t=0;t<e.length;t++)e[t]()}function Bu(e,t,n={}){let r=[],i=[],o=[],a=0,u=t.length>1?[]:null;return Hn(()=>Qi(o)),()=>{let s=e()||[],c,f;return s[qr],ct(()=>{let d=s.length,g,v,y,b,m,S,E,P,_;if(d===0)a!==0&&(Qi(o),o=[],r=[],i=[],a=0,u&&(u=[])),n.fallback&&(r=[Du],i[0]=wn(D=>(o[0]=D,n.fallback())),a=1);else if(a===0){for(i=new Array(d),f=0;f<d;f++)r[f]=s[f],i[f]=wn(p);a=d}else{for(y=new Array(d),b=new Array(d),u&&(m=new Array(d)),S=0,E=Math.min(a,d);S<E&&r[S]===s[S];S++);for(E=a-1,P=d-1;E>=S&&P>=S&&r[E]===s[P];E--,P--)y[P]=i[E],b[P]=o[E],u&&(m[P]=u[E]);for(g=new Map,v=new Array(P+1),f=P;f>=S;f--)_=s[f],c=g.get(_),v[f]=c===void 0?-1:c,g.set(_,f);for(c=S;c<=E;c++)_=r[c],f=g.get(_),f!==void 0&&f!==-1?(y[f]=i[c],b[f]=o[c],u&&(m[f]=u[c]),f=v[f],g.set(_,f)):o[c]();for(f=S;f<d;f++)f in y?(i[f]=y[f],o[f]=b[f],u&&(u[f]=m[f],u[f](f))):i[f]=wn(p);i=i.slice(0,a=d),r=s.slice(0)}return i});function p(d){if(o[f]=d,u){const[g,v]=Me(f);return u[f]=v,t(s[f],g)}return t(s[f])}}}function ge(e,t){return ct(()=>e(t||{}))}function pn(){return!0}const Ur={get(e,t,n){return t===Ke?n:e.get(t)},has(e,t){return t===Ke?!0:e.has(t)},set:pn,deleteProperty:pn,getOwnPropertyDescriptor(e,t){return{configurable:!0,enumerable:!0,get(){return e.get(t)},set:pn,deleteProperty:pn}},ownKeys(e){return e.keys()}};function or(e){return(e=typeof e=="function"?e():e)?e:{}}function ku(...e){let t=!1;for(let r=0;r<e.length;r++){const i=e[r];t=t||!!i&&Ke in i,e[r]=typeof i=="function"?(t=!0,Qe(i)):i}if(t)return new Proxy({get(r){for(let i=e.length-1;i>=0;i--){const o=or(e[i])[r];if(o!==void 0)return o}},has(r){for(let i=e.length-1;i>=0;i--)if(r in or(e[i]))return!0;return!1},keys(){const r=[];for(let i=0;i<e.length;i++)r.push(...Object.keys(or(e[i])));return[...new Set(r)]}},Ur);const n={};for(let r=e.length-1;r>=0;r--)if(e[r]){const i=Object.getOwnPropertyDescriptors(e[r]);for(const o in i)o in n||Object.defineProperty(n,o,{enumerable:!0,get(){for(let a=e.length-1;a>=0;a--){const u=(e[a]||{})[o];if(u!==void 0)return u}}})}return n}function Nu(e,...t){const n=new Set(t.flat());if(Ke in e){const i=t.map(o=>new Proxy({get(a){return o.includes(a)?e[a]:void 0},has(a){return o.includes(a)&&a in e},keys(){return o.filter(a=>a in e)}},Ur));return i.push(new Proxy({get(o){return n.has(o)?void 0:e[o]},has(o){return n.has(o)?!1:o in e},keys(){return Object.keys(e).filter(o=>!n.has(o))}},Ur)),i}const r=Object.getOwnPropertyDescriptors(e);return t.push(Object.keys(r).filter(i=>!n.has(i))),t.map(i=>{const o={};for(let a=0;a<i.length;a++){const u=i[a];u in e&&Object.defineProperty(o,u,r[u]?r[u]:{get(){return e[u]},set(){return!0},enumerable:!0})}return o})}function Mu(e){const t="fallback"in e&&{fallback:()=>e.fallback};return Qe(Bu(()=>e.each,e.children,t||void 0))}const Fu=["allowfullscreen","async","autofocus","autoplay","checked","controls","default","disabled","formnovalidate","hidden","indeterminate","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","seamless","selected"],Ku=new Set(["className","value","readOnly","formNoValidate","isMap","noModule","playsInline",...Fu]),Lu=new Set(["innerHTML","textContent","innerText","children"]),qu=Object.assign(Object.create(null),{className:"class",htmlFor:"for"}),Zi=Object.assign(Object.create(null),{class:"className",formnovalidate:"formNoValidate",ismap:"isMap",nomodule:"noModule",playsinline:"playsInline",readonly:"readOnly"}),Uu=new Set(["beforeinput","click","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"]),Vu=new Set(["altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignObject","g","glyph","glyphRef","hkern","image","line","linearGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","set","stop","svg","switch","symbol","text","textPath","tref","tspan","use","view","vkern"]),zu={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"};function Gu(e,t,n){let r=n.length,i=t.length,o=r,a=0,u=0,s=t[i-1].nextSibling,c=null;for(;a<i||u<o;){if(t[a]===n[u]){a++,u++;continue}for(;t[i-1]===n[o-1];)i--,o--;if(i===a){const f=o<r?u?n[u-1].nextSibling:n[o-u]:s;for(;u<o;)e.insertBefore(n[u++],f)}else if(o===u)for(;a<i;)(!c||!c.has(t[a]))&&t[a].remove(),a++;else if(t[a]===n[o-1]&&n[u]===t[i-1]){const f=t[--i].nextSibling;e.insertBefore(n[u++],t[a++].nextSibling),e.insertBefore(n[--o],f),t[i]=n[o]}else{if(!c){c=new Map;let p=u;for(;p<o;)c.set(n[p],p++)}const f=c.get(t[a]);if(f!=null)if(u<f&&f<o){let p=a,d=1,g;for(;++p<i&&p<o&&!((g=c.get(t[p]))==null||g!==f+d);)d++;if(d>f-u){const v=t[a];for(;u<f;)e.insertBefore(n[u++],v)}else e.replaceChild(n[u++],t[a++])}else a++;else t[a++].remove()}}}const eo="_$DX_DELEGATE";function Wu(e,t,n,r={}){let i;return wn(o=>{i=o,t===document?e():ae(t,e(),t.firstChild?null:void 0,n)},r.owner),()=>{i(),t.textContent=""}}function de(e,t,n){const r=document.createElement("template");r.innerHTML=e;let i=r.content.firstChild;return n&&(i=i.firstChild),i}function Mt(e,t=window.document){const n=t[eo]||(t[eo]=new Set);for(let r=0,i=e.length;r<i;r++){const o=e[r];n.has(o)||(n.add(o),t.addEventListener(o,Qu))}}function Ne(e,t,n){n==null?e.removeAttribute(t):e.setAttribute(t,n)}function Hu(e,t,n,r){r==null?e.removeAttributeNS(t,n):e.setAttributeNS(t,n,r)}function ra(e,t){t==null?e.removeAttribute("class"):e.className=t}function Bn(e,t,n,r){if(r)Array.isArray(n)?(e[`$$${t}`]=n[0],e[`$$${t}Data`]=n[1]):e[`$$${t}`]=n;else if(Array.isArray(n)){const i=n[0];e.addEventListener(t,n[0]=o=>i.call(e,n[1],o))}else e.addEventListener(t,n)}function ia(e,t,n={}){const r=Object.keys(t||{}),i=Object.keys(n);let o,a;for(o=0,a=i.length;o<a;o++){const u=i[o];!u||u==="undefined"||t[u]||(to(e,u,!1),delete n[u])}for(o=0,a=r.length;o<a;o++){const u=r[o],s=!!t[u];!u||u==="undefined"||n[u]===s||!s||(to(e,u,!0),n[u]=s)}return n}function oa(e,t,n){if(!t)return n?Ne(e,"style"):t;const r=e.style;if(typeof t=="string")return r.cssText=t;typeof n=="string"&&(r.cssText=n=void 0),n||(n={}),t||(t={});let i,o;for(o in n)t[o]==null&&r.removeProperty(o),delete n[o];for(o in t)i=t[o],i!==n[o]&&(r.setProperty(o,i),n[o]=i);return n}function aa(e,t={},n,r){const i={};return r||je(()=>i.children=Rt(e,t.children,i.children)),je(()=>t.ref&&t.ref(e)),je(()=>Yu(e,t,n,!0,i,!0)),i}function He(e,t,n){return ct(()=>e(t,n))}function ae(e,t,n,r){if(n!==void 0&&!r&&(r=[]),typeof t!="function")return Rt(e,t,r,n);je(i=>Rt(e,t(),i,n),r)}function Yu(e,t,n,r,i={},o=!1){t||(t={});for(const a in i)if(!(a in t)){if(a==="children")continue;i[a]=no(e,a,null,i[a],n,o)}for(const a in t){if(a==="children"){r||Rt(e,t.children);continue}const u=t[a];i[a]=no(e,a,u,i[a],n,o)}}function Ju(e){let t,n;return!we.context||!(t=we.registry.get(n=Zu()))?e.cloneNode(!0):(we.completed&&we.completed.add(t),we.registry.delete(n),t)}function Xu(e){return e.toLowerCase().replace(/-([a-z])/g,(t,n)=>n.toUpperCase())}function to(e,t,n){const r=t.trim().split(/\s+/);for(let i=0,o=r.length;i<o;i++)e.classList.toggle(r[i],n)}function no(e,t,n,r,i,o){let a,u,s;if(t==="style")return oa(e,n,r);if(t==="classList")return ia(e,n,r);if(n===r)return r;if(t==="ref")o||n(e);else if(t.slice(0,3)==="on:"){const c=t.slice(3);r&&e.removeEventListener(c,r),n&&e.addEventListener(c,n)}else if(t.slice(0,10)==="oncapture:"){const c=t.slice(10);r&&e.removeEventListener(c,r,!0),n&&e.addEventListener(c,n,!0)}else if(t.slice(0,2)==="on"){const c=t.slice(2).toLowerCase(),f=Uu.has(c);if(!f&&r){const p=Array.isArray(r)?r[0]:r;e.removeEventListener(c,p)}(f||n)&&(Bn(e,c,n,f),f&&Mt([c]))}else if((s=Lu.has(t))||!i&&(Zi[t]||(u=Ku.has(t)))||(a=e.nodeName.includes("-")))t==="class"||t==="className"?ra(e,n):a&&!u&&!s?e[Xu(t)]=n:e[Zi[t]||t]=n;else{const c=i&&t.indexOf(":")>-1&&zu[t.split(":")[0]];c?Hu(e,c,t,n):Ne(e,qu[t]||t,n)}return n}function Qu(e){const t=`$$${e.type}`;let n=e.composedPath&&e.composedPath()[0]||e.target;for(e.target!==n&&Object.defineProperty(e,"target",{configurable:!0,value:n}),Object.defineProperty(e,"currentTarget",{configurable:!0,get(){return n||document}}),we.registry&&!we.done&&(we.done=!0,document.querySelectorAll("[id^=pl-]").forEach(r=>{for(;r&&r.nodeType!==8&&r.nodeValue!=="pl-"+e;){let i=r.nextSibling;r.remove(),r=i}r&&r.remove()}));n;){const r=n[t];if(r&&!n.disabled){const i=n[`${t}Data`];if(i!==void 0?r.call(n,i,e):r.call(n,e),e.cancelBubble)return}n=n._$host||n.parentNode||n.host}}function Rt(e,t,n,r,i){for(we.context&&!n&&(n=[...e.childNodes]);typeof n=="function";)n=n();if(t===n)return n;const o=typeof t,a=r!==void 0;if(e=a&&n[0]&&n[0].parentNode||e,o==="string"||o==="number"){if(we.context)return n;if(o==="number"&&(t=t.toString()),a){let u=n[0];u&&u.nodeType===3?u.data=t:u=document.createTextNode(t),n=Et(e,n,r,u)}else n!==""&&typeof n=="string"?n=e.firstChild.data=t:n=e.textContent=t}else if(t==null||o==="boolean"){if(we.context)return n;n=Et(e,n,r)}else{if(o==="function")return je(()=>{let u=t();for(;typeof u=="function";)u=u();n=Rt(e,u,n,r)}),()=>n;if(Array.isArray(t)){const u=[],s=n&&Array.isArray(n);if(Vr(u,t,n,i))return je(()=>n=Rt(e,u,n,r,!0)),()=>n;if(we.context){if(!u.length)return n;for(let c=0;c<u.length;c++)if(u[c].parentNode)return n=u}if(u.length===0){if(n=Et(e,n,r),a)return n}else s?n.length===0?ro(e,u,r):Gu(e,n,u):(n&&Et(e),ro(e,u));n=u}else if(t instanceof Node){if(we.context&&t.parentNode)return n=a?[t]:t;if(Array.isArray(n)){if(a)return n=Et(e,n,r,t);Et(e,n,null,t)}else n==null||n===""||!e.firstChild?e.appendChild(t):e.replaceChild(t,e.firstChild);n=t}}return n}function Vr(e,t,n,r){let i=!1;for(let o=0,a=t.length;o<a;o++){let u=t[o],s=n&&n[o];if(u instanceof Node)e.push(u);else if(!(u==null||u===!0||u===!1))if(Array.isArray(u))i=Vr(e,u,s)||i;else if(typeof u=="function")if(r){for(;typeof u=="function";)u=u();i=Vr(e,Array.isArray(u)?u:[u],Array.isArray(s)?s:[s])||i}else e.push(u),i=!0;else{const c=String(u);s&&s.nodeType===3&&s.data===c?e.push(s):e.push(document.createTextNode(c))}}return i}function ro(e,t,n=null){for(let r=0,i=t.length;r<i;r++)e.insertBefore(t[r],n)}function Et(e,t,n,r){if(n===void 0)return e.textContent="";const i=r||document.createTextNode("");if(t.length){let o=!1;for(let a=t.length-1;a>=0;a--){const u=t[a];if(i!==u){const s=u.parentNode===e;!o&&!a?s?e.replaceChild(i,u):e.insertBefore(i,n):s&&u.remove()}else o=!0}}else e.insertBefore(i,n);return[i]}function Zu(){const e=we.context;return`${e.id}${e.count++}`}const es=!1,ts="http://www.w3.org/2000/svg";function ns(e,t=!1){return t?document.createElementNS(ts,e):document.createElement(e)}function rs(e){const[t,n]=Nu(e,["component"]),r=Qe(()=>t.component);return Qe(()=>{const i=r();switch(typeof i){case"function":return ct(()=>i(n));case"string":const o=Vu.has(i),a=we.context?Ju():ns(i,o);return aa(a,n,o),a}})}const is=de('<svg fill="currentColor" stroke-width="0" xmlns="http://www.w3.org/2000/svg"></svg>'),os=de("<title></title>");function Ft(e,t){const n=ku(e.a,t);return(()=>{const r=is.cloneNode(!0);return aa(r,n,!0,!0),ae(r,()=>es,null),ae(r,(()=>{const i=Qe(()=>!!t.title,!0);return()=>i()&&(()=>{const o=os.cloneNode(!0);return ae(o,()=>t.title),o})()})(),null),je(i=>{const o=e.a.stroke,a={...t.style,overflow:"visible",color:t.color||"currentColor"},u=t.size||"1em",s=t.size||"1em",c=e.c;return o!==i._v$&&Ne(r,"stroke",i._v$=o),i._v$2=oa(r,a,i._v$2),u!==i._v$3&&Ne(r,"height",i._v$3=u),s!==i._v$4&&Ne(r,"width",i._v$4=s),c!==i._v$5&&(r.innerHTML=i._v$5=c),i},{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0,_v$5:void 0}),r})()}function as(e){return Ft({a:{viewBox:"0 0 24 24"},c:'<path fill-rule="evenodd" d="M12.026 2c-5.509 0-9.974 4.465-9.974 9.974 0 4.406 2.857 8.145 6.821 9.465.499.09.679-.217.679-.481 0-.237-.008-.865-.011-1.696-2.775.602-3.361-1.338-3.361-1.338-.452-1.152-1.107-1.459-1.107-1.459-.905-.619.069-.605.069-.605 1.002.07 1.527 1.028 1.527 1.028.89 1.524 2.336 1.084 2.902.829.091-.645.351-1.085.635-1.334-2.214-.251-4.542-1.107-4.542-4.93 0-1.087.389-1.979 1.024-2.675-.101-.253-.446-1.268.099-2.64 0 0 .837-.269 2.742 1.021a9.582 9.582 0 012.496-.336 9.554 9.554 0 012.496.336c1.906-1.291 2.742-1.021 2.742-1.021.545 1.372.203 2.387.099 2.64.64.696 1.024 1.587 1.024 2.675 0 3.833-2.33 4.675-4.552 4.922.355.308.675.916.675 1.846 0 1.334-.012 2.41-.012 2.737 0 .267.178.577.687.479C19.146 20.115 22 16.379 22 11.974 22 6.465 17.535 2 12.026 2z" clip-rule="evenodd"/>'},e)}function us(e){return Ft({a:{viewBox:"0 0 24 24"},c:'<path d="M13 19v-4h3l-4-5-4 5h3v4z"/><path d="M7 19h2v-2H7c-1.654 0-3-1.346-3-3 0-1.404 1.199-2.756 2.673-3.015l.581-.102.192-.558C8.149 8.274 9.895 7 12 7c2.757 0 5 2.243 5 5v1h1c1.103 0 2 .897 2 2s-.897 2-2 2h-3v2h3c2.206 0 4-1.794 4-4a4.01 4.01 0 00-3.056-3.888C18.507 7.67 15.56 5 12 5 9.244 5 6.85 6.611 5.757 9.15 3.609 9.792 2 11.82 2 14c0 2.757 2.243 5 5 5z"/>'},e)}function ss(e){return Ft({a:{viewBox:"0 0 24 24"},c:'<path d="M12 6a3.939 3.939 0 00-3.934 3.934h2C10.066 8.867 10.934 8 12 8s1.934.867 1.934 1.934c0 .598-.481 1.032-1.216 1.626a9.208 9.208 0 00-.691.599c-.998.997-1.027 2.056-1.027 2.174V15h2l-.001-.633c.001-.016.033-.386.441-.793.15-.15.339-.3.535-.458.779-.631 1.958-1.584 1.958-3.182A3.937 3.937 0 0012 6zm-1 10h2v2h-2z"/><path d="M12 2C6.486 2 2 6.486 2 12s4.486 10 10 10 10-4.486 10-10S17.514 2 12 2zm0 18c-4.411 0-8-3.589-8-8s3.589-8 8-8 8 3.589 8 8-3.589 8-8 8z"/>'},e)}function cs(e){return Ft({a:{viewBox:"0 0 24 24"},c:'<path d="M7 6v12l10-6z"/>'},e)}function ls(e){return Ft({a:{viewBox:"0 0 24 24"},c:'<path d="M7 7h10v10H7z"/>'},e)}function fs(e){return Ft({a:{viewBox:"0 0 24 24"},c:'<path d="M6 7H5v13a2 2 0 002 2h10a2 2 0 002-2V7H6zm4 12H8v-9h2v9zm6 0h-2v-9h2v9zm.618-15L15 2H9L7.382 4H3v2h18V4z"/>'},e)}class hs{constructor(){se(this,"_bindings",[])}attach(...t){this._bindings.push(...t)}detach(...t){this._bindings=this._bindings.filter(n=>!t.includes(n))}fire(t,n){this._bindings.forEach(r=>{r(t,n)})}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.
Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.
THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var oe=function(){return oe=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},oe.apply(this,arguments)};function zr(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}var le=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,ve=Object.keys,Se=Array.isArray;typeof Promise<"u"&&!le.Promise&&(le.Promise=Promise);function xe(e,t){return typeof t!="object"||ve(t).forEach(function(n){e[n]=t[n]}),e}var Qt=Object.getPrototypeOf,ds={}.hasOwnProperty;function Be(e,t){return ds.call(e,t)}function $t(e,t){typeof t=="function"&&(t=t(Qt(e))),(typeof Reflect>"u"?ve:Reflect.ownKeys)(t).forEach(function(n){Ze(e,n,t[n])})}var ua=Object.defineProperty;function Ze(e,t,n,r){ua(e,t,xe(n&&Be(n,"get")&&typeof n.get=="function"?{get:n.get,set:n.set,configurable:!0}:{value:n,configurable:!0,writable:!0},r))}function Kt(e){return{from:function(t){return e.prototype=Object.create(t.prototype),Ze(e.prototype,"constructor",e),{extend:$t.bind(null,e.prototype)}}}}var ps=Object.getOwnPropertyDescriptor;function Pi(e,t){var n=ps(e,t),r;return n||(r=Qt(e))&&Pi(r,t)}var ys=[].slice;function Jn(e,t,n){return ys.call(e,t,n)}function sa(e,t){return t(e)}function Gt(e){if(!e)throw new Error("Assertion Failed")}function ca(e){le.setImmediate?setImmediate(e):setTimeout(e,0)}function la(e,t){return e.reduce(function(n,r,i){var o=t(r,i);return o&&(n[o[0]]=o[1]),n},{})}function vs(e,t,n){try{e.apply(null,n)}catch(r){t&&t(r)}}function Xe(e,t){if(Be(e,t))return e[t];if(!t)return e;if(typeof t!="string"){for(var n=[],r=0,i=t.length;r<i;++r){var o=Xe(e,t[r]);n.push(o)}return n}var a=t.indexOf(".");if(a!==-1){var u=e[t.substr(0,a)];return u===void 0?void 0:Xe(u,t.substr(a+1))}}function Fe(e,t,n){if(!(!e||t===void 0)&&!("isFrozen"in Object&&Object.isFrozen(e)))if(typeof t!="string"&&"length"in t){Gt(typeof n!="string"&&"length"in n);for(var r=0,i=t.length;r<i;++r)Fe(e,t[r],n[r])}else{var o=t.indexOf(".");if(o!==-1){var a=t.substr(0,o),u=t.substr(o+1);if(u==="")n===void 0?Se(e)&&!isNaN(parseInt(a))?e.splice(a,1):delete e[a]:e[a]=n;else{var s=e[a];(!s||!Be(e,a))&&(s=e[a]={}),Fe(s,u,n)}}else n===void 0?Se(e)&&!isNaN(parseInt(t))?e.splice(t,1):delete e[t]:e[t]=n}}function gs(e,t){typeof t=="string"?Fe(e,t,void 0):"length"in t&&[].map.call(t,function(n){Fe(e,n,void 0)})}function fa(e){var t={};for(var n in e)Be(e,n)&&(t[n]=e[n]);return t}var ms=[].concat;function ha(e){return ms.apply([],e)}var da="Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(ha([8,16,32,64].map(function(e){return["Int","Uint","Float"].map(function(t){return t+e+"Array"})}))).filter(function(e){return le[e]}),bs=da.map(function(e){return le[e]});la(da,function(e){return[e,!0]});var nt=null;function sn(e){nt=typeof WeakMap<"u"&&new WeakMap;var t=Gr(e);return nt=null,t}function Gr(e){if(!e||typeof e!="object")return e;var t=nt&&nt.get(e);if(t)return t;if(Se(e)){t=[],nt&&nt.set(e,t);for(var n=0,r=e.length;n<r;++n)t.push(Gr(e[n]))}else if(bs.indexOf(e.constructor)>=0)t=e;else{var i=Qt(e);t=i===Object.prototype?{}:Object.create(i),nt&&nt.set(e,t);for(var o in e)Be(e,o)&&(t[o]=Gr(e[o]))}return t}var ws={}.toString;function Wr(e){return ws.call(e).slice(8,-1)}var Hr=typeof Symbol<"u"?Symbol.iterator:"@@iterator",_s=typeof Hr=="symbol"?function(e){var t;return e!=null&&(t=e[Hr])&&t.apply(e)}:function(){return null},xt={};function We(e){var t,n,r,i;if(arguments.length===1){if(Se(e))return e.slice();if(this===xt&&typeof e=="string")return[e];if(i=_s(e)){for(n=[];r=i.next(),!r.done;)n.push(r.value);return n}if(e==null)return[e];if(t=e.length,typeof t=="number"){for(n=new Array(t);t--;)n[t]=e[t];return n}return[e]}for(t=arguments.length,n=new Array(t);t--;)n[t]=arguments[t];return n}var xi=typeof Symbol<"u"?function(e){return e[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},qe=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function pa(e,t){qe=e,ya=t}var ya=function(){return!0},Ss=!new Error("").stack;function _t(){if(Ss)try{throw _t.arguments,new Error}catch(e){return e}return new Error}function Yr(e,t){var n=e.stack;return n?(t=t||0,n.indexOf(e.name)===0&&(t+=(e.name+e.message).split(`
`).length),n.split(`
`).slice(t).filter(ya).map(function(r){return`
`+r}).join("")):""}var As=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"],va=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],Ti=As.concat(va),Es={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function Lt(e,t){this._e=_t(),this.name=e,this.message=t}Kt(Lt).from(Error).extend({stack:{get:function(){return this._stack||(this._stack=this.name+": "+this.message+Yr(this._e,2))}},toString:function(){return this.name+": "+this.message}});function ga(e,t){return e+". Errors: "+Object.keys(t).map(function(n){return t[n].toString()}).filter(function(n,r,i){return i.indexOf(n)===r}).join(`
`)}function kn(e,t,n,r){this._e=_t(),this.failures=t,this.failedKeys=r,this.successCount=n,this.message=ga(e,t)}Kt(kn).from(Lt);function Yt(e,t){this._e=_t(),this.name="BulkError",this.failures=Object.keys(t).map(function(n){return t[n]}),this.failuresByPos=t,this.message=ga(e,t)}Kt(Yt).from(Lt);var Ii=Ti.reduce(function(e,t){return e[t]=t+"Error",e},{}),Os=Lt,ee=Ti.reduce(function(e,t){var n=t+"Error";function r(i,o){this._e=_t(),this.name=n,i?typeof i=="string"?(this.message=""+i+(o?`
 `+o:""),this.inner=o||null):typeof i=="object"&&(this.message=i.name+" "+i.message,this.inner=i):(this.message=Es[t]||n,this.inner=null)}return Kt(r).from(Os),e[t]=r,e},{});ee.Syntax=SyntaxError;ee.Type=TypeError;ee.Range=RangeError;var io=va.reduce(function(e,t){return e[t+"Error"]=ee[t],e},{});function Ps(e,t){if(!e||e instanceof Lt||e instanceof TypeError||e instanceof SyntaxError||!e.name||!io[e.name])return e;var n=new io[e.name](t||e.message,e);return"stack"in e&&Ze(n,"stack",{get:function(){return this.inner.stack}}),n}var Xn=Ti.reduce(function(e,t){return["Syntax","Type","Range"].indexOf(t)===-1&&(e[t+"Error"]=ee[t]),e},{});Xn.ModifyError=kn;Xn.DexieError=Lt;Xn.BulkError=Yt;function ce(){}function cn(e){return e}function xs(e,t){return e==null||e===cn?t:function(n){return t(e(n))}}function mt(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function Ts(e,t){return e===ce?t:function(){var n=e.apply(this,arguments);n!==void 0&&(arguments[0]=n);var r=this.onsuccess,i=this.onerror;this.onsuccess=null,this.onerror=null;var o=t.apply(this,arguments);return r&&(this.onsuccess=this.onsuccess?mt(r,this.onsuccess):r),i&&(this.onerror=this.onerror?mt(i,this.onerror):i),o!==void 0?o:n}}function Is(e,t){return e===ce?t:function(){e.apply(this,arguments);var n=this.onsuccess,r=this.onerror;this.onsuccess=this.onerror=null,t.apply(this,arguments),n&&(this.onsuccess=this.onsuccess?mt(n,this.onsuccess):n),r&&(this.onerror=this.onerror?mt(r,this.onerror):r)}}function js(e,t){return e===ce?t:function(n){var r=e.apply(this,arguments);xe(n,r);var i=this.onsuccess,o=this.onerror;this.onsuccess=null,this.onerror=null;var a=t.apply(this,arguments);return i&&(this.onsuccess=this.onsuccess?mt(i,this.onsuccess):i),o&&(this.onerror=this.onerror?mt(o,this.onerror):o),r===void 0?a===void 0?void 0:a:xe(r,a)}}function Rs(e,t){return e===ce?t:function(){return t.apply(this,arguments)===!1?!1:e.apply(this,arguments)}}function ji(e,t){return e===ce?t:function(){var n=e.apply(this,arguments);if(n&&typeof n.then=="function"){for(var r=this,i=arguments.length,o=new Array(i);i--;)o[i]=arguments[i];return n.then(function(){return t.apply(r,o)})}return t.apply(this,arguments)}}var Zt={},$s=100,Cs=20,ma=100,Ri=typeof Promise>"u"?[]:function(){var e=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[e,Qt(e),e];var t=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[t,Qt(t),e]}(),Jr=Ri[0],Nn=Ri[1],Xr=Ri[2],ba=Nn&&Nn.then,_n=Jr&&Jr.constructor,$i=!!Xr,Qr=!1,Ds=Xr?function(){Xr.then(yn)}:le.setImmediate?setImmediate.bind(null,yn):le.MutationObserver?function(){var e=document.createElement("div");new MutationObserver(function(){yn(),e=null}).observe(e,{attributes:!0}),e.setAttribute("i","1")}:function(){setTimeout(yn,0)},en=function(e,t){Wt.push([e,t]),Mn&&(Ds(),Mn=!1)},Zr=!0,Mn=!0,vt=[],Sn=[],ei=null,ti=cn,jt={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:uo,pgp:!1,env:{},finalize:function(){this.unhandleds.forEach(function(e){try{uo(e[0],e[1])}catch{}})}},Z=jt,Wt=[],gt=0,An=[];function q(e){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this.onuncatched=ce,this._lib=!1;var t=this._PSD=Z;if(qe&&(this._stackHolder=_t(),this._prev=null,this._numPrev=0),typeof e!="function"){if(e!==Zt)throw new TypeError("Not a function");this._state=arguments[1],this._value=arguments[2],this._state===!1&&ri(this,this._value);return}this._state=null,this._value=null,++t.ref,_a(this,e)}var ni={get:function(){var e=Z,t=Fn;function n(r,i){var o=this,a=!e.global&&(e!==Z||t!==Fn),u=a&&!et(),s=new q(function(c,f){Ci(o,new wa(Ln(r,e,a,u),Ln(i,e,a,u),c,f,e))});return qe&&Ea(s,this),s}return n.prototype=Zt,n},set:function(e){Ze(this,"then",e&&e.prototype===Zt?ni:{get:function(){return e},set:ni.set})}};$t(q.prototype,{then:ni,_then:function(e,t){Ci(this,new wa(null,null,e,t,Z))},catch:function(e){if(arguments.length===1)return this.then(null,e);var t=arguments[0],n=arguments[1];return typeof t=="function"?this.then(null,function(r){return r instanceof t?n(r):En(r)}):this.then(null,function(r){return r&&r.name===t?n(r):En(r)})},finally:function(e){return this.then(function(t){return e(),t},function(t){return e(),En(t)})},stack:{get:function(){if(this._stack)return this._stack;try{Qr=!0;var e=Aa(this,[],Cs),t=e.join(`
From previous: `);return this._state!==null&&(this._stack=t),t}finally{Qr=!1}}},timeout:function(e,t){var n=this;return e<1/0?new q(function(r,i){var o=setTimeout(function(){return i(new ee.Timeout(t))},e);n.then(r,i).finally(clearTimeout.bind(null,o))}):this}});typeof Symbol<"u"&&Symbol.toStringTag&&Ze(q.prototype,Symbol.toStringTag,"Dexie.Promise");jt.env=Oa();function wa(e,t,n,r,i){this.onFulfilled=typeof e=="function"?e:null,this.onRejected=typeof t=="function"?t:null,this.resolve=n,this.reject=r,this.psd=i}$t(q,{all:function(){var e=We.apply(null,arguments).map(Kn);return new q(function(t,n){e.length===0&&t([]);var r=e.length;e.forEach(function(i,o){return q.resolve(i).then(function(a){e[o]=a,--r||t(e)},n)})})},resolve:function(e){if(e instanceof q)return e;if(e&&typeof e.then=="function")return new q(function(n,r){e.then(n,r)});var t=new q(Zt,!0,e);return Ea(t,ei),t},reject:En,race:function(){var e=We.apply(null,arguments).map(Kn);return new q(function(t,n){e.map(function(r){return q.resolve(r).then(t,n)})})},PSD:{get:function(){return Z},set:function(e){return Z=e}},totalEchoes:{get:function(){return Fn}},newPSD:it,usePSD:Ut,scheduler:{get:function(){return en},set:function(e){en=e}},rejectionMapper:{get:function(){return ti},set:function(e){ti=e}},follow:function(e,t){return new q(function(n,r){return it(function(i,o){var a=Z;a.unhandleds=[],a.onunhandled=o,a.finalize=mt(function(){var u=this;ks(function(){u.unhandleds.length===0?i():o(u.unhandleds[0])})},a.finalize),e()},t,n,r)})}});_n&&(_n.allSettled&&Ze(q,"allSettled",function(){var e=We.apply(null,arguments).map(Kn);return new q(function(t){e.length===0&&t([]);var n=e.length,r=new Array(n);e.forEach(function(i,o){return q.resolve(i).then(function(a){return r[o]={status:"fulfilled",value:a}},function(a){return r[o]={status:"rejected",reason:a}}).then(function(){return--n||t(r)})})})}),_n.any&&typeof AggregateError<"u"&&Ze(q,"any",function(){var e=We.apply(null,arguments).map(Kn);return new q(function(t,n){e.length===0&&n(new AggregateError([]));var r=e.length,i=new Array(r);e.forEach(function(o,a){return q.resolve(o).then(function(u){return t(u)},function(u){i[a]=u,--r||n(new AggregateError(i))})})})}));function _a(e,t){try{t(function(n){if(e._state===null){if(n===e)throw new TypeError("A promise cannot be resolved with itself.");var r=e._lib&&ln();n&&typeof n.then=="function"?_a(e,function(i,o){n instanceof q?n._then(i,o):n.then(i,o)}):(e._state=!0,e._value=n,Sa(e)),r&&fn()}},ri.bind(null,e))}catch(n){ri(e,n)}}function ri(e,t){if(Sn.push(t),e._state===null){var n=e._lib&&ln();t=ti(t),e._state=!1,e._value=t,qe&&t!==null&&typeof t=="object"&&!t._promise&&vs(function(){var r=Pi(t,"stack");t._promise=e,Ze(t,"stack",{get:function(){return Qr?r&&(r.get?r.get.apply(t):r.value):e.stack}})}),Ns(e),Sa(e),n&&fn()}}function Sa(e){var t=e._listeners;e._listeners=[];for(var n=0,r=t.length;n<r;++n)Ci(e,t[n]);var i=e._PSD;--i.ref||i.finalize(),gt===0&&(++gt,en(function(){--gt===0&&Di()},[]))}function Ci(e,t){if(e._state===null){e._listeners.push(t);return}var n=e._state?t.onFulfilled:t.onRejected;if(n===null)return(e._state?t.resolve:t.reject)(e._value);++t.psd.ref,++gt,en(Bs,[n,e,t])}function Bs(e,t,n){try{ei=t;var r,i=t._value;t._state?r=e(i):(Sn.length&&(Sn=[]),r=e(i),Sn.indexOf(i)===-1&&Ms(t)),n.resolve(r)}catch(o){n.reject(o)}finally{ei=null,--gt===0&&Di(),--n.psd.ref||n.psd.finalize()}}function Aa(e,t,n){if(t.length===n)return t;var r="";if(e._state===!1){var i=e._value,o,a;i!=null?(o=i.name||"Error",a=i.message||i,r=Yr(i,0)):(o=i,a=""),t.push(o+(a?": "+a:"")+r)}return qe&&(r=Yr(e._stackHolder,2),r&&t.indexOf(r)===-1&&t.push(r),e._prev&&Aa(e._prev,t,n)),t}function Ea(e,t){var n=t?t._numPrev+1:0;n<$s&&(e._prev=t,e._numPrev=n)}function yn(){ln()&&fn()}function ln(){var e=Zr;return Zr=!1,Mn=!1,e}function fn(){var e,t,n;do for(;Wt.length>0;)for(e=Wt,Wt=[],n=e.length,t=0;t<n;++t){var r=e[t];r[0].apply(null,r[1])}while(Wt.length>0);Zr=!0,Mn=!0}function Di(){var e=vt;vt=[],e.forEach(function(r){r._PSD.onunhandled.call(null,r._value,r)});for(var t=An.slice(0),n=t.length;n;)t[--n]()}function ks(e){function t(){e(),An.splice(An.indexOf(t),1)}An.push(t),++gt,en(function(){--gt===0&&Di()},[])}function Ns(e){vt.some(function(t){return t._value===e._value})||vt.push(e)}function Ms(e){for(var t=vt.length;t;)if(vt[--t]._value===e._value){vt.splice(t,1);return}}function En(e){return new q(Zt,!1,e)}function fe(e,t){var n=Z;return function(){var r=ln(),i=Z;try{return ot(n,!0),e.apply(this,arguments)}catch(o){t&&t(o)}finally{ot(i,!1),r&&fn()}}}var _e={awaits:0,echoes:0,id:0},Fs=0,On=[],ar=0,Fn=0,Ks=0;function it(e,t,n,r){var i=Z,o=Object.create(i);o.parent=i,o.ref=0,o.global=!1,o.id=++Ks;var a=jt.env;o.env=$i?{Promise:q,PromiseProp:{value:q,configurable:!0,writable:!0},all:q.all,race:q.race,allSettled:q.allSettled,any:q.any,resolve:q.resolve,reject:q.reject,nthen:oo(a.nthen,o),gthen:oo(a.gthen,o)}:{},t&&xe(o,t),++i.ref,o.finalize=function(){--this.parent.ref||this.parent.finalize()};var u=Ut(o,e,n,r);return o.ref===0&&o.finalize(),u}function qt(){return _e.id||(_e.id=++Fs),++_e.awaits,_e.echoes+=ma,_e.id}function et(){return _e.awaits?(--_e.awaits===0&&(_e.id=0),_e.echoes=_e.awaits*ma,!0):!1}(""+ba).indexOf("[native code]")===-1&&(qt=et=ce);function Kn(e){return _e.echoes&&e&&e.constructor===_n?(qt(),e.then(function(t){return et(),t},function(t){return et(),me(t)})):e}function Ls(e){++Fn,(!_e.echoes||--_e.echoes===0)&&(_e.echoes=_e.id=0),On.push(Z),ot(e,!0)}function qs(){var e=On[On.length-1];On.pop(),ot(e,!1)}function ot(e,t){var n=Z;if((t?_e.echoes&&(!ar++||e!==Z):ar&&(!--ar||e!==Z))&&Pa(t?Ls.bind(null,e):qs),e!==Z&&(Z=e,n===jt&&(jt.env=Oa()),$i)){var r=jt.env.Promise,i=e.env;Nn.then=i.nthen,r.prototype.then=i.gthen,(n.global||e.global)&&(Object.defineProperty(le,"Promise",i.PromiseProp),r.all=i.all,r.race=i.race,r.resolve=i.resolve,r.reject=i.reject,i.allSettled&&(r.allSettled=i.allSettled),i.any&&(r.any=i.any))}}function Oa(){var e=le.Promise;return $i?{Promise:e,PromiseProp:Object.getOwnPropertyDescriptor(le,"Promise"),all:e.all,race:e.race,allSettled:e.allSettled,any:e.any,resolve:e.resolve,reject:e.reject,nthen:Nn.then,gthen:e.prototype.then}:{}}function Ut(e,t,n,r,i){var o=Z;try{return ot(e,!0),t(n,r,i)}finally{ot(o,!1)}}function Pa(e){ba.call(Jr,e)}function Ln(e,t,n,r){return typeof e!="function"?e:function(){var i=Z;n&&qt(),ot(t,!0);try{return e.apply(this,arguments)}finally{ot(i,!1),r&&Pa(et)}}}function oo(e,t){return function(n,r){return e.call(this,Ln(n,t),Ln(r,t))}}var ao="unhandledrejection";function uo(e,t){var n;try{n=t.onuncatched(e)}catch{}if(n!==!1)try{var r,i={promise:t,reason:e};if(le.document&&document.createEvent?(r=document.createEvent("Event"),r.initEvent(ao,!0,!0),xe(r,i)):le.CustomEvent&&(r=new CustomEvent(ao,{detail:i}),xe(r,i)),r&&le.dispatchEvent&&(dispatchEvent(r),!le.PromiseRejectionEvent&&le.onunhandledrejection))try{le.onunhandledrejection(r)}catch{}qe&&r&&!r.defaultPrevented&&console.warn("Unhandled rejection: "+(e.stack||e))}catch{}}var me=q.reject;function ii(e,t,n,r){if(!e.idbdb||!e._state.openComplete&&!Z.letThrough&&!e._vip){if(e._state.openComplete)return me(new ee.DatabaseClosed(e._state.dbOpenError));if(!e._state.isBeingOpened){if(!e._options.autoOpen)return me(new ee.DatabaseClosed);e.open().catch(ce)}return e._state.dbReadyPromise.then(function(){return ii(e,t,n,r)})}else{var i=e._createTransaction(t,n,e._dbSchema);try{i.create(),e._state.PR1398_maxLoop=3}catch(o){return o.name===Ii.InvalidState&&e.isOpen()&&--e._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),e._close(),e.open().then(function(){return ii(e,t,n,r)})):me(o)}return i._promise(t,function(o,a){return it(function(){return Z.trans=i,r(o,a,i)})}).then(function(o){return i._completion.then(function(){return o})})}}var so="3.2.2",pt=String.fromCharCode(65535),oi=-1/0,ze="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",xa="String expected.",Jt=[],Qn=typeof navigator<"u"&&/(MSIE|Trident|Edge)/.test(navigator.userAgent),Us=Qn,Vs=Qn,Ta=function(e){return!/(dexie\.js|dexie\.min\.js)/.test(e)},Zn="__dbnames",ur="readonly",sr="readwrite";function bt(e,t){return e?t?function(){return e.apply(this,arguments)&&t.apply(this,arguments)}:e:t}var Ia={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function vn(e){return typeof e=="string"&&!/\./.test(e)?function(t){return t[e]===void 0&&e in t&&(t=sn(t),delete t[e]),t}:function(t){return t}}var zs=function(){function e(){}return e.prototype._trans=function(t,n,r){var i=this._tx||Z.trans,o=this.name;function a(s,c,f){if(!f.schema[o])throw new ee.NotFound("Table "+o+" not part of transaction");return n(f.idbtrans,f)}var u=ln();try{return i&&i.db===this.db?i===Z.trans?i._promise(t,a,r):it(function(){return i._promise(t,a,r)},{trans:i,transless:Z.transless||Z}):ii(this.db,t,[this.name],a)}finally{u&&fn()}},e.prototype.get=function(t,n){var r=this;return t&&t.constructor===Object?this.where(t).first(n):this._trans("readonly",function(i){return r.core.get({trans:i,key:t}).then(function(o){return r.hook.reading.fire(o)})}).then(n)},e.prototype.where=function(t){if(typeof t=="string")return new this.db.WhereClause(this,t);if(Se(t))return new this.db.WhereClause(this,"["+t.join("+")+"]");var n=ve(t);if(n.length===1)return this.where(n[0]).equals(t[n[0]]);var r=this.schema.indexes.concat(this.schema.primKey).filter(function(f){return f.compound&&n.every(function(p){return f.keyPath.indexOf(p)>=0})&&f.keyPath.every(function(p){return n.indexOf(p)>=0})})[0];if(r&&this.db._maxKey!==pt)return this.where(r.name).equals(r.keyPath.map(function(f){return t[f]}));!r&&qe&&console.warn("The query "+JSON.stringify(t)+" on "+this.name+" would benefit of a "+("compound index ["+n.join("+")+"]"));var i=this.schema.idxByName,o=this.db._deps.indexedDB;function a(f,p){try{return o.cmp(f,p)===0}catch{return!1}}var u=n.reduce(function(f,p){var d=f[0],g=f[1],v=i[p],y=t[p];return[d||v,d||!v?bt(g,v&&v.multi?function(b){var m=Xe(b,p);return Se(m)&&m.some(function(S){return a(y,S)})}:function(b){return a(y,Xe(b,p))}):g]},[null,null]),s=u[0],c=u[1];return s?this.where(s.name).equals(t[s.keyPath]).filter(c):r?this.filter(c):this.where(n).equals("")},e.prototype.filter=function(t){return this.toCollection().and(t)},e.prototype.count=function(t){return this.toCollection().count(t)},e.prototype.offset=function(t){return this.toCollection().offset(t)},e.prototype.limit=function(t){return this.toCollection().limit(t)},e.prototype.each=function(t){return this.toCollection().each(t)},e.prototype.toArray=function(t){return this.toCollection().toArray(t)},e.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},e.prototype.orderBy=function(t){return new this.db.Collection(new this.db.WhereClause(this,Se(t)?"["+t.join("+")+"]":t))},e.prototype.reverse=function(){return this.toCollection().reverse()},e.prototype.mapToClass=function(t){this.schema.mappedClass=t;var n=function(r){if(!r)return r;var i=Object.create(t.prototype);for(var o in r)if(Be(r,o))try{i[o]=r[o]}catch{}return i};return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=n,this.hook("reading",n),t},e.prototype.defineClass=function(){function t(n){xe(this,n)}return this.mapToClass(t)},e.prototype.add=function(t,n){var r=this,i=this.schema.primKey,o=i.auto,a=i.keyPath,u=t;return a&&o&&(u=vn(a)(t)),this._trans("readwrite",function(s){return r.core.mutate({trans:s,type:"add",keys:n!=null?[n]:null,values:[u]})}).then(function(s){return s.numFailures?q.reject(s.failures[0]):s.lastResult}).then(function(s){if(a)try{Fe(t,a,s)}catch{}return s})},e.prototype.update=function(t,n){if(typeof t=="object"&&!Se(t)){var r=Xe(t,this.schema.primKey.keyPath);if(r===void 0)return me(new ee.InvalidArgument("Given object does not contain its primary key"));try{typeof n!="function"?ve(n).forEach(function(i){Fe(t,i,n[i])}):n(t,{value:t,primKey:r})}catch{}return this.where(":id").equals(r).modify(n)}else return this.where(":id").equals(t).modify(n)},e.prototype.put=function(t,n){var r=this,i=this.schema.primKey,o=i.auto,a=i.keyPath,u=t;return a&&o&&(u=vn(a)(t)),this._trans("readwrite",function(s){return r.core.mutate({trans:s,type:"put",values:[u],keys:n!=null?[n]:null})}).then(function(s){return s.numFailures?q.reject(s.failures[0]):s.lastResult}).then(function(s){if(a)try{Fe(t,a,s)}catch{}return s})},e.prototype.delete=function(t){var n=this;return this._trans("readwrite",function(r){return n.core.mutate({trans:r,type:"delete",keys:[t]})}).then(function(r){return r.numFailures?q.reject(r.failures[0]):void 0})},e.prototype.clear=function(){var t=this;return this._trans("readwrite",function(n){return t.core.mutate({trans:n,type:"deleteRange",range:Ia})}).then(function(n){return n.numFailures?q.reject(n.failures[0]):void 0})},e.prototype.bulkGet=function(t){var n=this;return this._trans("readonly",function(r){return n.core.getMany({keys:t,trans:r}).then(function(i){return i.map(function(o){return n.hook.reading.fire(o)})})})},e.prototype.bulkAdd=function(t,n,r){var i=this,o=Array.isArray(n)?n:void 0;r=r||(o?void 0:n);var a=r?r.allKeys:void 0;return this._trans("readwrite",function(u){var s=i.schema.primKey,c=s.auto,f=s.keyPath;if(f&&o)throw new ee.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(o&&o.length!==t.length)throw new ee.InvalidArgument("Arguments objects and keys must have the same length");var p=t.length,d=f&&c?t.map(vn(f)):t;return i.core.mutate({trans:u,type:"add",keys:o,values:d,wantResults:a}).then(function(g){var v=g.numFailures,y=g.results,b=g.lastResult,m=g.failures,S=a?y:b;if(v===0)return S;throw new Yt(i.name+".bulkAdd(): "+v+" of "+p+" operations failed",m)})})},e.prototype.bulkPut=function(t,n,r){var i=this,o=Array.isArray(n)?n:void 0;r=r||(o?void 0:n);var a=r?r.allKeys:void 0;return this._trans("readwrite",function(u){var s=i.schema.primKey,c=s.auto,f=s.keyPath;if(f&&o)throw new ee.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(o&&o.length!==t.length)throw new ee.InvalidArgument("Arguments objects and keys must have the same length");var p=t.length,d=f&&c?t.map(vn(f)):t;return i.core.mutate({trans:u,type:"put",keys:o,values:d,wantResults:a}).then(function(g){var v=g.numFailures,y=g.results,b=g.lastResult,m=g.failures,S=a?y:b;if(v===0)return S;throw new Yt(i.name+".bulkPut(): "+v+" of "+p+" operations failed",m)})})},e.prototype.bulkDelete=function(t){var n=this,r=t.length;return this._trans("readwrite",function(i){return n.core.mutate({trans:i,type:"delete",keys:t})}).then(function(i){var o=i.numFailures,a=i.lastResult,u=i.failures;if(o===0)return a;throw new Yt(n.name+".bulkDelete(): "+o+" of "+r+" operations failed",u)})},e}();function hn(e){var t={},n=function(u,s){if(s){for(var c=arguments.length,f=new Array(c-1);--c;)f[c-1]=arguments[c];return t[u].subscribe.apply(null,f),e}else if(typeof u=="string")return t[u]};n.addEventType=o;for(var r=1,i=arguments.length;r<i;++r)o(arguments[r]);return n;function o(u,s,c){if(typeof u=="object")return a(u);s||(s=Rs),c||(c=ce);var f={subscribers:[],fire:c,subscribe:function(p){f.subscribers.indexOf(p)===-1&&(f.subscribers.push(p),f.fire=s(f.fire,p))},unsubscribe:function(p){f.subscribers=f.subscribers.filter(function(d){return d!==p}),f.fire=f.subscribers.reduce(s,c)}};return t[u]=n[u]=f,f}function a(u){ve(u).forEach(function(s){var c=u[s];if(Se(c))o(s,u[s][0],u[s][1]);else if(c==="asap")var f=o(s,cn,function(){for(var d=arguments.length,g=new Array(d);d--;)g[d]=arguments[d];f.subscribers.forEach(function(v){ca(function(){v.apply(null,g)})})});else throw new ee.InvalidArgument("Invalid event config")})}}function dn(e,t){return Kt(t).from({prototype:e}),t}function Gs(e){return dn(zs.prototype,function(n,r,i){this.db=e,this._tx=i,this.name=n,this.schema=r,this.hook=e._allTables[n]?e._allTables[n].hook:hn(null,{creating:[Ts,ce],reading:[xs,cn],updating:[js,ce],deleting:[Is,ce]})})}function Ot(e,t){return!(e.filter||e.algorithm||e.or)&&(t?e.justLimit:!e.replayFilter)}function cr(e,t){e.filter=bt(e.filter,t)}function lr(e,t,n){var r=e.replayFilter;e.replayFilter=r?function(){return bt(r(),t())}:t,e.justLimit=n&&!r}function Ws(e,t){e.isMatch=bt(e.isMatch,t)}function Pn(e,t){if(e.isPrimKey)return t.primaryKey;var n=t.getIndexByKeyPath(e.index);if(!n)throw new ee.Schema("KeyPath "+e.index+" on object store "+t.name+" is not indexed");return n}function co(e,t,n){var r=Pn(e,t.schema);return t.openCursor({trans:n,values:!e.keysOnly,reverse:e.dir==="prev",unique:!!e.unique,query:{index:r,range:e.range}})}function gn(e,t,n,r){var i=e.replayFilter?bt(e.filter,e.replayFilter()):e.filter;if(e.or){var o={},a=function(u,s,c){if(!i||i(s,c,function(d){return s.stop(d)},function(d){return s.fail(d)})){var f=s.primaryKey,p=""+f;p==="[object ArrayBuffer]"&&(p=""+new Uint8Array(f)),Be(o,p)||(o[p]=!0,t(u,s,c))}};return Promise.all([e.or._iterate(a,n),lo(co(e,r,n),e.algorithm,a,!e.keysOnly&&e.valueMapper)])}else return lo(co(e,r,n),bt(e.algorithm,i),t,!e.keysOnly&&e.valueMapper)}function lo(e,t,n,r){var i=r?function(a,u,s){return n(r(a),u,s)}:n,o=fe(i);return e.then(function(a){if(a)return a.start(function(){var u=function(){return a.continue()};(!t||t(a,function(s){return u=s},function(s){a.stop(s),u=ce},function(s){a.fail(s),u=ce}))&&o(a.value,a,function(s){return u=s}),u()})})}function Oe(e,t){try{var n=fo(e),r=fo(t);if(n!==r)return n==="Array"?1:r==="Array"?-1:n==="binary"?1:r==="binary"?-1:n==="string"?1:r==="string"?-1:n==="Date"?1:r!=="Date"?NaN:-1;switch(n){case"number":case"Date":case"string":return e>t?1:e<t?-1:0;case"binary":return Ys(ho(e),ho(t));case"Array":return Hs(e,t)}}catch{}return NaN}function Hs(e,t){for(var n=e.length,r=t.length,i=n<r?n:r,o=0;o<i;++o){var a=Oe(e[o],t[o]);if(a!==0)return a}return n===r?0:n<r?-1:1}function Ys(e,t){for(var n=e.length,r=t.length,i=n<r?n:r,o=0;o<i;++o)if(e[o]!==t[o])return e[o]<t[o]?-1:1;return n===r?0:n<r?-1:1}function fo(e){var t=typeof e;if(t!=="object")return t;if(ArrayBuffer.isView(e))return"binary";var n=Wr(e);return n==="ArrayBuffer"?"binary":n}function ho(e){return e instanceof Uint8Array?e:ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):new Uint8Array(e)}var Js=function(){function e(){}return e.prototype._read=function(t,n){var r=this._ctx;return r.error?r.table._trans(null,me.bind(null,r.error)):r.table._trans("readonly",t).then(n)},e.prototype._write=function(t){var n=this._ctx;return n.error?n.table._trans(null,me.bind(null,n.error)):n.table._trans("readwrite",t,"locked")},e.prototype._addAlgorithm=function(t){var n=this._ctx;n.algorithm=bt(n.algorithm,t)},e.prototype._iterate=function(t,n){return gn(this._ctx,t,n,this._ctx.table.core)},e.prototype.clone=function(t){var n=Object.create(this.constructor.prototype),r=Object.create(this._ctx);return t&&xe(r,t),n._ctx=r,n},e.prototype.raw=function(){return this._ctx.valueMapper=null,this},e.prototype.each=function(t){var n=this._ctx;return this._read(function(r){return gn(n,t,r,n.table.core)})},e.prototype.count=function(t){var n=this;return this._read(function(r){var i=n._ctx,o=i.table.core;if(Ot(i,!0))return o.count({trans:r,query:{index:Pn(i,o.schema),range:i.range}}).then(function(u){return Math.min(u,i.limit)});var a=0;return gn(i,function(){return++a,!1},r,o).then(function(){return a})}).then(t)},e.prototype.sortBy=function(t,n){var r=t.split(".").reverse(),i=r[0],o=r.length-1;function a(c,f){return f?a(c[r[f]],f-1):c[i]}var u=this._ctx.dir==="next"?1:-1;function s(c,f){var p=a(c,o),d=a(f,o);return p<d?-u:p>d?u:0}return this.toArray(function(c){return c.sort(s)}).then(n)},e.prototype.toArray=function(t){var n=this;return this._read(function(r){var i=n._ctx;if(i.dir==="next"&&Ot(i,!0)&&i.limit>0){var o=i.valueMapper,a=Pn(i,i.table.core.schema);return i.table.core.query({trans:r,limit:i.limit,values:!0,query:{index:a,range:i.range}}).then(function(s){var c=s.result;return o?c.map(o):c})}else{var u=[];return gn(i,function(s){return u.push(s)},r,i.table.core).then(function(){return u})}},t)},e.prototype.offset=function(t){var n=this._ctx;return t<=0?this:(n.offset+=t,Ot(n)?lr(n,function(){var r=t;return function(i,o){return r===0?!0:r===1?(--r,!1):(o(function(){i.advance(r),r=0}),!1)}}):lr(n,function(){var r=t;return function(){return--r<0}}),this)},e.prototype.limit=function(t){return this._ctx.limit=Math.min(this._ctx.limit,t),lr(this._ctx,function(){var n=t;return function(r,i,o){return--n<=0&&i(o),n>=0}},!0),this},e.prototype.until=function(t,n){return cr(this._ctx,function(r,i,o){return t(r.value)?(i(o),n):!0}),this},e.prototype.first=function(t){return this.limit(1).toArray(function(n){return n[0]}).then(t)},e.prototype.last=function(t){return this.reverse().first(t)},e.prototype.filter=function(t){return cr(this._ctx,function(n){return t(n.value)}),Ws(this._ctx,t),this},e.prototype.and=function(t){return this.filter(t)},e.prototype.or=function(t){return new this.db.WhereClause(this._ctx.table,t,this)},e.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},e.prototype.desc=function(){return this.reverse()},e.prototype.eachKey=function(t){var n=this._ctx;return n.keysOnly=!n.isMatch,this.each(function(r,i){t(i.key,i)})},e.prototype.eachUniqueKey=function(t){return this._ctx.unique="unique",this.eachKey(t)},e.prototype.eachPrimaryKey=function(t){var n=this._ctx;return n.keysOnly=!n.isMatch,this.each(function(r,i){t(i.primaryKey,i)})},e.prototype.keys=function(t){var n=this._ctx;n.keysOnly=!n.isMatch;var r=[];return this.each(function(i,o){r.push(o.key)}).then(function(){return r}).then(t)},e.prototype.primaryKeys=function(t){var n=this._ctx;if(n.dir==="next"&&Ot(n,!0)&&n.limit>0)return this._read(function(i){var o=Pn(n,n.table.core.schema);return n.table.core.query({trans:i,values:!1,limit:n.limit,query:{index:o,range:n.range}})}).then(function(i){var o=i.result;return o}).then(t);n.keysOnly=!n.isMatch;var r=[];return this.each(function(i,o){r.push(o.primaryKey)}).then(function(){return r}).then(t)},e.prototype.uniqueKeys=function(t){return this._ctx.unique="unique",this.keys(t)},e.prototype.firstKey=function(t){return this.limit(1).keys(function(n){return n[0]}).then(t)},e.prototype.lastKey=function(t){return this.reverse().firstKey(t)},e.prototype.distinct=function(){var t=this._ctx,n=t.index&&t.table.schema.idxByName[t.index];if(!n||!n.multi)return this;var r={};return cr(this._ctx,function(i){var o=i.primaryKey.toString(),a=Be(r,o);return r[o]=!0,!a}),this},e.prototype.modify=function(t){var n=this,r=this._ctx;return this._write(function(i){var o;if(typeof t=="function")o=t;else{var a=ve(t),u=a.length;o=function(m){for(var S=!1,E=0;E<u;++E){var P=a[E],_=t[P];Xe(m,P)!==_&&(Fe(m,P,_),S=!0)}return S}}var s=r.table.core,c=s.schema.primaryKey,f=c.outbound,p=c.extractKey,d=n.db._options.modifyChunkSize||200,g=[],v=0,y=[],b=function(m,S){var E=S.failures,P=S.numFailures;v+=m-P;for(var _=0,D=ve(E);_<D.length;_++){var k=D[_];g.push(E[k])}};return n.clone().primaryKeys().then(function(m){var S=function(E){var P=Math.min(d,m.length-E);return s.getMany({trans:i,keys:m.slice(E,E+P),cache:"immutable"}).then(function(_){for(var D=[],k=[],$=f?[]:null,M=[],z=0;z<P;++z){var G=_[z],F={value:sn(G),primKey:m[E+z]};o.call(F,F.value,F)!==!1&&(F.value==null?M.push(m[E+z]):!f&&Oe(p(G),p(F.value))!==0?(M.push(m[E+z]),D.push(F.value)):(k.push(F.value),f&&$.push(m[E+z])))}var W=Ot(r)&&r.limit===1/0&&(typeof t!="function"||t===fr)&&{index:r.index,range:r.range};return Promise.resolve(D.length>0&&s.mutate({trans:i,type:"add",values:D}).then(function(X){for(var O in X.failures)M.splice(parseInt(O),1);b(D.length,X)})).then(function(){return(k.length>0||W&&typeof t=="object")&&s.mutate({trans:i,type:"put",keys:$,values:k,criteria:W,changeSpec:typeof t!="function"&&t}).then(function(X){return b(k.length,X)})}).then(function(){return(M.length>0||W&&t===fr)&&s.mutate({trans:i,type:"delete",keys:M,criteria:W}).then(function(X){return b(M.length,X)})}).then(function(){return m.length>E+P&&S(E+d)})})};return S(0).then(function(){if(g.length>0)throw new kn("Error modifying one or more objects",g,v,y);return m.length})})})},e.prototype.delete=function(){var t=this._ctx,n=t.range;return Ot(t)&&(t.isPrimKey&&!Vs||n.type===3)?this._write(function(r){var i=t.table.core.schema.primaryKey,o=n;return t.table.core.count({trans:r,query:{index:i,range:o}}).then(function(a){return t.table.core.mutate({trans:r,type:"deleteRange",range:o}).then(function(u){var s=u.failures;u.lastResult,u.results;var c=u.numFailures;if(c)throw new kn("Could not delete some values",Object.keys(s).map(function(f){return s[f]}),a-c);return a-c})})}):this.modify(fr)},e}(),fr=function(e,t){return t.value=null};function Xs(e){return dn(Js.prototype,function(n,r){this.db=e;var i=Ia,o=null;if(r)try{i=r()}catch(c){o=c}var a=n._ctx,u=a.table,s=u.hook.reading.fire;this._ctx={table:u,index:a.index,isPrimKey:!a.index||u.schema.primKey.keyPath&&a.index===u.schema.primKey.name,range:i,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:o,or:a.or,valueMapper:s!==cn?s:null}})}function Qs(e,t){return e<t?-1:e===t?0:1}function Zs(e,t){return e>t?-1:e===t?0:1}function De(e,t,n){var r=e instanceof Ra?new e.Collection(e):e;return r._ctx.error=n?new n(t):new TypeError(t),r}function Pt(e){return new e.Collection(e,function(){return ja("")}).limit(0)}function ec(e){return e==="next"?function(t){return t.toUpperCase()}:function(t){return t.toLowerCase()}}function tc(e){return e==="next"?function(t){return t.toLowerCase()}:function(t){return t.toUpperCase()}}function nc(e,t,n,r,i,o){for(var a=Math.min(e.length,r.length),u=-1,s=0;s<a;++s){var c=t[s];if(c!==r[s])return i(e[s],n[s])<0?e.substr(0,s)+n[s]+n.substr(s+1):i(e[s],r[s])<0?e.substr(0,s)+r[s]+n.substr(s+1):u>=0?e.substr(0,u)+t[u]+n.substr(u+1):null;i(e[s],c)<0&&(u=s)}return a<r.length&&o==="next"?e+n.substr(e.length):a<e.length&&o==="prev"?e.substr(0,n.length):u<0?null:e.substr(0,u)+r[u]+n.substr(u+1)}function mn(e,t,n,r){var i,o,a,u,s,c,f,p=n.length;if(!n.every(function(y){return typeof y=="string"}))return De(e,xa);function d(y){i=ec(y),o=tc(y),a=y==="next"?Qs:Zs;var b=n.map(function(m){return{lower:o(m),upper:i(m)}}).sort(function(m,S){return a(m.lower,S.lower)});u=b.map(function(m){return m.upper}),s=b.map(function(m){return m.lower}),c=y,f=y==="next"?"":r}d("next");var g=new e.Collection(e,function(){return tt(u[0],s[p-1]+r)});g._ondirectionchange=function(y){d(y)};var v=0;return g._addAlgorithm(function(y,b,m){var S=y.key;if(typeof S!="string")return!1;var E=o(S);if(t(E,s,v))return!0;for(var P=null,_=v;_<p;++_){var D=nc(S,E,u[_],s[_],a,c);D===null&&P===null?v=_+1:(P===null||a(P,D)>0)&&(P=D)}return b(P!==null?function(){y.continue(P+f)}:m),!1}),g}function tt(e,t,n,r){return{type:2,lower:e,upper:t,lowerOpen:n,upperOpen:r}}function ja(e){return{type:1,lower:e,upper:e}}var Ra=function(){function e(){}return Object.defineProperty(e.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),e.prototype.between=function(t,n,r,i){r=r!==!1,i=i===!0;try{return this._cmp(t,n)>0||this._cmp(t,n)===0&&(r||i)&&!(r&&i)?Pt(this):new this.Collection(this,function(){return tt(t,n,!r,!i)})}catch{return De(this,ze)}},e.prototype.equals=function(t){return t==null?De(this,ze):new this.Collection(this,function(){return ja(t)})},e.prototype.above=function(t){return t==null?De(this,ze):new this.Collection(this,function(){return tt(t,void 0,!0)})},e.prototype.aboveOrEqual=function(t){return t==null?De(this,ze):new this.Collection(this,function(){return tt(t,void 0,!1)})},e.prototype.below=function(t){return t==null?De(this,ze):new this.Collection(this,function(){return tt(void 0,t,!1,!0)})},e.prototype.belowOrEqual=function(t){return t==null?De(this,ze):new this.Collection(this,function(){return tt(void 0,t)})},e.prototype.startsWith=function(t){return typeof t!="string"?De(this,xa):this.between(t,t+pt,!0,!0)},e.prototype.startsWithIgnoreCase=function(t){return t===""?this.startsWith(t):mn(this,function(n,r){return n.indexOf(r[0])===0},[t],pt)},e.prototype.equalsIgnoreCase=function(t){return mn(this,function(n,r){return n===r[0]},[t],"")},e.prototype.anyOfIgnoreCase=function(){var t=We.apply(xt,arguments);return t.length===0?Pt(this):mn(this,function(n,r){return r.indexOf(n)!==-1},t,"")},e.prototype.startsWithAnyOfIgnoreCase=function(){var t=We.apply(xt,arguments);return t.length===0?Pt(this):mn(this,function(n,r){return r.some(function(i){return n.indexOf(i)===0})},t,pt)},e.prototype.anyOf=function(){var t=this,n=We.apply(xt,arguments),r=this._cmp;try{n.sort(r)}catch{return De(this,ze)}if(n.length===0)return Pt(this);var i=new this.Collection(this,function(){return tt(n[0],n[n.length-1])});i._ondirectionchange=function(a){r=a==="next"?t._ascending:t._descending,n.sort(r)};var o=0;return i._addAlgorithm(function(a,u,s){for(var c=a.key;r(c,n[o])>0;)if(++o,o===n.length)return u(s),!1;return r(c,n[o])===0?!0:(u(function(){a.continue(n[o])}),!1)}),i},e.prototype.notEqual=function(t){return this.inAnyRange([[oi,t],[t,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},e.prototype.noneOf=function(){var t=We.apply(xt,arguments);if(t.length===0)return new this.Collection(this);try{t.sort(this._ascending)}catch{return De(this,ze)}var n=t.reduce(function(r,i){return r?r.concat([[r[r.length-1][1],i]]):[[oi,i]]},null);return n.push([t[t.length-1],this.db._maxKey]),this.inAnyRange(n,{includeLowers:!1,includeUppers:!1})},e.prototype.inAnyRange=function(t,n){var r=this,i=this._cmp,o=this._ascending,a=this._descending,u=this._min,s=this._max;if(t.length===0)return Pt(this);if(!t.every(function(_){return _[0]!==void 0&&_[1]!==void 0&&o(_[0],_[1])<=0}))return De(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",ee.InvalidArgument);var c=!n||n.includeLowers!==!1,f=n&&n.includeUppers===!0;function p(_,D){for(var k=0,$=_.length;k<$;++k){var M=_[k];if(i(D[0],M[1])<0&&i(D[1],M[0])>0){M[0]=u(M[0],D[0]),M[1]=s(M[1],D[1]);break}}return k===$&&_.push(D),_}var d=o;function g(_,D){return d(_[0],D[0])}var v;try{v=t.reduce(p,[]),v.sort(g)}catch{return De(this,ze)}var y=0,b=f?function(_){return o(_,v[y][1])>0}:function(_){return o(_,v[y][1])>=0},m=c?function(_){return a(_,v[y][0])>0}:function(_){return a(_,v[y][0])>=0};function S(_){return!b(_)&&!m(_)}var E=b,P=new this.Collection(this,function(){return tt(v[0][0],v[v.length-1][1],!c,!f)});return P._ondirectionchange=function(_){_==="next"?(E=b,d=o):(E=m,d=a),v.sort(g)},P._addAlgorithm(function(_,D,k){for(var $=_.key;E($);)if(++y,y===v.length)return D(k),!1;return S($)?!0:(r._cmp($,v[y][1])===0||r._cmp($,v[y][0])===0||D(function(){d===o?_.continue(v[y][0]):_.continue(v[y][1])}),!1)}),P},e.prototype.startsWithAnyOf=function(){var t=We.apply(xt,arguments);return t.every(function(n){return typeof n=="string"})?t.length===0?Pt(this):this.inAnyRange(t.map(function(n){return[n,n+pt]})):De(this,"startsWithAnyOf() only works with strings")},e}();function rc(e){return dn(Ra.prototype,function(n,r,i){this.db=e,this._ctx={table:n,index:r===":id"?null:r,or:i};var o=e._deps.indexedDB;if(!o)throw new ee.MissingAPI;this._cmp=this._ascending=o.cmp.bind(o),this._descending=function(a,u){return o.cmp(u,a)},this._max=function(a,u){return o.cmp(a,u)>0?a:u},this._min=function(a,u){return o.cmp(a,u)<0?a:u},this._IDBKeyRange=e._deps.IDBKeyRange})}function Le(e){return fe(function(t){return tn(t),e(t.target.error),!1})}function tn(e){e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault()}var nn="storagemutated",rt="x-storagemutated-1",at=hn(null,nn),ic=function(){function e(){}return e.prototype._lock=function(){return Gt(!Z.global),++this._reculock,this._reculock===1&&!Z.global&&(Z.lockOwnerFor=this),this},e.prototype._unlock=function(){if(Gt(!Z.global),--this._reculock===0)for(Z.global||(Z.lockOwnerFor=null);this._blockedFuncs.length>0&&!this._locked();){var t=this._blockedFuncs.shift();try{Ut(t[1],t[0])}catch{}}return this},e.prototype._locked=function(){return this._reculock&&Z.lockOwnerFor!==this},e.prototype.create=function(t){var n=this;if(!this.mode)return this;var r=this.db.idbdb,i=this.db._state.dbOpenError;if(Gt(!this.idbtrans),!t&&!r)switch(i&&i.name){case"DatabaseClosedError":throw new ee.DatabaseClosed(i);case"MissingAPIError":throw new ee.MissingAPI(i.message,i);default:throw new ee.OpenFailed(i)}if(!this.active)throw new ee.TransactionInactive;return Gt(this._completion._state===null),t=this.idbtrans=t||(this.db.core?this.db.core.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}):r.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})),t.onerror=fe(function(o){tn(o),n._reject(t.error)}),t.onabort=fe(function(o){tn(o),n.active&&n._reject(new ee.Abort(t.error)),n.active=!1,n.on("abort").fire(o)}),t.oncomplete=fe(function(){n.active=!1,n._resolve(),"mutatedParts"in t&&at.storagemutated.fire(t.mutatedParts)}),this},e.prototype._promise=function(t,n,r){var i=this;if(t==="readwrite"&&this.mode!=="readwrite")return me(new ee.ReadOnly("Transaction is readonly"));if(!this.active)return me(new ee.TransactionInactive);if(this._locked())return new q(function(a,u){i._blockedFuncs.push([function(){i._promise(t,n,r).then(a,u)},Z])});if(r)return it(function(){var a=new q(function(u,s){i._lock();var c=n(u,s,i);c&&c.then&&c.then(u,s)});return a.finally(function(){return i._unlock()}),a._lib=!0,a});var o=new q(function(a,u){var s=n(a,u,i);s&&s.then&&s.then(a,u)});return o._lib=!0,o},e.prototype._root=function(){return this.parent?this.parent._root():this},e.prototype.waitFor=function(t){var n=this._root(),r=q.resolve(t);if(n._waitingFor)n._waitingFor=n._waitingFor.then(function(){return r});else{n._waitingFor=r,n._waitingQueue=[];var i=n.idbtrans.objectStore(n.storeNames[0]);(function a(){for(++n._spinCount;n._waitingQueue.length;)n._waitingQueue.shift()();n._waitingFor&&(i.get(-1/0).onsuccess=a)})()}var o=n._waitingFor;return new q(function(a,u){r.then(function(s){return n._waitingQueue.push(fe(a.bind(null,s)))},function(s){return n._waitingQueue.push(fe(u.bind(null,s)))}).finally(function(){n._waitingFor===o&&(n._waitingFor=null)})})},e.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new ee.Abort))},e.prototype.table=function(t){var n=this._memoizedTables||(this._memoizedTables={});if(Be(n,t))return n[t];var r=this.schema[t];if(!r)throw new ee.NotFound("Table "+t+" not part of transaction");var i=new this.db.Table(t,r,this);return i.core=this.db.core.table(t),n[t]=i,i},e}();function oc(e){return dn(ic.prototype,function(n,r,i,o,a){var u=this;this.db=e,this.mode=n,this.storeNames=r,this.schema=i,this.chromeTransactionDurability=o,this.idbtrans=null,this.on=hn(this,"complete","error","abort"),this.parent=a||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new q(function(s,c){u._resolve=s,u._reject=c}),this._completion.then(function(){u.active=!1,u.on.complete.fire()},function(s){var c=u.active;return u.active=!1,u.on.error.fire(s),u.parent?u.parent._reject(s):c&&u.idbtrans&&u.idbtrans.abort(),me(s)})})}function ai(e,t,n,r,i,o,a){return{name:e,keyPath:t,unique:n,multi:r,auto:i,compound:o,src:(n&&!a?"&":"")+(r?"*":"")+(i?"++":"")+$a(t)}}function $a(e){return typeof e=="string"?e:e?"["+[].join.call(e,"+")+"]":""}function Ca(e,t,n){return{name:e,primKey:t,indexes:n,mappedClass:null,idxByName:la(n,function(r){return[r.name,r]})}}function ac(e){return e.length===1?e[0]:e}var rn=function(e){try{return e.only([[]]),rn=function(){return[[]]},[[]]}catch{return rn=function(){return pt},pt}};function ui(e){return e==null?function(){}:typeof e=="string"?uc(e):function(t){return Xe(t,e)}}function uc(e){var t=e.split(".");return t.length===1?function(n){return n[e]}:function(n){return Xe(n,e)}}function po(e){return[].slice.call(e)}var sc=0;function Xt(e){return e==null?":id":typeof e=="string"?e:"["+e.join("+")+"]"}function cc(e,t,n){function r(p,d){var g=po(p.objectStoreNames);return{schema:{name:p.name,tables:g.map(function(v){return d.objectStore(v)}).map(function(v){var y=v.keyPath,b=v.autoIncrement,m=Se(y),S=y==null,E={},P={name:v.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:S,compound:m,keyPath:y,autoIncrement:b,unique:!0,extractKey:ui(y)},indexes:po(v.indexNames).map(function(_){return v.index(_)}).map(function(_){var D=_.name,k=_.unique,$=_.multiEntry,M=_.keyPath,z=Se(M),G={name:D,compound:z,keyPath:M,unique:k,multiEntry:$,extractKey:ui(M)};return E[Xt(M)]=G,G}),getIndexByKeyPath:function(_){return E[Xt(_)]}};return E[":id"]=P.primaryKey,y!=null&&(E[Xt(y)]=P.primaryKey),P})},hasGetAll:g.length>0&&"getAll"in d.objectStore(g[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}}function i(p){if(p.type===3)return null;if(p.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var d=p.lower,g=p.upper,v=p.lowerOpen,y=p.upperOpen,b=d===void 0?g===void 0?null:t.upperBound(g,!!y):g===void 0?t.lowerBound(d,!!v):t.bound(d,g,!!v,!!y);return b}function o(p){var d=p.name;function g(b){var m=b.trans,S=b.type,E=b.keys,P=b.values,_=b.range;return new Promise(function(D,k){D=fe(D);var $=m.objectStore(d),M=$.keyPath==null,z=S==="put"||S==="add";if(!z&&S!=="delete"&&S!=="deleteRange")throw new Error("Invalid operation type: "+S);var G=(E||P||{length:1}).length;if(E&&P&&E.length!==P.length)throw new Error("Given keys array must have same length as given values array.");if(G===0)return D({numFailures:0,failures:{},results:[],lastResult:void 0});var F,W=[],X=[],O=0,C=function(l){++O,tn(l)};if(S==="deleteRange"){if(_.type===4)return D({numFailures:O,failures:X,results:[],lastResult:void 0});_.type===3?W.push(F=$.clear()):W.push(F=$.delete(i(_)))}else{var N=z?M?[P,E]:[P,null]:[E,null],B=N[0],L=N[1];if(z)for(var Q=0;Q<G;++Q)W.push(F=L&&L[Q]!==void 0?$[S](B[Q],L[Q]):$[S](B[Q])),F.onerror=C;else for(var Q=0;Q<G;++Q)W.push(F=$[S](B[Q])),F.onerror=C}var x=function(l){var h=l.target.result;W.forEach(function(w,j){return w.error!=null&&(X[j]=w.error)}),D({numFailures:O,failures:X,results:S==="delete"?E:W.map(function(w){return w.result}),lastResult:h})};F.onerror=function(l){C(l),x(l)},F.onsuccess=x})}function v(b){var m=b.trans,S=b.values,E=b.query,P=b.reverse,_=b.unique;return new Promise(function(D,k){D=fe(D);var $=E.index,M=E.range,z=m.objectStore(d),G=$.isPrimaryKey?z:z.index($.name),F=P?_?"prevunique":"prev":_?"nextunique":"next",W=S||!("openKeyCursor"in G)?G.openCursor(i(M),F):G.openKeyCursor(i(M),F);W.onerror=Le(k),W.onsuccess=fe(function(X){var O=W.result;if(!O){D(null);return}O.___id=++sc,O.done=!1;var C=O.continue.bind(O),N=O.continuePrimaryKey;N&&(N=N.bind(O));var B=O.advance.bind(O),L=function(){throw new Error("Cursor not started")},Q=function(){throw new Error("Cursor not stopped")};O.trans=m,O.stop=O.continue=O.continuePrimaryKey=O.advance=L,O.fail=fe(k),O.next=function(){var x=this,l=1;return this.start(function(){return l--?x.continue():x.stop()}).then(function(){return x})},O.start=function(x){var l=new Promise(function(w,j){w=fe(w),W.onerror=Le(j),O.fail=j,O.stop=function(I){O.stop=O.continue=O.continuePrimaryKey=O.advance=Q,w(I)}}),h=function(){if(W.result)try{x()}catch(w){O.fail(w)}else O.done=!0,O.start=function(){throw new Error("Cursor behind last entry")},O.stop()};return W.onsuccess=fe(function(w){W.onsuccess=h,h()}),O.continue=C,O.continuePrimaryKey=N,O.advance=B,h(),l},D(O)},k)})}function y(b){return function(m){return new Promise(function(S,E){S=fe(S);var P=m.trans,_=m.values,D=m.limit,k=m.query,$=D===1/0?void 0:D,M=k.index,z=k.range,G=P.objectStore(d),F=M.isPrimaryKey?G:G.index(M.name),W=i(z);if(D===0)return S({result:[]});if(b){var X=_?F.getAll(W,$):F.getAllKeys(W,$);X.onsuccess=function(B){return S({result:B.target.result})},X.onerror=Le(E)}else{var O=0,C=_||!("openKeyCursor"in F)?F.openCursor(W):F.openKeyCursor(W),N=[];C.onsuccess=function(B){var L=C.result;if(!L)return S({result:N});if(N.push(_?L.value:L.primaryKey),++O===D)return S({result:N});L.continue()},C.onerror=Le(E)}})}}return{name:d,schema:p,mutate:g,getMany:function(b){var m=b.trans,S=b.keys;return new Promise(function(E,P){E=fe(E);for(var _=m.objectStore(d),D=S.length,k=new Array(D),$=0,M=0,z,G=function(O){var C=O.target;(k[C._pos]=C.result)!=null,++M===$&&E(k)},F=Le(P),W=0;W<D;++W){var X=S[W];X!=null&&(z=_.get(S[W]),z._pos=W,z.onsuccess=G,z.onerror=F,++$)}$===0&&E(k)})},get:function(b){var m=b.trans,S=b.key;return new Promise(function(E,P){E=fe(E);var _=m.objectStore(d),D=_.get(S);D.onsuccess=function(k){return E(k.target.result)},D.onerror=Le(P)})},query:y(s),openCursor:v,count:function(b){var m=b.query,S=b.trans,E=m.index,P=m.range;return new Promise(function(_,D){var k=S.objectStore(d),$=E.isPrimaryKey?k:k.index(E.name),M=i(P),z=M?$.count(M):$.count();z.onsuccess=fe(function(G){return _(G.target.result)}),z.onerror=Le(D)})}}}var a=r(e,n),u=a.schema,s=a.hasGetAll,c=u.tables.map(function(p){return o(p)}),f={};return c.forEach(function(p){return f[p.name]=p}),{stack:"dbcore",transaction:e.transaction.bind(e),table:function(p){var d=f[p];if(!d)throw new Error("Table '"+p+"' not found");return f[p]},MIN_KEY:-1/0,MAX_KEY:rn(t),schema:u}}function lc(e,t){return t.reduce(function(n,r){var i=r.create;return oe(oe({},n),i(n))},e)}function fc(e,t,n,r){var i=n.IDBKeyRange;n.indexedDB;var o=lc(cc(t,i,r),e.dbcore);return{dbcore:o}}function Bi(e,t){var n=e._novip,r=t.db,i=fc(n._middlewares,r,n._deps,t);n.core=i.dbcore,n.tables.forEach(function(o){var a=o.name;n.core.schema.tables.some(function(u){return u.name===a})&&(o.core=n.core.table(a),n[a]instanceof n.Table&&(n[a].core=o.core))})}function qn(e,t,n,r){var i=e._novip;n.forEach(function(o){var a=r[o];t.forEach(function(u){var s=Pi(u,o);(!s||"value"in s&&s.value===void 0)&&(u===i.Transaction.prototype||u instanceof i.Transaction?Ze(u,o,{get:function(){return this.table(o)},set:function(c){ua(this,o,{value:c,writable:!0,configurable:!0,enumerable:!0})}}):u[o]=new i.Table(o,a))})})}function si(e,t){var n=e._novip;t.forEach(function(r){for(var i in r)r[i]instanceof n.Table&&delete r[i]})}function hc(e,t){return e._cfg.version-t._cfg.version}function dc(e,t,n,r){var i=e._dbSchema,o=e._createTransaction("readwrite",e._storeNames,i);o.create(n),o._completion.catch(r);var a=o._reject.bind(o),u=Z.transless||Z;it(function(){Z.trans=o,Z.transless=u,t===0?(ve(i).forEach(function(s){ki(n,s,i[s].primKey,i[s].indexes)}),Bi(e,n),q.follow(function(){return e.on.populate.fire(o)}).catch(a)):pc(e,t,o,n).catch(a)})}function pc(e,t,n,r){var i=e._novip,o=[],a=i._versions,u=i._dbSchema=Ni(i,i.idbdb,r),s=!1,c=a.filter(function(p){return p._cfg.version>=t});c.forEach(function(p){o.push(function(){var d=u,g=p._cfg.dbschema;li(i,d,r),li(i,g,r),u=i._dbSchema=g;var v=Da(d,g);v.add.forEach(function(P){ki(r,P[0],P[1].primKey,P[1].indexes)}),v.change.forEach(function(P){if(P.recreate)throw new ee.Upgrade("Not yet support for changing primary key");var _=r.objectStore(P.name);P.add.forEach(function(D){return ci(_,D)}),P.change.forEach(function(D){_.deleteIndex(D.name),ci(_,D)}),P.del.forEach(function(D){return _.deleteIndex(D)})});var y=p._cfg.contentUpgrade;if(y&&p._cfg.version>t){Bi(i,r),n._memoizedTables={},s=!0;var b=fa(g);v.del.forEach(function(P){b[P]=d[P]}),si(i,[i.Transaction.prototype]),qn(i,[i.Transaction.prototype],ve(b),b),n.schema=b;var m=xi(y);m&&qt();var S,E=q.follow(function(){if(S=y(n),S&&m){var P=et.bind(null,null);S.then(P,P)}});return S&&typeof S.then=="function"?q.resolve(S):E.then(function(){return S})}}),o.push(function(d){if(!s||!Us){var g=p._cfg.dbschema;vc(g,d)}si(i,[i.Transaction.prototype]),qn(i,[i.Transaction.prototype],i._storeNames,i._dbSchema),n.schema=i._dbSchema})});function f(){return o.length?q.resolve(o.shift()(n.idbtrans)).then(f):q.resolve()}return f().then(function(){yc(u,r)})}function Da(e,t){var n={del:[],add:[],change:[]},r;for(r in e)t[r]||n.del.push(r);for(r in t){var i=e[r],o=t[r];if(!i)n.add.push([r,o]);else{var a={name:r,def:o,recreate:!1,del:[],add:[],change:[]};if(""+(i.primKey.keyPath||"")!=""+(o.primKey.keyPath||"")||i.primKey.auto!==o.primKey.auto&&!Qn)a.recreate=!0,n.change.push(a);else{var u=i.idxByName,s=o.idxByName,c=void 0;for(c in u)s[c]||a.del.push(c);for(c in s){var f=u[c],p=s[c];f?f.src!==p.src&&a.change.push(p):a.add.push(p)}(a.del.length>0||a.add.length>0||a.change.length>0)&&n.change.push(a)}}}return n}function ki(e,t,n,r){var i=e.db.createObjectStore(t,n.keyPath?{keyPath:n.keyPath,autoIncrement:n.auto}:{autoIncrement:n.auto});return r.forEach(function(o){return ci(i,o)}),i}function yc(e,t){ve(e).forEach(function(n){t.db.objectStoreNames.contains(n)||ki(t,n,e[n].primKey,e[n].indexes)})}function vc(e,t){[].slice.call(t.db.objectStoreNames).forEach(function(n){return e[n]==null&&t.db.deleteObjectStore(n)})}function ci(e,t){e.createIndex(t.name,t.keyPath,{unique:t.unique,multiEntry:t.multi})}function Ni(e,t,n){var r={},i=Jn(t.objectStoreNames,0);return i.forEach(function(o){for(var a=n.objectStore(o),u=a.keyPath,s=ai($a(u),u||"",!1,!1,!!a.autoIncrement,u&&typeof u!="string",!0),c=[],f=0;f<a.indexNames.length;++f){var p=a.index(a.indexNames[f]);u=p.keyPath;var d=ai(p.name,u,!!p.unique,!!p.multiEntry,!1,u&&typeof u!="string",!1);c.push(d)}r[o]=Ca(o,s,c)}),r}function gc(e,t,n){var r=e._novip;r.verno=t.version/10;var i=r._dbSchema=Ni(r,t,n);r._storeNames=Jn(t.objectStoreNames,0),qn(r,[r._allTables],ve(i),i)}function mc(e,t){var n=Ni(e,e.idbdb,t),r=Da(n,e._dbSchema);return!(r.add.length||r.change.some(function(i){return i.add.length||i.change.length}))}function li(e,t,n){for(var r=e._novip,i=n.db.objectStoreNames,o=0;o<i.length;++o){var a=i[o],u=n.objectStore(a);r._hasGetAll="getAll"in u;for(var s=0;s<u.indexNames.length;++s){var c=u.indexNames[s],f=u.index(c).keyPath,p=typeof f=="string"?f:"["+Jn(f).join("+")+"]";if(t[a]){var d=t[a].idxByName[p];d&&(d.name=c,delete t[a].idxByName[p],t[a].idxByName[c]=d)}}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&le.WorkerGlobalScope&&le instanceof le.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(r._hasGetAll=!1)}function bc(e){return e.split(",").map(function(t,n){t=t.trim();var r=t.replace(/([&*]|\+\+)/g,""),i=/^\[/.test(r)?r.match(/^\[(.*)\]$/)[1].split("+"):r;return ai(r,i||null,/\&/.test(t),/\*/.test(t),/\+\+/.test(t),Se(i),n===0)})}var wc=function(){function e(){}return e.prototype._parseStoresSpec=function(t,n){ve(t).forEach(function(r){if(t[r]!==null){var i=bc(t[r]),o=i.shift();if(o.multi)throw new ee.Schema("Primary key cannot be multi-valued");i.forEach(function(a){if(a.auto)throw new ee.Schema("Only primary key can be marked as autoIncrement (++)");if(!a.keyPath)throw new ee.Schema("Index must have a name and cannot be an empty string")}),n[r]=Ca(r,o,i)}})},e.prototype.stores=function(t){var n=this.db;this._cfg.storesSource=this._cfg.storesSource?xe(this._cfg.storesSource,t):t;var r=n._versions,i={},o={};return r.forEach(function(a){xe(i,a._cfg.storesSource),o=a._cfg.dbschema={},a._parseStoresSpec(i,o)}),n._dbSchema=o,si(n,[n._allTables,n,n.Transaction.prototype]),qn(n,[n._allTables,n,n.Transaction.prototype,this._cfg.tables],ve(o),o),n._storeNames=ve(o),this},e.prototype.upgrade=function(t){return this._cfg.contentUpgrade=ji(this._cfg.contentUpgrade||ce,t),this},e}();function _c(e){return dn(wc.prototype,function(n){this.db=e,this._cfg={version:n,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})}function Mi(e,t){var n=e._dbNamesDB;return n||(n=e._dbNamesDB=new qi(Zn,{addons:[],indexedDB:e,IDBKeyRange:t}),n.version(1).stores({dbnames:"name"})),n.table("dbnames")}function Fi(e){return e&&typeof e.databases=="function"}function Sc(e){var t=e.indexedDB,n=e.IDBKeyRange;return Fi(t)?Promise.resolve(t.databases()).then(function(r){return r.map(function(i){return i.name}).filter(function(i){return i!==Zn})}):Mi(t,n).toCollection().primaryKeys()}function Ac(e,t){var n=e.indexedDB,r=e.IDBKeyRange;!Fi(n)&&t!==Zn&&Mi(n,r).put({name:t}).catch(ce)}function Ec(e,t){var n=e.indexedDB,r=e.IDBKeyRange;!Fi(n)&&t!==Zn&&Mi(n,r).delete(t).catch(ce)}function fi(e){return it(function(){return Z.letThrough=!0,e()})}function Oc(){var e=!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent);if(!e||!indexedDB.databases)return Promise.resolve();var t;return new Promise(function(n){var r=function(){return indexedDB.databases().finally(n)};t=setInterval(r,100),r()}).finally(function(){return clearInterval(t)})}function Pc(e){var t=e._state,n=e._deps.indexedDB;if(t.isBeingOpened||e.idbdb)return t.dbReadyPromise.then(function(){return t.dbOpenError?me(t.dbOpenError):e});qe&&(t.openCanceller._stackHolder=_t()),t.isBeingOpened=!0,t.dbOpenError=null,t.openComplete=!1;var r=t.openCanceller;function i(){if(t.openCanceller!==r)throw new ee.DatabaseClosed("db.open() was cancelled")}var o=t.dbReadyResolve,a=null,u=!1;return q.race([r,(typeof navigator>"u"?q.resolve():Oc()).then(function(){return new q(function(s,c){if(i(),!n)throw new ee.MissingAPI;var f=e.name,p=t.autoSchema?n.open(f):n.open(f,Math.round(e.verno*10));if(!p)throw new ee.MissingAPI;p.onerror=Le(c),p.onblocked=fe(e._fireOnBlocked),p.onupgradeneeded=fe(function(d){if(a=p.transaction,t.autoSchema&&!e._options.allowEmptyDB){p.onerror=tn,a.abort(),p.result.close();var g=n.deleteDatabase(f);g.onsuccess=g.onerror=fe(function(){c(new ee.NoSuchDatabase("Database "+f+" doesnt exist"))})}else{a.onerror=Le(c);var v=d.oldVersion>Math.pow(2,62)?0:d.oldVersion;u=v<1,e._novip.idbdb=p.result,dc(e,v/10,a,c)}},c),p.onsuccess=fe(function(){a=null;var d=e._novip.idbdb=p.result,g=Jn(d.objectStoreNames);if(g.length>0)try{var v=d.transaction(ac(g),"readonly");t.autoSchema?gc(e,d,v):(li(e,e._dbSchema,v),mc(e,v)||console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Some queries may fail.")),Bi(e,v)}catch{}Jt.push(e),d.onversionchange=fe(function(y){t.vcFired=!0,e.on("versionchange").fire(y)}),d.onclose=fe(function(y){e.on("close").fire(y)}),u&&Ac(e._deps,f),s()},c)})})]).then(function(){return i(),t.onReadyBeingFired=[],q.resolve(fi(function(){return e.on.ready.fire(e.vip)})).then(function s(){if(t.onReadyBeingFired.length>0){var c=t.onReadyBeingFired.reduce(ji,ce);return t.onReadyBeingFired=[],q.resolve(fi(function(){return c(e.vip)})).then(s)}})}).finally(function(){t.onReadyBeingFired=null,t.isBeingOpened=!1}).then(function(){return e}).catch(function(s){t.dbOpenError=s;try{a&&a.abort()}catch{}return r===t.openCanceller&&e._close(),me(s)}).finally(function(){t.openComplete=!0,o()})}function hi(e){var t=function(a){return e.next(a)},n=function(a){return e.throw(a)},r=o(t),i=o(n);function o(a){return function(u){var s=a(u),c=s.value;return s.done?c:!c||typeof c.then!="function"?Se(c)?Promise.all(c).then(r,i):r(c):c.then(r,i)}}return o(t)()}function xc(e,t,n){var r=arguments.length;if(r<2)throw new ee.InvalidArgument("Too few arguments");for(var i=new Array(r-1);--r;)i[r-1]=arguments[r];n=i.pop();var o=ha(i);return[e,o,n]}function Ba(e,t,n,r,i){return q.resolve().then(function(){var o=Z.transless||Z,a=e._createTransaction(t,n,e._dbSchema,r),u={trans:a,transless:o};if(r)a.idbtrans=r.idbtrans;else try{a.create(),e._state.PR1398_maxLoop=3}catch(p){return p.name===Ii.InvalidState&&e.isOpen()&&--e._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),e._close(),e.open().then(function(){return Ba(e,t,n,null,i)})):me(p)}var s=xi(i);s&&qt();var c,f=q.follow(function(){if(c=i.call(a,a),c)if(s){var p=et.bind(null,null);c.then(p,p)}else typeof c.next=="function"&&typeof c.throw=="function"&&(c=hi(c))},u);return(c&&typeof c.then=="function"?q.resolve(c).then(function(p){return a.active?p:me(new ee.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):f.then(function(){return c})).then(function(p){return r&&a._resolve(),a._completion.then(function(){return p})}).catch(function(p){return a._reject(p),me(p)})})}function bn(e,t,n){for(var r=Se(e)?e.slice():[e],i=0;i<n;++i)r.push(t);return r}function Tc(e){return oe(oe({},e),{table:function(t){var n=e.table(t),r=n.schema,i={},o=[];function a(y,b,m){var S=Xt(y),E=i[S]=i[S]||[],P=y==null?0:typeof y=="string"?1:y.length,_=b>0,D=oe(oe({},m),{isVirtual:_,keyTail:b,keyLength:P,extractKey:ui(y),unique:!_&&m.unique});if(E.push(D),D.isPrimaryKey||o.push(D),P>1){var k=P===2?y[0]:y.slice(0,P-1);a(k,b+1,m)}return E.sort(function($,M){return $.keyTail-M.keyTail}),D}var u=a(r.primaryKey.keyPath,0,r.primaryKey);i[":id"]=[u];for(var s=0,c=r.indexes;s<c.length;s++){var f=c[s];a(f.keyPath,0,f)}function p(y){var b=i[Xt(y)];return b&&b[0]}function d(y,b){return{type:y.type===1?2:y.type,lower:bn(y.lower,y.lowerOpen?e.MAX_KEY:e.MIN_KEY,b),lowerOpen:!0,upper:bn(y.upper,y.upperOpen?e.MIN_KEY:e.MAX_KEY,b),upperOpen:!0}}function g(y){var b=y.query.index;return b.isVirtual?oe(oe({},y),{query:{index:b,range:d(y.query.range,b.keyTail)}}):y}var v=oe(oe({},n),{schema:oe(oe({},r),{primaryKey:u,indexes:o,getIndexByKeyPath:p}),count:function(y){return n.count(g(y))},query:function(y){return n.query(g(y))},openCursor:function(y){var b=y.query.index,m=b.keyTail,S=b.isVirtual,E=b.keyLength;if(!S)return n.openCursor(y);function P(_){function D($){$!=null?_.continue(bn($,y.reverse?e.MAX_KEY:e.MIN_KEY,m)):y.unique?_.continue(_.key.slice(0,E).concat(y.reverse?e.MIN_KEY:e.MAX_KEY,m)):_.continue()}var k=Object.create(_,{continue:{value:D},continuePrimaryKey:{value:function($,M){_.continuePrimaryKey(bn($,e.MAX_KEY,m),M)}},primaryKey:{get:function(){return _.primaryKey}},key:{get:function(){var $=_.key;return E===1?$[0]:$.slice(0,E)}},value:{get:function(){return _.value}}});return k}return n.openCursor(g(y)).then(function(_){return _&&P(_)})}});return v}})}var Ic={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:Tc};function Ki(e,t,n,r){return n=n||{},r=r||"",ve(e).forEach(function(i){if(!Be(t,i))n[r+i]=void 0;else{var o=e[i],a=t[i];if(typeof o=="object"&&typeof a=="object"&&o&&a){var u=Wr(o),s=Wr(a);u!==s?n[r+i]=t[i]:u==="Object"?Ki(o,a,n,r+i+"."):o!==a&&(n[r+i]=t[i])}else o!==a&&(n[r+i]=t[i])}}),ve(t).forEach(function(i){Be(e,i)||(n[r+i]=t[i])}),n}function jc(e,t){return t.type==="delete"?t.keys:t.keys||t.values.map(e.extractKey)}var Rc={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(e){return oe(oe({},e),{table:function(t){var n=e.table(t),r=n.schema.primaryKey,i=oe(oe({},n),{mutate:function(o){var a=Z.trans,u=a.table(t).hook,s=u.deleting,c=u.creating,f=u.updating;switch(o.type){case"add":if(c.fire===ce)break;return a._promise("readwrite",function(){return p(o)},!0);case"put":if(c.fire===ce&&f.fire===ce)break;return a._promise("readwrite",function(){return p(o)},!0);case"delete":if(s.fire===ce)break;return a._promise("readwrite",function(){return p(o)},!0);case"deleteRange":if(s.fire===ce)break;return a._promise("readwrite",function(){return d(o)},!0)}return n.mutate(o);function p(v){var y=Z.trans,b=v.keys||jc(r,v);if(!b)throw new Error("Keys missing");return v=v.type==="add"||v.type==="put"?oe(oe({},v),{keys:b}):oe({},v),v.type!=="delete"&&(v.values=zr([],v.values,!0)),v.keys&&(v.keys=zr([],v.keys,!0)),$c(n,v,b).then(function(m){var S=b.map(function(E,P){var _=m[P],D={onerror:null,onsuccess:null};if(v.type==="delete")s.fire.call(D,E,_,y);else if(v.type==="add"||_===void 0){var k=c.fire.call(D,E,v.values[P],y);E==null&&k!=null&&(E=k,v.keys[P]=E,r.outbound||Fe(v.values[P],r.keyPath,E))}else{var $=Ki(_,v.values[P]),M=f.fire.call(D,$,E,_,y);if(M){var z=v.values[P];Object.keys(M).forEach(function(G){Be(z,G)?z[G]=M[G]:Fe(z,G,M[G])})}}return D});return n.mutate(v).then(function(E){for(var P=E.failures,_=E.results,D=E.numFailures,k=E.lastResult,$=0;$<b.length;++$){var M=_?_[$]:b[$],z=S[$];M==null?z.onerror&&z.onerror(P[$]):z.onsuccess&&z.onsuccess(v.type==="put"&&m[$]?v.values[$]:M)}return{failures:P,results:_,numFailures:D,lastResult:k}}).catch(function(E){return S.forEach(function(P){return P.onerror&&P.onerror(E)}),Promise.reject(E)})})}function d(v){return g(v.trans,v.range,1e4)}function g(v,y,b){return n.query({trans:v,values:!1,query:{index:r,range:y},limit:b}).then(function(m){var S=m.result;return p({type:"delete",keys:S,trans:v}).then(function(E){return E.numFailures>0?Promise.reject(E.failures[0]):S.length<b?{failures:[],numFailures:0,lastResult:void 0}:g(v,oe(oe({},y),{lower:S[S.length-1],lowerOpen:!0}),b)})})}}});return i}})}};function $c(e,t,n){return t.type==="add"?Promise.resolve([]):e.getMany({trans:t.trans,keys:n,cache:"immutable"})}function ka(e,t,n){try{if(!t||t.keys.length<e.length)return null;for(var r=[],i=0,o=0;i<t.keys.length&&o<e.length;++i)Oe(t.keys[i],e[o])===0&&(r.push(n?sn(t.values[i]):t.values[i]),++o);return r.length===e.length?r:null}catch{return null}}var Cc={stack:"dbcore",level:-1,create:function(e){return{table:function(t){var n=e.table(t);return oe(oe({},n),{getMany:function(r){if(!r.cache)return n.getMany(r);var i=ka(r.keys,r.trans._cache,r.cache==="clone");return i?q.resolve(i):n.getMany(r).then(function(o){return r.trans._cache={keys:r.keys,values:r.cache==="clone"?sn(o):o},o})},mutate:function(r){return r.type!=="add"&&(r.trans._cache=null),n.mutate(r)}})}}}},hr;function Li(e){return!("from"in e)}var Ge=function(e,t){if(this)xe(this,arguments.length?{d:1,from:e,to:arguments.length>1?t:e}:{d:0});else{var n=new Ge;return e&&"d"in e&&xe(n,e),n}};$t(Ge.prototype,(hr={add:function(e){return Un(this,e),this},addKey:function(e){return on(this,e,e),this},addKeys:function(e){var t=this;return e.forEach(function(n){return on(t,n,n)}),this}},hr[Hr]=function(){return di(this)},hr));function on(e,t,n){var r=Oe(t,n);if(!isNaN(r)){if(r>0)throw RangeError();if(Li(e))return xe(e,{from:t,to:n,d:1});var i=e.l,o=e.r;if(Oe(n,e.from)<0)return i?on(i,t,n):e.l={from:t,to:n,d:1,l:null,r:null},yo(e);if(Oe(t,e.to)>0)return o?on(o,t,n):e.r={from:t,to:n,d:1,l:null,r:null},yo(e);Oe(t,e.from)<0&&(e.from=t,e.l=null,e.d=o?o.d+1:1),Oe(n,e.to)>0&&(e.to=n,e.r=null,e.d=e.l?e.l.d+1:1);var a=!e.r;i&&!e.l&&Un(e,i),o&&a&&Un(e,o)}}function Un(e,t){function n(r,i){var o=i.from,a=i.to,u=i.l,s=i.r;on(r,o,a),u&&n(r,u),s&&n(r,s)}Li(t)||n(e,t)}function Dc(e,t){var n=di(t),r=n.next();if(r.done)return!1;for(var i=r.value,o=di(e),a=o.next(i.from),u=a.value;!r.done&&!a.done;){if(Oe(u.from,i.to)<=0&&Oe(u.to,i.from)>=0)return!0;Oe(i.from,u.from)<0?i=(r=n.next(u.from)).value:u=(a=o.next(i.from)).value}return!1}function di(e){var t=Li(e)?null:{s:0,n:e};return{next:function(n){for(var r=arguments.length>0;t;)switch(t.s){case 0:if(t.s=1,r)for(;t.n.l&&Oe(n,t.n.from)<0;)t={up:t,n:t.n.l,s:1};else for(;t.n.l;)t={up:t,n:t.n.l,s:1};case 1:if(t.s=2,!r||Oe(n,t.n.to)<=0)return{value:t.n,done:!1};case 2:if(t.n.r){t.s=3,t={up:t,n:t.n.r,s:0};continue}case 3:t=t.up}return{done:!0}}}}function yo(e){var t,n,r=(((t=e.r)===null||t===void 0?void 0:t.d)||0)-(((n=e.l)===null||n===void 0?void 0:n.d)||0),i=r>1?"r":r<-1?"l":"";if(i){var o=i==="r"?"l":"r",a=oe({},e),u=e[i];e.from=u.from,e.to=u.to,e[i]=u[i],a[i]=u[o],e[o]=a,a.d=vo(a)}e.d=vo(e)}function vo(e){var t=e.r,n=e.l;return(t?n?Math.max(t.d,n.d):t.d:n?n.d:0)+1}var Bc={stack:"dbcore",level:0,create:function(e){var t=e.schema.name,n=new Ge(e.MIN_KEY,e.MAX_KEY);return oe(oe({},e),{table:function(r){var i=e.table(r),o=i.schema,a=o.primaryKey,u=a.extractKey,s=a.outbound,c=oe(oe({},i),{mutate:function(d){var g=d.trans,v=g.mutatedParts||(g.mutatedParts={}),y=function(k){var $="idb://"+t+"/"+r+"/"+k;return v[$]||(v[$]=new Ge)},b=y(""),m=y(":dels"),S=d.type,E=d.type==="deleteRange"?[d.range]:d.type==="delete"?[d.keys]:d.values.length<50?[[],d.values]:[],P=E[0],_=E[1],D=d.trans._cache;return i.mutate(d).then(function(k){if(Se(P)){S!=="delete"&&(P=k.results),b.addKeys(P);var $=ka(P,D);!$&&S!=="add"&&m.addKeys(P),($||_)&&kc(y,o,$,_)}else if(P){var M={from:P.lower,to:P.upper};m.add(M),b.add(M)}else b.add(n),m.add(n),o.indexes.forEach(function(z){return y(z.name).add(n)});return k})}}),f=function(d){var g,v,y=d.query,b=y.index,m=y.range;return[b,new Ge((g=m.lower)!==null&&g!==void 0?g:e.MIN_KEY,(v=m.upper)!==null&&v!==void 0?v:e.MAX_KEY)]},p={get:function(d){return[a,new Ge(d.key)]},getMany:function(d){return[a,new Ge().addKeys(d.keys)]},count:f,query:f,openCursor:f};return ve(p).forEach(function(d){c[d]=function(g){var v=Z.subscr;if(v){var y=function(D){var k="idb://"+t+"/"+r+"/"+D;return v[k]||(v[k]=new Ge)},b=y(""),m=y(":dels"),S=p[d](g),E=S[0],P=S[1];if(y(E.name||"").add(P),!E.isPrimaryKey)if(d==="count")m.add(n);else{var _=d==="query"&&s&&g.values&&i.query(oe(oe({},g),{values:!1}));return i[d].apply(this,arguments).then(function(D){if(d==="query"){if(s&&g.values)return _.then(function(z){var G=z.result;return b.addKeys(G),D});var k=g.values?D.result.map(u):D.result;g.values?b.addKeys(k):m.addKeys(k)}else if(d==="openCursor"){var $=D,M=g.values;return $&&Object.create($,{key:{get:function(){return m.addKey($.primaryKey),$.key}},primaryKey:{get:function(){var z=$.primaryKey;return m.addKey(z),z}},value:{get:function(){return M&&b.addKey($.primaryKey),$.value}}})}return D})}}return i[d].apply(this,arguments)}}),c}})}};function kc(e,t,n,r){function i(o){var a=e(o.name||"");function u(c){return c!=null?o.extractKey(c):null}var s=function(c){return o.multiEntry&&Se(c)?c.forEach(function(f){return a.addKey(f)}):a.addKey(c)};(n||r).forEach(function(c,f){var p=n&&u(n[f]),d=r&&u(r[f]);Oe(p,d)!==0&&(p!=null&&s(p),d!=null&&s(d))})}t.indexes.forEach(i)}var qi=function(){function e(t,n){var r=this;this._middlewares={},this.verno=0;var i=e.dependencies;this._options=n=oe({addons:e.addons,autoOpen:!0,indexedDB:i.indexedDB,IDBKeyRange:i.IDBKeyRange},n),this._deps={indexedDB:n.indexedDB,IDBKeyRange:n.IDBKeyRange};var o=n.addons;this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var a={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:ce,dbReadyPromise:null,cancelOpen:ce,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3};a.dbReadyPromise=new q(function(u){a.dbReadyResolve=u}),a.openCanceller=new q(function(u,s){a.cancelOpen=s}),this._state=a,this.name=t,this.on=hn(this,"populate","blocked","versionchange","close",{ready:[ji,ce]}),this.on.ready.subscribe=sa(this.on.ready.subscribe,function(u){return function(s,c){e.vip(function(){var f=r._state;if(f.openComplete)f.dbOpenError||q.resolve().then(s),c&&u(s);else if(f.onReadyBeingFired)f.onReadyBeingFired.push(s),c&&u(s);else{u(s);var p=r;c||u(function d(){p.on.ready.unsubscribe(s),p.on.ready.unsubscribe(d)})}})}}),this.Collection=Xs(this),this.Table=Gs(this),this.Transaction=oc(this),this.Version=_c(this),this.WhereClause=rc(this),this.on("versionchange",function(u){u.newVersion>0?console.warn("Another connection wants to upgrade database '"+r.name+"'. Closing db now to resume the upgrade."):console.warn("Another connection wants to delete database '"+r.name+"'. Closing db now to resume the delete request."),r.close()}),this.on("blocked",function(u){!u.newVersion||u.newVersion<u.oldVersion?console.warn("Dexie.delete('"+r.name+"') was blocked"):console.warn("Upgrade '"+r.name+"' blocked by other connection holding version "+u.oldVersion/10)}),this._maxKey=rn(n.IDBKeyRange),this._createTransaction=function(u,s,c,f){return new r.Transaction(u,s,c,r._options.chromeTransactionDurability,f)},this._fireOnBlocked=function(u){r.on("blocked").fire(u),Jt.filter(function(s){return s.name===r.name&&s!==r&&!s._state.vcFired}).map(function(s){return s.on("versionchange").fire(u)})},this.use(Ic),this.use(Rc),this.use(Bc),this.use(Cc),this.vip=Object.create(this,{_vip:{value:!0}}),o.forEach(function(u){return u(r)})}return e.prototype.version=function(t){if(isNaN(t)||t<.1)throw new ee.Type("Given version is not a positive number");if(t=Math.round(t*10)/10,this.idbdb||this._state.isBeingOpened)throw new ee.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,t);var n=this._versions,r=n.filter(function(i){return i._cfg.version===t})[0];return r||(r=new this.Version(t),n.push(r),n.sort(hc),r.stores({}),this._state.autoSchema=!1,r)},e.prototype._whenReady=function(t){var n=this;return this.idbdb&&(this._state.openComplete||Z.letThrough||this._vip)?t():new q(function(r,i){if(n._state.openComplete)return i(new ee.DatabaseClosed(n._state.dbOpenError));if(!n._state.isBeingOpened){if(!n._options.autoOpen){i(new ee.DatabaseClosed);return}n.open().catch(ce)}n._state.dbReadyPromise.then(r,i)}).then(t)},e.prototype.use=function(t){var n=t.stack,r=t.create,i=t.level,o=t.name;o&&this.unuse({stack:n,name:o});var a=this._middlewares[n]||(this._middlewares[n]=[]);return a.push({stack:n,create:r,level:i??10,name:o}),a.sort(function(u,s){return u.level-s.level}),this},e.prototype.unuse=function(t){var n=t.stack,r=t.name,i=t.create;return n&&this._middlewares[n]&&(this._middlewares[n]=this._middlewares[n].filter(function(o){return i?o.create!==i:r?o.name!==r:!1})),this},e.prototype.open=function(){return Pc(this)},e.prototype._close=function(){var t=this._state,n=Jt.indexOf(this);if(n>=0&&Jt.splice(n,1),this.idbdb){try{this.idbdb.close()}catch{}this._novip.idbdb=null}t.dbReadyPromise=new q(function(r){t.dbReadyResolve=r}),t.openCanceller=new q(function(r,i){t.cancelOpen=i})},e.prototype.close=function(){this._close();var t=this._state;this._options.autoOpen=!1,t.dbOpenError=new ee.DatabaseClosed,t.isBeingOpened&&t.cancelOpen(t.dbOpenError)},e.prototype.delete=function(){var t=this,n=arguments.length>0,r=this._state;return new q(function(i,o){var a=function(){t.close();var u=t._deps.indexedDB.deleteDatabase(t.name);u.onsuccess=fe(function(){Ec(t._deps,t.name),i()}),u.onerror=Le(o),u.onblocked=t._fireOnBlocked};if(n)throw new ee.InvalidArgument("Arguments not allowed in db.delete()");r.isBeingOpened?r.dbReadyPromise.then(a):a()})},e.prototype.backendDB=function(){return this.idbdb},e.prototype.isOpen=function(){return this.idbdb!==null},e.prototype.hasBeenClosed=function(){var t=this._state.dbOpenError;return t&&t.name==="DatabaseClosed"},e.prototype.hasFailed=function(){return this._state.dbOpenError!==null},e.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(e.prototype,"tables",{get:function(){var t=this;return ve(this._allTables).map(function(n){return t._allTables[n]})},enumerable:!1,configurable:!0}),e.prototype.transaction=function(){var t=xc.apply(this,arguments);return this._transaction.apply(this,t)},e.prototype._transaction=function(t,n,r){var i=this,o=Z.trans;(!o||o.db!==this||t.indexOf("!")!==-1)&&(o=null);var a=t.indexOf("?")!==-1;t=t.replace("!","").replace("?","");var u,s;try{if(s=n.map(function(f){var p=f instanceof i.Table?f.name:f;if(typeof p!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return p}),t=="r"||t===ur)u=ur;else if(t=="rw"||t==sr)u=sr;else throw new ee.InvalidArgument("Invalid transaction mode: "+t);if(o){if(o.mode===ur&&u===sr)if(a)o=null;else throw new ee.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");o&&s.forEach(function(f){if(o&&o.storeNames.indexOf(f)===-1)if(a)o=null;else throw new ee.SubTransaction("Table "+f+" not included in parent transaction.")}),a&&o&&!o.active&&(o=null)}}catch(f){return o?o._promise(null,function(p,d){d(f)}):me(f)}var c=Ba.bind(null,this,u,s,o,r);return o?o._promise(u,c,"lock"):Z.trans?Ut(Z.transless,function(){return i._whenReady(c)}):this._whenReady(c)},e.prototype.table=function(t){if(!Be(this._allTables,t))throw new ee.InvalidTable("Table "+t+" does not exist");return this._allTables[t]},e}(),Nc=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",Mc=function(){function e(t){this._subscribe=t}return e.prototype.subscribe=function(t,n,r){return this._subscribe(!t||typeof t=="function"?{next:t,error:n,complete:r}:t)},e.prototype[Nc]=function(){return this},e}();function Na(e,t){return ve(t).forEach(function(n){var r=e[n]||(e[n]=new Ge);Un(r,t[n])}),e}function Ma(e){return new Mc(function(t){var n=xi(e);function r(g){n&&qt();var v=function(){return it(e,{subscr:g,trans:null})},y=Z.trans?Ut(Z.transless,v):v();return n&&y.then(et,et),y}var i=!1,o={},a={},u={get closed(){return i},unsubscribe:function(){i=!0,at.storagemutated.unsubscribe(p)}};t.start&&t.start(u);var s=!1,c=!1;function f(){return ve(a).some(function(g){return o[g]&&Dc(o[g],a[g])})}var p=function(g){Na(o,g),f()&&d()},d=function(){if(!(s||i)){o={};var g={},v=r(g);c||(at(nn,p),c=!0),s=!0,Promise.resolve(v).then(function(y){s=!1,!i&&(f()?d():(o={},a=g,t.next&&t.next(y)))},function(y){s=!1,t.error&&t.error(y),u.unsubscribe()})}};return d(),u})}var pi;try{pi={indexedDB:le.indexedDB||le.mozIndexedDB||le.webkitIndexedDB||le.msIndexedDB,IDBKeyRange:le.IDBKeyRange||le.webkitIDBKeyRange}}catch{pi={indexedDB:null,IDBKeyRange:null}}var dt=qi;$t(dt,oe(oe({},Xn),{delete:function(e){var t=new dt(e,{addons:[]});return t.delete()},exists:function(e){return new dt(e,{addons:[]}).open().then(function(t){return t.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(e){try{return Sc(dt.dependencies).then(e)}catch{return me(new ee.MissingAPI)}},defineClass:function(){function e(t){xe(this,t)}return e},ignoreTransaction:function(e){return Z.trans?Ut(Z.transless,e):e()},vip:fi,async:function(e){return function(){try{var t=hi(e.apply(this,arguments));return!t||typeof t.then!="function"?q.resolve(t):t}catch(n){return me(n)}}},spawn:function(e,t,n){try{var r=hi(e.apply(n,t||[]));return!r||typeof r.then!="function"?q.resolve(r):r}catch(i){return me(i)}},currentTransaction:{get:function(){return Z.trans||null}},waitFor:function(e,t){var n=q.resolve(typeof e=="function"?dt.ignoreTransaction(e):e).timeout(t||6e4);return Z.trans?Z.trans.waitFor(n):n},Promise:q,debug:{get:function(){return qe},set:function(e){pa(e,e==="dexie"?function(){return!0}:Ta)}},derive:Kt,extend:xe,props:$t,override:sa,Events:hn,on:at,liveQuery:Ma,extendObservabilitySet:Na,getByKeyPath:Xe,setByKeyPath:Fe,delByKeyPath:gs,shallowClone:fa,deepClone:sn,getObjectDiff:Ki,cmp:Oe,asap:ca,minKey:oi,addons:[],connections:Jt,errnames:Ii,dependencies:pi,semVer:so,version:so.split(".").map(function(e){return parseInt(e)}).reduce(function(e,t,n){return e+t/Math.pow(10,n*2)})}));dt.maxKey=rn(dt.dependencies.IDBKeyRange);typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(at(nn,function(e){if(!Ye){var t;Qn?(t=document.createEvent("CustomEvent"),t.initCustomEvent(rt,!0,!0,e)):t=new CustomEvent(rt,{detail:e}),Ye=!0,dispatchEvent(t),Ye=!1}}),addEventListener(rt,function(e){var t=e.detail;Ye||Vn(t)}));function Vn(e){var t=Ye;try{Ye=!0,at.storagemutated.fire(e)}finally{Ye=t}}var Ye=!1;if(typeof BroadcastChannel<"u"){var go=new BroadcastChannel(rt);at(nn,function(e){Ye||go.postMessage(e)}),go.onmessage=function(e){e.data&&Vn(e.data)}}else if(typeof self<"u"&&typeof navigator<"u"){at(nn,function(e){try{Ye||(typeof localStorage<"u"&&localStorage.setItem(rt,JSON.stringify({trig:Math.random(),changedParts:e})),typeof self.clients=="object"&&zr([],self.clients.matchAll({includeUncontrolled:!0}),!0).forEach(function(t){return t.postMessage({type:rt,changedParts:e})}))}catch{}}),typeof addEventListener<"u"&&addEventListener("storage",function(e){if(e.key===rt){var t=JSON.parse(e.newValue);t&&Vn(t.changedParts)}});var mo=self.document&&navigator.serviceWorker;mo&&mo.addEventListener("message",Fc)}function Fc(e){var t=e.data;t&&t.type===rt&&Vn(t.changedParts)}q.rejectionMapper=Ps;pa(qe,Ta);class Kc extends qi{constructor(){super("SoundBoardDB");se(this,"sample");this.version(1).stores({sample:"filename"})}}const Ji=class{constructor(){se(this,"_database");this._database=new Kc}static get instance(){if(!this._instance)throw new Error("AppStore not Initialized");return this._instance}static init(){this._instance=new Ji}async getSampleBlob(t){return await this._database.sample.get({filename:t}).then(n=>n==null?void 0:n.data)}async getSampleWaveform(t){return await this._database.sample.get({filename:t}).then(n=>n==null?void 0:n.waveform)}async getAllSampleFileNames(){return await this._database.sample.toCollection().keys()}async addSampleFromFile(t){return await this._database.sample.put({filename:t.name,data:t})}async addSample(t){return await this._database.sample.put(t)}async deleteSampleByName(t){return await this._database.sample.where({filename:t}).delete()}};let Pe=Ji;se(Pe,"_instance");var Ui=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Lc(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var zn={},qc={get exports(){return zn},set exports(e){zn=e}},dr={},Ct={},Fa={},Ka=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var t={},n=Symbol("test"),r=Object(n);if(typeof n=="string"||Object.prototype.toString.call(n)!=="[object Symbol]"||Object.prototype.toString.call(r)!=="[object Symbol]")return!1;var i=42;t[n]=i;for(n in t)return!1;if(typeof Object.keys=="function"&&Object.keys(t).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(t).length!==0)return!1;var o=Object.getOwnPropertySymbols(t);if(o.length!==1||o[0]!==n||!Object.prototype.propertyIsEnumerable.call(t,n))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var a=Object.getOwnPropertyDescriptor(t,n);if(a.value!==i||a.enumerable!==!0)return!1}return!0},Uc=Ka,er=function(){return Uc()&&!!Symbol.toStringTag},pr,bo;function Vc(){if(bo)return pr;bo=1;var e=typeof Symbol<"u"&&Symbol,t=Ka;return pr=function(){return typeof e!="function"||typeof Symbol!="function"||typeof e("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:t()},pr}var yr,wo;function zc(){if(wo)return yr;wo=1;var e="Function.prototype.bind called on incompatible ",t=Array.prototype.slice,n=Object.prototype.toString,r="[object Function]";return yr=function(o){var a=this;if(typeof a!="function"||n.call(a)!==r)throw new TypeError(e+a);for(var u=t.call(arguments,1),s,c=function(){if(this instanceof s){var v=a.apply(this,u.concat(t.call(arguments)));return Object(v)===v?v:this}else return a.apply(o,u.concat(t.call(arguments)))},f=Math.max(0,a.length-u.length),p=[],d=0;d<f;d++)p.push("$"+d);if(s=Function("binder","return function ("+p.join(",")+"){ return binder.apply(this,arguments); }")(c),a.prototype){var g=function(){};g.prototype=a.prototype,s.prototype=new g,g.prototype=null}return s},yr}var vr,_o;function Vi(){if(_o)return vr;_o=1;var e=zc();return vr=Function.prototype.bind||e,vr}var gr,So;function Gc(){if(So)return gr;So=1;var e=Vi();return gr=e.call(Function.call,Object.prototype.hasOwnProperty),gr}var mr,Ao;function tr(){if(Ao)return mr;Ao=1;var e,t=SyntaxError,n=Function,r=TypeError,i=function(G){try{return n('"use strict"; return ('+G+").constructor;")()}catch{}},o=Object.getOwnPropertyDescriptor;if(o)try{o({},"")}catch{o=null}var a=function(){throw new r},u=o?function(){try{return arguments.callee,a}catch{try{return o(arguments,"callee").get}catch{return a}}}():a,s=Vc()(),c=Object.getPrototypeOf||function(G){return G.__proto__},f={},p=typeof Uint8Array>"u"?e:c(Uint8Array),d={"%AggregateError%":typeof AggregateError>"u"?e:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?e:ArrayBuffer,"%ArrayIteratorPrototype%":s?c([][Symbol.iterator]()):e,"%AsyncFromSyncIteratorPrototype%":e,"%AsyncFunction%":f,"%AsyncGenerator%":f,"%AsyncGeneratorFunction%":f,"%AsyncIteratorPrototype%":f,"%Atomics%":typeof Atomics>"u"?e:Atomics,"%BigInt%":typeof BigInt>"u"?e:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?e:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?e:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?e:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?e:Float32Array,"%Float64Array%":typeof Float64Array>"u"?e:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?e:FinalizationRegistry,"%Function%":n,"%GeneratorFunction%":f,"%Int8Array%":typeof Int8Array>"u"?e:Int8Array,"%Int16Array%":typeof Int16Array>"u"?e:Int16Array,"%Int32Array%":typeof Int32Array>"u"?e:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":s?c(c([][Symbol.iterator]())):e,"%JSON%":typeof JSON=="object"?JSON:e,"%Map%":typeof Map>"u"?e:Map,"%MapIteratorPrototype%":typeof Map>"u"||!s?e:c(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?e:Promise,"%Proxy%":typeof Proxy>"u"?e:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?e:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?e:Set,"%SetIteratorPrototype%":typeof Set>"u"||!s?e:c(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?e:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":s?c(""[Symbol.iterator]()):e,"%Symbol%":s?Symbol:e,"%SyntaxError%":t,"%ThrowTypeError%":u,"%TypedArray%":p,"%TypeError%":r,"%Uint8Array%":typeof Uint8Array>"u"?e:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?e:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?e:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?e:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?e:WeakMap,"%WeakRef%":typeof WeakRef>"u"?e:WeakRef,"%WeakSet%":typeof WeakSet>"u"?e:WeakSet};try{null.error}catch(G){var g=c(c(G));d["%Error.prototype%"]=g}var v=function G(F){var W;if(F==="%AsyncFunction%")W=i("async function () {}");else if(F==="%GeneratorFunction%")W=i("function* () {}");else if(F==="%AsyncGeneratorFunction%")W=i("async function* () {}");else if(F==="%AsyncGenerator%"){var X=G("%AsyncGeneratorFunction%");X&&(W=X.prototype)}else if(F==="%AsyncIteratorPrototype%"){var O=G("%AsyncGenerator%");O&&(W=c(O.prototype))}return d[F]=W,W},y={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},b=Vi(),m=Gc(),S=b.call(Function.call,Array.prototype.concat),E=b.call(Function.apply,Array.prototype.splice),P=b.call(Function.call,String.prototype.replace),_=b.call(Function.call,String.prototype.slice),D=b.call(Function.call,RegExp.prototype.exec),k=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,$=/\\(\\)?/g,M=function(F){var W=_(F,0,1),X=_(F,-1);if(W==="%"&&X!=="%")throw new t("invalid intrinsic syntax, expected closing `%`");if(X==="%"&&W!=="%")throw new t("invalid intrinsic syntax, expected opening `%`");var O=[];return P(F,k,function(C,N,B,L){O[O.length]=B?P(L,$,"$1"):N||C}),O},z=function(F,W){var X=F,O;if(m(y,X)&&(O=y[X],X="%"+O[0]+"%"),m(d,X)){var C=d[X];if(C===f&&(C=v(X)),typeof C>"u"&&!W)throw new r("intrinsic "+F+" exists, but is not available. Please file an issue!");return{alias:O,name:X,value:C}}throw new t("intrinsic "+F+" does not exist!")};return mr=function(F,W){if(typeof F!="string"||F.length===0)throw new r("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof W!="boolean")throw new r('"allowMissing" argument must be a boolean');if(D(/^%?[^%]*%?$/,F)===null)throw new t("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var X=M(F),O=X.length>0?X[0]:"",C=z("%"+O+"%",W),N=C.name,B=C.value,L=!1,Q=C.alias;Q&&(O=Q[0],E(X,S([0,1],Q)));for(var x=1,l=!0;x<X.length;x+=1){var h=X[x],w=_(h,0,1),j=_(h,-1);if((w==='"'||w==="'"||w==="`"||j==='"'||j==="'"||j==="`")&&w!==j)throw new t("property names with quotes must have matching quotes");if((h==="constructor"||!l)&&(L=!0),O+="."+h,N="%"+O+"%",m(d,N))B=d[N];else if(B!=null){if(!(h in B)){if(!W)throw new r("base intrinsic for "+F+" exists, but the property is not available.");return}if(o&&x+1>=X.length){var I=o(B,h);l=!!I,l&&"get"in I&&!("originalValue"in I.get)?B=I.get:B=B[h]}else l=m(B,h),B=B[h];l&&!L&&(d[N]=B)}}return B},mr}var Gn={},Wc={get exports(){return Gn},set exports(e){Gn=e}},Eo;function zi(){return Eo||(Eo=1,function(e){var t=Vi(),n=tr(),r=n("%Function.prototype.apply%"),i=n("%Function.prototype.call%"),o=n("%Reflect.apply%",!0)||t.call(i,r),a=n("%Object.getOwnPropertyDescriptor%",!0),u=n("%Object.defineProperty%",!0),s=n("%Math.max%");if(u)try{u({},"a",{value:1})}catch{u=null}e.exports=function(p){var d=o(t,i,arguments);if(a&&u){var g=a(d,"length");g.configurable&&u(d,"length",{value:1+s(0,p.length-(arguments.length-1))})}return d};var c=function(){return o(t,r,arguments)};u?u(e.exports,"apply",{value:c}):e.exports.apply=c}(Wc)),Gn}var La=tr(),qa=zi(),Hc=qa(La("String.prototype.indexOf")),Gi=function(t,n){var r=La(t,!!n);return typeof r=="function"&&Hc(t,".prototype.")>-1?qa(r):r},Yc=er(),Jc=Gi,yi=Jc("Object.prototype.toString"),nr=function(t){return Yc&&t&&typeof t=="object"&&Symbol.toStringTag in t?!1:yi(t)==="[object Arguments]"},Ua=function(t){return nr(t)?!0:t!==null&&typeof t=="object"&&typeof t.length=="number"&&t.length>=0&&yi(t)!=="[object Array]"&&yi(t.callee)==="[object Function]"},Xc=function(){return nr(arguments)}();nr.isLegacyArguments=Ua;var Qc=Xc?nr:Ua,Zc=Object.prototype.toString,el=Function.prototype.toString,tl=/^\s*(?:function)?\*/,Va=er(),br=Object.getPrototypeOf,nl=function(){if(!Va)return!1;try{return Function("return function*() {}")()}catch{}},wr,rl=function(t){if(typeof t!="function")return!1;if(tl.test(el.call(t)))return!0;if(!Va){var n=Zc.call(t);return n==="[object GeneratorFunction]"}if(!br)return!1;if(typeof wr>"u"){var r=nl();wr=r?br(r):!1}return br(t)===wr},za=Function.prototype.toString,It=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,vi,xn;if(typeof It=="function"&&typeof Object.defineProperty=="function")try{vi=Object.defineProperty({},"length",{get:function(){throw xn}}),xn={},It(function(){throw 42},null,vi)}catch(e){e!==xn&&(It=null)}else It=null;var il=/^\s*class\b/,gi=function(t){try{var n=za.call(t);return il.test(n)}catch{return!1}},_r=function(t){try{return gi(t)?!1:(za.call(t),!0)}catch{return!1}},Tn=Object.prototype.toString,ol="[object Object]",al="[object Function]",ul="[object GeneratorFunction]",sl="[object HTMLAllCollection]",cl="[object HTML document.all class]",ll="[object HTMLCollection]",fl=typeof Symbol=="function"&&!!Symbol.toStringTag,hl=!(0 in[,]),mi=function(){return!1};if(typeof document=="object"){var dl=document.all;Tn.call(dl)===Tn.call(document.all)&&(mi=function(t){if((hl||!t)&&(typeof t>"u"||typeof t=="object"))try{var n=Tn.call(t);return(n===sl||n===cl||n===ll||n===ol)&&t("")==null}catch{}return!1})}var pl=It?function(t){if(mi(t))return!0;if(!t||typeof t!="function"&&typeof t!="object")return!1;try{It(t,null,vi)}catch(n){if(n!==xn)return!1}return!gi(t)&&_r(t)}:function(t){if(mi(t))return!0;if(!t||typeof t!="function"&&typeof t!="object")return!1;if(fl)return _r(t);if(gi(t))return!1;var n=Tn.call(t);return n!==al&&n!==ul&&!/^\[object HTML/.test(n)?!1:_r(t)},yl=pl,vl=Object.prototype.toString,Ga=Object.prototype.hasOwnProperty,gl=function(t,n,r){for(var i=0,o=t.length;i<o;i++)Ga.call(t,i)&&(r==null?n(t[i],i,t):n.call(r,t[i],i,t))},ml=function(t,n,r){for(var i=0,o=t.length;i<o;i++)r==null?n(t.charAt(i),i,t):n.call(r,t.charAt(i),i,t)},bl=function(t,n,r){for(var i in t)Ga.call(t,i)&&(r==null?n(t[i],i,t):n.call(r,t[i],i,t))},wl=function(t,n,r){if(!yl(n))throw new TypeError("iterator must be a function");var i;arguments.length>=3&&(i=r),vl.call(t)==="[object Array]"?gl(t,n,i):typeof t=="string"?ml(t,n,i):bl(t,n,i)},Wa=wl,Sr=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],_l=typeof globalThis>"u"?Ui:globalThis,Ha=function(){for(var t=[],n=0;n<Sr.length;n++)typeof _l[Sr[n]]=="function"&&(t[t.length]=Sr[n]);return t},Sl=tr(),In=Sl("%Object.getOwnPropertyDescriptor%",!0);if(In)try{In([],"length")}catch{In=null}var Ya=In,Ja=Wa,Al=Ha,Wi=Gi,El=Wi("Object.prototype.toString"),Xa=er(),jn=Ya,Ol=typeof globalThis>"u"?Ui:globalThis,Qa=Al(),Pl=Wi("Array.prototype.indexOf",!0)||function(t,n){for(var r=0;r<t.length;r+=1)if(t[r]===n)return r;return-1},xl=Wi("String.prototype.slice"),Za={},Ar=Object.getPrototypeOf;Xa&&jn&&Ar&&Ja(Qa,function(e){var t=new Ol[e];if(Symbol.toStringTag in t){var n=Ar(t),r=jn(n,Symbol.toStringTag);if(!r){var i=Ar(n);r=jn(i,Symbol.toStringTag)}Za[e]=r.get}});var Tl=function(t){var n=!1;return Ja(Za,function(r,i){if(!n)try{n=r.call(t)===i}catch{}}),n},eu=function(t){if(!t||typeof t!="object")return!1;if(!Xa||!(Symbol.toStringTag in t)){var n=xl(El(t),8,-1);return Pl(Qa,n)>-1}return jn?Tl(t):!1},tu=Wa,Il=Ha,nu=Gi,Er=Ya,jl=nu("Object.prototype.toString"),ru=er(),Oo=typeof globalThis>"u"?Ui:globalThis,Rl=Il(),$l=nu("String.prototype.slice"),iu={},Or=Object.getPrototypeOf;ru&&Er&&Or&&tu(Rl,function(e){if(typeof Oo[e]=="function"){var t=new Oo[e];if(Symbol.toStringTag in t){var n=Or(t),r=Er(n,Symbol.toStringTag);if(!r){var i=Or(n);r=Er(i,Symbol.toStringTag)}iu[e]=r.get}}});var Cl=function(t){var n=!1;return tu(iu,function(r,i){if(!n)try{var o=r.call(t);o===i&&(n=o)}catch{}}),n},Dl=eu,Bl=function(t){return Dl(t)?!ru||!(Symbol.toStringTag in t)?$l(jl(t),8,-1):Cl(t):!1};(function(e){var t=Qc,n=rl,r=Bl,i=eu;function o(R){return R.call.bind(R)}var a=typeof BigInt<"u",u=typeof Symbol<"u",s=o(Object.prototype.toString),c=o(Number.prototype.valueOf),f=o(String.prototype.valueOf),p=o(Boolean.prototype.valueOf);if(a)var d=o(BigInt.prototype.valueOf);if(u)var g=o(Symbol.prototype.valueOf);function v(R,ft){if(typeof R!="object")return!1;try{return ft(R),!0}catch{return!1}}e.isArgumentsObject=t,e.isGeneratorFunction=n,e.isTypedArray=i;function y(R){return typeof Promise<"u"&&R instanceof Promise||R!==null&&typeof R=="object"&&typeof R.then=="function"&&typeof R.catch=="function"}e.isPromise=y;function b(R){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(R):i(R)||h(R)}e.isArrayBufferView=b;function m(R){return r(R)==="Uint8Array"}e.isUint8Array=m;function S(R){return r(R)==="Uint8ClampedArray"}e.isUint8ClampedArray=S;function E(R){return r(R)==="Uint16Array"}e.isUint16Array=E;function P(R){return r(R)==="Uint32Array"}e.isUint32Array=P;function _(R){return r(R)==="Int8Array"}e.isInt8Array=_;function D(R){return r(R)==="Int16Array"}e.isInt16Array=D;function k(R){return r(R)==="Int32Array"}e.isInt32Array=k;function $(R){return r(R)==="Float32Array"}e.isFloat32Array=$;function M(R){return r(R)==="Float64Array"}e.isFloat64Array=M;function z(R){return r(R)==="BigInt64Array"}e.isBigInt64Array=z;function G(R){return r(R)==="BigUint64Array"}e.isBigUint64Array=G;function F(R){return s(R)==="[object Map]"}F.working=typeof Map<"u"&&F(new Map);function W(R){return typeof Map>"u"?!1:F.working?F(R):R instanceof Map}e.isMap=W;function X(R){return s(R)==="[object Set]"}X.working=typeof Set<"u"&&X(new Set);function O(R){return typeof Set>"u"?!1:X.working?X(R):R instanceof Set}e.isSet=O;function C(R){return s(R)==="[object WeakMap]"}C.working=typeof WeakMap<"u"&&C(new WeakMap);function N(R){return typeof WeakMap>"u"?!1:C.working?C(R):R instanceof WeakMap}e.isWeakMap=N;function B(R){return s(R)==="[object WeakSet]"}B.working=typeof WeakSet<"u"&&B(new WeakSet);function L(R){return B(R)}e.isWeakSet=L;function Q(R){return s(R)==="[object ArrayBuffer]"}Q.working=typeof ArrayBuffer<"u"&&Q(new ArrayBuffer);function x(R){return typeof ArrayBuffer>"u"?!1:Q.working?Q(R):R instanceof ArrayBuffer}e.isArrayBuffer=x;function l(R){return s(R)==="[object DataView]"}l.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&l(new DataView(new ArrayBuffer(1),0,1));function h(R){return typeof DataView>"u"?!1:l.working?l(R):R instanceof DataView}e.isDataView=h;var w=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function j(R){return s(R)==="[object SharedArrayBuffer]"}function I(R){return typeof w>"u"?!1:(typeof j.working>"u"&&(j.working=j(new w)),j.working?j(R):R instanceof w)}e.isSharedArrayBuffer=I;function U(R){return s(R)==="[object AsyncFunction]"}e.isAsyncFunction=U;function H(R){return s(R)==="[object Map Iterator]"}e.isMapIterator=H;function V(R){return s(R)==="[object Set Iterator]"}e.isSetIterator=V;function ne(R){return s(R)==="[object Generator]"}e.isGeneratorObject=ne;function he(R){return s(R)==="[object WebAssembly.Module]"}e.isWebAssemblyCompiledModule=he;function Te(R){return v(R,c)}e.isNumberObject=Te;function Re(R){return v(R,f)}e.isStringObject=Re;function pe(R){return v(R,p)}e.isBooleanObject=pe;function Ue(R){return a&&v(R,d)}e.isBigIntObject=Ue;function lt(R){return u&&v(R,g)}e.isSymbolObject=lt;function Ee(R){return Te(R)||Re(R)||pe(R)||Ue(R)||lt(R)}e.isBoxedPrimitive=Ee;function Ve(R){return typeof Uint8Array<"u"&&(x(R)||I(R))}e.isAnyArrayBuffer=Ve,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(R){Object.defineProperty(e,R,{enumerable:!1,value:function(){throw new Error(R+" is not supported in userland")}})})})(Fa);var kl=function(t){return t&&typeof t=="object"&&typeof t.copy=="function"&&typeof t.fill=="function"&&typeof t.readUInt8=="function"},bi={},Po={get exports(){return bi},set exports(e){bi=e}};typeof Object.create=="function"?Po.exports=function(t,n){n&&(t.super_=n,t.prototype=Object.create(n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:Po.exports=function(t,n){if(n){t.super_=n;var r=function(){};r.prototype=n.prototype,t.prototype=new r,t.prototype.constructor=t}};(function(e){var t=Object.getOwnPropertyDescriptors||function(h){for(var w=Object.keys(h),j={},I=0;I<w.length;I++)j[w[I]]=Object.getOwnPropertyDescriptor(h,w[I]);return j},n=/%[sdj%]/g;e.format=function(l){if(!_(l)){for(var h=[],w=0;w<arguments.length;w++)h.push(a(arguments[w]));return h.join(" ")}for(var w=1,j=arguments,I=j.length,U=String(l).replace(n,function(V){if(V==="%%")return"%";if(w>=I)return V;switch(V){case"%s":return String(j[w++]);case"%d":return Number(j[w++]);case"%j":try{return JSON.stringify(j[w++])}catch{return"[Circular]"}default:return V}}),H=j[w];w<I;H=j[++w])S(H)||!M(H)?U+=" "+H:U+=" "+a(H);return U},e.deprecate=function(l,h){if(typeof process<"u"&&process.noDeprecation===!0)return l;if(typeof process>"u")return function(){return e.deprecate(l,h).apply(this,arguments)};var w=!1;function j(){if(!w){if(process.throwDeprecation)throw new Error(h);process.traceDeprecation?console.trace(h):console.error(h),w=!0}return l.apply(this,arguments)}return j};var r={},i=/^$/;if({}.NODE_DEBUG){var o={}.NODE_DEBUG;o=o.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),i=new RegExp("^"+o+"$","i")}e.debuglog=function(l){if(l=l.toUpperCase(),!r[l])if(i.test(l)){var h=process.pid;r[l]=function(){var w=e.format.apply(e,arguments);console.error("%s %d: %s",l,h,w)}}else r[l]=function(){};return r[l]};function a(l,h){var w={seen:[],stylize:s};return arguments.length>=3&&(w.depth=arguments[2]),arguments.length>=4&&(w.colors=arguments[3]),m(h)?w.showHidden=h:h&&e._extend(w,h),k(w.showHidden)&&(w.showHidden=!1),k(w.depth)&&(w.depth=2),k(w.colors)&&(w.colors=!1),k(w.customInspect)&&(w.customInspect=!0),w.colors&&(w.stylize=u),f(w,l,w.depth)}e.inspect=a,a.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},a.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function u(l,h){var w=a.styles[h];return w?"\x1B["+a.colors[w][0]+"m"+l+"\x1B["+a.colors[w][1]+"m":l}function s(l,h){return l}function c(l){var h={};return l.forEach(function(w,j){h[w]=!0}),h}function f(l,h,w){if(l.customInspect&&h&&F(h.inspect)&&h.inspect!==e.inspect&&!(h.constructor&&h.constructor.prototype===h)){var j=h.inspect(w,l);return _(j)||(j=f(l,j,w)),j}var I=p(l,h);if(I)return I;var U=Object.keys(h),H=c(U);if(l.showHidden&&(U=Object.getOwnPropertyNames(h)),G(h)&&(U.indexOf("message")>=0||U.indexOf("description")>=0))return d(h);if(U.length===0){if(F(h)){var V=h.name?": "+h.name:"";return l.stylize("[Function"+V+"]","special")}if($(h))return l.stylize(RegExp.prototype.toString.call(h),"regexp");if(z(h))return l.stylize(Date.prototype.toString.call(h),"date");if(G(h))return d(h)}var ne="",he=!1,Te=["{","}"];if(b(h)&&(he=!0,Te=["[","]"]),F(h)){var Re=h.name?": "+h.name:"";ne=" [Function"+Re+"]"}if($(h)&&(ne=" "+RegExp.prototype.toString.call(h)),z(h)&&(ne=" "+Date.prototype.toUTCString.call(h)),G(h)&&(ne=" "+d(h)),U.length===0&&(!he||h.length==0))return Te[0]+ne+Te[1];if(w<0)return $(h)?l.stylize(RegExp.prototype.toString.call(h),"regexp"):l.stylize("[Object]","special");l.seen.push(h);var pe;return he?pe=g(l,h,w,H,U):pe=U.map(function(Ue){return v(l,h,w,H,Ue,he)}),l.seen.pop(),y(pe,ne,Te)}function p(l,h){if(k(h))return l.stylize("undefined","undefined");if(_(h)){var w="'"+JSON.stringify(h).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return l.stylize(w,"string")}if(P(h))return l.stylize(""+h,"number");if(m(h))return l.stylize(""+h,"boolean");if(S(h))return l.stylize("null","null")}function d(l){return"["+Error.prototype.toString.call(l)+"]"}function g(l,h,w,j,I){for(var U=[],H=0,V=h.length;H<V;++H)B(h,String(H))?U.push(v(l,h,w,j,String(H),!0)):U.push("");return I.forEach(function(ne){ne.match(/^\d+$/)||U.push(v(l,h,w,j,ne,!0))}),U}function v(l,h,w,j,I,U){var H,V,ne;if(ne=Object.getOwnPropertyDescriptor(h,I)||{value:h[I]},ne.get?ne.set?V=l.stylize("[Getter/Setter]","special"):V=l.stylize("[Getter]","special"):ne.set&&(V=l.stylize("[Setter]","special")),B(j,I)||(H="["+I+"]"),V||(l.seen.indexOf(ne.value)<0?(S(w)?V=f(l,ne.value,null):V=f(l,ne.value,w-1),V.indexOf(`
`)>-1&&(U?V=V.split(`
`).map(function(he){return"  "+he}).join(`
`).slice(2):V=`
`+V.split(`
`).map(function(he){return"   "+he}).join(`
`))):V=l.stylize("[Circular]","special")),k(H)){if(U&&I.match(/^\d+$/))return V;H=JSON.stringify(""+I),H.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(H=H.slice(1,-1),H=l.stylize(H,"name")):(H=H.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),H=l.stylize(H,"string"))}return H+": "+V}function y(l,h,w){var j=l.reduce(function(I,U){return U.indexOf(`
`)>=0,I+U.replace(/\u001b\[\d\d?m/g,"").length+1},0);return j>60?w[0]+(h===""?"":h+`
 `)+" "+l.join(`,
  `)+" "+w[1]:w[0]+h+" "+l.join(", ")+" "+w[1]}e.types=Fa;function b(l){return Array.isArray(l)}e.isArray=b;function m(l){return typeof l=="boolean"}e.isBoolean=m;function S(l){return l===null}e.isNull=S;function E(l){return l==null}e.isNullOrUndefined=E;function P(l){return typeof l=="number"}e.isNumber=P;function _(l){return typeof l=="string"}e.isString=_;function D(l){return typeof l=="symbol"}e.isSymbol=D;function k(l){return l===void 0}e.isUndefined=k;function $(l){return M(l)&&X(l)==="[object RegExp]"}e.isRegExp=$,e.types.isRegExp=$;function M(l){return typeof l=="object"&&l!==null}e.isObject=M;function z(l){return M(l)&&X(l)==="[object Date]"}e.isDate=z,e.types.isDate=z;function G(l){return M(l)&&(X(l)==="[object Error]"||l instanceof Error)}e.isError=G,e.types.isNativeError=G;function F(l){return typeof l=="function"}e.isFunction=F;function W(l){return l===null||typeof l=="boolean"||typeof l=="number"||typeof l=="string"||typeof l=="symbol"||typeof l>"u"}e.isPrimitive=W,e.isBuffer=kl;function X(l){return Object.prototype.toString.call(l)}function O(l){return l<10?"0"+l.toString(10):l.toString(10)}var C=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function N(){var l=new Date,h=[O(l.getHours()),O(l.getMinutes()),O(l.getSeconds())].join(":");return[l.getDate(),C[l.getMonth()],h].join(" ")}e.log=function(){console.log("%s - %s",N(),e.format.apply(e,arguments))},e.inherits=bi,e._extend=function(l,h){if(!h||!M(h))return l;for(var w=Object.keys(h),j=w.length;j--;)l[w[j]]=h[w[j]];return l};function B(l,h){return Object.prototype.hasOwnProperty.call(l,h)}var L=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;e.promisify=function(h){if(typeof h!="function")throw new TypeError('The "original" argument must be of type Function');if(L&&h[L]){var w=h[L];if(typeof w!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(w,L,{value:w,enumerable:!1,writable:!1,configurable:!0}),w}function w(){for(var j,I,U=new Promise(function(ne,he){j=ne,I=he}),H=[],V=0;V<arguments.length;V++)H.push(arguments[V]);H.push(function(ne,he){ne?I(ne):j(he)});try{h.apply(this,H)}catch(ne){I(ne)}return U}return Object.setPrototypeOf(w,Object.getPrototypeOf(h)),L&&Object.defineProperty(w,L,{value:w,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(w,t(h))},e.promisify.custom=L;function Q(l,h){if(!l){var w=new Error("Promise was rejected with a falsy value");w.reason=l,l=w}return h(l)}function x(l){if(typeof l!="function")throw new TypeError('The "original" argument must be of type Function');function h(){for(var w=[],j=0;j<arguments.length;j++)w.push(arguments[j]);var I=w.pop();if(typeof I!="function")throw new TypeError("The last argument must be of type Function");var U=this,H=function(){return I.apply(U,arguments)};l.apply(this,w).then(function(V){process.nextTick(H.bind(null,null,V))},function(V){process.nextTick(Q.bind(null,V,H))})}return Object.setPrototypeOf(h,Object.getPrototypeOf(l)),Object.defineProperties(h,t(l)),h}e.callbackify=x})(Ct);var xo;function ou(){if(xo)return dr;xo=1;function e(y){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?e=function(m){return typeof m}:e=function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m},e(y)}function t(y,b){if(!(y instanceof b))throw new TypeError("Cannot call a class as a function")}function n(y,b){return b&&(e(b)==="object"||typeof b=="function")?b:r(y)}function r(y){if(y===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y}function i(y){return i=Object.setPrototypeOf?Object.getPrototypeOf:function(m){return m.__proto__||Object.getPrototypeOf(m)},i(y)}function o(y,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function");y.prototype=Object.create(b&&b.prototype,{constructor:{value:y,writable:!0,configurable:!0}}),b&&a(y,b)}function a(y,b){return a=Object.setPrototypeOf||function(S,E){return S.__proto__=E,S},a(y,b)}var u={},s,c;function f(y,b,m){m||(m=Error);function S(P,_,D){return typeof b=="string"?b:b(P,_,D)}var E=function(P){o(_,P);function _(D,k,$){var M;return t(this,_),M=n(this,i(_).call(this,S(D,k,$))),M.code=y,M}return _}(m);u[y]=E}function p(y,b){if(Array.isArray(y)){var m=y.length;return y=y.map(function(S){return String(S)}),m>2?"one of ".concat(b," ").concat(y.slice(0,m-1).join(", "),", or ")+y[m-1]:m===2?"one of ".concat(b," ").concat(y[0]," or ").concat(y[1]):"of ".concat(b," ").concat(y[0])}else return"of ".concat(b," ").concat(String(y))}function d(y,b,m){return y.substr(!m||m<0?0:+m,b.length)===b}function g(y,b,m){return(m===void 0||m>y.length)&&(m=y.length),y.substring(m-b.length,m)===b}function v(y,b,m){return typeof m!="number"&&(m=0),m+b.length>y.length?!1:y.indexOf(b,m)!==-1}return f("ERR_AMBIGUOUS_ARGUMENT",'The "%s" argument is ambiguous. %s',TypeError),f("ERR_INVALID_ARG_TYPE",function(y,b,m){s===void 0&&(s=wi()),s(typeof y=="string","'name' must be a string");var S;typeof b=="string"&&d(b,"not ")?(S="must not be",b=b.replace(/^not /,"")):S="must be";var E;if(g(y," argument"))E="The ".concat(y," ").concat(S," ").concat(p(b,"type"));else{var P=v(y,".")?"property":"argument";E='The "'.concat(y,'" ').concat(P," ").concat(S," ").concat(p(b,"type"))}return E+=". Received type ".concat(e(m)),E},TypeError),f("ERR_INVALID_ARG_VALUE",function(y,b){var m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"is invalid";c===void 0&&(c=Ct);var S=c.inspect(b);return S.length>128&&(S="".concat(S.slice(0,128),"...")),"The argument '".concat(y,"' ").concat(m,". Received ").concat(S)},TypeError),f("ERR_INVALID_RETURN_VALUE",function(y,b,m){var S;return m&&m.constructor&&m.constructor.name?S="instance of ".concat(m.constructor.name):S="type ".concat(e(m)),"Expected ".concat(y,' to be returned from the "').concat(b,'"')+" function but got ".concat(S,".")},TypeError),f("ERR_MISSING_ARGS",function(){for(var y=arguments.length,b=new Array(y),m=0;m<y;m++)b[m]=arguments[m];s===void 0&&(s=wi()),s(b.length>0,"At least one arg needs to be specified");var S="The ",E=b.length;switch(b=b.map(function(P){return'"'.concat(P,'"')}),E){case 1:S+="".concat(b[0]," argument");break;case 2:S+="".concat(b[0]," and ").concat(b[1]," arguments");break;default:S+=b.slice(0,E-1).join(", "),S+=", and ".concat(b[E-1]," arguments");break}return"".concat(S," must be specified")},TypeError),dr.codes=u,dr}var Pr,To;function Nl(){if(To)return Pr;To=1;function e(O){for(var C=1;C<arguments.length;C++){var N=arguments[C]!=null?arguments[C]:{},B=Object.keys(N);typeof Object.getOwnPropertySymbols=="function"&&(B=B.concat(Object.getOwnPropertySymbols(N).filter(function(L){return Object.getOwnPropertyDescriptor(N,L).enumerable}))),B.forEach(function(L){t(O,L,N[L])})}return O}function t(O,C,N){return C in O?Object.defineProperty(O,C,{value:N,enumerable:!0,configurable:!0,writable:!0}):O[C]=N,O}function n(O,C){if(!(O instanceof C))throw new TypeError("Cannot call a class as a function")}function r(O,C){for(var N=0;N<C.length;N++){var B=C[N];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(O,B.key,B)}}function i(O,C,N){return C&&r(O.prototype,C),N&&r(O,N),O}function o(O,C){return C&&(v(C)==="object"||typeof C=="function")?C:a(O)}function a(O){if(O===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O}function u(O,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function");O.prototype=Object.create(C&&C.prototype,{constructor:{value:O,writable:!0,configurable:!0}}),C&&d(O,C)}function s(O){var C=typeof Map=="function"?new Map:void 0;return s=function(B){if(B===null||!p(B))return B;if(typeof B!="function")throw new TypeError("Super expression must either be null or a function");if(typeof C<"u"){if(C.has(B))return C.get(B);C.set(B,L)}function L(){return f(B,arguments,g(this).constructor)}return L.prototype=Object.create(B.prototype,{constructor:{value:L,enumerable:!1,writable:!0,configurable:!0}}),d(L,B)},s(O)}function c(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function f(O,C,N){return c()?f=Reflect.construct:f=function(L,Q,x){var l=[null];l.push.apply(l,Q);var h=Function.bind.apply(L,l),w=new h;return x&&d(w,x.prototype),w},f.apply(null,arguments)}function p(O){return Function.toString.call(O).indexOf("[native code]")!==-1}function d(O,C){return d=Object.setPrototypeOf||function(B,L){return B.__proto__=L,B},d(O,C)}function g(O){return g=Object.setPrototypeOf?Object.getPrototypeOf:function(N){return N.__proto__||Object.getPrototypeOf(N)},g(O)}function v(O){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?v=function(N){return typeof N}:v=function(N){return N&&typeof Symbol=="function"&&N.constructor===Symbol&&N!==Symbol.prototype?"symbol":typeof N},v(O)}var y=Ct,b=y.inspect,m=ou(),S=m.codes.ERR_INVALID_ARG_TYPE;function E(O,C,N){return(N===void 0||N>O.length)&&(N=O.length),O.substring(N-C.length,N)===C}function P(O,C){if(C=Math.floor(C),O.length==0||C==0)return"";var N=O.length*C;for(C=Math.floor(Math.log(C)/Math.log(2));C;)O+=O,C--;return O+=O.substring(0,N-O.length),O}var _="",D="",k="",$="",M={deepStrictEqual:"Expected values to be strictly deep-equal:",strictEqual:"Expected values to be strictly equal:",strictEqualObject:'Expected "actual" to be reference-equal to "expected":',deepEqual:"Expected values to be loosely deep-equal:",equal:"Expected values to be loosely equal:",notDeepStrictEqual:'Expected "actual" not to be strictly deep-equal to:',notStrictEqual:'Expected "actual" to be strictly unequal to:',notStrictEqualObject:'Expected "actual" not to be reference-equal to "expected":',notDeepEqual:'Expected "actual" not to be loosely deep-equal to:',notEqual:'Expected "actual" to be loosely unequal to:',notIdentical:"Values identical but not reference-equal:"},z=10;function G(O){var C=Object.keys(O),N=Object.create(Object.getPrototypeOf(O));return C.forEach(function(B){N[B]=O[B]}),Object.defineProperty(N,"message",{value:O.message}),N}function F(O){return b(O,{compact:!1,customInspect:!1,depth:1e3,maxArrayLength:1/0,showHidden:!1,breakLength:1/0,showProxy:!1,sorted:!0,getters:!0})}function W(O,C,N){var B="",L="",Q=0,x="",l=!1,h=F(O),w=h.split(`
`),j=F(C).split(`
`),I=0,U="";if(N==="strictEqual"&&v(O)==="object"&&v(C)==="object"&&O!==null&&C!==null&&(N="strictEqualObject"),w.length===1&&j.length===1&&w[0]!==j[0]){var H=w[0].length+j[0].length;if(H<=z){if((v(O)!=="object"||O===null)&&(v(C)!=="object"||C===null)&&(O!==0||C!==0))return"".concat(M[N],`

`)+"".concat(w[0]," !== ").concat(j[0],`
`)}else if(N!=="strictEqualObject"){var V=process.stderr&&process.stderr.isTTY?process.stderr.columns:80;if(H<V){for(;w[0][I]===j[0][I];)I++;I>2&&(U=`
  `.concat(P(" ",I),"^"),I=0)}}}for(var ne=w[w.length-1],he=j[j.length-1];ne===he&&(I++<2?x=`
  `.concat(ne).concat(x):B=ne,w.pop(),j.pop(),!(w.length===0||j.length===0));)ne=w[w.length-1],he=j[j.length-1];var Te=Math.max(w.length,j.length);if(Te===0){var Re=h.split(`
`);if(Re.length>30)for(Re[26]="".concat(_,"...").concat($);Re.length>27;)Re.pop();return"".concat(M.notIdentical,`

`).concat(Re.join(`
`),`
`)}I>3&&(x=`
`.concat(_,"...").concat($).concat(x),l=!0),B!==""&&(x=`
  `.concat(B).concat(x),B="");var pe=0,Ue=M[N]+`
`.concat(D,"+ actual").concat($," ").concat(k,"- expected").concat($),lt=" ".concat(_,"...").concat($," Lines skipped");for(I=0;I<Te;I++){var Ee=I-Q;if(w.length<I+1)Ee>1&&I>2&&(Ee>4?(L+=`
`.concat(_,"...").concat($),l=!0):Ee>3&&(L+=`
  `.concat(j[I-2]),pe++),L+=`
  `.concat(j[I-1]),pe++),Q=I,B+=`
`.concat(k,"-").concat($," ").concat(j[I]),pe++;else if(j.length<I+1)Ee>1&&I>2&&(Ee>4?(L+=`
`.concat(_,"...").concat($),l=!0):Ee>3&&(L+=`
  `.concat(w[I-2]),pe++),L+=`
  `.concat(w[I-1]),pe++),Q=I,L+=`
`.concat(D,"+").concat($," ").concat(w[I]),pe++;else{var Ve=j[I],R=w[I],ft=R!==Ve&&(!E(R,",")||R.slice(0,-1)!==Ve);ft&&E(Ve,",")&&Ve.slice(0,-1)===R&&(ft=!1,R+=","),ft?(Ee>1&&I>2&&(Ee>4?(L+=`
`.concat(_,"...").concat($),l=!0):Ee>3&&(L+=`
  `.concat(w[I-2]),pe++),L+=`
  `.concat(w[I-1]),pe++),Q=I,L+=`
`.concat(D,"+").concat($," ").concat(R),B+=`
`.concat(k,"-").concat($," ").concat(Ve),pe+=2):(L+=B,B="",(Ee===1||I===0)&&(L+=`
  `.concat(R),pe++))}if(pe>20&&I<Te-2)return"".concat(Ue).concat(lt,`
`).concat(L,`
`).concat(_,"...").concat($).concat(B,`
`)+"".concat(_,"...").concat($)}return"".concat(Ue).concat(l?lt:"",`
`).concat(L).concat(B).concat(x).concat(U)}var X=function(O){u(C,O);function C(N){var B;if(n(this,C),v(N)!=="object"||N===null)throw new S("options","Object",N);var L=N.message,Q=N.operator,x=N.stackStartFn,l=N.actual,h=N.expected,w=Error.stackTraceLimit;if(Error.stackTraceLimit=0,L!=null)B=o(this,g(C).call(this,String(L)));else if(process.stderr&&process.stderr.isTTY&&(process.stderr&&process.stderr.getColorDepth&&process.stderr.getColorDepth()!==1?(_="\x1B[34m",D="\x1B[32m",$="\x1B[39m",k="\x1B[31m"):(_="",D="",$="",k="")),v(l)==="object"&&l!==null&&v(h)==="object"&&h!==null&&"stack"in l&&l instanceof Error&&"stack"in h&&h instanceof Error&&(l=G(l),h=G(h)),Q==="deepStrictEqual"||Q==="strictEqual")B=o(this,g(C).call(this,W(l,h,Q)));else if(Q==="notDeepStrictEqual"||Q==="notStrictEqual"){var j=M[Q],I=F(l).split(`
`);if(Q==="notStrictEqual"&&v(l)==="object"&&l!==null&&(j=M.notStrictEqualObject),I.length>30)for(I[26]="".concat(_,"...").concat($);I.length>27;)I.pop();I.length===1?B=o(this,g(C).call(this,"".concat(j," ").concat(I[0]))):B=o(this,g(C).call(this,"".concat(j,`

`).concat(I.join(`
`),`
`)))}else{var U=F(l),H="",V=M[Q];Q==="notDeepEqual"||Q==="notEqual"?(U="".concat(M[Q],`

`).concat(U),U.length>1024&&(U="".concat(U.slice(0,1021),"..."))):(H="".concat(F(h)),U.length>512&&(U="".concat(U.slice(0,509),"...")),H.length>512&&(H="".concat(H.slice(0,509),"...")),Q==="deepEqual"||Q==="equal"?U="".concat(V,`

`).concat(U,`

should equal

`):H=" ".concat(Q," ").concat(H)),B=o(this,g(C).call(this,"".concat(U).concat(H)))}return Error.stackTraceLimit=w,B.generatedMessage=!L,Object.defineProperty(a(B),"name",{value:"AssertionError [ERR_ASSERTION]",enumerable:!1,writable:!0,configurable:!0}),B.code="ERR_ASSERTION",B.actual=l,B.expected=h,B.operator=Q,Error.captureStackTrace&&Error.captureStackTrace(a(B),x),B.stack,B.name="AssertionError",o(B)}return i(C,[{key:"toString",value:function(){return"".concat(this.name," [").concat(this.code,"]: ").concat(this.message)}},{key:b.custom,value:function(B,L){return b(this,e({},L,{customInspect:!1,depth:0}))}}]),C}(s(Error));return Pr=X,Pr}var xr,Io;function Ml(){if(Io)return xr;Io=1;function e(n,r){if(n==null)throw new TypeError("Cannot convert first argument to object");for(var i=Object(n),o=1;o<arguments.length;o++){var a=arguments[o];if(a!=null)for(var u=Object.keys(Object(a)),s=0,c=u.length;s<c;s++){var f=u[s],p=Object.getOwnPropertyDescriptor(a,f);p!==void 0&&p.enumerable&&(i[f]=a[f])}}return i}function t(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:e})}return xr={assign:e,polyfill:t},xr}var Tr,jo;function au(){if(jo)return Tr;jo=1;var e=Object.prototype.toString;return Tr=function(n){var r=e.call(n),i=r==="[object Arguments]";return i||(i=r!=="[object Array]"&&n!==null&&typeof n=="object"&&typeof n.length=="number"&&n.length>=0&&e.call(n.callee)==="[object Function]"),i},Tr}var Ir,Ro;function Fl(){if(Ro)return Ir;Ro=1;var e;if(!Object.keys){var t=Object.prototype.hasOwnProperty,n=Object.prototype.toString,r=au(),i=Object.prototype.propertyIsEnumerable,o=!i.call({toString:null},"toString"),a=i.call(function(){},"prototype"),u=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],s=function(d){var g=d.constructor;return g&&g.prototype===d},c={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},f=function(){if(typeof window>"u")return!1;for(var d in window)try{if(!c["$"+d]&&t.call(window,d)&&window[d]!==null&&typeof window[d]=="object")try{s(window[d])}catch{return!0}}catch{return!0}return!1}(),p=function(d){if(typeof window>"u"||!f)return s(d);try{return s(d)}catch{return!1}};e=function(g){var v=g!==null&&typeof g=="object",y=n.call(g)==="[object Function]",b=r(g),m=v&&n.call(g)==="[object String]",S=[];if(!v&&!y&&!b)throw new TypeError("Object.keys called on a non-object");var E=a&&y;if(m&&g.length>0&&!t.call(g,0))for(var P=0;P<g.length;++P)S.push(String(P));if(b&&g.length>0)for(var _=0;_<g.length;++_)S.push(String(_));else for(var D in g)!(E&&D==="prototype")&&t.call(g,D)&&S.push(String(D));if(o)for(var k=p(g),$=0;$<u.length;++$)!(k&&u[$]==="constructor")&&t.call(g,u[$])&&S.push(u[$]);return S}}return Ir=e,Ir}var jr,$o;function Kl(){if($o)return jr;$o=1;var e=Array.prototype.slice,t=au(),n=Object.keys,r=n?function(a){return n(a)}:Fl(),i=Object.keys;return r.shim=function(){if(Object.keys){var a=function(){var u=Object.keys(arguments);return u&&u.length===arguments.length}(1,2);a||(Object.keys=function(s){return t(s)?i(e.call(s)):i(s)})}else Object.keys=r;return Object.keys||r},jr=r,jr}var Rr,Co;function Ll(){if(Co)return Rr;Co=1;var e=tr(),t=e("%Object.defineProperty%",!0),n=function(){if(t)try{return t({},"a",{value:1}),!0}catch{return!1}return!1};return n.hasArrayLengthDefineBug=function(){if(!n())return null;try{return t([],"length",{value:1}).length!==1}catch{return!0}},Rr=n,Rr}var $r,Do;function rr(){if(Do)return $r;Do=1;var e=Kl(),t=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",n=Object.prototype.toString,r=Array.prototype.concat,i=Object.defineProperty,o=function(f){return typeof f=="function"&&n.call(f)==="[object Function]"},a=Ll()(),u=i&&a,s=function(f,p,d,g){p in f&&(!o(g)||!g())||(u?i(f,p,{configurable:!0,enumerable:!1,value:d,writable:!0}):f[p]=d)},c=function(f,p){var d=arguments.length>2?arguments[2]:{},g=e(p);t&&(g=r.call(g,Object.getOwnPropertySymbols(p)));for(var v=0;v<g.length;v+=1)s(f,g[v],p[g[v]],d[g[v]])};return c.supportsDescriptors=!!u,$r=c,$r}var Cr,Bo;function uu(){if(Bo)return Cr;Bo=1;var e=function(t){return t!==t};return Cr=function(n,r){return n===0&&r===0?1/n===1/r:!!(n===r||e(n)&&e(r))},Cr}var Dr,ko;function su(){if(ko)return Dr;ko=1;var e=uu();return Dr=function(){return typeof Object.is=="function"?Object.is:e},Dr}var Br,No;function ql(){if(No)return Br;No=1;var e=su(),t=rr();return Br=function(){var r=e();return t(Object,{is:r},{is:function(){return Object.is!==r}}),r},Br}var kr,Mo;function cu(){if(Mo)return kr;Mo=1;var e=rr(),t=zi(),n=uu(),r=su(),i=ql(),o=t(r(),Object);return e(o,{getPolyfill:r,implementation:n,shim:i}),kr=o,kr}var Nr,Fo;function lu(){return Fo||(Fo=1,Nr=function(t){return t!==t}),Nr}var Mr,Ko;function fu(){if(Ko)return Mr;Ko=1;var e=lu();return Mr=function(){return Number.isNaN&&Number.isNaN(NaN)&&!Number.isNaN("a")?Number.isNaN:e},Mr}var Fr,Lo;function Ul(){if(Lo)return Fr;Lo=1;var e=rr(),t=fu();return Fr=function(){var r=t();return e(Number,{isNaN:r},{isNaN:function(){return Number.isNaN!==r}}),r},Fr}var Kr,qo;function Vl(){if(qo)return Kr;qo=1;var e=zi(),t=rr(),n=lu(),r=fu(),i=Ul(),o=e(r(),Number);return t(o,{getPolyfill:r,implementation:n,shim:i}),Kr=o,Kr}var Lr,Uo;function zl(){if(Uo)return Lr;Uo=1;function e(A,T){return r(A)||n(A,T)||t()}function t(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function n(A,T){var K=[],Y=!0,J=!1,re=void 0;try{for(var te=A[Symbol.iterator](),ue;!(Y=(ue=te.next()).done)&&(K.push(ue.value),!(T&&K.length===T));Y=!0);}catch(ie){J=!0,re=ie}finally{try{!Y&&te.return!=null&&te.return()}finally{if(J)throw re}}return K}function r(A){if(Array.isArray(A))return A}function i(A){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?i=function(K){return typeof K}:i=function(K){return K&&typeof Symbol=="function"&&K.constructor===Symbol&&K!==Symbol.prototype?"symbol":typeof K},i(A)}var o=/a/g.flags!==void 0,a=function(T){var K=[];return T.forEach(function(Y){return K.push(Y)}),K},u=function(T){var K=[];return T.forEach(function(Y,J){return K.push([J,Y])}),K},s=Object.is?Object.is:cu(),c=Object.getOwnPropertySymbols?Object.getOwnPropertySymbols:function(){return[]},f=Number.isNaN?Number.isNaN:Vl();function p(A){return A.call.bind(A)}var d=p(Object.prototype.hasOwnProperty),g=p(Object.prototype.propertyIsEnumerable),v=p(Object.prototype.toString),y=Ct.types,b=y.isAnyArrayBuffer,m=y.isArrayBufferView,S=y.isDate,E=y.isMap,P=y.isRegExp,_=y.isSet,D=y.isNativeError,k=y.isBoxedPrimitive,$=y.isNumberObject,M=y.isStringObject,z=y.isBooleanObject,G=y.isBigIntObject,F=y.isSymbolObject,W=y.isFloat32Array,X=y.isFloat64Array;function O(A){if(A.length===0||A.length>10)return!0;for(var T=0;T<A.length;T++){var K=A.charCodeAt(T);if(K<48||K>57)return!0}return A.length===10&&A>=Math.pow(2,32)}function C(A){return Object.keys(A).filter(O).concat(c(A).filter(Object.prototype.propertyIsEnumerable.bind(A)))}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */function N(A,T){if(A===T)return 0;for(var K=A.length,Y=T.length,J=0,re=Math.min(K,Y);J<re;++J)if(A[J]!==T[J]){K=A[J],Y=T[J];break}return K<Y?-1:Y<K?1:0}var B=!0,L=!1,Q=0,x=1,l=2,h=3;function w(A,T){return o?A.source===T.source&&A.flags===T.flags:RegExp.prototype.toString.call(A)===RegExp.prototype.toString.call(T)}function j(A,T){if(A.byteLength!==T.byteLength)return!1;for(var K=0;K<A.byteLength;K++)if(A[K]!==T[K])return!1;return!0}function I(A,T){return A.byteLength!==T.byteLength?!1:N(new Uint8Array(A.buffer,A.byteOffset,A.byteLength),new Uint8Array(T.buffer,T.byteOffset,T.byteLength))===0}function U(A,T){return A.byteLength===T.byteLength&&N(new Uint8Array(A),new Uint8Array(T))===0}function H(A,T){return $(A)?$(T)&&s(Number.prototype.valueOf.call(A),Number.prototype.valueOf.call(T)):M(A)?M(T)&&String.prototype.valueOf.call(A)===String.prototype.valueOf.call(T):z(A)?z(T)&&Boolean.prototype.valueOf.call(A)===Boolean.prototype.valueOf.call(T):G(A)?G(T)&&BigInt.prototype.valueOf.call(A)===BigInt.prototype.valueOf.call(T):F(T)&&Symbol.prototype.valueOf.call(A)===Symbol.prototype.valueOf.call(T)}function V(A,T,K,Y){if(A===T)return A!==0?!0:K?s(A,T):!0;if(K){if(i(A)!=="object")return typeof A=="number"&&f(A)&&f(T);if(i(T)!=="object"||A===null||T===null||Object.getPrototypeOf(A)!==Object.getPrototypeOf(T))return!1}else{if(A===null||i(A)!=="object")return T===null||i(T)!=="object"?A==T:!1;if(T===null||i(T)!=="object")return!1}var J=v(A),re=v(T);if(J!==re)return!1;if(Array.isArray(A)){if(A.length!==T.length)return!1;var te=C(A),ue=C(T);return te.length!==ue.length?!1:he(A,T,K,Y,x,te)}if(J==="[object Object]"&&(!E(A)&&E(T)||!_(A)&&_(T)))return!1;if(S(A)){if(!S(T)||Date.prototype.getTime.call(A)!==Date.prototype.getTime.call(T))return!1}else if(P(A)){if(!P(T)||!w(A,T))return!1}else if(D(A)||A instanceof Error){if(A.message!==T.message||A.name!==T.name)return!1}else if(m(A)){if(!K&&(W(A)||X(A))){if(!j(A,T))return!1}else if(!I(A,T))return!1;var ie=C(A),Ie=C(T);return ie.length!==Ie.length?!1:he(A,T,K,Y,Q,ie)}else{if(_(A))return!_(T)||A.size!==T.size?!1:he(A,T,K,Y,l);if(E(A))return!E(T)||A.size!==T.size?!1:he(A,T,K,Y,h);if(b(A)){if(!U(A,T))return!1}else if(k(A)&&!H(A,T))return!1}return he(A,T,K,Y,Q)}function ne(A,T){return T.filter(function(K){return g(A,K)})}function he(A,T,K,Y,J,re){if(arguments.length===5){re=Object.keys(A);var te=Object.keys(T);if(re.length!==te.length)return!1}for(var ue=0;ue<re.length;ue++)if(!d(T,re[ue]))return!1;if(K&&arguments.length===5){var ie=c(A);if(ie.length!==0){var Ie=0;for(ue=0;ue<ie.length;ue++){var $e=ie[ue];if(g(A,$e)){if(!g(T,$e))return!1;re.push($e),Ie++}else if(g(T,$e))return!1}var Vt=c(T);if(ie.length!==Vt.length&&ne(T,Vt).length!==Ie)return!1}else{var St=c(T);if(St.length!==0&&ne(T,St).length!==0)return!1}}if(re.length===0&&(J===Q||J===x&&A.length===0||A.size===0))return!0;if(Y===void 0)Y={val1:new Map,val2:new Map,position:0};else{var zt=Y.val1.get(A);if(zt!==void 0){var At=Y.val2.get(T);if(At!==void 0)return zt===At}Y.position++}Y.val1.set(A,Y.position),Y.val2.set(T,Y.position);var _u=R(A,T,K,re,Y,J);return Y.val1.delete(A),Y.val2.delete(T),_u}function Te(A,T,K,Y){for(var J=a(A),re=0;re<J.length;re++){var te=J[re];if(V(T,te,K,Y))return A.delete(te),!0}return!1}function Re(A){switch(i(A)){case"undefined":return null;case"object":return;case"symbol":return!1;case"string":A=+A;case"number":if(f(A))return!1}return!0}function pe(A,T,K){var Y=Re(K);return Y??(T.has(Y)&&!A.has(Y))}function Ue(A,T,K,Y,J){var re=Re(K);if(re!=null)return re;var te=T.get(re);return te===void 0&&!T.has(re)||!V(Y,te,!1,J)?!1:!A.has(re)&&V(Y,te,!1,J)}function lt(A,T,K,Y){for(var J=null,re=a(A),te=0;te<re.length;te++){var ue=re[te];if(i(ue)==="object"&&ue!==null)J===null&&(J=new Set),J.add(ue);else if(!T.has(ue)){if(K||!pe(A,T,ue))return!1;J===null&&(J=new Set),J.add(ue)}}if(J!==null){for(var ie=a(T),Ie=0;Ie<ie.length;Ie++){var $e=ie[Ie];if(i($e)==="object"&&$e!==null){if(!Te(J,$e,K,Y))return!1}else if(!K&&!A.has($e)&&!Te(J,$e,K,Y))return!1}return J.size===0}return!0}function Ee(A,T,K,Y,J,re){for(var te=a(A),ue=0;ue<te.length;ue++){var ie=te[ue];if(V(K,ie,J,re)&&V(Y,T.get(ie),J,re))return A.delete(ie),!0}return!1}function Ve(A,T,K,Y){for(var J=null,re=u(A),te=0;te<re.length;te++){var ue=e(re[te],2),ie=ue[0],Ie=ue[1];if(i(ie)==="object"&&ie!==null)J===null&&(J=new Set),J.add(ie);else{var $e=T.get(ie);if($e===void 0&&!T.has(ie)||!V(Ie,$e,K,Y)){if(K||!Ue(A,T,ie,Ie,Y))return!1;J===null&&(J=new Set),J.add(ie)}}}if(J!==null){for(var Vt=u(T),St=0;St<Vt.length;St++){var zt=e(Vt[St],2),ie=zt[0],At=zt[1];if(i(ie)==="object"&&ie!==null){if(!Ee(J,A,ie,At,K,Y))return!1}else if(!K&&(!A.has(ie)||!V(A.get(ie),At,!1,Y))&&!Ee(J,A,ie,At,!1,Y))return!1}return J.size===0}return!0}function R(A,T,K,Y,J,re){var te=0;if(re===l){if(!lt(A,T,K,J))return!1}else if(re===h){if(!Ve(A,T,K,J))return!1}else if(re===x)for(;te<A.length;te++)if(d(A,te)){if(!d(T,te)||!V(A[te],T[te],K,J))return!1}else{if(d(T,te))return!1;for(var ue=Object.keys(A);te<ue.length;te++){var ie=ue[te];if(!d(T,ie)||!V(A[ie],T[ie],K,J))return!1}return ue.length===Object.keys(T).length}for(te=0;te<Y.length;te++){var Ie=Y[te];if(!V(A[Ie],T[Ie],K,J))return!1}return!0}function ft(A,T){return V(A,T,L)}function Xi(A,T){return V(A,T,B)}return Lr={isDeepEqual:ft,isDeepStrictEqual:Xi},Lr}var Vo;function wi(){if(Vo)return zn;Vo=1;function e(x){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?e=function(h){return typeof h}:e=function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h},e(x)}function t(x,l){if(!(x instanceof l))throw new TypeError("Cannot call a class as a function")}var n=ou(),r=n.codes,i=r.ERR_AMBIGUOUS_ARGUMENT,o=r.ERR_INVALID_ARG_TYPE,a=r.ERR_INVALID_ARG_VALUE,u=r.ERR_INVALID_RETURN_VALUE,s=r.ERR_MISSING_ARGS,c=Nl(),f=Ct,p=f.inspect,d=Ct.types,g=d.isPromise,v=d.isRegExp,y=Object.assign?Object.assign:Ml().assign,b=Object.is?Object.is:cu(),m,S;function E(){var x=zl();m=x.isDeepEqual,S=x.isDeepStrictEqual}var P=!1,_=qc.exports=z,D={};function k(x){throw x.message instanceof Error?x.message:new c(x)}function $(x,l,h,w,j){var I=arguments.length,U;if(I===0)U="Failed";else if(I===1)h=x,x=void 0;else{if(P===!1){P=!0;var H=process.emitWarning?process.emitWarning:console.warn.bind(console);H("assert.fail() with more than one argument is deprecated. Please use assert.strictEqual() instead or only pass a message.","DeprecationWarning","DEP0094")}I===2&&(w="!=")}if(h instanceof Error)throw h;var V={actual:x,expected:l,operator:w===void 0?"fail":w,stackStartFn:j||$};h!==void 0&&(V.message=h);var ne=new c(V);throw U&&(ne.message=U,ne.generatedMessage=!0),ne}_.fail=$,_.AssertionError=c;function M(x,l,h,w){if(!h){var j=!1;if(l===0)j=!0,w="No value argument passed to `assert.ok()`";else if(w instanceof Error)throw w;var I=new c({actual:h,expected:!0,message:w,operator:"==",stackStartFn:x});throw I.generatedMessage=j,I}}function z(){for(var x=arguments.length,l=new Array(x),h=0;h<x;h++)l[h]=arguments[h];M.apply(void 0,[z,l.length].concat(l))}_.ok=z,_.equal=function x(l,h,w){if(arguments.length<2)throw new s("actual","expected");l!=h&&k({actual:l,expected:h,message:w,operator:"==",stackStartFn:x})},_.notEqual=function x(l,h,w){if(arguments.length<2)throw new s("actual","expected");l==h&&k({actual:l,expected:h,message:w,operator:"!=",stackStartFn:x})},_.deepEqual=function x(l,h,w){if(arguments.length<2)throw new s("actual","expected");m===void 0&&E(),m(l,h)||k({actual:l,expected:h,message:w,operator:"deepEqual",stackStartFn:x})},_.notDeepEqual=function x(l,h,w){if(arguments.length<2)throw new s("actual","expected");m===void 0&&E(),m(l,h)&&k({actual:l,expected:h,message:w,operator:"notDeepEqual",stackStartFn:x})},_.deepStrictEqual=function x(l,h,w){if(arguments.length<2)throw new s("actual","expected");m===void 0&&E(),S(l,h)||k({actual:l,expected:h,message:w,operator:"deepStrictEqual",stackStartFn:x})},_.notDeepStrictEqual=G;function G(x,l,h){if(arguments.length<2)throw new s("actual","expected");m===void 0&&E(),S(x,l)&&k({actual:x,expected:l,message:h,operator:"notDeepStrictEqual",stackStartFn:G})}_.strictEqual=function x(l,h,w){if(arguments.length<2)throw new s("actual","expected");b(l,h)||k({actual:l,expected:h,message:w,operator:"strictEqual",stackStartFn:x})},_.notStrictEqual=function x(l,h,w){if(arguments.length<2)throw new s("actual","expected");b(l,h)&&k({actual:l,expected:h,message:w,operator:"notStrictEqual",stackStartFn:x})};var F=function x(l,h,w){var j=this;t(this,x),h.forEach(function(I){I in l&&(w!==void 0&&typeof w[I]=="string"&&v(l[I])&&l[I].test(w[I])?j[I]=w[I]:j[I]=l[I])})};function W(x,l,h,w,j,I){if(!(h in x)||!S(x[h],l[h])){if(!w){var U=new F(x,j),H=new F(l,j,x),V=new c({actual:U,expected:H,operator:"deepStrictEqual",stackStartFn:I});throw V.actual=x,V.expected=l,V.operator=I.name,V}k({actual:x,expected:l,message:w,operator:I.name,stackStartFn:I})}}function X(x,l,h,w){if(typeof l!="function"){if(v(l))return l.test(x);if(arguments.length===2)throw new o("expected",["Function","RegExp"],l);if(e(x)!=="object"||x===null){var j=new c({actual:x,expected:l,message:h,operator:"deepStrictEqual",stackStartFn:w});throw j.operator=w.name,j}var I=Object.keys(l);if(l instanceof Error)I.push("name","message");else if(I.length===0)throw new a("error",l,"may not be an empty object");return m===void 0&&E(),I.forEach(function(U){typeof x[U]=="string"&&v(l[U])&&l[U].test(x[U])||W(x,l,U,h,I,w)}),!0}return l.prototype!==void 0&&x instanceof l?!0:Error.isPrototypeOf(l)?!1:l.call({},x)===!0}function O(x){if(typeof x!="function")throw new o("fn","Function",x);try{x()}catch(l){return l}return D}function C(x){return g(x)||x!==null&&e(x)==="object"&&typeof x.then=="function"&&typeof x.catch=="function"}function N(x){return Promise.resolve().then(function(){var l;if(typeof x=="function"){if(l=x(),!C(l))throw new u("instance of Promise","promiseFn",l)}else if(C(x))l=x;else throw new o("promiseFn",["Function","Promise"],x);return Promise.resolve().then(function(){return l}).then(function(){return D}).catch(function(h){return h})})}function B(x,l,h,w){if(typeof h=="string"){if(arguments.length===4)throw new o("error",["Object","Error","Function","RegExp"],h);if(e(l)==="object"&&l!==null){if(l.message===h)throw new i("error/message",'The error message "'.concat(l.message,'" is identical to the message.'))}else if(l===h)throw new i("error/message",'The error "'.concat(l,'" is identical to the message.'));w=h,h=void 0}else if(h!=null&&e(h)!=="object"&&typeof h!="function")throw new o("error",["Object","Error","Function","RegExp"],h);if(l===D){var j="";h&&h.name&&(j+=" (".concat(h.name,")")),j+=w?": ".concat(w):".";var I=x.name==="rejects"?"rejection":"exception";k({actual:void 0,expected:h,operator:x.name,message:"Missing expected ".concat(I).concat(j),stackStartFn:x})}if(h&&!X(l,h,w,x))throw l}function L(x,l,h,w){if(l!==D){if(typeof h=="string"&&(w=h,h=void 0),!h||X(l,h)){var j=w?": ".concat(w):".",I=x.name==="doesNotReject"?"rejection":"exception";k({actual:l,expected:h,operator:x.name,message:"Got unwanted ".concat(I).concat(j,`
`)+'Actual message: "'.concat(l&&l.message,'"'),stackStartFn:x})}throw l}}_.throws=function x(l){for(var h=arguments.length,w=new Array(h>1?h-1:0),j=1;j<h;j++)w[j-1]=arguments[j];B.apply(void 0,[x,O(l)].concat(w))},_.rejects=function x(l){for(var h=arguments.length,w=new Array(h>1?h-1:0),j=1;j<h;j++)w[j-1]=arguments[j];return N(l).then(function(I){return B.apply(void 0,[x,I].concat(w))})},_.doesNotThrow=function x(l){for(var h=arguments.length,w=new Array(h>1?h-1:0),j=1;j<h;j++)w[j-1]=arguments[j];L.apply(void 0,[x,O(l)].concat(w))},_.doesNotReject=function x(l){for(var h=arguments.length,w=new Array(h>1?h-1:0),j=1;j<h;j++)w[j-1]=arguments[j];return N(l).then(function(I){return L.apply(void 0,[x,I].concat(w))})},_.ifError=function x(l){if(l!=null){var h="ifError got unwanted exception: ";e(l)==="object"&&typeof l.message=="string"?l.message.length===0&&l.constructor?h+=l.constructor.name:h+=l.message:h+=p(l);var w=new c({actual:l,expected:null,operator:"ifError",message:h,stackStartFn:x}),j=l.stack;if(typeof j=="string"){var I=j.split(`
`);I.shift();for(var U=w.stack.split(`
`),H=0;H<I.length;H++){var V=U.indexOf(I[H]);if(V!==-1){U=U.slice(0,V);break}}w.stack="".concat(U.join(`
`),`
`).concat(I.join(`
`))}throw w}};function Q(){for(var x=arguments.length,l=new Array(x),h=0;h<x;h++)l[h]=arguments[h];M.apply(void 0,[Q,l.length].concat(l))}return _.strict=y(Q,_,{equal:_.strictEqual,deepEqual:_.deepStrictEqual,notEqual:_.notStrictEqual,notDeepEqual:_.notDeepStrictEqual}),_.strict.strict=_.strict,zn}var Gl=wi();const Wl=Lc(Gl),hu=12,Hl=200,Yl=760,du=12;class pu{static decodeArrayBuffer(t){const n=t.length/4*3,r=new ArrayBuffer(n);return this.decode(t,r),r}static removePaddingChars(t){return this._keyStr.indexOf(t.charAt(t.length-1))==64?t.substring(0,t.length-1):t}static decode(t,n){t=this.removePaddingChars(t),t=this.removePaddingChars(t);const r=Math.floor(t.length/4*3);let i,o,a,u,s,c,f,p=0,d=0;const g=n?new Uint8Array(n):new Uint8Array(r);for(t=t.replace(/[^A-Za-z0-9+/=]/g,""),p=0;p<r;p+=3)u=this._keyStr.indexOf(t.charAt(d++)),s=this._keyStr.indexOf(t.charAt(d++)),c=this._keyStr.indexOf(t.charAt(d++)),f=this._keyStr.indexOf(t.charAt(d++)),i=u<<2|s>>4,o=(s&15)<<4|c>>2,a=(c&3)<<6|f,g[p]=i,c!=64&&(g[p+1]=o),f!=64&&(g[p+2]=a);return g}}se(pu,"_keyStr","ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=");async function Jl(e,t,n){const r=await fetch(`https://api.github.com/repos/${e}/${t}/contents/${n}`,{headers:{"Content-Type":"application/vnd.github.raw"}});if(!r.ok)throw new Error(`Error fetching file:'${n}'
${await r.text()}`);return(await r.json()).content}class yu{get filename(){const t=this.location.split("/").at(-1);if(!t)throw new Error(`Unexpected sample location '${this.location}'`);return t}}class Ce extends yu{constructor(n,r){super();se(this,"label");se(this,"location");this.location=n,this.label=r}async downloadDirtSample(){const i=await Jl("tidalcycles","Dirt-Samples",this.location),o=pu.decodeArrayBuffer(i);return new Blob([o],{type:"audio/wav"})}async ensureCached(){let n;n=await Pe.instance.getSampleBlob(this.filename),n||(n=await this.downloadDirtSample(),Pe.instance.addSample({filename:this.filename,data:n}))}}class Xl extends yu{constructor(n,r){super();se(this,"label");se(this,"location");this.location=n,this.label=r}async ensureCached(){let n;if(n=await Pe.instance.getSampleBlob(this.filename),!n){const r=await fetch(this.location);if(!r.ok)throw new Error(`Error fetching file: '${this.filename}'
${await r.text()}`);n=await r.blob(),Pe.instance.addSample({filename:this.filename,data:n})}}}class ir{}se(ir,"samples",[new Xl("https://dobrian.github.io/cmp/topics/sample-recording-and-playback-with-web-audio-api/freejazz.wav","Freejazz"),new Ce("moog/000_Mighty Moog C2.wav","Moog C2"),new Ce("juno/03_juno_chorus_low.wav","Juno"),new Ce("jazz/007_SN.wav","Snare"),new Ce("bleep/pc_beep.wav","Beep"),new Ce("bleep/checkpoint-hit.wav","Bleep"),new Ce("808/CH.WAV","808CH"),new Ce("808oh/OH00.WAV","808OH"),new Ce("808bd/BD0010.WAV","808BD"),new Ce("808bd/BD0025.WAV","808BD2"),new Ce("808/CP.WAV","808CP"),new Ce("808/RS.WAV","808RS"),new Ce("juno/04_juno_chorus_mid.wav","Juno Mid"),new Ce("birds/001_10.wav","Birdies")]);Wl(ir.samples.length>hu,"Not enough default samples");async function Ql(){Pe.init(),await Promise.all(ir.samples.map(async e=>{try{await e.ensureCached()}catch(t){console.error(t)}})),console.log("App Data Loaded")}class ht extends hs{constructor(n,r=Object.is){super();se(this,"_value");se(this,"_eq");this._value=n,this._eq=r}get value(){return this._value}set value(n){if(!this._eq(this._value,n)){const r=this._value;this._value=n,this.fire(n,r)}}}const Zl=de('<header class="navbar"><h1 class="header-title">SoundBored</h1><ul><li class="icon"><a href="https://github.com/grddavies/soundbored"></a></li><li class="icon"><a></a></li></ul></header>'),ef=de('<main role="main" class="content"></main>'),tf=de("<footer></footer>");function nf(){const e=Ql(),[t,n]=Me(!0);return[ge(Ef,{get show(){return t()},setShow:n}),(()=>{const r=Zl.cloneNode(!0),i=r.firstChild,o=i.nextSibling,a=o.firstChild,u=a.firstChild,s=a.nextSibling,c=s.firstChild;return ae(u,ge(as,{size:36})),c.$$click=()=>n(!0),ae(c,ge(ss,{size:36})),r})(),(()=>{const r=ef.cloneNode(!0);return ae(r,ge(nh,{appInitialized:e})),r})(),tf.cloneNode(!0)]}Mt(["click"]);var zo=e=>typeof e=="function"&&!e.length?e():e,Go=e=>Array.isArray(e)?e:[e],rf=Object.entries,of=e=>Iu()?Hn(e):e;function af(e,t,n,r){return e.addEventListener(t,n,r),of(e.removeEventListener.bind(e,t,n,r))}function uf(e,t,n,r){const i=()=>{Go(zo(e)).forEach(o=>{o&&Go(zo(t)).forEach(a=>af(o,a,n,r))})};typeof e=="function"?kt(i):je(i)}var sf=e=>Object.assign({},e);function Wo(e,...t){const n=typeof t[0]=="string"?[t]:t,r=sf(e);let i=[];for(let o=0;o<n.length;o++){const a=n[o];i.push({});for(const u of a)i[o][u]=r[u],delete r[u]}return[...i,r]}var cf=e=>e.substring(2).toLowerCase(),lf=e=>{const t={};return Object.entries(e).forEach(([n,r])=>t[cf(n)]=r),t};function Wn(e){const[{target:t=document.body,pointerTypes:n,passive:r=!0},i]=Wo(e,"target","pointerTypes","passive"),[{gotcapture:o,lostcapture:a},u]=Wo(lf(i),"gotcapture","lostcapture"),s=f=>p=>(!n||n.includes(p.pointerType))&&f(p),c=(f,p)=>uf(t,f,s(p),{passive:r});rf(u).forEach(([f,p])=>p&&c(`pointer${f}`,p)),o&&c("gotpointercapture",o),a&&c("lostpointercapture",a)}class ff{constructor(t,n){se(this,"audio");se(this,"_splitter");se(this,"_audioOut");se(this,"_sampleHolder");se(this,"_analyser");se(this,"_playing",!1);this.audio=new AudioBufferSourceNode(t,n),this._splitter=new ChannelSplitterNode(t),this._analyser=new AnalyserNode(t),this._audioOut=new ChannelMergerNode(t),this._sampleHolder=new Float32Array(1),this.audio.addEventListener("ended",()=>{this._playing=!1})}get playbackPosition(){return this._analyser.getFloatTimeDomainData(this._sampleHolder),this._sampleHolder[0]}get playing(){return this._playing}loadBuffer(t){const n=Math.max(t.numberOfChannels,3),r=n-1;if(this.audio.buffer=new AudioBuffer({length:t.length,sampleRate:t.sampleRate,numberOfChannels:n}),t.numberOfChannels==1)this.audio.buffer.copyToChannel(t.getChannelData(0),0),this.audio.buffer.copyToChannel(t.getChannelData(0),1);else for(let o=0;o<t.numberOfChannels;o++)this.audio.buffer.copyToChannel(t.getChannelData(o),o);const i=this.audio.buffer.getChannelData(r);for(let o=0;o<t.length;o++)i[o]=o/t.length;this.audio.connect(this._splitter);for(let o=0;o<r;o++)this._splitter.connect(this._audioOut,o,o);this._splitter.connect(this._analyser,r)}get playbackRate(){return this.audio.playbackRate}start(...t){this._playing=!0,this.audio.start(...t)}stop(t){this.audio.stop(t)}connect(t,n){return this._audioOut.connect(t,n)}}function wt(e){const[t,n]=Me(e.value),r=o=>{n(()=>o)};return Tu(()=>{e.attach(r)}),Hn(()=>{e.detach(r)}),[t,o=>{e.value=o}]}class Dt{static get instance(){if(!this._instance)throw new Error("AudioContext not initialized");return this._instance}static init(t){this._instance=new AudioContext(t),this.initialized.value=!0}}se(Dt,"_instance"),se(Dt,"initialized",new ht(!1));function Hi(){const[e]=wt(Dt.initialized);return()=>e()?Dt.instance:null}const hf=de('<div class="buttonPad"><canvas></canvas><button><div class="label"></div></button><button></button></div>'),df=({model:e,onClick:t})=>{let n,r,i,o,a;const u=Hi();e.audioContext.value=u();const[s]=wt(e.playbackRate),[c]=wt(e.label);kt(()=>{const g=s();i&&(i.audio.playbackRate.value=g)});function f(){const g=r.getContext("2d"),v=i.playbackPosition;g&&(g.clearRect(0,0,r.width,r.height),g.fillStyle="white",g.fillRect(0,0,r.width*v,r.height),i!=null&&i.playing?requestAnimationFrame(f):g.clearRect(0,0,r.width,r.height))}const p=()=>{const g=u();!g||!e.loaded||(i==null||i.stop(),i=new ff(g,{playbackRate:s()}),i.loadBuffer(e.audioBuffer),i.connect(g.destination),i.start(),f())},d=()=>{i&&e.loaded&&i.stop()};return Wn({target:()=>o,pointerTypes:["touch","pen","mouse"],onDown:p}),Wn({target:()=>a,pointerTypes:["touch","pen","mouse"],onDown:d}),(()=>{const g=hf.cloneNode(!0),v=g.firstChild,y=v.nextSibling,b=y.firstChild,m=y.nextSibling;Bn(g,"click",t,!0);const S=n;typeof S=="function"?He(S,g):n=g;const E=r;typeof E=="function"?He(E,v):r=v;const P=o;typeof P=="function"?He(P,y):o=y,ae(b,c),ae(y,ge(cs,{size:24}),null);const _=a;return typeof _=="function"?He(_,m):a=m,ae(m,ge(ls,{size:24})),g})()};Mt(["click"]);function pf(...e){return e.reduce((t,n)=>({x:t.x+n.x,y:t.y+n.y}))}const yf=de('<svg class="knob" viewBox="0 0 120 120" xmlns="http://www.w3.org/2000/svg"><path class="arc"></path><path class="dial"></path><text class="value" x="70" y="100"></text></svg>'),vf=de('<svg><path class="track"></path></svg>',4,!0);function gf(e,t){return{x:e*Math.cos(t),y:e*Math.sin(t)}}const mf=e=>{const t=()=>(e.value-(e.min??0))/(e.max-(e.min??0)),o={x:60,y:60},a=3/4,u=()=>2*Math.PI*(t()*.75+(1-a)),s=Math.PI/15,c=()=>u()+s,f=d=>{const g=gf(50,d);return pf(g,o)},p=()=>u()>3*Math.PI/2?1:0;return(()=>{const d=yf.cloneNode(!0),g=d.firstChild,v=g.nextSibling,y=v.nextSibling,b=e.ref;return typeof b=="function"?He(b,d):e.ref=d,ae(d,(()=>{const m=Qe(()=>u()+s<2*Math.PI);return()=>m()&&(()=>{const S=vf.cloneNode(!0);return je(()=>Ne(S,"d",`M ${o.x+50},${o.y} A ${50} ${50} 0 ${c()>Math.PI?0:1} 0 ${f(c()).x} ${f(c()).y}`)),S})()})(),g),ae(y,()=>e.value.toFixed(1)),je(m=>{const S=e.size??48,E=e.size??48,P=`M ${o.x},${o.y+50} A ${50} ${50} 0 ${p()} 1 ${f(u()).x} ${f(u()).y}`,_=`M ${o.x},${o.y} L ${f(u()).x} ${f(u()).y}`;return S!==m._v$&&Ne(d,"width",m._v$=S),E!==m._v$2&&Ne(d,"height",m._v$2=E),P!==m._v$3&&Ne(g,"d",m._v$3=P),_!==m._v$4&&Ne(v,"d",m._v$4=_),m},{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0}),d})()};const bf=de('<div class="modal"><div class="topbar flex flex-row-reverse"><button>⨉</button></div><div class="modal-content p-2"></div></div>'),wf=de('<div class="modal-overlay"></div>'),_f=de("<button></button>"),Sf=e=>{let t,n;return[(()=>{const r=bf.cloneNode(!0),i=r.firstChild,o=i.firstChild,a=i.nextSibling,u=t;return typeof u=="function"?He(u,r):t=r,Bn(o,"click",e.onClose,!0),ae(a,()=>e.children),ae(r,(()=>{const s=Qe(()=>!!e.buttonText);return()=>s()&&(()=>{const c=_f.cloneNode(!0);return Bn(c,"click",e.onClose,!0),ae(c,()=>e.buttonText),c})()})(),null),je(()=>r.classList.toggle("hidden",!e.show)),r})(),(()=>{const r=wf.cloneNode(!0),i=n;return typeof i=="function"?He(i,r):n=r,je(()=>r.classList.toggle("hidden",!e.show)),r})()]};Mt(["click"]);const Af=de('<div class="grid"><div class="col"><h2 class="pb-2">SoundBored</h2><div class="text-left"><div class="py-2">Trigger samples by hitting the pads</div><div class="py-2">Load new sounds from the sample explorer</div><div class="py-2">Record and upload your own samples</div></div></div></div>'),Ef=e=>ge(Sf,{get show(){return e.show},onClose:()=>{Dt.initialized.value||Dt.init(),e.setShow(!1)},buttonText:"Ok",get children(){return Af.cloneNode(!0)}});function vu(e,t){let n=-1/0;Wn({target:e,onUp:r=>{const i=performance.now();i-n<Hl?(t(r),n=-1/0):n=i}})}const Of=de('<div class="col"><div class="knob-label"></div></div>'),Pf=e=>{let t;const[n,r]=wt(e.value),[i,o]=Me(e.value.value),[a,u]=Me(null),[s,c]=Me(0),[f,p]=Me(!1),d=v=>{v.pointerId===a()&&(v.preventDefault(),v.stopImmediatePropagation(),v.pointerType==="Mouse"&&v.shiftKey&&p(!0),r(Math.min(e.max,Math.max(e.min??0,i()+(s()-v.clientY)/screen.availHeight*(f()?1:4)))))},g=v=>{v.pointerId===a()&&(u(null),p(!1),window.removeEventListener("pointermove",d),window.removeEventListener("pointerup",g))};return Wn({target:()=>t,onDown:v=>{c(v.clientY),o(n()),u(v.pointerId),window.addEventListener("pointerup",g,{passive:!1}),window.addEventListener("pointermove",d,{passive:!1})}}),vu(()=>t,()=>{r(e.defaultValue)}),(()=>{const v=Of.cloneNode(!0),y=v.firstChild;return ae(y,()=>e.label),ae(v,ge(mf,{ref(b){const m=t;typeof m=="function"?m(b):t=b},get value(){return n()},get min(){return e.min},get max(){return e.max},get size(){return e.size}}),null),v})()};const xf=de('<div class="sampleView"><canvas width="1600" height="300"></canvas></div>');async function Tf(e,t){const n=await Pe.instance.getSampleBlob(e);if(!n)throw new Error(`Could not find '${e}'`);const i=(await t.decodeAudioData(await n.arrayBuffer())).getChannelData(0),o=If(i,Yl),a=jf(o);return await Pe.instance.addSample({filename:e,data:n,waveform:a}),a}function If(e,t){const n=Math.floor(e.length/t),r=new Float32Array(t);for(let i=0;i<t;i++){const o=e.subarray(i*n,(i+1)*n);r[i]=o.reduce((a,u)=>a+u)/n}return r}function jf(e){const t=Math.pow(Math.max(...e.map(Math.abs)),-1);return e.map(n=>n*t)}function Rf(e,t){const n=t.width-2*Ho,r=t.getContext("2d");if(!r)return;r.clearRect(0,0,t.width,t.height),r.strokeStyle="#da571a",r.lineWidth=5;const i=t.height/2;let o=Ho,a=i;r.beginPath(),r.moveTo(o,a);for(const u of e)o+=n/e.length,a=i+u*((t.height-$f)/2),r.lineTo(o,a);r.stroke()}const Ho=10,$f=10,Cf=e=>{let t;const n=Hi(),[r,i]=wt(e.model.src);return kt(async()=>{const o=n();if(!o)return;const a=await Pe.instance.getSampleWaveform(r())??await Tf(r(),o);Rf(a,t)}),(()=>{const o=xf.cloneNode(!0),a=o.firstChild;o.addEventListener("drop",s=>{s.preventDefault(),s.dataTransfer&&i(s.dataTransfer.getData("text/plain"))}),o.addEventListener("dragover",s=>{s.preventDefault(),s.dataTransfer&&(s.dataTransfer.dropEffect="link")});const u=t;return typeof u=="function"?He(u,a):t=a,o})()};const Df=de('<div class="sampleControls col px-2"><div class="flex"><div class="sampleLabel"></div><div>/</div></div><div class="grid grid-nogutter pt-2"></div></div>'),Bf=de('<input type="text" class="sampleLabel">'),kf=de("<div></div>"),Nf=e=>{const[t,n]=wt(e.model.label),[r]=wt(e.model.src),[i,o]=Me(!1);return(()=>{const a=Df.cloneNode(!0),u=a.firstChild,s=u.firstChild,c=s.nextSibling;c.firstChild;const f=u.nextSibling;return ae(s,(()=>{const p=Qe(()=>!!i());return()=>p()?(()=>{const d=Bf.cloneNode(!0);return d.addEventListener("mouseleave",()=>o(!1)),d.$$keyup=g=>{g.key==="Enter"&&o(!1)},d.$$input=g=>n(g.currentTarget.value),Ne(d,"maxlength",du),je(()=>d.value=t()),d})():(()=>{const d=kf.cloneNode(!0);return d.$$click=()=>o(!0),ae(d,t),d})()})()),ae(c,r,null),ae(a,ge(Cf,{get model(){return e.model}}),f),ae(f,ge(Pf,{get value(){return e.model.playbackRate},defaultValue:1,min:.01,max:2,size:50,label:"Playback Speed"})),a})()};Mt(["input","keyup","click"]);const _i=Symbol("store-raw"),an=Symbol("store-node"),Mf=Symbol("store-name");function gu(e,t){let n=e[Ke];if(!n&&(Object.defineProperty(e,Ke,{value:n=new Proxy(e,Lf)}),!Array.isArray(e))){const r=Object.keys(e),i=Object.getOwnPropertyDescriptors(e);for(let o=0,a=r.length;o<a;o++){const u=r[o];i[u].get&&Object.defineProperty(e,u,{enumerable:i[u].enumerable,get:i[u].get.bind(n)})}}return n}function ut(e){let t;return e!=null&&typeof e=="object"&&(e[Ke]||!(t=Object.getPrototypeOf(e))||t===Object.prototype||Array.isArray(e))}function Bt(e,t=new Set){let n,r,i,o;if(n=e!=null&&e[_i])return n;if(!ut(e)||t.has(e))return e;if(Array.isArray(e)){Object.isFrozen(e)?e=e.slice(0):t.add(e);for(let a=0,u=e.length;a<u;a++)i=e[a],(r=Bt(i,t))!==i&&(e[a]=r)}else{Object.isFrozen(e)?e=Object.assign({},e):t.add(e);const a=Object.keys(e),u=Object.getOwnPropertyDescriptors(e);for(let s=0,c=a.length;s<c;s++)o=a[s],!u[o].get&&(i=e[o],(r=Bt(i,t))!==i&&(e[o]=r))}return e}function Yi(e){let t=e[an];return t||Object.defineProperty(e,an,{value:t={}}),t}function Si(e,t,n){return e[t]||(e[t]=bu(n))}function Ff(e,t){const n=Reflect.getOwnPropertyDescriptor(e,t);return!n||n.get||!n.configurable||t===Ke||t===an||t===Mf||(delete n.value,delete n.writable,n.get=()=>e[Ke][t]),n}function mu(e){if(Xo()){const t=Yi(e);(t._||(t._=bu()))()}}function Kf(e){return mu(e),Reflect.ownKeys(e)}function bu(e){const[t,n]=Me(e,{equals:!1,internal:!0});return t.$=n,t}const Lf={get(e,t,n){if(t===_i)return e;if(t===Ke)return n;if(t===qr)return mu(e),n;const r=Yi(e),i=r.hasOwnProperty(t);let o=i?r[t]():e[t];if(t===an||t==="__proto__")return o;if(!i){const a=Object.getOwnPropertyDescriptor(e,t);Xo()&&(typeof o!="function"||e.hasOwnProperty(t))&&!(a&&a.get)&&(o=Si(r,t,o)())}return ut(o)?gu(o):o},has(e,t){return t===_i||t===Ke||t===qr||t===an||t==="__proto__"?!0:(this.get(e,t,e),t in e)},set(){return!0},deleteProperty(){return!0},ownKeys:Kf,getOwnPropertyDescriptor:Ff};function ke(e,t,n,r=!1){if(!r&&e[t]===n)return;const i=e[t],o=e.length;n===void 0?delete e[t]:e[t]=n;let a=Yi(e),u;(u=Si(a,t,i))&&u.$(()=>n),Array.isArray(e)&&e.length!==o&&(u=Si(a,"length",o))&&u.$(e.length),(u=a._)&&u.$()}function wu(e,t){const n=Object.keys(t);for(let r=0;r<n.length;r+=1){const i=n[r];ke(e,i,t[i])}}function qf(e,t){if(typeof t=="function"&&(t=t(e)),t=Bt(t),Array.isArray(t)){if(e===t)return;let n=0,r=t.length;for(;n<r;n++){const i=t[n];e[n]!==i&&ke(e,n,i)}ke(e,"length",r)}else wu(e,t)}function Ht(e,t,n=[]){let r,i=e;if(t.length>1){r=t.shift();const a=typeof r,u=Array.isArray(e);if(Array.isArray(r)){for(let s=0;s<r.length;s++)Ht(e,[r[s]].concat(t),n);return}else if(u&&a==="function"){for(let s=0;s<e.length;s++)r(e[s],s)&&Ht(e,[s].concat(t),n);return}else if(u&&a==="object"){const{from:s=0,to:c=e.length-1,by:f=1}=r;for(let p=s;p<=c;p+=f)Ht(e,[p].concat(t),n);return}else if(t.length>1){Ht(e[r],t,[r].concat(n));return}i=e[r],n=[r].concat(n)}let o=t[0];typeof o=="function"&&(o=o(i,n),o===i)||r===void 0&&o==null||(o=Bt(o),r===void 0||ut(i)&&ut(o)&&!Array.isArray(o)?wu(i,o):ke(e,r,o))}function Uf(...[e,t]){const n=Bt(e||{}),r=Array.isArray(n),i=gu(n);function o(...a){Pu(()=>{r&&a.length===1?qf(n,a[0]):Ht(n,a)})}return[i,o]}const Ai=Symbol("store-root");function Tt(e,t,n,r,i){const o=t[n];if(e===o)return;if(!ut(e)||!ut(o)||i&&e[i]!==o[i]){if(e!==o){if(n===Ai)return e;ke(t,n,e)}return}if(Array.isArray(e)){if(e.length&&o.length&&(!r||i&&e[0]&&e[0][i]!=null)){let s,c,f,p,d,g,v,y;for(f=0,p=Math.min(o.length,e.length);f<p&&(o[f]===e[f]||i&&o[f]&&e[f]&&o[f][i]===e[f][i]);f++)Tt(e[f],o,f,r,i);const b=new Array(e.length),m=new Map;for(p=o.length-1,d=e.length-1;p>=f&&d>=f&&(o[p]===e[d]||i&&o[f]&&e[f]&&o[p][i]===e[d][i]);p--,d--)b[d]=o[p];if(f>d||f>p){for(c=f;c<=d;c++)ke(o,c,e[c]);for(;c<e.length;c++)ke(o,c,b[c]),Tt(e[c],o,c,r,i);o.length>e.length&&ke(o,"length",e.length);return}for(v=new Array(d+1),c=d;c>=f;c--)g=e[c],y=i&&g?g[i]:g,s=m.get(y),v[c]=s===void 0?-1:s,m.set(y,c);for(s=f;s<=p;s++)g=o[s],y=i&&g?g[i]:g,c=m.get(y),c!==void 0&&c!==-1&&(b[c]=o[s],c=v[c],m.set(y,c));for(c=f;c<e.length;c++)c in b?(ke(o,c,b[c]),Tt(e[c],o,c,r,i)):ke(o,c,e[c])}else for(let s=0,c=e.length;s<c;s++)Tt(e[s],o,s,r,i);o.length>e.length&&ke(o,"length",e.length);return}const a=Object.keys(e);for(let s=0,c=a.length;s<c;s++)Tt(e[a[s]],o,a[s],r,i);const u=Object.keys(o);for(let s=0,c=u.length;s<c;s++)e[u[s]]===void 0&&ke(o,u[s],void 0)}function Vf(e,t={}){const{merge:n,key:r="id"}=t,i=Bt(e);return o=>{if(!ut(o)||!ut(i))return i;const a=Tt(i,{[Ai]:o},Ai,n,r);return a===void 0?o:a}}function zf(e){const[t,n]=Uf([]);return kt(xu(e,()=>{Gf(Ma(e),t,n)})),t}function Gf(e,t,n,r={key:"id"}){const i=e.subscribe(o=>n(Vf(o,r)));return Hn(()=>"unsubscribe"in i?i.unsubscribe():i()),t}const Wf=de('<div class="sampleExplorer col-3"><input id="fileExplorer" type="file" accept="audio/*" hidden multiple><div class="sampleExplorer-header grid grid-nogutter"><div class="col-9">Samples</div><div class="col-3"><button class="upload"></button></div></div><div class="sampleExplorer-list"></div></div>'),Hf=de("<div><div></div></div>"),Yf=de('<div class="col-3"><button></button></div>'),Jf=e=>{const t=zf(()=>Pe.instance.getAllSampleFileNames()),[n,r]=Me(null);return(()=>{const i=Wf.cloneNode(!0),o=i.firstChild,a=o.nextSibling,u=a.firstChild,s=u.nextSibling,c=s.firstChild,f=a.nextSibling;return i.addEventListener("mouseleave",()=>r(null)),o.addEventListener("change",p=>{if(p.currentTarget.files)for(const d of p.currentTarget.files)Pe.instance.addSampleFromFile(d)}),c.$$click=()=>{var p;return(p=document.getElementById("fileExplorer"))==null?void 0:p.click()},ae(c,ge(us,{size:18})),ae(f,ge(Mu,{each:t,children:(p,d)=>{let g;return vu(()=>g,()=>{e.selectedSampler.src.value=p}),(()=>{const v=Hf.cloneNode(!0),y=v.firstChild;v.$$mouseover=()=>r(d),v.addEventListener("dragstart",m=>{var S;return(S=m.dataTransfer)==null?void 0:S.setData("text/plain",m.target.textContent??"")});const b=g;return typeof b=="function"?He(b,v):g=v,Ne(v,"draggable",!0),ae(y,p),ae(v,(()=>{const m=Qe(()=>d()===n());return()=>m()&&(()=>{const S=Yf.cloneNode(!0),E=S.firstChild;return ae(E,ge(fs,{class:"icon",onClick:async()=>confirm(`Delete '${p}' from sample bank?`)&&Pe.instance.deleteSampleByName(p)})),S})()})(),null),je(m=>{const S={"sampleExplorer-item grid grid-nogutter":!0,selected:d()===n()},E=d()===n()?"col-9":"col";return m._v$=ia(v,S,m._v$),E!==m._v$2&&ra(y,m._v$2=E),m},{_v$:void 0,_v$2:void 0}),v})()}})),i})()};Mt(["click","mouseover"]);const Xf=de('<div class="sampleEditor grid grid-nogutter"></div>'),Qf=e=>{const t=e.samplers.map(n=>()=>ge(Nf,{model:n}));return(()=>{const n=Xf.cloneNode(!0);return ae(n,ge(Jf,{get selectedSampler(){return e.samplers[e.selectedSamplerIdx]}}),null),ae(n,ge(rs,{get component(){return t[e.selectedSamplerIdx]}}),null),n})()};function Zf(e){return(e.split(/.*[\/|\\]/).at(-1)??"").replace(/\..*$/,"")}class eh{constructor(t="",n=""){se(this,"src");se(this,"label");se(this,"audioContext",new ht(null));se(this,"_buffer",new ht(new ArrayBuffer(0)));se(this,"_audioBuffer");se(this,"_playbackRate",new ht(1));se(this,"_preservePitch",new ht(!1));se(this,"onSrcUpdate",async t=>{this.label.value=Zf(t).substring(0,du),t&&await this.updateBuffer()});se(this,"onBufferUpdate",async()=>{var t;try{this._audioBuffer=await((t=this.audioContext.value)==null?void 0:t.decodeAudioData(this._buffer.value))}catch(n){console.error(n)}});this.src=new ht(t),this.label=new ht(n),this.src.attach(this.onSrcUpdate),this._buffer.attach(this.onBufferUpdate)}async updateBuffer(){const t=await Pe.instance.getSampleBlob(this.src.value);if(!t)throw new Error(`Sample '${this.src.value}' not found`);this._buffer.value=await t.arrayBuffer()}get audioBuffer(){if(!this._audioBuffer)throw new Error("No Audio Buffer loaded");return this._audioBuffer}get loaded(){return!!this._audioBuffer}get playbackRate(){return this._playbackRate}get preservePitch(){return this._preservePitch}dispose(){this.src.detach(this.onSrcUpdate)}loadBuffer(){this.src.fire(this.src.value)}}const th=de('<div class="Sampler"><div class="buttonGrid"></div></div>'),nh=e=>{const t=Hi();kt(()=>{const o=t();o&&n.forEach(async a=>{a.audioContext.value=o,await e.appInitialized,a.loadBuffer()})});const n=ir.samples.slice(0,hu).map(({filename:o,label:a})=>new eh(o,a)),[r,i]=Me(0);return(()=>{const o=th.cloneNode(!0),a=o.firstChild;return ae(o,ge(Qf,{samplers:n,get selectedSamplerIdx(){return r()}}),a),ae(a,()=>n.map((u,s)=>ge(df,{model:u,onClick:()=>{i(s)}}))),o})()};Wu(()=>ge(nf,{}),document.getElementById("root"));
